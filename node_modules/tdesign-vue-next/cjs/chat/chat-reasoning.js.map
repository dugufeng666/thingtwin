{"version":3,"file":"chat-reasoning.js","sources":["../../../components/chat/chat-reasoning.tsx"],"sourcesContent":["import { defineComponent, computed, provide, inject, ComputedRef } from 'vue';\nimport { usePrefixClass } from '../hooks/useConfig';\nimport props from './chat-reasoning-props';\nimport { Collapse, CollapsePanel } from '../collapse';\nimport { useTNodeJSX } from '../hooks/tnode';\n\nexport default defineComponent({\n  name: 'TChatReasoning',\n  props,\n  setup(props) {\n    const COMPONENT_NAME = usePrefixClass('chat');\n    // 修复响应式链断裂问题\n    const injectedRole = inject<ComputedRef<string>>('role');\n    const role = computed(() => injectedRole?.value || '');\n    provide('role', role);\n    const renderTNodeJSX = useTNodeJSX();\n\n    return () => (\n      <>\n        {role.value === 'assistant' ? (\n          <div class={`${COMPONENT_NAME.value}__detail-reasoning`}>\n            <Collapse\n              borderless={true}\n              defaultExpandAll={true}\n              expandIconPlacement={props.expandIconPlacement}\n              onChange={props.onExpandChange}\n            >\n              <CollapsePanel\n                expandIcon={true}\n                value=\"0\"\n                v-slots={{\n                  destroyOnCollapse: () => props?.collapsePanelProps?.destroyOnCollapse,\n                  disabled: () => props?.collapsePanelProps?.disabled,\n                  default: () => props?.collapsePanelProps?.content || renderTNodeJSX('default'),\n                  header: () => props?.collapsePanelProps?.header || renderTNodeJSX('header'), // 保证响应式\n                  expandIcon: () => props?.collapsePanelProps?.expandIcon || renderTNodeJSX('expandIcon'),\n                  headerRightContent: () =>\n                    props?.collapsePanelProps?.headerRightContent || renderTNodeJSX('headerRightContent'),\n                  content: () => props?.collapsePanelProps?.content || renderTNodeJSX('default'), // 保证响应式\n                }}\n              ></CollapsePanel>\n            </Collapse>\n          </div>\n        ) : null}\n      </>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","setup","COMPONENT_NAME","usePrefixClass","injectedRole","inject","role","computed","value","provide","renderTNodeJSX","useTNodeJSX","_createVNode","_Fragment","concat","Collapse","expandIconPlacement","onExpandChange","_default","CollapsePanel","destroyOnCollapse","_props2$collapsePanel","collapsePanelProps","disabled","_props2$collapsePanel2","default","_props2$collapsePanel3","content","header","_props2$collapsePanel4","expandIcon","_props2$collapsePanel5","headerRightContent","_props2$collapsePanel6","_props2$collapsePanel7"],"mappings":"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"}