{"version":3,"file":"meta2d-dfafba89.js","sources":["../../node_modules/@meta2d/core/src/diagrams/rectangle.js","../../node_modules/@meta2d/core/src/diagrams/circle.js","../../node_modules/@meta2d/core/src/pen/model.js","../../node_modules/@meta2d/core/src/data.js","../../node_modules/@meta2d/core/src/point/point.js","../../node_modules/@meta2d/core/src/store/global.js","../../node_modules/mitt/dist/mitt.es.js","../../node_modules/@meta2d/core/src/options.js","../../node_modules/@meta2d/core/src/theme.js","../../node_modules/@meta2d/core/src/store/store.js","../../node_modules/@meta2d/core/src/pen/text.js","../../node_modules/@meta2d/core/src/utils/clone.js","../../node_modules/@meta2d/core/src/pen/arrow.js","../../node_modules/@meta2d/core/src/utils/color.js","../../node_modules/@meta2d/core/src/utils/math.js","../../node_modules/@meta2d/core/src/utils/uuid.js","../../node_modules/@meta2d/core/src/utils/padding.js","../../node_modules/@meta2d/core/src/utils/file.js","../../node_modules/@meta2d/core/src/utils/url.js","../../node_modules/@meta2d/core/src/utils/object.js","../../node_modules/@meta2d/core/src/utils/time.js","../../node_modules/@meta2d/core/src/pen/render.js","../../node_modules/@meta2d/core/src/pen/math.js","../../node_modules/@meta2d/core/src/pen/utils.js","../../node_modules/@meta2d/core/src/pen/plugin.js","../../node_modules/@meta2d/core/src/rect/rect.js","../../node_modules/@meta2d/core/src/diagrams/svg/parse.js","../../node_modules/@meta2d/core/src/diagrams/svgPath.js","../../node_modules/@meta2d/core/src/diagrams/diamond.js","../../node_modules/@meta2d/core/src/diagrams/triangle.js","../../node_modules/@meta2d/core/src/diagrams/pentagon.js","../../node_modules/@meta2d/core/src/diagrams/pentagram.js","../../node_modules/@meta2d/core/src/diagrams/hexagon.js","../../node_modules/@meta2d/core/src/diagrams/arrow.js","../../node_modules/@meta2d/core/src/diagrams/message.js","../../node_modules/@meta2d/core/src/diagrams/cloud.js","../../node_modules/@meta2d/core/src/diagrams/file.js","../../node_modules/@meta2d/core/src/diagrams/cube.js","../../node_modules/@meta2d/core/src/diagrams/people.js","../../node_modules/@meta2d/core/src/diagrams/line/curve.js","../../node_modules/@meta2d/core/src/diagrams/line/line.js","../../node_modules/@meta2d/core/src/diagrams/line/polyline.js","../../node_modules/@meta2d/core/src/diagrams/line/smooth.js","../../node_modules/@meta2d/core/src/diagrams/line/arrow.js","../../node_modules/@meta2d/core/src/diagrams/iframe.js","../../node_modules/@meta2d/core/src/diagrams/video.js","../../node_modules/@meta2d/core/src/canvas/offscreen.js","../../node_modules/@meta2d/core/src/tooltip/tooltip.js","../../node_modules/@meta2d/core/src/scroll/scroll.js","../../node_modules/@meta2d/core/src/canvas/canvasImage.js","../../node_modules/@meta2d/core/src/canvas/magnifierCanvas.js","../../node_modules/@meta2d/core/src/utils/error.js","../../node_modules/@meta2d/core/src/dialog/dialog.js","../../node_modules/@meta2d/core/src/title/title.js","../../node_modules/@meta2d/core/src/canvas/canvasTemplate.js","../../node_modules/@meta2d/core/src/popconfirm/popconfirm.js","../../node_modules/@meta2d/core/src/canvas/canvas.js","../../node_modules/@meta2d/core/src/diagrams/form.js","../../node_modules/@meta2d/core/src/diagrams/gif.js","../../node_modules/@meta2d/core/src/diagrams/mindNode.js","../../node_modules/@meta2d/core/src/diagrams/mindLine.js","../../node_modules/@meta2d/core/src/diagrams/index.js","../../node_modules/@meta2d/core/src/event/event.js","../../node_modules/@meta2d/core/src/map/map.js","../../node_modules/mqtt/dist/mqtt.min.js","../../node_modules/@meta2d/core/src/message/message.js","../../node_modules/@meta2d/core/src/utils/jetLinks.js","../../node_modules/@meta2d/core/src/core.js"],"sourcesContent":["export function rectangle(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    if (!pen.setTheme) {\n        pen.setTheme = setTheme;\n    }\n    let wr = pen.calculative.borderRadius || 0, hr = wr;\n    const { x, y, width, height, ex, ey } = pen.calculative.worldRect;\n    if (wr < 1) {\n        wr = width * wr;\n        hr = height * hr;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (height < 2 * r) {\n        r = height / 2;\n    }\n    path.moveTo(x + r, y);\n    path.arcTo(ex, y, ex, ey, r);\n    path.arcTo(ex, ey, x, ey, r);\n    path.arcTo(x, ey, x, y, r);\n    path.arcTo(x, y, ex, y, r);\n    path.closePath();\n    if (path instanceof Path2D) {\n        return path;\n    }\n}\nfunction setTheme(pen, styles) {\n    if (!pen.affectByTheme) {\n        return;\n    }\n    for (const key in styles) {\n        if (Object.prototype.hasOwnProperty.call(styles, key)) {\n            const element = styles[key];\n            if (pen.hasOwnProperty(key)) {\n                pen[key] = element;\n            }\n            if (pen.calculative.hasOwnProperty(key)) {\n                pen.calculative[key] = element;\n            }\n        }\n    }\n    pen.hoverTextColor = styles[\"textPrimaryColor\"];\n    pen.iconColor = styles[\"buttonBg\"];\n    pen.calculative.iconColor = styles[\"buttonBg\"];\n    // 很多input表单，全局消息都是复用的rectangle，这里的设置会互相影响，暂时不知如何区分\n    pen.hoverBackground = styles[\"formBg\"];\n    pen.activeBackground = styles[\"activeBg\"];\n    pen.color = styles[\"borderColor\"];\n    pen.calculative.color = styles[\"borderColor\"];\n    pen.textColor = styles[\"textColor-9\"];\n    pen.calculative.textColor = styles[\"textColor-9\"];\n}\nexport const square = rectangle;\n//# sourceMappingURL=rectangle.js.map","export function circle(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.ellipse(x + width / 2, y + height / 2, width / 2, height / 2, 0, 0, Math.PI * 2);\n    if (path instanceof Path2D) {\n        return path;\n    }\n}\n//# sourceMappingURL=circle.js.map","export var PenType;\n(function (PenType) {\n    PenType[PenType[\"Node\"] = 0] = \"Node\";\n    PenType[PenType[\"Line\"] = 1] = \"Line\";\n})(PenType || (PenType = {}));\nexport var LockState;\n(function (LockState) {\n    LockState[LockState[\"None\"] = 0] = \"None\";\n    LockState[LockState[\"DisableEdit\"] = 1] = \"DisableEdit\";\n    LockState[LockState[\"DisableMove\"] = 2] = \"DisableMove\";\n    LockState[LockState[\"DisableScale\"] = 3] = \"DisableScale\";\n    LockState[LockState[\"DisableMoveScale\"] = 4] = \"DisableMoveScale\";\n    // DisableActive,\n    LockState[LockState[\"Disable\"] = 10] = \"Disable\";\n})(LockState || (LockState = {}));\nexport var AnchorMode;\n(function (AnchorMode) {\n    AnchorMode[AnchorMode[\"Default\"] = 0] = \"Default\";\n    AnchorMode[AnchorMode[\"In\"] = 1] = \"In\";\n    AnchorMode[AnchorMode[\"Out\"] = 2] = \"Out\";\n})(AnchorMode || (AnchorMode = {}));\nexport var Gradient;\n(function (Gradient) {\n    Gradient[Gradient[\"None\"] = 0] = \"None\";\n    Gradient[Gradient[\"Linear\"] = 1] = \"Linear\";\n    Gradient[Gradient[\"Radial\"] = 2] = \"Radial\";\n})(Gradient || (Gradient = {}));\n//所在画布层 值和画布zIndex对应\nexport var CanvasLayer;\n(function (CanvasLayer) {\n    CanvasLayer[CanvasLayer[\"CanvasTemplate\"] = 1] = \"CanvasTemplate\";\n    CanvasLayer[CanvasLayer[\"CanvasImageBottom\"] = 2] = \"CanvasImageBottom\";\n    CanvasLayer[CanvasLayer[\"CanvasMain\"] = 3] = \"CanvasMain\";\n    CanvasLayer[CanvasLayer[\"CanvasImage\"] = 4] = \"CanvasImage\"; //顶部图片层\n})(CanvasLayer || (CanvasLayer = {}));\n// export enum Flip {\n//   None, // 正常\n//   Horizontal, // 水平翻转\n//   Vertical, // 垂直翻转\n//   Both, // 全翻转\n// }\n// 修改哪些属性需要重现计算 textRect\nexport const needCalcTextRectProps = [\n    'text',\n    'textWidth',\n    'textHeight',\n    'textLeft',\n    'textTop',\n    'fontFamily',\n    'fontSize',\n    'lineHeight',\n    'fontStyle',\n    'fontWeight',\n    'textAlign',\n    'textBaseline',\n    'whiteSpace',\n    'ellipsis',\n    'keepDecimal',\n];\nexport const needSetPenProps = ['x', 'y', 'width', 'height', 'flipX', 'flipY'];\nexport const needPatchFlagsPenRectProps = [\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft',\n    'flipX',\n    'flipY',\n    'visible',\n    'showChild',\n];\nexport const needCalcIconRectProps = ['iconLeft', 'iconTop', 'iconRotate'];\nexport var LineAnimateType;\n(function (LineAnimateType) {\n    LineAnimateType[LineAnimateType[\"Normal\"] = 0] = \"Normal\";\n    LineAnimateType[LineAnimateType[\"Beads\"] = 1] = \"Beads\";\n    LineAnimateType[LineAnimateType[\"Dot\"] = 2] = \"Dot\";\n    LineAnimateType[LineAnimateType[\"Arrow\"] = 3] = \"Arrow\";\n    LineAnimateType[LineAnimateType[\"WaterDrop\"] = 4] = \"WaterDrop\";\n    LineAnimateType[LineAnimateType[\"Custom\"] = 5] = \"Custom\"; // 自定义动画\n})(LineAnimateType || (LineAnimateType = {}));\n/**\n * dom 类型的 图形\n */\nexport const isDomShapes = [\n    'gif',\n    'iframe',\n    'video',\n    'echarts',\n    'highcharts',\n    'lightningCharts',\n    'vue'\n];\n/**\n *  交互图元\n */\nexport const isInteraction = [\n    'radio',\n    'checkbox',\n    'button',\n    'inputDom',\n    'slider',\n    'echarts',\n];\n// 格式刷同步的属性\nexport const formatAttrs = new Set([\n    'borderRadius',\n    // 'rotate',\n    'paddingLeft',\n    'paddingRight',\n    'paddingTop',\n    'paddingBottom',\n    'progress',\n    'progressColor',\n    'verticalProgress',\n    'reverseProgress',\n    // 'flip',\n    'flipX',\n    'flipY',\n    'input',\n    'lineDash',\n    'lineCap',\n    'lineJoin',\n    'strokeType',\n    'lineGradientFromColor',\n    'lineGradientToColor',\n    'lineGradientAngle',\n    'color',\n    'hoverColor',\n    'activeColor',\n    'lineWidth',\n    'bkType',\n    'gradientFromColor',\n    'gradientToColor',\n    'gradientAngle',\n    'gradientRadius',\n    'hoverBackground',\n    'activeBackground',\n    'globalAlpha',\n    'anchorColor',\n    'anchorRadius',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'textHasShadow',\n    'fontFamily',\n    'fontSize',\n    'textColor',\n    'hoverTextColor',\n    'activeTextColor',\n    'textBackground',\n    'fontStyle',\n    'fontWeight',\n    'textAlign',\n    'textBaseline',\n    'lineHeight',\n    'whiteSpace',\n    'textWidth',\n    'textHeight',\n    'textLeft',\n    'textTop',\n    'ellipsis',\n    'hiddenText',\n    'keepDecimal',\n    'borderWidth',\n    'borderColor',\n    'animateLineWidth',\n    'lineAnimateType',\n    'frames',\n    'animateColor',\n    'animateType',\n    'animateReverse',\n    'background',\n    'gradientColors',\n    'lineGradientColors',\n    'animateLineWidth',\n    'gradientSmooth',\n    'lineSmooth',\n    'animations'\n]);\n/**\n * 清空 pen 的 生命周期\n */\nexport function clearLifeCycle(pen) {\n    pen.onAdd = undefined;\n    pen.onValue = undefined;\n    pen.onBeforeValue = undefined;\n    pen.onDestroy = undefined;\n    pen.onMove = undefined;\n    pen.onResize = undefined;\n    pen.onRotate = undefined;\n    pen.onClick = undefined;\n    pen.onMouseEnter = undefined;\n    pen.onMouseLeave = undefined;\n    pen.onMouseDown = undefined;\n    pen.onMouseMove = undefined;\n    pen.onMouseUp = undefined;\n    pen.onShowInput = undefined;\n    pen.onInput = undefined;\n    pen.onChangeId = undefined;\n    pen.onBinds = undefined;\n    pen.onStartVideo = undefined;\n    pen.onPauseVideo = undefined;\n    pen.onStopVideo = undefined;\n    pen.onRenderPenRaw = undefined;\n    pen.onKeyDown = undefined;\n    pen.onContextmenu = undefined;\n    pen.onScale = undefined;\n    pen.onWheel = undefined;\n    pen.onConnectLine = undefined;\n}\n//# sourceMappingURL=model.js.map","export var HoverType;\n(function (HoverType) {\n    HoverType[HoverType[\"None\"] = 0] = \"None\";\n    HoverType[HoverType[\"LineAnchor\"] = 1] = \"LineAnchor\";\n    HoverType[HoverType[\"NodeAnchor\"] = 2] = \"NodeAnchor\";\n    HoverType[HoverType[\"Line\"] = 3] = \"Line\";\n    HoverType[HoverType[\"Node\"] = 4] = \"Node\";\n    HoverType[HoverType[\"Resize\"] = 5] = \"Resize\";\n    HoverType[HoverType[\"Rotate\"] = 6] = \"Rotate\";\n    HoverType[HoverType[\"LineAnchorPrev\"] = 7] = \"LineAnchorPrev\";\n    HoverType[HoverType[\"LineAnchorNext\"] = 8] = \"LineAnchorNext\";\n})(HoverType || (HoverType = {}));\nexport var HotkeyType;\n(function (HotkeyType) {\n    HotkeyType[HotkeyType[\"None\"] = 0] = \"None\";\n    HotkeyType[HotkeyType[\"Translate\"] = 1] = \"Translate\";\n    HotkeyType[HotkeyType[\"Select\"] = 2] = \"Select\";\n    HotkeyType[HotkeyType[\"Resize\"] = 3] = \"Resize\";\n    HotkeyType[HotkeyType[\"AddAnchor\"] = 4] = \"AddAnchor\";\n})(HotkeyType || (HotkeyType = {}));\nexport var MouseRight;\n(function (MouseRight) {\n    MouseRight[MouseRight[\"None\"] = 0] = \"None\";\n    MouseRight[MouseRight[\"Down\"] = 1] = \"Down\";\n    MouseRight[MouseRight[\"Translate\"] = 2] = \"Translate\";\n})(MouseRight || (MouseRight = {}));\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"None\"] = -1] = \"None\";\n    Direction[Direction[\"Up\"] = 0] = \"Up\";\n    Direction[Direction[\"Right\"] = 1] = \"Right\";\n    Direction[Direction[\"Bottom\"] = 2] = \"Bottom\";\n    Direction[Direction[\"Left\"] = 3] = \"Left\";\n})(Direction || (Direction = {}));\nexport const defaultCursors = [\n    'nw-resize',\n    'ne-resize',\n    'se-resize',\n    'sw-resize',\n];\nexport const rotatedCursors = [\n    'n-resize',\n    'e-resize',\n    's-resize',\n    'w-resize',\n];\nexport const defaultDrawLineFns = ['curve', 'polyline', 'line'];\nexport const inheritanceProps = [\n    'dash',\n    'lineWidth',\n    'lineCap',\n    'lineJoin',\n    'strokeType',\n    'color',\n    'lineGradientFromColor',\n    'lineGradientToColor',\n    'lineGradientAngle',\n    'globalAlpha',\n    'bkType',\n    'background',\n    'gradientFromColor',\n    'gradientToColor',\n    'gradientAngle',\n    'gradientRadius',\n    'fontFamily',\n    'fontSize',\n    'textColor',\n    'hoverTextColor',\n    'activeTextColor',\n    'textBackground',\n    'fontStyle',\n    'fontWeight',\n    'textAlign',\n    'textBaseline',\n    'lineHeight',\n    'whiteSpace',\n    'textLeft',\n    'textTop',\n    'flipX',\n    'flipY',\n    'lineDash',\n    'visible',\n    'iconColor'\n];\n//# sourceMappingURL=data.js.map","import { Direction } from '../data';\nimport { pointInRect } from '../rect';\nexport var PrevNextType;\n(function (PrevNextType) {\n    PrevNextType[PrevNextType[\"Mirror\"] = 0] = \"Mirror\";\n    PrevNextType[PrevNextType[\"Bilateral\"] = 1] = \"Bilateral\";\n    PrevNextType[PrevNextType[\"Free\"] = 2] = \"Free\";\n})(PrevNextType || (PrevNextType = {}));\nexport var TwoWay;\n(function (TwoWay) {\n    TwoWay[TwoWay[\"Default\"] = 0] = \"Default\";\n    TwoWay[TwoWay[\"In\"] = 1] = \"In\";\n    TwoWay[TwoWay[\"Out\"] = 2] = \"Out\";\n    TwoWay[TwoWay[\"DisableConnected\"] = 3] = \"DisableConnected\";\n    TwoWay[TwoWay[\"DisableConnectTo\"] = 4] = \"DisableConnectTo\";\n    TwoWay[TwoWay[\"Disable\"] = 10] = \"Disable\";\n})(TwoWay || (TwoWay = {}));\nexport var PointType;\n(function (PointType) {\n    PointType[PointType[\"Default\"] = 0] = \"Default\";\n    PointType[PointType[\"Line\"] = 1] = \"Line\";\n})(PointType || (PointType = {}));\nexport function rotatePoint(pt, angle, center) {\n    if (!angle || angle % 360 === 0) {\n        return;\n    }\n    const a = (angle * Math.PI) / 180;\n    const x = (pt.x - center.x) * Math.cos(a) -\n        (pt.y - center.y) * Math.sin(a) +\n        center.x;\n    const y = (pt.x - center.x) * Math.sin(a) +\n        (pt.y - center.y) * Math.cos(a) +\n        center.y;\n    pt.x = x;\n    pt.y = y;\n    pt.prev && rotatePoint(pt.prev, angle, center);\n    pt.next && rotatePoint(pt.next, angle, center);\n}\nexport function hitPoint(pt, target, radius = 5, pen) {\n    if (target.type === PointType.Line) {\n        let _rotate = pen.rotate;\n        if (pen.flipX) {\n            _rotate *= -1;\n        }\n        if (pen.flipY) {\n            _rotate *= -1;\n        }\n        let rotate = target.rotate + _rotate;\n        if (pen.flipX) {\n            rotate *= -1;\n        }\n        if (pen.flipY) {\n            rotate *= -1;\n        }\n        return pointInRect(pt, {\n            x: target.x -\n                (target.length * pen.calculative.canvas.store.data.scale) / 2,\n            y: target.y - radius,\n            width: target.length * pen.calculative.canvas.store.data.scale,\n            height: radius * 2,\n            rotate: rotate,\n        });\n    }\n    else {\n        return (pt.x > target.x - radius &&\n            pt.x < target.x + radius &&\n            pt.y > target.y - radius &&\n            pt.y < target.y + radius);\n    }\n}\nexport function scalePoint(pt, scale, center) {\n    pt.x = center.x - (center.x - pt.x) * scale;\n    pt.y = center.y - (center.y - pt.y) * scale;\n}\nexport function calcRotate(pt, center) {\n    if (pt.x === center.x) {\n        return pt.y <= center.y ? 0 : 180;\n    }\n    if (pt.y === center.y) {\n        return pt.x < center.x ? 270 : 90;\n    }\n    const x = pt.x - center.x;\n    const y = pt.y - center.y;\n    let angle = (Math.atan(Math.abs(x / y)) / (2 * Math.PI)) * 360;\n    if (x > 0 && y > 0) {\n        angle = 180 - angle;\n    }\n    else if (x < 0 && y > 0) {\n        angle += 180;\n    }\n    else if (x < 0 && y < 0) {\n        angle = 360 - angle;\n    }\n    return angle;\n}\nexport function distance(pt1, pt2) {\n    const x = pt1.x - pt2.x;\n    const y = pt1.y - pt2.y;\n    return Math.sqrt(x * x + y * y);\n}\nexport function facePoint(pt, targetPt) {\n    let d = Direction.None;\n    if (!targetPt) {\n        return d;\n    }\n    const disX = pt.x - targetPt.x;\n    const disY = pt.y - targetPt.y;\n    if (Math.abs(disX) > Math.abs(disY)) {\n        if (disX > 0) {\n            d = Direction.Right;\n        }\n        else {\n            d = Direction.Left;\n        }\n    }\n    else {\n        if (disY > 0) {\n            d = Direction.Bottom;\n        }\n        else {\n            d = Direction.Up;\n        }\n    }\n    return d;\n}\nexport function translatePoint(pt, x, y) {\n    if (!pt) {\n        return;\n    }\n    pt.x += x;\n    pt.y += y;\n    if (pt.next) {\n        pt.next.x += x;\n        pt.next.y += y;\n    }\n    if (pt.prev) {\n        pt.prev.x += x;\n        pt.prev.y += y;\n    }\n}\n/**\n * 是否是同一个点\n * @param pt1 点1\n * @param pt2 点2\n * @returns true 相同\n */\nexport function samePoint(pt1, pt2) {\n    return pt1.anchorId === pt2.anchorId && pt1.connectTo === pt2.connectTo;\n}\nexport function getDistance(form, to, store) {\n    let dis = Math.sqrt((form.x - to.x) * (form.x - to.x) + (form.y - to.y) * (form.y - to.y)) / store.data.scale;\n    if (to.rotate === 0) {\n        if (form.x < to.x) {\n            if (!store.pens[to.penId].flipX) {\n                dis *= -1;\n            }\n        }\n        else {\n            if (store.pens[to.penId].flipX) {\n                dis *= -1;\n            }\n        }\n    }\n    else {\n        if (form.y < to.y) {\n            if (!store.pens[to.penId].flipY) {\n                dis *= -1;\n            }\n        }\n        else {\n            if (store.pens[to.penId].flipY) {\n                dis *= -1;\n            }\n        }\n    }\n    form.distance = dis;\n}\n//# sourceMappingURL=point.js.map","import pkg from '../../package.json';\nexport const globalStore = {\n    version: pkg.version,\n    path2dDraws: {},\n    canvasDraws: {},\n    anchors: {},\n    lineAnimateDraws: {},\n    htmlElements: {},\n};\nexport function register(path2dFns) {\n    Object.assign(globalStore.path2dDraws, path2dFns);\n}\nexport function registerCanvasDraw(drawFns) {\n    Object.assign(globalStore.canvasDraws, drawFns);\n}\nexport function registerAnchors(anchorsFns) {\n    Object.assign(globalStore.anchors, anchorsFns);\n}\nexport function registerLineAnimateDraws(lineAnimateDraws) {\n    Object.assign(globalStore.lineAnimateDraws, lineAnimateDraws);\n}\n//# sourceMappingURL=global.js.map","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i&&i.push(e)||n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&i.splice(i.indexOf(e)>>>0,1)},emit:function(t,e){(n.get(t)||[]).slice().map(function(n){n(e)}),(n.get(\"*\")||[]).slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.es.js.map\n","export var KeydownType;\n(function (KeydownType) {\n    KeydownType[KeydownType[\"None\"] = -1] = \"None\";\n    KeydownType[KeydownType[\"Document\"] = 0] = \"Document\";\n    KeydownType[KeydownType[\"Canvas\"] = 1] = \"Canvas\";\n})(KeydownType || (KeydownType = {}));\nexport const defaultOptions = {\n    fontFamily: '\"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial',\n    fontSize: 12,\n    lineHeight: 1.5,\n    textAlign: 'center',\n    textBaseline: 'middle',\n    color: '#222222',\n    activeColor: '#278df8',\n    hoverColor: 'rgba(39,141,248,0.50)',\n    anchorColor: '#278DF8',\n    hoverAnchorColor: '#FF4101',\n    anchorRadius: 4,\n    anchorBackground: '#fff',\n    dockColor: 'rgba(39,141,248,0.50)',\n    dockPenColor: '#1890FF',\n    dragColor: '#1890ff',\n    rotateCursor: 'rotate.cur',\n    rightCursor: 'right.cur',\n    downCursor: 'down.cur',\n    hoverCursor: 'pointer',\n    minScale: 0.1,\n    maxScale: 10,\n    keydown: KeydownType.Document,\n    gridSize: 20,\n    gridColor: '#e2e2e2',\n    ruleColor: '#888888',\n    drawingLineName: 'curve',\n    interval: 30,\n    animateInterval: 30,\n    autoPolyline: true,\n    autoAnchor: true,\n    autoAlignGrid: false,\n    animateColor: '#30EEDC',\n    ruleLineColor: '#FF4101',\n    shadowOffsetX: 0,\n    shadowOffsetY: 0,\n    shadowBlur: 64,\n    shadowColor: \"#00000014\",\n    globalAlpha: 1,\n    defaultAnchors: [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 1,\n            y: 0.5,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n        {\n            x: 0,\n            y: 0.5,\n        },\n    ],\n    measureTextWidth: true,\n    moveConnectedLine: true,\n    mouseRightActive: true,\n    disableClipboard: false,\n    drawingLineLength: 0,\n    disableTouchPadScale: false,\n    cdn: '',\n    polylineSpace: 10,\n    domShapes: [],\n    containerShapes: ['tablePlus'],\n    textFlip: true,\n    textRotate: true,\n    unavailableKeys: [],\n    diagramOptions: {},\n    svgPathStroke: true,\n    reconnetTimes: 10,\n};\n//# sourceMappingURL=options.js.map","export const themeKeys = [\n    'color',\n    'hoverColor',\n    'activeColor',\n    'disabledColor',\n    'background',\n    'activeBackground', //有无必要\n    'hoverBackground',\n    'disabledBackground',\n    'anchorColor',\n    'hoverAnchorColor',\n    'anchorBackground',\n    'animateColor',\n    'textColor',\n    'ruleColor',\n    'ruleLineColor',\n    'gridColor',\n    'lineColor',\n    'penBackground',\n    'dockPenColor',\n    // \"ruleOptions\"\n];\nexport const defaultTheme = {\n    dark: {\n        color: '#bdc7db',\n        background: '#1e2430',\n        parentBackground: '#080b0f',\n        ruleColor: '#222E47',\n        ruleOptions: {\n            background: '#121924',\n            textColor: '#6E7B91'\n        },\n    },\n    light: {\n        color: '#222222',\n        background: '#FFFFFF',\n        parentBackground: '#F0F1F2',\n        ruleColor: '#C8D0E1',\n        ruleOptions: {\n            background: '#F7F8FA',\n            textColor: '#C8D0E1'\n        },\n    }\n};\n// le5le主题对象\nexport const le5leTheme = {\n    \"cssRuleSelector\": \":root\",\n    \"style_prefix\": \"le5le_\",\n    \"vendor_css_prefix\": \"--le-\",\n    \"dark\": [\n        'textColor-9: rgba(255,255,255,0.90)',\n        'textColor-6: rgba(255,255,255,0.60)',\n        'textColor-1: rgba(255,255,255,1)',\n        'textColor-4: rgba(255,255,255,0.40)',\n        'textPrimaryColor: #7f838c',\n        'textSecondColor: rgba(255,255,255,0.90)',\n        'textDisabledColor: rgba(255,255,255,0.40)',\n        'textActiveColor: #0052d9',\n        'buttonBg: #4583ff',\n        'buttonDisabledBg: #0057CC',\n        'buttonDisabledColor: #FFFFFF26',\n        'buttonGradient: linear-gradient(360deg,#4583ff, #33ccff)',\n        'containerBg: rgba(21,24,28,0.95)',\n        'tabBg: #303746',\n        'tabActiveBg: #4583ff',\n        'tabDisabledBg: #282e3b',\n        'tabDisabledColor: rgba(255,255,255,0.26)',\n        'tabActiveColor: rgba(255,255,255,0.90)',\n        'formBg: #2a2f36',\n        'datePickerCellActiveRangeBg: #2c4475',\n        'componentDisabledBg: #282e3b',\n        'dataPickerCellActiveBg: #001b52',\n        'activeBg: #25375b',\n        'popContentBg: #252b37',\n        'disabledBg: #7f838c',\n        'disabledBg-2: #282E3B',\n        'tableStripeColor: rgba(150,192,255,0.10)', //表格斑马纹颜色\n        'tableMenuBg: #303746', //表格上方菜单的背景色\n        'tableMenuDividerBg: rgb(76 81 94)', //表格上方菜单的分割线的背景色\n        'tableMenuHandleBg: #454f64', //表格上方菜单手柄的背景色\n        'tableMenuColor: #bdc7db', //表格上方菜单的颜色\n        'tableMenuBorderColor: transparent', //表格上方菜单的颜色\n        'tableColRowBg: #303746', //表格上方菜单的颜色\n        'tableColRowActiveBg: #4A5263', //表格上方菜单的active颜色\n        'tableColRowColor: rgba(255,255,255,0.6)', //表格col和row的背景色\n        'paginationColor: rgba(255,255,255,0.6)', //分页器的颜色\n        'paginationActiveColor: #4583ff', //分页器的颜色\n        'paginationActiveBg: rgba(69,131,255,0.20)', //分页器的active颜色\n        'sliderBg: #303746', //分页器的active颜色\n        'sliderBtnBg: #000000', //分页器的active颜色\n        'notificationBorderColor: transparent', //分页器的active颜色\n        'notificationBg: #282e3b', //分页器的active颜色\n        'borderColor: #424b61',\n        'borderOutsideColor: #4583ff',\n        'formBorderColor: #424b61',\n        'borderInsideColor: rgba(255,255,255,0.40)',\n        'shadow: 0px 1px 10px 0px rgba(0,0,0,0.05), 0px 4px 5px 0px rgba(0,0,0,0.08), 0px 2px 4px -1px rgba(0,0,0,0.12)',\n        'radius: 4px',\n    ],\n    \"light\": [\n        'textColor-9: rgba(0,0,0,0.90)',\n        'textColor-6: rgba(0,0,0,0.60)',\n        'textColor-1: rgba(0,0,0,1)',\n        'textColor-4: rgba(0,0,0,0.40)',\n        'textPrimaryColor: #7f838c',\n        'textSecondColor: #171B27',\n        'textDisabledColor: rgba(0, 0, 0, 0.6)',\n        'textActiveColor: #0052d9',\n        'buttonBg: #4583ff',\n        'buttonDisabledBg: #b5c7ff',\n        'buttonDisabledColor: #FFFFFF',\n        'buttonGradient: linear-gradient(360deg,#4583ff, #33ccff)',\n        'containerBg: #ffffff',\n        'tabBg: #f1f2f5',\n        'tabActiveBg: #4583ff',\n        'tabDisabledBg: #e2e6ea',\n        'tabDisabledColor: rgba(0,0,0,0.26)',\n        'tabActiveColor: #ffffff',\n        'formBg: #EFF1F4',\n        'datePickerCellActiveRangeBg: #f2f3ff',\n        'componentDisabledBg: #eee',\n        'dataPickerCellActiveBg: #edefff',\n        'activeBg: #f2f3ff',\n        'popContentBg: #ffffff',\n        'disabledBg: #7f838c',\n        'disabledBg-2: #E2E6EA',\n        'tableStripeColor: #f1f2f5', //表格斑马纹颜色\n        'tableMenuBg: #ffffff', //表格上方菜单的背景色\n        'tableMenuDividerBg: #e2e6ea', //表格上方菜单的分割线的背景色\n        'tableMenuHandleBg: #ebedf1', //表格上方菜单手柄的背景色\n        'tableMenuColor: rgba(0,0,0,0.60)', //表格上方菜单的颜色\n        'tableMenuBorderColor: #e2e6ea', //表格上方菜单的颜色\n        'tableColRowBg: #ebedf1', //表格col和row的背景色\n        'tableColRowActiveBg: #bcc4d0', //表格上方菜单的active颜色\n        'tableColRowColor: rgba(0,0,0,0.4)', //表格col和row的背景色\n        'paginationColor: rgba(0,0,0,0.6)', //分页器的颜色\n        'paginationActiveColor: #ffffff', //分页器的颜色\n        'paginationActiveBg: #4583ff', //分页器的active颜色\n        'sliderBg: #e2e6ea', //分页器的active颜色\n        'sliderBtnBg: #ffffff', //分页器的active颜色\n        'notificationBorderColor: transparent', //分页器的active颜色\n        'notificationBg: #ffffff', //分页器的active颜色\n        'borderColor: #d6dbe3',\n        'borderOutsideColor: #d6dbe3',\n        'formBorderColor: #d4d6d9',\n        'borderInsideColor: #e7e7e7',\n        'shadow: 0px 2px 4px 0px rgba(107,113,121,0.25)',\n        'radius: 4px',\n    ],\n    /**\n     * @description 将单驼峰命名的字符串改成 小写单词加-的形式,从而将js单驼峰的规范改成css变量的规范\n     * @author Joseph Ho\n     * @date 08/01/2025\n     * @param {*} str\n     * @returns {*}\n     */\n    camelCaseToHyphenated(str) {\n        return str.replace(/[A-Z]/g, (match) => {\n            return '-' + match.toLowerCase();\n        });\n    },\n    /**\n     * @description 添加厂商前缀，如：--le-text-color-primary: #7f838c\n     * @author Joseph Ho\n     * @date 26/12/2024\n     * @param {*} theme\n     * @returns {*}\n     */\n    _addVendorCssPrefix(themeList) {\n        return themeList.map(item => {\n            const [key, value] = item.split(':');\n            return `${this.vendor_css_prefix}${this.camelCaseToHyphenated(key.trim())}:${value.trim()}`;\n        });\n    },\n    /**\n     * @description 创建主题css变量样式表\n     * @author Joseph Ho\n     * @date 26/12/2024\n     * @param {*} theme 主题名\n     * @param {*} id 样式表id，用于查找样式表，确保唯一\n     */\n    createThemeSheet(theme, id) {\n        const style = document.createElement('style');\n        style.type = 'text/css';\n        style.id = this.style_prefix + id;\n        document.head.appendChild(style);\n        // 设置初始样式变量\n        const _theme = theme || 'dark';\n        const cssDeclarations = this.getTheme(_theme);\n        const newRuleText = `${this.cssRuleSelector} { ${cssDeclarations.join(';')} }`;\n        style.innerHTML = newRuleText;\n    },\n    /**\n     * @description 销毁主题样式表，根据id查找样式表并删除，释放内存空间，避免内存泄漏\n     * @author Joseph Ho\n     * @date 26/12/2024\n     * @param {*} id\n     */\n    destroyThemeSheet(id) {\n        const styleSheet = this.findStyleSheet(this.style_prefix + id);\n        if (styleSheet) {\n            document.head.removeChild(styleSheet.ownerNode);\n        }\n    },\n    addTheme(name, theme) {\n        Object.assign(this, { [name]: theme });\n    },\n    /**\n     * @description 根据主题名称获取主题变量\n     * @author Joseph Ho\n     * @date 26/12/2024\n     * @param {*} theme\n     * @returns {*}\n     */\n    getTheme(theme) {\n        return this._addVendorCssPrefix(this[theme] || this.light);\n    },\n    getThemeObj(theme = \"dark\") {\n        // 将theme的list转换为对象\n        const dot = \":\";\n        const obj = this[theme].reduce((acc, curr) => {\n            const [key, value] = curr.split(dot);\n            acc[key] = value;\n            return acc;\n        }, {});\n        return obj;\n    },\n    /**\n     * @description 根据id查找样式表\n     * @author Joseph Ho\n     * @date 26/12/2024\n     * @param {*} id\n     * @returns {*}\n     */\n    findStyleSheet(id) {\n        const styleSheets = document.styleSheets;\n        for (let i = 0; i < styleSheets.length; i++) {\n            const styleSheet = styleSheets[i];\n            if (styleSheet.ownerNode && styleSheet.ownerNode.id === id) {\n                return styleSheet;\n            }\n        }\n        return null;\n    },\n    /**\n     * @description 更新样式表的主题变量\n     * @author Joseph Ho\n     * @date 26/12/2024\n     * @param {*} id\n     * @param {*} theme\n     */\n    updateCssRule(id, themeName) {\n        const theme = this.getTheme(themeName);\n        const newCssDeclarations = theme;\n        const styleSheet = this.findStyleSheet(this.style_prefix + id);\n        if (!styleSheet)\n            return;\n        let ruleExists = false;\n        for (let i = 0; i < styleSheet.cssRules.length; i++) {\n            const rule = styleSheet.cssRules[i];\n            if (rule.selectorText === this.cssRuleSelector) {\n                ruleExists = true;\n                break;\n            }\n        }\n        if (ruleExists) {\n            // 先删除旧规则，再插入新规则\n            for (let i = 0; i < styleSheet.cssRules.length; i++) {\n                const rule = styleSheet.cssRules[i];\n                if (rule.selectorText === this.cssRuleSelector) {\n                    if (styleSheet.insertRule) {\n                        styleSheet.deleteRule(i);\n                        const newRuleText = `${this.cssRuleSelector} { ${newCssDeclarations.join(';')} }`;\n                        styleSheet.insertRule(newRuleText, i);\n                    }\n                    else if (styleSheet.addRule) {\n                        rule.style.cssText = newCssDeclarations.join(';');\n                    }\n                }\n            }\n        }\n        else {\n            // 插入新规则\n            if (styleSheet.insertRule) {\n                const newRuleText = `${this.cssRuleSelector} { ${newCssDeclarations.join(';')} }`;\n                styleSheet.insertRule(newRuleText, styleSheet.cssRules.length);\n            }\n            else if (styleSheet.addRule) {\n                const existingRootRule = styleSheet.cssRules.find(rule => rule.selectorText === this.cssRuleSelector);\n                if (existingRootRule) {\n                    const declarationsToAdd = newCssDeclarations.join(';');\n                    existingRootRule.style.cssText += `; ${declarationsToAdd}`;\n                }\n                else {\n                    styleSheet.addRule(this.cssRuleSelector, newCssDeclarations.join(';'));\n                }\n            }\n        }\n    }\n};\n//# sourceMappingURL=theme.js.map","import { default as mitt } from 'mitt';\nimport { CanvasLayer } from '../pen';\nimport { defaultOptions } from '../options';\nimport { defaultTheme } from '../theme';\nimport { globalStore } from './global';\nexport var EditType;\n(function (EditType) {\n    EditType[EditType[\"Add\"] = 0] = \"Add\";\n    EditType[EditType[\"Update\"] = 1] = \"Update\";\n    EditType[EditType[\"Delete\"] = 2] = \"Delete\";\n    EditType[EditType[\"Replace\"] = 3] = \"Replace\";\n})(EditType || (EditType = {}));\nexport const createStore = () => {\n    return {\n        data: {\n            x: 0,\n            y: 0,\n            scale: 1,\n            pens: [],\n            origin: { x: 0, y: 0 },\n            center: { x: 0, y: 0 },\n            paths: {},\n            // theme:'light'\n        },\n        histories: [],\n        pens: {},\n        path2dMap: new WeakMap(),\n        animateMap: new WeakMap(),\n        active: [],\n        animates: new Set(),\n        options: { ...defaultOptions },\n        theme: { ...defaultTheme },\n        emitter: mitt(),\n        bindDatas: {},\n        bind: {},\n        pensNetwork: {},\n        cacheDatas: [],\n        messageEvents: {},\n        templatePens: {},\n        globalTriggers: {},\n    };\n};\n// Return a data store, if not exists will create a store.\nexport const useStore = (id = 'default') => {\n    if (!globalStore[id]) {\n        globalStore[id] = createStore();\n        globalStore[id].id = id;\n    }\n    return globalStore[id];\n};\nexport const clearStore = (store, template) => {\n    const isSame = store.data.template === template;\n    if (isSame) {\n        //模版一样\n        for (const pen of store.data.pens) {\n            // if (pen.template) {\n            if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                store.templatePens[pen.id] = pen;\n            }\n        }\n    }\n    store.lastScale = store.data.scale;\n    store.data = {\n        x: 0,\n        y: 0,\n        scale: 1,\n        pens: [],\n        origin: { x: 0, y: 0 },\n        center: { x: 0, y: 0 },\n        paths: {},\n        template: isSame ? template : null,\n        lineAnimateDraws: {}\n    };\n    store.sameTemplate = isSame;\n    store.pens = {};\n    store.histories = [];\n    store.historyIndex = null;\n    store.path2dMap = new WeakMap();\n    store.animateMap = new WeakMap();\n    store.bindDatas = {};\n    store.bind = {};\n    store.pensNetwork = {};\n    store.active = [];\n    store.hover = undefined;\n    store.lastHover = undefined;\n    store.animates.clear();\n};\n//# sourceMappingURL=store.js.map","import { calcRightBottom } from '../rect';\nimport { getFont } from './render';\nexport function calcTextRect(pen) {\n    const { paddingTop, paddingBottom, paddingLeft, paddingRight, worldRect, canvas, } = pen.calculative;\n    let { textLeft, textTop, textWidth, textHeight } = pen.calculative;\n    let x = paddingLeft;\n    let y = paddingTop;\n    // if (textLeft && Math.abs(textLeft) < 1) {\n    //   textLeft *= worldRect.width;\n    // }\n    // if (textTop && Math.abs(textTop) < 1) {\n    //   textTop *= worldRect.height;\n    // }\n    const width = worldRect.width -\n        paddingLeft -\n        paddingRight;\n    const height = worldRect.height -\n        paddingTop -\n        paddingBottom;\n    if (textWidth && textWidth < 1) {\n        textWidth *= worldRect.width;\n    }\n    if (textHeight && textHeight < 1) {\n        textHeight *= worldRect.height;\n    }\n    if (textWidth < pen.calculative.fontSize) {\n        textWidth = pen.calculative.fontSize;\n    }\n    // 默认居左，居上\n    x += (textLeft || 0) + worldRect.x;\n    y += (textTop || 0) + worldRect.y;\n    const textAlign = pen.textAlign || canvas.store.options.textAlign;\n    const textBaseline = pen.textBaseline || canvas.store.options.textBaseline;\n    switch (textAlign) {\n        case 'center':\n            x += (width - (textWidth || width)) / 2;\n            break;\n        case 'right':\n            x += width - (textWidth || width);\n            break;\n    }\n    switch (textBaseline) {\n        case 'middle':\n            y += (height - (textHeight || height)) / 2;\n            break;\n        case 'bottom':\n            y += height - (textHeight || height);\n            break;\n    }\n    const rect = {\n        x,\n        y,\n        width: textWidth || width,\n        height: textHeight || height,\n    };\n    calcRightBottom(rect);\n    pen.calculative.worldTextRect = rect;\n    calcTextLines(pen);\n    pen.calculative.textDrawRect = undefined;\n}\nexport function calcTextDrawRect(ctx, pen) {\n    // By default, the text is center aligned.\n    const lineHeight = pen.calculative.fontSize * pen.calculative.lineHeight;\n    const h = pen.calculative.textLines.length * lineHeight;\n    const textWidth = calcTextAdaptionWidth(ctx, pen); // 多行文本最大宽度\n    const rect = pen.calculative.worldTextRect;\n    let x = rect.x + (rect.width - textWidth) / 2;\n    let y = rect.y + (rect.height - h) / 2;\n    const options = pen.calculative.canvas.store.options;\n    const textAlign = pen.textAlign || options.textAlign;\n    switch (textAlign) {\n        case 'left':\n            x = rect.x;\n            break;\n        case 'right':\n            x = rect.x + rect.width - textWidth;\n            break;\n    }\n    const textBaseline = pen.textBaseline || options.textBaseline;\n    switch (textBaseline) {\n        case 'top':\n            y = rect.y;\n            break;\n        case 'bottom':\n            y = rect.ey - h;\n            break;\n    }\n    pen.calculative.textDrawRect = {\n        x,\n        y,\n        width: textWidth,\n        height: h,\n    };\n    calcRightBottom(pen.calculative.textDrawRect);\n}\nexport function calcTextLines(pen, text = pen.calculative.text) {\n    if (text == undefined) {\n        pen.calculative.textLines = [];\n        return;\n    }\n    text = text.toString();\n    const keepDecimal = pen.calculative.keepDecimal;\n    if (keepDecimal != undefined) {\n        const textNum = Number(text);\n        if (!isNaN(textNum)) {\n            text = textNum.toFixed(keepDecimal);\n        }\n    }\n    let lines = [];\n    const oneRowHeight = pen.calculative.fontSize * pen.calculative.lineHeight;\n    const textHeight = pen.calculative.worldTextRect.height;\n    const calcRows = Math.floor(textHeight / oneRowHeight);\n    // 最小值为 1\n    const maxRows = calcRows > 1 ? calcRows : 1;\n    switch (pen.whiteSpace) {\n        case 'nowrap':\n            if (pen.ellipsis !== false) {\n                const allLines = wrapLines(text.split(''), pen);\n                if (allLines[0]) {\n                    lines.push(allLines[0]);\n                    if (allLines.length > 1) {\n                        // 存在第二行，说明宽度超出\n                        setEllipsisOnLastLine(lines);\n                    }\n                }\n            }\n            else {\n                lines.push(text);\n            }\n            break;\n        case 'pre-line':\n            lines = text.split(/[\\n]/g);\n            if (pen.ellipsis !== false && lines.length > maxRows) {\n                lines = lines.slice(0, maxRows);\n                setEllipsisOnLastLine(lines);\n            }\n            break;\n        case 'break-all':\n        default:\n            const paragraphs = text.split(/[\\n]/g);\n            let currentRow = 0;\n            outer: for (const paragraph of paragraphs) {\n                const words = pen.whiteSpace === 'break-all'\n                    ? paragraph.split('')\n                    : getWords(paragraph);\n                let items = wrapLines(words, pen);\n                // 空行换行的情况\n                if (items.length === 0)\n                    items = [''];\n                if (pen.ellipsis != false) {\n                    for (const l of items) {\n                        currentRow++;\n                        if (currentRow > maxRows) {\n                            setEllipsisOnLastLine(lines);\n                            break outer;\n                        }\n                        else {\n                            lines.push(l);\n                        }\n                    }\n                }\n                else {\n                    lines.push(...items);\n                }\n            }\n            break;\n    }\n    /*\n    const keepDecimal = pen.calculative.keepDecimal;\n    if (keepDecimal != undefined) {\n      lines.forEach((text, i) => {\n        const textNum = Number(text);\n        if (!isNaN(textNum)) {\n          lines[i] = textNum.toFixed(keepDecimal);\n        }\n      });\n    }\n    */\n    pen.calculative.textLines = lines;\n    return lines;\n}\nexport function getWords(txt = '') {\n    const words = [];\n    let word = '';\n    for (let i = 0; i < txt.length; ++i) {\n        const ch = txt.charCodeAt(i);\n        if (ch < 33 || ch > 126) {\n            if (word) {\n                words.push(word);\n                word = '';\n            }\n            words.push(txt[i]);\n        }\n        else {\n            word += txt[i];\n        }\n    }\n    if (word) {\n        words.push(word);\n    }\n    return words;\n}\nexport function wrapLines(words, pen) {\n    const canvas = pen.calculative.canvas;\n    const ctx = canvas.offscreen.getContext('2d');\n    const { fontStyle, fontWeight, fontSize, fontFamily, lineHeight } = pen.calculative;\n    ctx.save();\n    const lines = [];\n    let currentLine = words[0] || '';\n    for (let i = 1; i < words.length; ++i) {\n        const word = words[i] || '';\n        const text = currentLine + word;\n        let currentWidth = 0;\n        if (canvas.store.options.measureTextWidth) {\n            ctx.font = getFont({\n                fontStyle,\n                fontWeight,\n                fontFamily: fontFamily || canvas.store.options.fontFamily,\n                fontSize,\n                lineHeight,\n            });\n            currentWidth = ctx.measureText(text).width;\n        }\n        else {\n            // 近似计算\n            const chinese = text.match(/[^\\x00-\\xff]/g) || '';\n            const chineseWidth = chinese.length * fontSize; // 中文占用的宽度\n            const spaces = text.match(/\\s/g) || '';\n            const spaceWidth = spaces.length * fontSize * 0.3; // 空格占用的宽度\n            const otherWidth = (text.length - chinese.length - spaces.length) * fontSize * 0.6; // 其他字符占用的宽度\n            currentWidth = chineseWidth + spaceWidth + otherWidth;\n        }\n        const textWidth = pen.calculative.worldTextRect.width;\n        if (currentWidth <= textWidth + 0.1) {\n            currentLine += word;\n        }\n        else {\n            currentLine.length && lines.push(currentLine);\n            currentLine = word;\n        }\n    }\n    currentLine.length && lines.push(currentLine);\n    ctx.restore();\n    return lines;\n}\nexport function calcTextAdaptionWidth(ctx, pen) {\n    let maxWidth = 0;\n    pen.calculative.textLineWidths = [];\n    pen.calculative.textLines.forEach((text) => {\n        const width = ctx.measureText(text).width;\n        pen.calculative.textLineWidths.push(width);\n        maxWidth < width && (maxWidth = width);\n    });\n    return maxWidth;\n}\n/**\n * 副作用函数，会修改传入的参数\n * 把最后一行的最后变成 ...\n * TODO: 中文的三个字符宽度比 . 大，显示起来像是删多了\n * @param lines\n */\nfunction setEllipsisOnLastLine(lines) {\n    lines[lines.length - 1] = lines[lines.length - 1].slice(0, -3) + '...';\n}\nexport function calcTextAutoWidth(pen) {\n    let arr = pen.text.split('\\n');\n    const canvas = pen.calculative.canvas;\n    const ctx = canvas.offscreen.getContext('2d');\n    const { fontStyle, fontWeight, fontSize, fontFamily, lineHeight } = pen.calculative;\n    let textWidth = 0; // pen.calculative.worldTextRect.width;\n    let currentWidth = 0; // textWidth;\n    ctx.save();\n    for (let i = 0; i < arr.length; i++) {\n        if (canvas.store.options.measureTextWidth) {\n            ctx.font = getFont({\n                fontStyle,\n                fontWeight,\n                fontFamily: fontFamily || canvas.store.options.fontFamily,\n                fontSize,\n                lineHeight,\n            });\n            currentWidth = ctx.measureText(arr[i]).width; //* scale;\n        }\n        else {\n            // 近似计算\n            const chinese = arr[i].match(/[^\\x00-\\xff]/g) || '';\n            const chineseWidth = chinese.length * fontSize; // 中文占用的宽度\n            const spaces = arr[i].match(/\\s/g) || '';\n            const spaceWidth = spaces.length * fontSize * 0.3; // 空格占用的宽度\n            const otherWidth = (arr[i].length - chinese.length - spaces.length) * fontSize * 0.6; // 其他字符占用的宽度\n            currentWidth = chineseWidth + spaceWidth + otherWidth;\n        }\n        if (currentWidth > textWidth) {\n            textWidth = currentWidth; //* scale;\n        }\n    }\n    ctx.restore();\n    let textHeight = arr.length * fontSize * lineHeight;\n    if (pen.textAlign === 'left') {\n        // pen.x = pen.x;\n    }\n    else if (pen.textAlign === 'right') {\n        pen.x = pen.x - (textWidth - pen.width);\n    }\n    else {\n        pen.x = pen.x - (textWidth - pen.width) / 2;\n    }\n    if (pen.textBaseline === 'top') {\n    }\n    else if (pen.textBaseline === 'bottom') {\n        pen.y = pen.y - (textHeight - pen.height);\n    }\n    else {\n        pen.y = pen.y - (textHeight - pen.height) / 2;\n    }\n    // if (textHeight > pen.height) {\n    pen.height = textHeight + 5;\n    // }\n    pen.width = textWidth + 5; //误差\n    pen.calculative.canvas.updatePenRect(pen);\n    pen.calculative.canvas.calcActiveRect();\n}\n//# sourceMappingURL=text.js.map","/**\n * 拷贝一个对象\n * @param o - object to clone\n * @param keepCalc 是否保留计算属性， false, 不保留， true, 保留（但 calculative.canvas 属性仍不保存）\n * @returns 拷贝后的对象\n */\nexport function deepClone(o, keepCalc = false) {\n    if (Array.isArray(o)) {\n        const arr = [];\n        o.forEach((item) => {\n            arr.push(deepClone(item, keepCalc));\n        });\n        return arr;\n    }\n    else if (typeof o === 'object') {\n        if (o === null) {\n            return null;\n        }\n        else if (o.constructor === RegExp) {\n            return o;\n        }\n        const _o = {};\n        for (const key in o) {\n            if (['canvas', 'lastFrame'].includes(key) ||\n                o[key] instanceof HTMLImageElement ||\n                o[key] instanceof HTMLMediaElement) {\n                continue;\n            }\n            else if (key === 'calculative' && !keepCalc) {\n                continue;\n            }\n            else if (key === 'singleton') {\n                if (keepCalc) {\n                    _o[key] = {};\n                }\n                else {\n                    _o[key] = o[key];\n                }\n                continue;\n            }\n            _o[key] = deepClone(o[key], keepCalc);\n        }\n        return _o;\n    }\n    return o;\n}\nexport function deepSetValue(o, keyWords, value) {\n    if (Array.isArray(o)) {\n        const arr = [];\n        o.forEach((item) => {\n            arr.push(deepSetValue(item, keyWords, value));\n        });\n        return arr;\n    }\n    else if (typeof o === 'object') {\n        if (o === null) {\n            return null;\n        }\n        // const _o = {} as any;\n        for (const key in o) {\n            if (keyWords.includes(key)) {\n                if (Array.isArray(o[key])) {\n                    o[key].forEach((i, index) => {\n                        if (!Number.isNaN(Number(i))) {\n                            o[key][index] = Number(i * value);\n                        }\n                    });\n                }\n                else {\n                    if (Number.isNaN(Number(o[key]))) {\n                        continue;\n                    }\n                    o[key] = Number(o[key]) * value;\n                }\n            }\n            else {\n                o[key] = deepSetValue(o[key], keyWords, value);\n            }\n        }\n        return o;\n    }\n    return o;\n}\n//# sourceMappingURL=clone.js.map","import { calcRotate } from '../point';\nimport { getFromAnchor, getToAnchor } from './render';\nconst arrows = {};\nexport function renderFromArrow(ctx, pen, store) {\n    if (!arrows[pen.fromArrow]) {\n        return;\n    }\n    const from = getFromAnchor(pen);\n    const { x, y } = from;\n    const pt = { x, y };\n    pt.step = (pen.fromArrowSize || 10) * store.data.scale;\n    if (from.next) {\n        pt.rotate = calcRotate(from.next, from) + 90;\n    }\n    else {\n        const p = pen.calculative.worldAnchors[1];\n        if (!p) {\n            return;\n        }\n        if (p.prev) {\n            pt.rotate = calcRotate(p.prev, from) + 90;\n        }\n        else {\n            pt.rotate = calcRotate(p, from) + 90;\n        }\n    }\n    ctx.save();\n    ctx.beginPath();\n    ctx.setLineDash([]);\n    const fromArrowColor = pen.fromArrowColor || pen.calculative.color;\n    fromArrowColor && (ctx.strokeStyle = fromArrowColor);\n    arrows[pen.fromArrow](ctx, pen, store, pt);\n    ctx.restore();\n}\nexport function renderToArrow(ctx, pen, store) {\n    if (!arrows[pen.toArrow] || pen.calculative.worldAnchors.length < 2) {\n        return;\n    }\n    ctx.save();\n    const to = getToAnchor(pen);\n    const { x, y } = to;\n    const pt = { x, y };\n    pt.step = (pen.toArrowSize || 10) * store.data.scale;\n    if (to.prev) {\n        pt.rotate = calcRotate(to.prev, to) + 90;\n    }\n    else {\n        const p = pen.calculative.worldAnchors[pen.calculative.worldAnchors.length - 2];\n        if (p.next) {\n            pt.rotate = calcRotate(p.next, to) + 90;\n        }\n        else {\n            pt.rotate = calcRotate(p, to) + 90;\n        }\n    }\n    ctx.beginPath();\n    ctx.setLineDash([]);\n    const toArrowColor = pen.toArrowColor || pen.calculative.color;\n    toArrowColor && (ctx.strokeStyle = toArrowColor);\n    arrows[pen.toArrow](ctx, pen, store, pt);\n    ctx.restore();\n}\narrows.triangleSolid = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const fromX = point.x - point.step;\n    ctx.moveTo(fromX, point.y - point.step / 4);\n    ctx.lineTo(point.x, point.y);\n    ctx.lineTo(fromX, point.y + point.step / 4);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.fillStyle = ctx.strokeStyle;\n    ctx.fill();\n    ctx.restore();\n};\narrows.reTriangleSolid = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const fromX = point.x - point.step / 2;\n    ctx.moveTo(point.x, point.y - point.step / 2);\n    ctx.lineTo(fromX, point.y);\n    ctx.lineTo(point.x, point.y + point.step / 2);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.fillStyle = ctx.strokeStyle;\n    ctx.fill();\n    ctx.restore();\n};\narrows.triangle = (ctx, pen, store, point) => {\n    ctx.save();\n    if (ctx.lineWidth < 2) {\n        ctx.lineWidth = 2;\n    }\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const fromX = point.x - point.step;\n    ctx.moveTo(fromX, point.y - point.step / 4);\n    ctx.lineTo(point.x, point.y);\n    ctx.lineTo(fromX, point.y + point.step / 4);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.fillStyle = store.data.background || '#ffffff';\n    ctx.fill();\n    ctx.restore();\n};\narrows.circleSolid = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const r = point.step / 2;\n    ctx.arc(point.x - r, point.y, r, 0, 2 * Math.PI);\n    ctx.stroke();\n    ctx.fillStyle = ctx.strokeStyle;\n    ctx.fill();\n    ctx.restore();\n};\narrows.circle = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const r = point.step / 2;\n    ctx.arc(point.x - r, point.y, r, 0, 2 * Math.PI);\n    ctx.stroke();\n    ctx.fillStyle = store.data.background || '#ffffff';\n    ctx.fill();\n    ctx.restore();\n};\narrows.diamondSolid = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const fromX = point.x - point.step;\n    const r = point.step / 2;\n    ctx.moveTo(fromX, point.y);\n    ctx.lineTo(fromX + r, point.y - r / 2);\n    ctx.lineTo(point.x, point.y);\n    ctx.lineTo(fromX + r, point.y + r / 2);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.fillStyle = ctx.strokeStyle;\n    ctx.fill();\n    ctx.restore();\n};\narrows.diamond = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const fromX = point.x - point.step;\n    const r = point.step / 2;\n    ctx.moveTo(fromX, point.y);\n    ctx.lineTo(fromX + r, point.y - r / 2);\n    ctx.lineTo(point.x, point.y);\n    ctx.lineTo(fromX + r, point.y + r / 2);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.fillStyle = store.data.background || '#ffffff';\n    ctx.fill();\n    ctx.restore();\n};\narrows.line = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const fromX = point.x - point.step;\n    ctx.moveTo(fromX, point.y - point.step / 3);\n    ctx.lineTo(point.x, point.y);\n    ctx.lineTo(fromX, point.y + point.step / 3);\n    ctx.stroke();\n    ctx.restore();\n};\narrows.lineUp = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const fromX = point.x - point.step;\n    ctx.moveTo(fromX, point.y - point.step / 3);\n    ctx.lineTo(point.x, point.y);\n    ctx.stroke();\n    ctx.restore();\n};\narrows.lineDown = (ctx, pen, store, point) => {\n    ctx.save();\n    ctx.translate(point.x, point.y);\n    ctx.rotate((point.rotate * Math.PI) / 180);\n    ctx.translate(-point.x, -point.y);\n    const fromX = point.x - point.step;\n    ctx.moveTo(fromX, point.y + point.step / 3);\n    ctx.lineTo(point.x, point.y);\n    ctx.stroke();\n    ctx.restore();\n};\n//# sourceMappingURL=arrow.js.map","// pSBC - Shade Blend Convert - Version 4.0 - 02/18/2019\n// https://github.com/PimpTrizkit/PJs/edit/master/pSBC.js\nexport function pSBCr(d) {\n    const i = parseInt, m = Math.round;\n    let n = d.length, x = {};\n    if (n > 9) {\n        const [r, g, b, a] = (d = d.split(','));\n        n = d.length;\n        if (n < 3 || n > 4)\n            return null;\n        (x.r = i(r[3] == 'a' ? r.slice(5) : r.slice(4))),\n            (x.g = i(g)),\n            (x.b = i(b)),\n            (x.a = a ? parseFloat(a) : -1);\n    }\n    else {\n        if (n == 8 || n == 6 || n < 4)\n            return null;\n        if (n < 6)\n            d =\n                '#' +\n                    d[1] +\n                    d[1] +\n                    d[2] +\n                    d[2] +\n                    d[3] +\n                    d[3] +\n                    (n > 4 ? d[4] + d[4] : '');\n        d = i(d.slice(1), 16);\n        if (n == 9 || n == 5)\n            (x.r = (d >> 24) & 255),\n                (x.g = (d >> 16) & 255),\n                (x.b = (d >> 8) & 255),\n                (x.a = m((d & 255) / 0.255) / 1000);\n        else\n            (x.r = d >> 16), (x.g = (d >> 8) & 255), (x.b = d & 255), (x.a = -1);\n    }\n    return x;\n}\n/*\nexample：\npSBC ( 0.42, color1 ); // rgb(20,60,200) + [42% Lighter] => rgb(166,171,225)\npSBC ( -0.4, color5 ); // #F3A + [40% Darker] => #c62884\n\npSBC ( -0.5, color2, color8, true ); // rgba(20,60,200,0.67423) + rgba(200,60,20,0.98631) + [50% Blend] => rgba(110,60,110,0.83)\npSBC ( 0.7, color2, color7, true ); // rgba(20,60,200,0.67423) + rgb(200,60,20) + [70% Blend] => rgba(146,60,74,0.67423)\n\nmore:\nhttps://github-wiki-see.page/m/PimpTrizkit/PJs/wiki/12.-Shade%2C-Blend-and-Convert-a-Web-Color-%28pSBC.js%29\n*/\nexport function pSBC(p, c0, c1, l) {\n    let r, g, b, P, f, t, h, m = Math.round, a = typeof c1 == 'string';\n    if (typeof p != 'number' ||\n        p < -1 ||\n        p > 1 ||\n        typeof c0 != 'string' ||\n        (c0[0] != 'r' && c0[0] != '#') ||\n        (c1 && !a))\n        return null;\n    (h = c0.length > 9),\n        (h = a ? (c1.length > 9 ? true : c1 == 'c' ? !h : false) : h),\n        (f = pSBCr(c0)),\n        (P = p < 0),\n        (t =\n            c1 && c1 != 'c'\n                ? pSBCr(c1)\n                : P\n                    ? { r: 0, g: 0, b: 0, a: -1 }\n                    : { r: 255, g: 255, b: 255, a: -1 }),\n        (p = P ? p * -1 : p),\n        (P = 1 - p);\n    if (!f || !t)\n        return null;\n    if (l)\n        (r = m(P * f.r + p * t.r)),\n            (g = m(P * f.g + p * t.g)),\n            (b = m(P * f.b + p * t.b));\n    else\n        (r = m((P * f.r ** 2 + p * t.r ** 2) ** 0.5)),\n            (g = m((P * f.g ** 2 + p * t.g ** 2) ** 0.5)),\n            (b = m((P * f.b ** 2 + p * t.b ** 2) ** 0.5));\n    (a = f.a),\n        (t = t.a),\n        (f = a >= 0 || t >= 0),\n        (a = f ? (a < 0 ? t : t < 0 ? a : a * P + t * p) : 0);\n    if (h)\n        return ('rgb' +\n            (f ? 'a(' : '(') +\n            r +\n            ',' +\n            g +\n            ',' +\n            b +\n            (f ? ',' + m(a * 1000) / 1000 : '') +\n            ')');\n    else\n        return ('#' +\n            (4294967296 + r * 16777216 + g * 65536 + b * 256 + (f ? m(a * 255) : 0))\n                .toString(16)\n                .slice(1, f ? undefined : -2));\n}\nglobalThis.pSBC = pSBC;\nexport function rgba(c, p) {\n    const f = pSBCr(c) || { r: 0, g: 0, b: 0 };\n    if (f.a < 0) {\n        return `rgba(${f.r},${f.g},${f.b},${p})`;\n    }\n    return `rgba(${f.r},${f.g},${f.b},${p + f.a})`;\n}\n//# sourceMappingURL=color.js.map","export function abs(num, percent) {\n    if (+percent) {\n        return +percent;\n    }\n    if (!percent || percent[percent.length - 1] !== '%') {\n        return 0;\n    }\n    percent = percent.substr(0, percent.length - 1);\n    return (num * +percent) / 100;\n}\n/**\n * 实际值是否在范围中, 数学上的开闭\n * @param realValue 实际值\n * @param collection 集合规范，与数学上相同，如[0, 100]，前闭后闭；如[0, 100)，前闭后开；\n * @returns undefined 说明参数不规范 ，true 说明在范围内，false 说明不在范围内\n */\nexport function valueInRange(realValue, collection) {\n    if (isNaN(realValue)) {\n        console.warn(`realValue not number`);\n        return;\n    }\n    if (typeof collection !== 'string') {\n        console.warn('collection must be string');\n        return;\n    }\n    const [start, end] = [collection[0], collection[collection.length - 1]];\n    if (!['[', '('].includes(start)) {\n        console.warn('collection must start with \"[\" or \"(\"');\n        return;\n    }\n    if (![']', ')'].includes(end)) {\n        console.warn('collection must end with \"]\" or \")\"');\n        return;\n    }\n    const nums = collection.substring(1, collection.length - 1).split(',');\n    if (nums.length !== 2) {\n        console.warn('collection must have 2 numbers');\n        return;\n    }\n    const [startNum, endNum] = [+nums[0], +nums[1]];\n    if (startNum >= endNum) {\n        console.warn('startNum must less than endNum');\n        return;\n    }\n    // 大于 startNum 左肯定成立\n    const left = realValue > startNum || (start === '[' && realValue === startNum)\n        ? true\n        : false;\n    if (!left) {\n        return false;\n    }\n    // 执行到这，左边已经是true了，判断右边\n    const right = realValue < endNum || (end === ']' && realValue === endNum) ? true : false;\n    return right;\n}\n/**\n * 实际值是否在数组中，即是否属于\n * 例如: [1,2,3] 只有 1 2 3 是属于 collection 的\n * .. 范围值 30..50 等于 闭区间的 [30,50] ，即范围值\n * [1,20,30..50,65] 只有 1 20 30..50 65 是属于 collection 的\n * @param realValue 实际值\n * @param collection 集合\n * @returns undefined 说明参数不规范 ，true 说明在范围内，false 说明不在范围内\n */\nexport function valueInArray(realValue, collection) {\n    // if (isNaN(realValue)) {\n    //   console.warn(`realValue not number`);\n    //   return;\n    // }\n    //允许字符串的情况\n    if (typeof collection !== 'string') {\n        console.warn('collection must be string');\n        return;\n    }\n    const [start, end] = [collection[0], collection[collection.length - 1]];\n    if (start !== '[' || end !== ']') {\n        console.warn('collection must start with \"[\" and end with \"]\"');\n        return;\n    }\n    const numStrs = collection.substring(1, collection.length - 1).split(',');\n    for (const numStr of numStrs) {\n        if (numStr.includes('..')) {\n            // 范围值\n            const [start, end] = numStr.split('..');\n            const [startNum, endNum] = [+start, +end];\n            if (startNum >= endNum) {\n                console.warn('startNum must less than endNum');\n                return;\n            }\n            if (realValue >= startNum && realValue <= endNum) {\n                return true;\n            }\n        }\n        else {\n            // 单个值\n            // let num:any = +numStr;\n            // if(Number.isNaN(num)){\n            //   num = numStr;\n            //   const [start, end] = [num[0], num[num.length - 1]];\n            //   if (!((start !== '\"' && end !== '\"')||(start !== \"'\" && end !== \"'\"))) {\n            //     console.warn('Not a valid string');\n            //     return;\n            //   }else{\n            //     num = num.substring(1, num.length - 1)\n            //   }\n            // }\n            if (realValue == numStr) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n// 三次贝塞尔曲线y轴分量\nexport function cubicBezierY(t, p1y, p2y) {\n    const mt = 1 - t;\n    return (3 * mt * mt * t * p1y +\n        3 * mt * t * t * p2y +\n        t * t * t);\n}\n//# sourceMappingURL=math.js.map","export function s4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\nexport function s8() {\n    return (((1 + Math.random()) * 0x100000000) | 0).toString(16).substring(1);\n}\nexport function s12() {\n    return s4() + s8();\n}\nexport function s16() {\n    return s8() + s8();\n}\n//# sourceMappingURL=uuid.js.map","/**\n * turn padding into [top, right, bottom, left]\n * @param  {Number|Array} padding input padding\n * @return {array} output\n */\nexport const formatPadding = (padding) => {\n    let top = 0;\n    let left = 0;\n    let right = 0;\n    let bottom = 0;\n    if (typeof padding === 'number') {\n        top = left = right = bottom = padding;\n    }\n    else if (typeof padding === 'string') {\n        const intPadding = parseInt(padding, 10);\n        top = left = right = bottom = intPadding;\n    }\n    else if (Array.isArray(padding)) {\n        top = padding[0];\n        right = !isNil(padding[1]) ? padding[1] : padding[0];\n        bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n        left = !isNil(padding[3]) ? padding[3] : right;\n    }\n    return [top, right, bottom, left];\n};\n/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * isNil(null)\n * // => true\n *\n * isNil(void 0)\n * // => true\n *\n * isNil(NaN)\n * // => false\n */\nfunction isNil(value) {\n    return value == null;\n}\n//# sourceMappingURL=padding.js.map","export async function fileToBase64(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            resolve(e.target.result);\n        };\n        reader.onerror = (e) => {\n            reject(e);\n        };\n        reader.readAsDataURL(file);\n    });\n}\nexport async function uploadFile(file, url, params, headers) {\n    const formData = new FormData();\n    // 后端接受的 formData 文件属性名一定为 file\n    formData.append('file', file);\n    if (params) {\n        for (const key in params) {\n            if (params.hasOwnProperty(key)) {\n                formData.append(key, params[key]);\n            }\n        }\n    }\n    const res = await fetch(url, {\n        method: 'POST',\n        headers,\n        body: formData,\n    });\n    // 后端返回的一级属性中，必须包含一个名为url的属性\n    return (await res.json()).url;\n}\nexport function loadCss(url, success, error) {\n    var link = document.createElement('link');\n    link.href = url;\n    link.rel = 'stylesheet';\n    success && (link.onload = success);\n    error && (link.onerror = error);\n    document.head.appendChild(link);\n}\n//# sourceMappingURL=file.js.map","export function queryURLParams(value) {\n    let url = value || window.location.search.split('?')[1];\n    const urlSearchParams = new URLSearchParams(url);\n    const params = Object.fromEntries(urlSearchParams.entries());\n    return params;\n}\nexport const getRootDomain = () => {\n    let domain = '';\n    const domainItems = location.hostname.split('.');\n    if (domainItems.length < 3 ||\n        (domainItems.length === 4 &&\n            +domainItems[0] > 0 &&\n            +domainItems[1] > 0 &&\n            +domainItems[2] > 0 &&\n            +domainItems[3] > 0)) {\n        domain = location.hostname;\n    }\n    else if (location.hostname.endsWith('.com.cn') ||\n        location.hostname.endsWith('.org.cn')) {\n        domain = domainItems.slice(-3).join('.');\n    }\n    else {\n        domain = domainItems.slice(-2).join('.');\n    }\n    return domain;\n};\nexport function getCookie(name) {\n    let arr;\n    const reg = new RegExp('(^| )' + name + '=([^;]*)(;|$)');\n    if ((arr = document.cookie.match(reg))) {\n        return decodeURIComponent(arr[2]);\n    }\n    else {\n        return '';\n    }\n}\nexport var TokenType;\n(function (TokenType) {\n    TokenType[TokenType[\"None\"] = 0] = \"None\";\n    TokenType[TokenType[\"LocalStorage\"] = 1] = \"LocalStorage\";\n    TokenType[TokenType[\"Cookie\"] = 2] = \"Cookie\";\n})(TokenType || (TokenType = {}));\nconst isLe5le = location.host.indexOf('le5le.com') !== -1;\nexport function getToken() {\n    const key = globalThis.le5leTokenName ?? 'token';\n    switch (globalThis.le5leTokenType) {\n        case TokenType.LocalStorage:\n            return localStorage.getItem(key);\n        case TokenType.Cookie:\n            return getCookie(key);\n        default:\n            const token = isLe5le ? getCookie(key) : localStorage.getItem(key);\n            return token;\n    }\n}\nexport async function getMeta2dData(store, id) {\n    if (globalThis.getMeta2dData) {\n        return await globalThis.getMeta2dData(id);\n    }\n    const netWork = store.options.navigatorNetWork;\n    const collection = location.href.includes('2d.') || location.href.includes('/2d') ? '2d' : 'v';\n    let url = `/api/data/${collection}/get`;\n    let hasId = queryURLParams()?.id || url.includes('${id}');\n    if (!hasId) {\n        let d = queryURLParams()?.data;\n        if (d) {\n            //离线部署包\n            url = `./projects/${id}`;\n            const _url = new URL(window.location);\n            _url.searchParams.set('data', id);\n            history.pushState({}, '', _url);\n        }\n    }\n    if (netWork?.url) {\n        if (netWork.url.includes('${id}')) {\n            url = netWork.url.replace('${id}', id);\n        }\n        else {\n            url = netWork.url + (netWork?.method === 'GET' ? `?id=${id}` : '');\n        }\n    }\n    let method = netWork?.method || 'POST';\n    if (!hasId) {\n        method = 'GET';\n    }\n    const res = await fetch(url, {\n        headers: {\n            Authorization: `Bearer ${getToken()}`,\n        },\n        method,\n        body: method === 'GET'\n            ? undefined\n            : JSON.stringify({ id: id }),\n    });\n    if (res.ok) {\n        let data = await res.text();\n        if (data.constructor === Object || data.constructor === Array) {\n            data = JSON.parse(JSON.stringify(data));\n        }\n        else if (typeof data === 'string') {\n            data = JSON.parse(data);\n        }\n        if (data.data) {\n            data = data.data;\n        }\n        return data;\n    }\n    else {\n        store.emitter.emit('error', { type: 'http', error: res });\n    }\n}\n//# sourceMappingURL=url.js.map","// const obj = {a:{b:[0,1,2]}}\n// getter(obj, 'a.b.1')\nexport function getter(object, path) {\n    if (path == undefined) {\n        return object;\n    }\n    const arr = path.split('.');\n    while (arr.length && (object = object[arr.shift()]))\n        ;\n    return object;\n}\n// setter(obj, 'a.b.1', 111)\nexport function setter(object, path, value) {\n    if (path == undefined) {\n        return;\n    }\n    path\n        .split('.')\n        .reduce((o, p, i) => (o[p] = path.split('.').length === ++i ? value : o[p] || {}), object);\n}\n//# sourceMappingURL=object.js.map","export function formatTime(format) {\n    const weeks = ['天', '一', '二', '三', '四', '五', '六'];\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = now.getMonth() + 1;\n    const day = now.getDate();\n    const week = now.getDay();\n    const hours = now.getHours();\n    const minutes = now.getMinutes();\n    const seconds = now.getSeconds();\n    const fn = new Function('year', 'month', 'day', 'week', 'hours', 'minutes', 'seconds', format\n        ? `return ${format}`\n        : 'return `${year}:${month}:${day} ${hours}:${minutes}:${seconds} 星期${week}`');\n    const time = fn(year, month, day, weeks[week], hours, minutes, seconds);\n    return time;\n}\n//# sourceMappingURL=time.js.map","import { CanvasLayer, LineAnimateType, LockState, } from './model';\nimport { drawArrow, getLineRect, getSplitAnchor, getLinePointPosAndAngle, createSvgPath, getLineLength } from '../diagrams';\nimport { Direction, inheritanceProps } from '../data';\nimport { calcRotate, distance, facePoint, rotatePoint, scalePoint, translatePoint, TwoWay, } from '../point';\nimport { calcCenter, calcRightBottom, calcRelativePoint, calcRelativeRect, rectInRect, scaleRect, translateRect, calcPivot, } from '../rect';\nimport { globalStore } from '../store';\nimport { calcTextLines, calcTextDrawRect, calcTextRect } from './text';\nimport { deepClone } from '../utils/clone';\nimport { renderFromArrow, renderToArrow } from './arrow';\nimport { Gradient, PenType } from '../pen';\nimport { pSBC, rgba, cubicBezierY } from '../utils';\n/**\n * ancestor 是否是 pen 的祖先\n * @param pen 当前画笔\n * @param ancestor 祖先画笔\n */\nexport function isAncestor(pen, ancestor) {\n    if (!pen || !ancestor) {\n        return false;\n    }\n    let parent = getParent(pen);\n    while (parent) {\n        if (parent.id === ancestor.id) {\n            return true;\n        }\n        parent = getParent(parent);\n    }\n    return false;\n}\nexport function getParent(pen, root) {\n    if (!pen || !pen.parentId || !pen.calculative) {\n        return undefined;\n    }\n    const store = pen.calculative.canvas.store;\n    const parent = store.pens[pen.parentId];\n    if (!root) {\n        return parent;\n    }\n    return getParent(parent, root) || parent;\n}\nexport function getAllChildren(pen, store) {\n    if (!pen || !pen.children) {\n        return [];\n    }\n    const children = [];\n    pen.children.forEach((id) => {\n        const child = store.pens[id];\n        if (child) {\n            children.push(child);\n            children.push(...getAllChildren(child, store));\n        }\n    });\n    return children;\n}\nexport function getAllFollowers(pen, store) {\n    if (!pen || !pen.followers) {\n        return [];\n    }\n    const followers = [];\n    pen.followers.forEach((id) => {\n        const follower = store.pens[id];\n        if (follower && !follower.parentId) {\n            followers.push(follower);\n            followers.push(...getAllFollowers(follower, store));\n        }\n    });\n    return followers;\n}\nfunction drawBkLinearGradient(ctx, pen) {\n    const { worldRect, gradientFromColor, gradientToColor, gradientAngle } = pen.calculative;\n    return linearGradient(ctx, worldRect, gradientFromColor, gradientToColor, gradientAngle);\n}\n/**\n * 避免副作用，把创建好后的径向渐变对象返回出来\n * @param ctx 画布绘制对象\n * @param pen 当前画笔\n * @returns 径向渐变\n */\nfunction drawBkRadialGradient(ctx, pen) {\n    const { worldRect, gradientFromColor, gradientToColor, gradientRadius } = pen.calculative;\n    if (!gradientFromColor || !gradientToColor) {\n        return;\n    }\n    const { width, height, center } = worldRect;\n    const { x: centerX, y: centerY } = center;\n    let r = width;\n    if (r < height) {\n        r = height;\n    }\n    r *= 0.5;\n    const grd = ctx.createRadialGradient(centerX, centerY, r * (gradientRadius || 0), centerX, centerY, r);\n    grd.addColorStop(0, gradientFromColor);\n    grd.addColorStop(1, gradientToColor);\n    return grd;\n}\nfunction getLinearGradientPoints(x1, y1, x2, y2, r) {\n    let slantAngle = 0;\n    slantAngle = Math.PI / 2 - Math.atan2(y2 - y1, x2 - x1);\n    const originX = (x1 + x2) / 2;\n    const originY = (y1 + y2) / 2;\n    const perpX1 = originX + r * Math.sin((90 * Math.PI) / 180 - slantAngle);\n    const perpY1 = originY + r * -Math.cos((90 * Math.PI) / 180 - slantAngle);\n    const perpX2 = originX + r * Math.sin((270 * Math.PI) / 180 - slantAngle);\n    const perpY2 = originY + r * -Math.cos((270 * Math.PI) / 180 - slantAngle);\n    return [perpX1, perpY1, perpX2, perpY2];\n}\nfunction getBkRadialGradient(ctx, pen) {\n    const { worldRect, gradientColors, gradientRadius } = pen.calculative;\n    if (!gradientColors) {\n        return;\n    }\n    let color = pen.calculative.gradientColors;\n    if (pen.calculative.checked) {\n        color = pen.calculative.onGradientColors;\n    }\n    const { width, height, center } = worldRect;\n    const { x: centerX, y: centerY } = center;\n    let r = width;\n    if (r < height) {\n        r = height;\n    }\n    r *= 0.5;\n    const { colors } = formatGradient(color);\n    const grd = ctx.createRadialGradient(centerX, centerY, r * (gradientRadius || 0), centerX, centerY, r);\n    colors.forEach((stop) => {\n        grd.addColorStop(stop.i, stop.color);\n    });\n    return grd;\n}\nfunction getBkGradient(ctx, pen) {\n    const { x, y, ex, width, height, center } = pen.calculative.worldRect;\n    let points = [\n        { x: ex, y: y + height / 2 },\n        { x: x, y: y + height / 2 },\n    ];\n    let color = pen.calculative.gradientColors;\n    if (pen.calculative.checked) {\n        color = pen.calculative.onGradientColors;\n    }\n    const { angle, colors } = formatGradient(color);\n    let r = getGradientR(angle, width, height);\n    points.forEach((point) => {\n        rotatePoint(point, angle, center);\n    });\n    return getLinearGradient(ctx, points, colors, r);\n}\nfunction getTextRadialGradient(ctx, pen) {\n    const { worldRect, textGradientColors } = pen.calculative;\n    if (!textGradientColors) {\n        return;\n    }\n    const { width, height, center } = worldRect;\n    const { x: centerX, y: centerY } = center;\n    let r = width;\n    if (r < height) {\n        r = height;\n    }\n    r *= 0.5;\n    const { colors } = formatGradient(textGradientColors);\n    const grd = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, r);\n    colors.forEach((stop) => {\n        grd.addColorStop(stop.i, stop.color);\n    });\n    return grd;\n}\nfunction getTextGradient(ctx, pen) {\n    const { x, y, ex, width, height, center } = pen.calculative.worldRect;\n    let points = [\n        { x: ex, y: y + height / 2 },\n        { x: x, y: y + height / 2 },\n    ];\n    const { angle, colors } = formatGradient(pen.calculative.textGradientColors);\n    let r = getGradientR(angle, width, height);\n    points.forEach((point) => {\n        rotatePoint(point, angle, center);\n    });\n    return getLinearGradient(ctx, points, colors, r);\n}\nfunction getGradientR(angle, width, height) {\n    const dividAngle = (Math.atan(height / width) / Math.PI) * 180;\n    let calculateAngle = (angle - 90) % 360;\n    let r = 0;\n    if ((calculateAngle > dividAngle && calculateAngle < 180 - dividAngle) ||\n        (calculateAngle > 180 + dividAngle && calculateAngle < 360 - dividAngle) ||\n        calculateAngle < 0) {\n        //根据高计算\n        if (calculateAngle > 270) {\n            calculateAngle = 360 - calculateAngle;\n        }\n        else if (calculateAngle > 180) {\n            calculateAngle = calculateAngle - 180;\n        }\n        else if (calculateAngle > 90) {\n            calculateAngle = 180 - calculateAngle;\n        }\n        r = Math.abs(height / Math.sin((calculateAngle / 180) * Math.PI) / 2);\n    }\n    else {\n        //根据宽计算\n        if (calculateAngle > 270) {\n            calculateAngle = 360 - calculateAngle;\n        }\n        else if (calculateAngle > 180) {\n            calculateAngle = calculateAngle - 180;\n        }\n        else if (calculateAngle > 90) {\n            calculateAngle = 180 - calculateAngle;\n        }\n        r = Math.abs(width / Math.cos((calculateAngle / 180) * Math.PI) / 2);\n    }\n    return r;\n}\nfunction formatGradient(color) {\n    if (typeof color == 'string' && color.startsWith('linear-gradient')) {\n        let arr = color.slice(16, -2).split('deg,');\n        if (arr.length > 1) {\n            let _arr = arr[1].split('%,');\n            const colors = [];\n            _arr.forEach((stap) => {\n                if (/rgba?/.test(stap)) {\n                    let _arr = stap.split(') ');\n                    colors.push({\n                        color: rgbaToHex(_arr[0] + ')'),\n                        i: parseFloat(_arr[1]) / 100,\n                    });\n                }\n                else {\n                    let _arr = stap.split(' ');\n                    if (_arr.length > 2) {\n                        colors.push({\n                            color: _arr[1],\n                            i: parseFloat(_arr[2]) / 100,\n                        });\n                    }\n                    else {\n                        colors.push({\n                            color: _arr[0],\n                            i: parseFloat(_arr[1]) / 100,\n                        });\n                    }\n                }\n            });\n            return {\n                angle: parseFloat(arr[0]),\n                colors,\n            };\n        }\n        else {\n            return {\n                angle: parseFloat(arr[0]),\n                colors: [],\n            };\n        }\n    }\n    else {\n        return {\n            angle: 0,\n            colors: [],\n        };\n    }\n}\nfunction rgbaToHex(value) {\n    if (/rgba?/.test(value)) {\n        let array = value.split(',');\n        //不符合rgb或rgb规则直接return\n        if (array.length < 3)\n            return '';\n        value = '#';\n        for (let i = 0, color; (color = array[i++]);) {\n            if (i < 4) {\n                //前三位转换成16进制\n                color = parseInt(color.replace(/[^\\d]/gi, ''), 10).toString(16);\n                value += color.length == 1 ? '0' + color : color;\n            }\n            else {\n                //rgba的透明度转换成16进制\n                color = color.replace(')', '');\n                let colorA = parseInt(color * 255 + '');\n                let colorAHex = colorA.toString(16);\n                colorAHex = colorAHex.length === 2 ? colorAHex : '0' + colorAHex;\n                value += colorAHex;\n            }\n        }\n        value = value.toUpperCase();\n    }\n    return value;\n}\nfunction getLineGradient(ctx, pen) {\n    const { x, y, ex, width, height, center } = pen.calculative.worldRect;\n    let points = [\n        { x: ex, y: y + height / 2 },\n        { x: x, y: y + height / 2 },\n    ];\n    const { angle, colors } = formatGradient(pen.calculative.lineGradientColors);\n    let r = getGradientR(angle, width, height);\n    points.forEach((point) => {\n        rotatePoint(point, angle, center);\n    });\n    return getLinearGradient(ctx, points, colors, r);\n}\nfunction getLinearGradient(ctx, points, colors, radius) {\n    let arr = getLinearGradientPoints(points[0].x, points[0].y, points[1].x, points[1].y, radius);\n    let gradient = ctx.createLinearGradient(arr[0], arr[1], arr[2], arr[3]);\n    colors.forEach((stop) => {\n        gradient.addColorStop(stop.i, stop.color);\n    });\n    return gradient;\n}\nfunction drawLinearGradientLine(ctx, pen, points) {\n    let colors = [];\n    if (pen.calculative.gradientColorStop) {\n        colors = pen.calculative.gradientColorStop;\n    }\n    else {\n        colors = formatGradient(pen.calculative.lineGradientColors).colors;\n        pen.calculative.gradientColorStop = colors;\n    }\n    ctx.strokeStyle = getLinearGradient(ctx, points, colors, pen.calculative.lineWidth / 2);\n    ctx.beginPath();\n    ctx.moveTo(points[0].x, points[0].y);\n    ctx.lineTo(points[1].x, points[1].y);\n    ctx.stroke();\n}\nfunction ctxDrawLinearGradientPath(ctx, pen) {\n    const anchors = pen.calculative.worldAnchors;\n    let smoothLenth = pen.calculative.lineWidth *\n        (pen.calculative.gradientSmooth || pen.calculative.lineSmooth || 0);\n    for (let i = 0; i < anchors.length - 1; i++) {\n        if ((pen.lineName === 'curve' || pen.lineName === 'mind') &&\n            anchors[i].curvePoints) {\n            if (i > 0) {\n                let lastCurvePoints = anchors[i - 1].curvePoints;\n                if (lastCurvePoints) {\n                    //上一个存在锚点\n                    smoothTransition(ctx, pen, smoothLenth, lastCurvePoints[lastCurvePoints.length - 1], anchors[i], anchors[i].curvePoints[0]);\n                }\n                else {\n                    smoothTransition(ctx, pen, smoothLenth, anchors[i - 1], anchors[i], anchors[i].curvePoints[0]);\n                }\n                //获取当前相对于0的位置\n                let next = getSmoothAdjacent(smoothLenth, anchors[i], anchors[i].curvePoints[0]);\n                drawLinearGradientLine(ctx, pen, [next, anchors[i].curvePoints[1]]);\n            }\n            else {\n                drawLinearGradientLine(ctx, pen, [\n                    anchors[i],\n                    anchors[i].curvePoints[0],\n                ]);\n                drawLinearGradientLine(ctx, pen, [\n                    anchors[i].curvePoints[0],\n                    anchors[i].curvePoints[1],\n                ]);\n            }\n            let len = anchors[i].curvePoints.length - 1;\n            for (let j = 1; j < len; j++) {\n                drawLinearGradientLine(ctx, pen, [\n                    anchors[i].curvePoints[j],\n                    anchors[i].curvePoints[j + 1],\n                ]);\n            }\n            let last = getSmoothAdjacent(smoothLenth, anchors[i + 1], anchors[i].curvePoints[len]);\n            drawLinearGradientLine(ctx, pen, [anchors[i].curvePoints[len], last]);\n        }\n        else {\n            let _next = anchors[i];\n            let _last = anchors[i + 1];\n            if (i > 0 && i < anchors.length - 1) {\n                //有突兀的地方\n                let lastCurvePoints = anchors[i - 1].curvePoints;\n                if (lastCurvePoints) {\n                    smoothTransition(ctx, pen, smoothLenth, lastCurvePoints[lastCurvePoints.length - 1], anchors[i], anchors[i + 1]);\n                }\n                else {\n                    smoothTransition(ctx, pen, smoothLenth, anchors[i - 1], anchors[i], anchors[i + 1]);\n                }\n            }\n            if (i > 0 && i < anchors.length - 1) {\n                _next = getSmoothAdjacent(smoothLenth, anchors[i], anchors[i + 1]);\n            }\n            if (i < anchors.length - 2) {\n                _last = getSmoothAdjacent(smoothLenth, anchors[i + 1], anchors[i]);\n            }\n            let flag = false;\n            if (i === 0) {\n                if (pen.fromLineCap && pen.fromLineCap !== 'butt') {\n                    ctx.save();\n                    flag = true;\n                    ctx.lineCap = pen.fromLineCap;\n                }\n            }\n            if (i !== 0 && i === anchors.length - 2) {\n                if (pen.toLineCap && pen.toLineCap !== 'butt') {\n                    ctx.save();\n                    flag = true;\n                    ctx.lineCap = pen.toLineCap;\n                }\n            }\n            drawLinearGradientLine(ctx, pen, [_next, _last]);\n            if (flag) {\n                ctx.restore();\n            }\n            if (anchors.length === 2 && i === 0) {\n                ctx.save();\n                flag = true;\n                ctx.lineCap = pen.toLineCap;\n                let _y = 0.1;\n                let _x = 0.1;\n                if (_next.x - _last.x === 0) {\n                    _x = 0;\n                }\n                else {\n                    _y = ((_next.y - _last.y) / (_next.x - _last.x)) * 0.1;\n                }\n                drawLinearGradientLine(ctx, pen, [\n                    { x: _last.x - _x, y: _last.y - _y },\n                    _last,\n                ]);\n                ctx.restore();\n            }\n        }\n    }\n}\nfunction getSmoothAdjacent(smoothLenth, p1, p2) {\n    let nexLength = Math.sqrt((p2.x - p1.x) * (p2.x - p1.x) + (p2.y - p1.y) * (p2.y - p1.y));\n    if (nexLength === 0) {\n        return {\n            x: p1.x,\n            y: p1.y,\n        };\n    }\n    if (smoothLenth < nexLength) {\n        return {\n            x: p1.x + ((p2.x - p1.x) * smoothLenth) / nexLength,\n            y: p1.y + ((p2.y - p1.y) * smoothLenth) / nexLength,\n        };\n    }\n    else {\n        return {\n            x: p1.x + (p2.x - p1.x) / nexLength / 2,\n            y: p1.y + (p2.y - p1.y) / nexLength / 2,\n        };\n    }\n}\nfunction smoothTransition(ctx, pen, smoothLenth, p1, p2, p3) {\n    let last = getSmoothAdjacent(smoothLenth, p2, p1);\n    let next = getSmoothAdjacent(smoothLenth, p2, p3);\n    let contrlPoint = { x: p2.x, y: p2.y };\n    let points = getBezierPoints(pen.calculative.canvas.store.data.smoothNum || 20, last, contrlPoint, next);\n    for (let k = 0; k < points.length - 1; k++) {\n        drawLinearGradientLine(ctx, pen, [\n            {\n                x: points[k].x,\n                y: points[k].y,\n            },\n            {\n                x: points[k + 1].x,\n                y: points[k + 1].y,\n            },\n        ]);\n    }\n}\nfunction smoothAnimateTransition(ctx, smoothLenth, p2, p3) {\n    let next = getSmoothAdjacent(smoothLenth, p2, p3);\n    let contrlPoint = { x: p2.x, y: p2.y };\n    ctx.quadraticCurveTo(contrlPoint.x, contrlPoint.y, next.x, next.y);\n}\nexport function getGradientAnimatePath(pen) {\n    const anchors = pen.calculative.worldAnchors;\n    let smoothLenth = pen.calculative.lineWidth *\n        (pen.calculative.gradientSmooth || pen.calculative.lineSmooth || 0);\n    //只创建一次\n    const _path = new Path2D();\n    for (let i = 0; i < anchors.length - 1; i++) {\n        let _next = anchors[i];\n        let _last = anchors[i + 1];\n        if (i == 0) {\n            _path.moveTo(anchors[i].x, anchors[i].y);\n        }\n        if (i > 0 && i < anchors.length - 1) {\n            //有突兀的地方\n            let lastCurvePoints = anchors[i - 1].curvePoints;\n            // const path = new Path2D();\n            if (lastCurvePoints) {\n                smoothAnimateTransition(_path, smoothLenth, anchors[i], anchors[i + 1]);\n            }\n            else {\n                smoothAnimateTransition(_path, smoothLenth, anchors[i], anchors[i + 1]);\n            }\n        }\n        if (i > 0 && i < anchors.length - 1) {\n            _next = getSmoothAdjacent(smoothLenth, anchors[i], anchors[i + 1]);\n        }\n        if (i < anchors.length - 2) {\n            _last = getSmoothAdjacent(smoothLenth, anchors[i + 1], anchors[i]);\n        }\n        _path.lineTo(_last.x, _last.y);\n    }\n    return _path;\n}\nfunction getAngle(p1, p2, p3) {\n    let a = { x: 0, y: 0 }, b = { x: 0, y: 0 };\n    a.x = p1.x - p2.x;\n    a.y = p1.y - p2.y;\n    b.x = p3.x - p2.x;\n    b.y = p3.y - p2.y;\n    return ((Math.acos((a.x * b.x + a.y * b.y) /\n        (Math.sqrt(a.x * a.x + a.y * a.y) * Math.sqrt(b.x * b.x + b.y * b.y))) /\n        Math.PI) *\n        180);\n}\nfunction getBezierPoints(num = 100, p1, p2, p3, p4) {\n    let func = null;\n    const points = [];\n    if (!p3 && !p4) {\n        func = oneBezier;\n    }\n    else if (p3 && !p4) {\n        func = twoBezier;\n    }\n    else if (p3 && p4) {\n        func = threeBezier;\n    }\n    for (let i = 0; i < num; i++) {\n        points.push(func(i / num, p1, p2, p3, p4));\n    }\n    if (p4) {\n        points.push(p4);\n    }\n    else if (p3) {\n        points.push(p3);\n    }\n    return points;\n}\n/**\n * @desc 一阶贝塞尔\n * @param  t 当前百分比\n * @param  p1 起点坐标\n * @param  p2 终点坐标\n */\nfunction oneBezier(t, p1, p2) {\n    const { x: x1, y: y1 } = p1;\n    const { x: x2, y: y2 } = p2;\n    let x = x1 + (x2 - x1) * t;\n    let y = y1 + (y2 - y1) * t;\n    return { x, y };\n}\n/**\n * @desc 二阶贝塞尔\n * @param  t 当前百分比\n * @param  p1 起点坐标\n * @param  p2 终点坐标\n * @param  cp 控制点\n */\nfunction twoBezier(t, p1, cp, p2) {\n    const { x: x1, y: y1 } = p1;\n    const { x: cx, y: cy } = cp;\n    const { x: x2, y: y2 } = p2;\n    let x = (1 - t) * (1 - t) * x1 + 2 * t * (1 - t) * cx + t * t * x2;\n    let y = (1 - t) * (1 - t) * y1 + 2 * t * (1 - t) * cy + t * t * y2;\n    return { x, y };\n}\n/**\n * @desc 三阶贝塞尔\n * @param  t 当前百分比\n * @param  p1 起点坐标\n * @param  p2 终点坐标\n * @param  cp1 控制点1\n * @param  cp2 控制点2\n */\nfunction threeBezier(t, p1, cp1, cp2, p2) {\n    const { x: x1, y: y1 } = p1;\n    const { x: x2, y: y2 } = p2;\n    const { x: cx1, y: cy1 } = cp1;\n    const { x: cx2, y: cy2 } = cp2;\n    let x = x1 * (1 - t) * (1 - t) * (1 - t) +\n        3 * cx1 * t * (1 - t) * (1 - t) +\n        3 * cx2 * t * t * (1 - t) +\n        x2 * t * t * t;\n    let y = y1 * (1 - t) * (1 - t) * (1 - t) +\n        3 * cy1 * t * (1 - t) * (1 - t) +\n        3 * cy2 * t * t * (1 - t) +\n        y2 * t * t * t;\n    return { x, y };\n}\nfunction strokeLinearGradient(ctx, pen) {\n    const { worldRect, lineGradientFromColor, lineGradientToColor, lineGradientAngle, } = pen.calculative;\n    return linearGradient(ctx, worldRect, lineGradientFromColor, lineGradientToColor, lineGradientAngle);\n}\n/**\n * 避免副作用，把创建好后的线性渐变对象返回出来\n * @param ctx 画布绘制对象\n * @param worldRect 世界坐标\n * @returns 线性渐变\n */\nfunction linearGradient(ctx, worldRect, fromColor, toColor, angle) {\n    if (!fromColor || !toColor) {\n        return;\n    }\n    const { x, y, center, ex, ey } = worldRect;\n    const from = {\n        x,\n        y: center.y,\n    };\n    const to = {\n        x: ex,\n        y: center.y,\n    };\n    if (angle % 90 === 0 && angle % 180) {\n        from.x = center.x;\n        to.x = center.x;\n        if (angle % 270) {\n            from.y = y;\n            to.y = ey;\n        }\n        else {\n            from.y = ey;\n            to.y = y;\n        }\n    }\n    else if (angle) {\n        rotatePoint(from, angle, worldRect.center);\n        rotatePoint(to, angle, worldRect.center);\n    }\n    // contributor: https://github.com/sunnyguohua/meta2d\n    const grd = ctx.createLinearGradient(from.x, from.y, to.x, to.y);\n    grd.addColorStop(0, fromColor);\n    grd.addColorStop(1, toColor);\n    return grd;\n}\n/**\n * 根据图片的宽高， imageRatio iconAlign 来获取图片的实际位置\n * @param pen 画笔\n */\nfunction getImagePosition(pen) {\n    const { worldIconRect: rect, iconWidth, iconHeight, imgNaturalWidth, imgNaturalHeight, } = pen.calculative;\n    let { x, y, width: w, height: h } = rect;\n    if (iconWidth) {\n        w = iconWidth;\n    }\n    if (iconHeight) {\n        h = iconHeight;\n    }\n    if (imgNaturalWidth && imgNaturalHeight && pen.imageRatio) {\n        const scaleW = rect.width / imgNaturalWidth;\n        const scaleH = rect.height / imgNaturalHeight;\n        const scaleMin = Math.min(scaleW, scaleH);\n        const wDivideH = imgNaturalWidth / imgNaturalHeight;\n        if (iconWidth) {\n            h = iconWidth / wDivideH;\n        }\n        else if (iconHeight) {\n            w = iconHeight * wDivideH;\n        }\n        else {\n            w = scaleMin * imgNaturalWidth;\n            h = scaleMin * imgNaturalHeight;\n        }\n    }\n    x += (rect.width - w) / 2;\n    y += (rect.height - h) / 2;\n    switch (pen.iconAlign) {\n        case 'top':\n            y = rect.y;\n            break;\n        case 'bottom':\n            y = rect.ey - h;\n            break;\n        case 'left':\n            x = rect.x;\n            break;\n        case 'right':\n            x = rect.ex - w;\n            break;\n        case 'left-top':\n            x = rect.x;\n            y = rect.y;\n            break;\n        case 'right-top':\n            x = rect.ex - w;\n            y = rect.y;\n            break;\n        case 'left-bottom':\n            x = rect.x;\n            y = rect.ey - h;\n            break;\n        case 'right-bottom':\n            x = rect.ex - w;\n            y = rect.ey - h;\n            break;\n    }\n    return {\n        x,\n        y,\n        width: w,\n        height: h,\n    };\n}\nexport function drawImage(ctx, pen) {\n    const { x, y, width, height } = getImagePosition(pen);\n    const { worldIconRect, iconRotate, img } = pen.calculative;\n    ctx.filter = pen.filter;\n    if (iconRotate) {\n        const { x: centerX, y: centerY } = worldIconRect.center;\n        ctx.translate(centerX, centerY);\n        ctx.rotate((iconRotate * Math.PI) / 180);\n        ctx.translate(-centerX, -centerY);\n    }\n    if (pen.imageRadius) {\n        ctx.save();\n        let wr = pen.calculative.imageRadius || 0, hr = wr;\n        const { x: _x, y: _y, width: w, height: h, ex, ey, } = pen.calculative.worldRect;\n        if (wr < 1) {\n            wr = w * wr;\n            hr = h * hr;\n        }\n        let r = wr < hr ? wr : hr;\n        if (w < 2 * r) {\n            r = w / 2;\n        }\n        if (h < 2 * r) {\n            r = h / 2;\n        }\n        ctx.beginPath();\n        ctx.moveTo(_x + r, _y);\n        ctx.arcTo(ex, _y, ex, ey, r);\n        ctx.arcTo(ex, ey, _x, ey, r);\n        ctx.arcTo(_x, ey, _x, _y, r);\n        ctx.arcTo(_x, _y, ex, _y, r);\n        ctx.clip();\n        ctx.drawImage(img, x, y, width, height);\n        ctx.restore();\n    }\n    else {\n        let _y = y;\n        let offsety = 0;\n        if (pen.thumbImg) {\n            // 缩略图 宽度充满 高度居中绘制\n            let _width = img.naturalWidth;\n            let _height = img.naturalHeight;\n            offsety = (height / width * _width - _height) / 2;\n            _y = y + offsety;\n        }\n        ctx.drawImage(img, x, _y, width, height - 2 * offsety);\n    }\n}\n/**\n * 获取文字颜色， textColor 优先其次 color\n */\nexport function getTextColor(pen, store) {\n    const { textColor, color } = pen.calculative;\n    const { styles } = store;\n    return (textColor ||\n        color ||\n        styles.textColor ||\n        styles.color);\n}\nfunction drawText(ctx, pen) {\n    const { fontStyle, fontWeight, fontSize, fontFamily, lineHeight, text, hiddenText, canvas, textHasShadow, textBackground, textType, } = pen.calculative;\n    if (text == undefined || hiddenText) {\n        return;\n    }\n    const store = canvas.store;\n    ctx.save();\n    if (!textHasShadow) {\n        ctx.shadowBlur = 0;\n        ctx.shadowOffsetX = 0;\n        ctx.shadowOffsetY = 0;\n    }\n    let fill = undefined;\n    if (pen.calculative.disabled) {\n        fill =\n            pen.disabledTextColor ||\n                pen.disabledColor ||\n                pSBC(0.4, getTextColor(pen, store));\n    }\n    else if (pen.calculative.hover) {\n        fill = pen.hoverTextColor || pen.hoverColor || store.styles.hoverColor;\n    }\n    else if (pen.calculative.active) {\n        fill = pen.activeTextColor || pen.activeColor || store.styles.activeColor;\n    }\n    let gradient = undefined;\n    if (textType === Gradient.Linear) {\n        gradient = getTextGradient(ctx, pen);\n    }\n    else if (textType === Gradient.Radial) {\n        gradient = getTextRadialGradient(ctx, pen);\n    }\n    ctx.fillStyle = fill || gradient || getTextColor(pen, store);\n    ctx.font = getFont({\n        fontStyle,\n        fontWeight,\n        fontFamily: fontFamily || store.options.fontFamily,\n        fontSize,\n        lineHeight,\n    });\n    !pen.calculative.textDrawRect && calcTextDrawRect(ctx, pen);\n    const { x: drawRectX, y: drawRectY, width, height, } = pen.calculative.textDrawRect;\n    if (textBackground) {\n        ctx.save();\n        ctx.fillStyle = textBackground;\n        ctx.fillRect(drawRectX, drawRectY, width, height);\n        ctx.restore();\n    }\n    const y = 0.55;\n    const textAlign = pen.textAlign || store.options.textAlign;\n    const oneRowHeight = fontSize * lineHeight;\n    pen.calculative.textLines.forEach((text, i) => {\n        const textLineWidth = pen.calculative.textLineWidths[i];\n        let x = 0;\n        if (textAlign === 'center') {\n            x = (width - textLineWidth) / 2;\n        }\n        else if (textAlign === 'right') {\n            x = width - textLineWidth;\n        }\n        // 下划线\n        ctx.fillText(text, drawRectX + x, drawRectY + (i + y) * oneRowHeight);\n        const { textDecorationColor, textDecorationDash, textDecoration } = pen;\n        if (textDecoration) {\n            drawUnderLine(ctx, {\n                x: drawRectX + x,\n                y: drawRectY + (i + y) * oneRowHeight,\n                width: textLineWidth,\n            }, { textDecorationColor, textDecorationDash, fontSize });\n        }\n        // 删除线\n        const { textStrickoutColor, textStrickoutDash, textStrickout } = pen;\n        if (textStrickout) {\n            drawStrickout(ctx, {\n                x: drawRectX + x,\n                y: drawRectY + (i + y) * oneRowHeight,\n                width: textLineWidth,\n            }, { textStrickoutColor, textStrickoutDash, fontSize });\n        }\n    });\n    ctx.restore();\n}\nfunction drawUnderLine(ctx, location, config) {\n    const { textDecorationColor, textDecorationDash, fontSize } = config;\n    let { x, y, width } = location;\n    switch (ctx.textBaseline) {\n        case 'top':\n            y += fontSize;\n            break;\n        case 'middle':\n            y += fontSize / 2;\n            break;\n    }\n    ctx.save();\n    ctx.beginPath();\n    ctx.strokeStyle = textDecorationColor ? textDecorationColor : ctx.fillStyle;\n    ctx.lineWidth = 1;\n    ctx.moveTo(x, y);\n    ctx.setLineDash(textDecorationDash || []);\n    ctx.lineTo(x + width, y);\n    ctx.stroke();\n    ctx.restore();\n}\nfunction drawStrickout(ctx, location, config) {\n    const { textStrickoutColor, textStrickoutDash, fontSize } = config;\n    let { x, y, width } = location;\n    switch (ctx.textBaseline) {\n        case 'top':\n            y += fontSize / 2;\n            break;\n        case 'bottom':\n            y -= fontSize / 2;\n            break;\n    }\n    ctx.save();\n    ctx.beginPath();\n    ctx.strokeStyle = textStrickoutColor ? textStrickoutColor : ctx.fillStyle;\n    ctx.lineWidth = 1;\n    ctx.moveTo(x, y);\n    ctx.setLineDash(textStrickoutDash || []);\n    ctx.lineTo(x + width, y);\n    ctx.stroke();\n    ctx.restore();\n}\nfunction drawFillText(ctx, pen, text) {\n    if (text == undefined) {\n        return;\n    }\n    const { fontStyle, fontWeight, fontSize, fontFamily, lineHeight, canvas } = pen.calculative;\n    const store = canvas.store;\n    ctx.save();\n    let fill = undefined;\n    if (pen.calculative.hover) {\n        fill = pen.hoverTextColor || pen.hoverColor || store.styles.hoverColor;\n    }\n    else if (pen.calculative.active) {\n        fill = pen.activeTextColor || pen.activeColor || store.styles.activeColor;\n    }\n    ctx.fillStyle = fill || getTextColor(pen, store);\n    ctx.font = getFont({\n        fontStyle,\n        fontWeight,\n        fontFamily: fontFamily || store.options.fontFamily,\n        fontSize,\n        lineHeight,\n    });\n    const w = ctx.measureText(text).width;\n    let t;\n    let prev;\n    for (const anchor of pen.calculative.worldAnchors) {\n        if (!prev) {\n            prev = anchor;\n            continue;\n        }\n        const dis = distance(prev, anchor);\n        const n = Math.floor(dis / w);\n        t = '';\n        for (let i = 0; i < n; i++) {\n            t += text;\n        }\n        const angle = calcRotate(prev, anchor) - 270;\n        ctx.save();\n        if (angle % 360 !== 0) {\n            const { x, y } = prev;\n            ctx.translate(x, y);\n            let rotate = (angle * Math.PI) / 180;\n            ctx.rotate(rotate);\n            ctx.translate(-x, -y);\n        }\n        ctx.fillText(t, prev.x, prev.y + lineHeight / 2);\n        ctx.restore();\n        prev = anchor;\n    }\n    ctx.restore();\n}\nexport function drawIcon(ctx, pen) {\n    const store = pen.calculative.canvas.store;\n    ctx.save();\n    ctx.shadowColor = '';\n    ctx.shadowBlur = 0;\n    ctx.shadowOffsetX = 0;\n    ctx.shadowOffsetY = 0;\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    const iconRect = pen.calculative.worldIconRect;\n    let x = iconRect.x + iconRect.width / 2;\n    let y = iconRect.y + iconRect.height / 2;\n    switch (pen.iconAlign) {\n        case 'top':\n            y = iconRect.y;\n            ctx.textBaseline = 'top';\n            break;\n        case 'bottom':\n            y = iconRect.ey;\n            ctx.textBaseline = 'bottom';\n            break;\n        case 'left':\n            x = iconRect.x;\n            ctx.textAlign = 'left';\n            break;\n        case 'right':\n            x = iconRect.ex;\n            ctx.textAlign = 'right';\n            break;\n        case 'left-top':\n            x = iconRect.x;\n            y = iconRect.y;\n            ctx.textAlign = 'left';\n            ctx.textBaseline = 'top';\n            break;\n        case 'right-top':\n            x = iconRect.ex;\n            y = iconRect.y;\n            ctx.textAlign = 'right';\n            ctx.textBaseline = 'top';\n            break;\n        case 'left-bottom':\n            x = iconRect.x;\n            y = iconRect.ey;\n            ctx.textAlign = 'left';\n            ctx.textBaseline = 'bottom';\n            break;\n        case 'right-bottom':\n            x = iconRect.ex;\n            y = iconRect.ey;\n            ctx.textAlign = 'right';\n            ctx.textBaseline = 'bottom';\n            break;\n    }\n    const fontWeight = pen.calculative.iconWeight;\n    let fontSize = undefined;\n    const fontFamily = pen.calculative.iconFamily;\n    if (pen.calculative.iconSize > 0) {\n        fontSize = pen.calculative.iconSize;\n    }\n    else if (iconRect.width > iconRect.height) {\n        fontSize = iconRect.height;\n    }\n    else {\n        fontSize = iconRect.width;\n    }\n    ctx.font = getFont({\n        fontSize,\n        fontWeight,\n        fontFamily,\n    });\n    ctx.fillStyle = pen.calculative.iconColor || getTextColor(pen, store);\n    if (pen.calculative.iconRotate) {\n        ctx.translate(iconRect.center.x, iconRect.center.y);\n        ctx.rotate((pen.calculative.iconRotate * Math.PI) / 180);\n        ctx.translate(-iconRect.center.x, -iconRect.center.y);\n    }\n    ctx.beginPath();\n    ctx.fillText(pen.calculative.icon, x, y);\n    ctx.restore();\n}\nexport function drawDropdown(ctx, pen) {\n    const scale = pen.calculative.canvas.store.data.scale;\n    const inputPenId = pen.calculative.canvas.inputDiv.dataset.penId;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    ctx.save();\n    ctx.beginPath();\n    if (pen.id === inputPenId) {\n        ctx.moveTo(x + width - 20 * scale, y + height / 2 + 2 * scale);\n        ctx.lineTo(x + width - 14 * scale, y + height / 2 - 4 * scale);\n        ctx.lineTo(x + width - 8 * scale, y + height / 2 + 2 * scale);\n    }\n    else {\n        ctx.moveTo(x + width - 20 * scale, y + height / 2 - 4 * scale);\n        ctx.lineTo(x + width - 14 * scale, y + height / 2 + 2 * scale);\n        ctx.lineTo(x + width - 8 * scale, y + height / 2 - 4 * scale);\n    }\n    ctx.stroke();\n    ctx.restore();\n}\n/**\n * canvas2svg 中对 font 的解析规则比 canvas 中简单，能识别的类型很少\n * @returns ctx.font\n */\nexport function getFont({ fontStyle = 'normal', textDecoration = 'normal', fontWeight = 'normal', fontSize = 12, fontFamily = 'Arial', lineHeight = 1, // TODO: lineHeight 默认值待测试\n } = {}) {\n    return `${fontStyle} ${textDecoration} ${fontWeight} ${fontSize}px/${lineHeight} ${fontFamily}`;\n}\nexport function ctxFlip(ctx, pen) {\n    // worldRect 可能为 undefined\n    const { x, ex, y, ey } = pen.calculative.worldRect || {};\n    if (pen.calculative.flipX) {\n        ctx.translate(x + ex, 0);\n        ctx.scale(-1, 1);\n    }\n    if (pen.calculative.flipY) {\n        ctx.translate(0, y + ey);\n        ctx.scale(1, -1);\n    }\n}\nexport function ctxRotate(ctx, pen, noFlip = false) {\n    const { x, y } = pen.calculative.worldRect.pivot || pen.calculative.worldRect.center;\n    ctx.translate(x, y);\n    let rotate = (pen.calculative.rotate * Math.PI) / 180;\n    // 目前只有水平和垂直翻转，都需要 * -1\n    if (!noFlip) {\n        if (pen.calculative.flipX) {\n            rotate *= -1;\n        }\n        if (pen.calculative.flipY) {\n            rotate *= -1;\n        }\n    }\n    ctx.rotate(rotate);\n    ctx.translate(-x, -y);\n}\nexport function renderPen(ctx, pen, download) {\n    ctx.save();\n    ctx.translate(0.5, 0.5);\n    ctx.beginPath();\n    drawFilter(ctx, pen);\n    const store = pen.calculative.canvas.store;\n    const textFlip = pen.textFlip || store.options.textFlip;\n    const textRotate = pen.textRotate || store.options.textRotate;\n    if (!textFlip || !textRotate) {\n        ctx.save();\n    }\n    ctxFlip(ctx, pen);\n    if (pen.calculative.rotate && pen.name !== 'line') {\n        ctxRotate(ctx, pen);\n    }\n    if (pen.calculative.lineWidth > 1 || download) {\n        ctx.lineWidth = pen.calculative.lineWidth;\n    }\n    inspectRect(ctx, store, pen); // 审查 rect\n    let fill;\n    // 该变量控制在 hover active 状态下的节点是否设置填充颜色\n    // let setBack = true;\n    let lineGradientFlag = false;\n    let _stroke = undefined;\n    if (pen.calculative.disabled) {\n        _stroke =\n            pen.disabledColor ||\n                store.styles.disabledColor ||\n                pSBC(0.4, pen.calculative.color || store.styles.color);\n        fill =\n            pen.disabledBackground ||\n                store.styles.disabledBackground ||\n                pSBC(0.4, pen.calculative.background || store.styles.penBackground);\n    }\n    else if (pen.mouseDownValid && pen.calculative.mouseDown) {\n        _stroke =\n            pen.mouseDownColor ||\n                pSBC(-0.4, pen.calculative.color || store.styles.color);\n        fill =\n            pen.mouseDownBackground ||\n                pSBC(-0.4, pen.calculative.background || store.styles.penBackground);\n    }\n    else if (pen.switch && pen.calculative.checked) {\n        if (!pen.calculative.bkType) {\n            fill = pen.onBackground;\n        }\n    }\n    else if (pen.calculative.hover) {\n        _stroke = pen.hoverColor || store.styles.hoverColor;\n        fill = pen.hoverBackground || store.styles.hoverBackground;\n        //  ctx.fillStyle = fill;\n        //  fill && (setBack = false);\n    }\n    else if (pen.calculative.active) {\n        _stroke = pen.activeColor || store.styles.activeColor;\n        fill = pen.activeBackground || store.styles.activeBackground;\n        // ctx.fillStyle = fill;\n        // fill && (setBack = false);\n    }\n    else if (pen.calculative.isDock) {\n        if (pen.type === PenType.Line) {\n            _stroke = store.styles.dockPenColor;\n        }\n        else {\n            fill = rgba(store.styles.dockPenColor, 0.2);\n            //  ctx.fillStyle = fill;\n            //  fill && (setBack = false);\n        }\n    }\n    // else {\n    const strokeImg = pen.calculative.strokeImg;\n    if (pen.calculative.strokeImage && strokeImg) {\n        ctx.strokeStyle = _stroke || ctx.createPattern(strokeImg, 'repeat');\n        // fill = true;\n    }\n    else {\n        let stroke;\n        // TODO: 线只有线性渐变\n        if (pen.calculative.strokeType) {\n            if (pen.calculative.lineGradientColors) {\n                if (pen.name === 'line') {\n                    lineGradientFlag = true;\n                }\n                else {\n                    if (pen.calculative.lineGradient) {\n                        stroke = pen.calculative.lineGradient;\n                    }\n                    else {\n                        stroke = getLineGradient(ctx, pen);\n                        pen.calculative.lineGradient = stroke;\n                    }\n                }\n            }\n            else {\n                stroke = strokeLinearGradient(ctx, pen);\n            }\n        }\n        else {\n            stroke = pen.calculative.color || (pen.type ? store.data.lineColor : '') || store.styles.color;\n        }\n        ctx.strokeStyle = _stroke || stroke;\n    }\n    // }\n    //if (setBack) {\n    const backgroundImg = pen.calculative.backgroundImg;\n    if (pen.calculative.backgroundImage && backgroundImg) {\n        ctx.fillStyle = fill || ctx.createPattern(backgroundImg, 'repeat');\n        fill = true;\n    }\n    else {\n        let back;\n        if (pen.calculative.bkType === Gradient.Linear) {\n            if (pen.calculative.gradientColors) {\n                // if (!pen.type) {\n                //连线不考虑渐进背景\n                if (pen.calculative.gradient) {\n                    //位置变化/放大缩小操作不会触发重新计算\n                    back = pen.calculative.gradient;\n                }\n                else {\n                    back = getBkGradient(ctx, pen);\n                    pen.calculative.gradient = back;\n                }\n                // }\n            }\n            else {\n                back = drawBkLinearGradient(ctx, pen);\n            }\n        }\n        else if (pen.calculative.bkType === Gradient.Radial) {\n            if (pen.calculative.gradientColors) {\n                if (pen.calculative.radialGradient) {\n                    back = pen.calculative.radialGradient;\n                }\n                else {\n                    back = getBkRadialGradient(ctx, pen);\n                    pen.calculative.radialGradient = back;\n                }\n            }\n            else {\n                back = drawBkRadialGradient(ctx, pen);\n            }\n        }\n        else {\n            back = pen.calculative.background || store.styles.penBackground;\n        }\n        ctx.fillStyle = fill || back;\n        fill = !!back;\n    }\n    // }\n    setLineCap(ctx, pen);\n    setLineJoin(ctx, pen);\n    setGlobalAlpha(ctx, pen);\n    if (pen.calculative.lineDash) {\n        ctx.setLineDash(pen.calculative.lineDash.map((item) => item * pen.calculative.canvas.store.data.scale));\n    }\n    if (pen.calculative.lineDashOffset) {\n        ctx.lineDashOffset = pen.calculative.lineDashOffset;\n    }\n    if (pen.calculative.shadowColor) {\n        ctx.shadowColor = pen.calculative.shadowColor;\n        ctx.shadowOffsetX = pen.calculative.shadowOffsetX;\n        ctx.shadowOffsetY = pen.calculative.shadowOffsetY;\n        ctx.shadowBlur = pen.calculative.shadowBlur;\n    }\n    if (lineGradientFlag) {\n        ctxDrawLinearGradientPath(ctx, pen);\n        ctxDrawLinePath(true, ctx, pen, store);\n    }\n    else {\n        ctxDrawPath(true, ctx, pen, store, fill);\n        ctxDrawCanvas(ctx, pen);\n    }\n    if (!(pen.image && pen.calculative.img) && pen.calculative.icon) {\n        drawIcon(ctx, pen);\n    }\n    if (pen.dropdownList) {\n        drawDropdown(ctx, pen);\n    }\n    if (!textFlip || !textRotate) {\n        ctx.restore();\n    }\n    if (textFlip && !textRotate) {\n        ctxFlip(ctx, pen);\n    }\n    if (!textFlip && textRotate) {\n        if (pen.calculative.rotate && pen.name !== 'line') {\n            ctxRotate(ctx, pen, true);\n        }\n    }\n    drawText(ctx, pen);\n    if (pen.type === PenType.Line && pen.fillTexts) {\n        for (const text of pen.fillTexts) {\n            drawFillText(ctx, pen, text);\n        }\n    }\n    ctx.restore();\n}\n/**\n * 更改 ctx 的 lineCap 属性\n */\nexport function setLineCap(ctx, pen) {\n    const lineCap = pen.lineCap || (pen.type ? 'round' : 'square');\n    if (lineCap) {\n        ctx.lineCap = lineCap;\n    }\n    else if (pen.type) {\n        ctx.lineCap = 'round';\n    }\n}\n/**\n * 更改 ctx 的 lineJoin 属性\n */\nexport function setLineJoin(ctx, pen) {\n    const lineJoin = pen.lineJoin;\n    if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n    }\n    else if (pen.type) {\n        ctx.lineJoin = 'round';\n    }\n}\n/**\n * 通常用在下载 svg\n * canvas2svg 与 canvas ctx 设置 strokeStyle 表现不同\n * 若设置值为 undefined ，canvas2svg 为空， canvas ctx 为上一个值\n */\nexport function renderPenRaw(ctx, pen, rect, download) {\n    ctx.save();\n    if (rect) {\n        ctx.translate(-rect.x, -rect.y);\n    }\n    // for canvas2svg\n    ctx.setAttrs?.(pen);\n    // end\n    let lineGradientFlag = false;\n    const store = pen.calculative.canvas.store;\n    const textFlip = pen.textFlip || store.options.textFlip;\n    const textRotate = pen.textRotate || store.options.textRotate;\n    ctx.beginPath();\n    if (!textFlip || !textRotate) {\n        ctx.save();\n    }\n    if (pen.calculative.flipX) {\n        if (rect) {\n            ctx.translate(pen.calculative.worldRect.x + pen.calculative.worldRect.ex, 0);\n        }\n        else {\n            ctx.translate(pen.calculative.worldRect.x + pen.calculative.worldRect.ex, 0);\n        }\n        ctx.scale(-1, 1);\n    }\n    if (pen.calculative.flipY) {\n        if (rect) {\n            ctx.translate(0, pen.calculative.worldRect.y + pen.calculative.worldRect.ey);\n        }\n        else {\n            ctx.translate(0, pen.calculative.worldRect.y + pen.calculative.worldRect.ey);\n        }\n        ctx.scale(1, -1);\n    }\n    if (pen.calculative.rotate && pen.name !== 'line') {\n        ctxRotate(ctx, pen);\n    }\n    if (pen.calculative.lineWidth > 1 || download) {\n        ctx.lineWidth = pen.calculative.lineWidth;\n    }\n    let fill;\n    if (pen.calculative.hover) {\n        ctx.strokeStyle = pen.hoverColor || store.styles.hoverColor;\n        ctx.fillStyle = pen.hoverBackground || store.styles.hoverBackground;\n        fill = pen.hoverBackground || store.styles.hoverBackground;\n    }\n    else if (pen.calculative.active) {\n        ctx.strokeStyle = pen.activeColor || store.styles.activeColor;\n        ctx.fillStyle = pen.activeBackground || store.styles.activeBackground;\n        fill = pen.activeBackground || store.styles.activeBackground;\n    }\n    else {\n        if (pen.strokeImage) {\n            if (pen.calculative.strokeImg) {\n                ctx.strokeStyle = ctx.createPattern(pen.calculative.strokeImg, 'repeat');\n                fill = true;\n            }\n        }\n        else {\n            let stroke;\n            if (pen.calculative.strokeType &&\n                pen.calculative.lineGradientColors &&\n                pen.name === 'line') {\n                lineGradientFlag = true;\n            }\n            else {\n                stroke = pen.calculative.color || store.styles.color; //getGlobalColor(store);\n            }\n            ctx.strokeStyle = stroke;\n        }\n        if (pen.backgroundImage) {\n            if (pen.calculative.backgroundImg) {\n                ctx.fillStyle = ctx.createPattern(pen.calculative.backgroundImg, 'repeat');\n                fill = true;\n            }\n        }\n        else {\n            ctx.fillStyle = pen.background;\n            fill = !!pen.background;\n        }\n    }\n    setLineCap(ctx, pen);\n    setLineJoin(ctx, pen);\n    setGlobalAlpha(ctx, pen);\n    if (pen.calculative.lineDash) {\n        ctx.setLineDash(pen.calculative.lineDash);\n    }\n    if (pen.calculative.lineDashOffset) {\n        ctx.lineDashOffset = pen.calculative.lineDashOffset;\n    }\n    if (pen.calculative.shadowColor) {\n        ctx.shadowColor = pen.calculative.shadowColor;\n        ctx.shadowOffsetX = pen.calculative.shadowOffsetX;\n        ctx.shadowOffsetY = pen.calculative.shadowOffsetY;\n        ctx.shadowBlur = pen.calculative.shadowBlur;\n    }\n    if (lineGradientFlag) {\n        ctxDrawLinearGradientPath(ctx, pen);\n        ctxDrawLinePath(true, ctx, pen, store);\n    }\n    else {\n        ctxDrawPath(false, ctx, pen, store, fill);\n        ctxDrawCanvas(ctx, pen);\n    }\n    // renderPenRaw 用在 downloadPng svg , echarts 等图形需要\n    if (pen.calculative.img) {\n        ctx.save();\n        ctx.shadowColor = '';\n        ctx.shadowBlur = 0;\n        ctx.shadowOffsetX = 0;\n        ctx.shadowOffsetY = 0;\n        drawImage(ctx, pen);\n        ctx.restore();\n    }\n    else if (pen.calculative.icon) {\n        drawIcon(ctx, pen);\n    }\n    if (pen.dropdownList) {\n        drawDropdown(ctx, pen);\n    }\n    if (!textFlip || !textRotate) {\n        ctx.restore();\n    }\n    if (textFlip && !textRotate) {\n        if (pen.calculative.flipX) {\n            if (rect) {\n                ctx.translate(pen.calculative.worldRect.x + pen.calculative.worldRect.ex, 0);\n            }\n            else {\n                ctx.translate(pen.calculative.worldRect.x + pen.calculative.worldRect.ex, 0);\n            }\n            ctx.scale(-1, 1);\n        }\n        if (pen.calculative.flipY) {\n            if (rect) {\n                ctx.translate(0, pen.calculative.worldRect.y + pen.calculative.worldRect.ey);\n            }\n            else {\n                ctx.translate(0, pen.calculative.worldRect.y + pen.calculative.worldRect.ey);\n            }\n            ctx.scale(1, -1);\n        }\n    }\n    if (!textFlip && textRotate) {\n        if (pen.calculative.rotate && pen.name !== 'line') {\n            ctxRotate(ctx, pen, true);\n        }\n    }\n    drawText(ctx, pen);\n    if (pen.type === PenType.Line && pen.fillTexts) {\n        for (const text of pen.fillTexts) {\n            drawFillText(ctx, pen, text);\n        }\n    }\n    ctx.restore();\n}\n/**\n * 根据 path2D 绘制 path\n * @param canUsePath 是否可使用 Path2D, downloadSvg 不可使用 path2D\n */\nexport function ctxDrawPath(canUsePath = true, ctx, pen, store, fill) {\n    if (pen.name === 'drawCommand')\n        return;\n    const path = canUsePath\n        ? store.path2dMap.get(pen)\n        : globalStore.path2dDraws[pen.name];\n    let path_from = null;\n    let path_to = null;\n    if (pen.type === PenType.Line) {\n        //线段的起始和结束线帽 分别配置\n        if (pen.fromLineCap && pen.fromLineCap !== 'butt') {\n            ctx.lineCap = 'butt';\n            path_from = new Path2D();\n            path_from.moveTo(pen.calculative.worldAnchors[0].x, pen.calculative.worldAnchors[0].y);\n            path_from.lineTo(pen.calculative.worldAnchors[0].x, pen.calculative.worldAnchors[0].y);\n        }\n        if (pen.toLineCap && pen.toLineCap !== 'butt') {\n            ctx.lineCap = 'butt';\n            path_to = new Path2D();\n            path_to.moveTo(pen.calculative.worldAnchors[pen.calculative.worldAnchors.length - 1].x, pen.calculative.worldAnchors[pen.calculative.worldAnchors.length - 1].y);\n            path_to.lineTo(pen.calculative.worldAnchors[pen.calculative.worldAnchors.length - 1].x, pen.calculative.worldAnchors[pen.calculative.worldAnchors.length - 1].y);\n        }\n    }\n    if (path) {\n        if (pen.type === PenType.Line && pen.borderWidth) {\n            ctx.save();\n            ctx.beginPath();\n            const lineWidth = pen.calculative.lineWidth + pen.calculative.borderWidth;\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = pen.borderColor;\n            if (path_from) {\n                ctx.save();\n                ctx.lineCap = pen.fromLineCap;\n                ctx.stroke(path_from);\n                ctx.restore();\n            }\n            if (path instanceof Path2D) {\n                fill && ctx.fill(path);\n                lineWidth && ctx.stroke(path);\n            }\n            else {\n                path(pen, ctx);\n                fill && ctx.fill();\n                lineWidth && ctx.stroke();\n            }\n            if (path_to) {\n                ctx.save();\n                ctx.lineCap = pen.toLineCap;\n                ctx.stroke(path_to);\n                ctx.restore();\n            }\n            ctx.restore();\n        }\n        if (path instanceof Path2D) {\n            if (pen.type) {\n                if (pen.close) {\n                    fill && ctx.fill(path);\n                }\n            }\n            else {\n                //svgPath\n                fill && ctx.fill(path);\n            }\n        }\n        else {\n            ctx.save();\n            path(pen, ctx);\n            fill && ctx.fill();\n            ctx.restore();\n        }\n        const progress = pen.calculative.progress;\n        if (progress != null) {\n            // 从左往右 x, y, x + width * progress, y\n            // 从右往左 ex, y, x + width * (1-progress), y\n            // 从下往上 x, y, x, y + height * progress\n            // 从上往下 x, ey, x, y + height * (1 - progress)\n            ctx.save();\n            const { ex, x, y, width, height, ey } = pen.calculative.worldRect;\n            let grd = null;\n            if (!pen.calculative.verticalProgress) {\n                grd = !pen.reverseProgress\n                    ? ctx.createLinearGradient(x, y, x + width * progress, y)\n                    : ctx.createLinearGradient(ex, y, x + width * (1 - progress), y);\n            }\n            else {\n                grd = !pen.reverseProgress\n                    ? ctx.createLinearGradient(x, ey, x, y + height * (1 - progress))\n                    : ctx.createLinearGradient(x, y, x, y + height * progress);\n            }\n            if (pen.calculative.progressGradientColors) {\n                const { colors } = formatGradient(pen.calculative.progressGradientColors);\n                colors.forEach((stop) => {\n                    grd.addColorStop(stop.i, stop.color);\n                });\n            }\n            else {\n                const color = pen.calculative.progressColor ||\n                    pen.calculative.color ||\n                    store.options.activeColor ||\n                    store.data.color;\n                grd.addColorStop(0, color);\n                grd.addColorStop(1, color);\n            }\n            grd.addColorStop(1, 'transparent');\n            ctx.fillStyle = grd;\n            if (path instanceof Path2D) {\n                ctx.fill(path);\n            }\n            else {\n                path(pen, ctx);\n                ctx.fill();\n            }\n            ctx.restore();\n        }\n        if (pen.calculative.lineWidth) {\n            if (path instanceof Path2D) {\n                if (store.options.svgPathStroke || pen.name !== 'svgPath') {\n                    if (path_from) {\n                        ctx.save();\n                        ctx.lineCap = pen.fromLineCap;\n                        ctx.stroke(path_from);\n                        ctx.restore();\n                    }\n                    ctx.stroke(path);\n                    if (path_to) {\n                        ctx.save();\n                        ctx.lineCap = pen.toLineCap;\n                        ctx.stroke(path_to);\n                        ctx.restore();\n                    }\n                }\n            }\n            else {\n                path(pen, ctx);\n                ctx.stroke();\n            }\n        }\n        if (pen.type) {\n            if (pen.calculative.animatePos) {\n                ctx.save();\n                setCtxLineAnimate(ctx, pen, store);\n                if (pen.lineAnimateType === LineAnimateType.Arrow ||\n                    pen.lineAnimateType === LineAnimateType.WaterDrop) {\n                    //箭头动画\n                    let _path = drawArrow(pen, ctx);\n                    if (_path instanceof Path2D) {\n                        ctx.stroke(_path);\n                        ctx.fill(_path);\n                    }\n                    else {\n                        ctx.stroke();\n                        ctx.fill();\n                    }\n                }\n                else {\n                    if (path instanceof Path2D) {\n                        if (path_from && !pen.lineAnimateType) {\n                            ctx.save();\n                            ctx.lineCap = pen.fromLineCap;\n                            ctx.stroke(path_from);\n                            ctx.restore();\n                        }\n                        ctx.lineCap = pen.lineCap;\n                        ctx.stroke(path);\n                    }\n                    else {\n                        path(pen, ctx);\n                        ctx.stroke();\n                    }\n                }\n                ctx.restore();\n            }\n            pen.fromArrow && renderFromArrow(ctx, pen, store);\n            pen.toArrow && renderToArrow(ctx, pen, store);\n            if (pen.calculative.active &&\n                !pen.calculative.pencil &&\n                !store.options.disableAnchor &&\n                !store.data.locked) {\n                renderLineAnchors(ctx, pen);\n            }\n        }\n    }\n}\n/**\n * 连线配置线条渐进后，动画效果、起始点、终点的绘制\n */\nexport function ctxDrawLinePath(canUsePath = true, ctx, pen, store) {\n    const path = canUsePath\n        ? store.path2dMap.get(pen)\n        : globalStore.path2dDraws[pen.name];\n    if (path) {\n        if (pen.type) {\n            if (pen.calculative.animatePos) {\n                ctx.save();\n                setCtxLineAnimate(ctx, pen, store);\n                ctx.beginPath();\n                if (path instanceof Path2D) {\n                    if (pen.lineName === 'polyline' || pen.lineName === 'line') {\n                        if (pen.lineAnimateType === LineAnimateType.Arrow ||\n                            pen.lineAnimateType === LineAnimateType.WaterDrop) {\n                            //箭头动画\n                            const _path = drawArrow(pen);\n                            ctx.stroke(_path);\n                            ctx.fill(_path);\n                        }\n                        else {\n                            if (pen.calculative.gradientSmooth ||\n                                pen.calculative.lineSmooth) {\n                                if (!pen.calculative.gradientAnimatePath) {\n                                    pen.calculative.gradientAnimatePath =\n                                        getGradientAnimatePath(pen);\n                                }\n                                if (pen.calculative.gradientAnimatePath instanceof Path2D) {\n                                    ctx.stroke(pen.calculative.gradientAnimatePath);\n                                }\n                            }\n                            else {\n                                ctx.stroke(path);\n                            }\n                        }\n                    }\n                    else {\n                        ctx.stroke(path);\n                    }\n                }\n                else {\n                    path(pen, ctx);\n                    ctx.stroke();\n                }\n                ctx.restore();\n            }\n            pen.fromArrow && renderFromArrow(ctx, pen, store);\n            pen.toArrow && renderToArrow(ctx, pen, store);\n            //TODO 锚点处渐进色的过渡\n            if (pen.calculative.active &&\n                !pen.calculative.pencil &&\n                !store.options.disableAnchor &&\n                !store.data.locked) {\n                renderLineAnchors(ctx, pen);\n            }\n        }\n    }\n}\n/**\n * 设置线条动画，ctx 的 strokeStyle lineDash 等属性更改\n */\nexport function setCtxLineAnimate(ctx, pen, store) {\n    ctx.strokeStyle = pen.animateColor || store.styles.animateColor;\n    if (pen.animateShadow) {\n        ctx.shadowBlur = pen.animateShadowBlur || pen.animateLineWidth || 6;\n        ctx.shadowColor =\n            pen.animateShadowColor || pen.animateColor || store.styles.animateColor;\n    }\n    pen.calculative.animateLineWidth &&\n        (ctx.lineWidth = pen.calculative.animateLineWidth * store.data.scale);\n    let len = 0;\n    switch (pen.lineAnimateType) {\n        case LineAnimateType.Beads:\n            if (pen.animateReverse) {\n                ctx.lineDashOffset = pen.calculative.animatePos;\n            }\n            else {\n                ctx.lineDashOffset = pen.length - pen.calculative.animatePos;\n            }\n            len = pen.calculative.lineWidth || 5;\n            if (len < 5) {\n                len = 5;\n            }\n            const dash = pen.animateLineDash &&\n                pen.animateLineDash.map((item) => (item * len) / 5);\n            ctx.setLineDash(dash || [len, len * 2]);\n            break;\n        case LineAnimateType.Dot:\n            if (pen.animateReverse) {\n                ctx.lineDashOffset = pen.calculative.animatePos;\n            }\n            else {\n                ctx.lineDashOffset = pen.length - pen.calculative.animatePos;\n            }\n            len =\n                pen.calculative.animateDotSize || pen.calculative.lineWidth * 2 || 6;\n            if (len < 6) {\n                len = 6;\n            }\n            if (len > 40) {\n                len = 40;\n            }\n            ctx.lineWidth =\n                (pen.calculative.animateLineWidth || len) * store.data.scale;\n            ctx.setLineDash([0.1, pen.length]);\n            break;\n        case LineAnimateType.Arrow:\n            ctx.fillStyle = pen.animateColor || store.styles.animateColor;\n            ctx.lineWidth = 1;\n            break;\n        case LineAnimateType.WaterDrop:\n            ctx.fillStyle = pen.animateColor || store.styles.animateColor;\n            ctx.lineWidth = 1;\n            break;\n        case LineAnimateType.Custom:\n            if (pen.trackTargets && pen.trackTargets.length) {\n                const trackPenOption = pen.trackTargets;\n                setTrackAnimateOnPen(pen, trackPenOption);\n                break;\n            }\n            const animateEle = pen.lineAnimateElement;\n            setElementAnimateOnPen(ctx, pen, animateEle);\n            break;\n        default:\n            if (pen.animateReverse) {\n                ctx.lineDashOffset = Number.EPSILON; //防止在执行动画时会绘制多余的远点\n                ctx.setLineDash([\n                    0,\n                    pen.length - pen.calculative.animatePos + 1,\n                    pen.calculative.animatePos,\n                ]);\n            }\n            else {\n                ctx.setLineDash([\n                    pen.calculative.animatePos,\n                    pen.length + 0.01 - pen.calculative.animatePos, //避免在缩放时，精度问题绘制多余圆点\n                ]);\n            }\n            break;\n    }\n}\nfunction setTrackAnimateOnPen(line, trackPenOption) {\n    if (!Array.isArray(trackPenOption))\n        return;\n    const origin = line.calculative.canvas.store.data.origin;\n    const scale = line.calculative.canvas.store.data.scale;\n    trackPenOption.forEach(track => {\n        const targetPen = line.calculative.canvas.store.pens[track.id];\n        const meta2d = line.calculative.canvas.parent;\n        if (!targetPen)\n            return;\n        const pos = calculateLineFrameStates(line, track.offset?.instance);\n        if (!pos)\n            return;\n        const width = targetPen.width;\n        const height = targetPen.height;\n        const worldX = pos.x - width / 2;\n        const worldY = pos.y - height / 2;\n        const viewX = (worldX - origin.x) / scale;\n        const viewY = (worldY - origin.y) / scale;\n        const viewWidth = width / scale;\n        const viewHeight = height / scale;\n        const data = {\n            x: viewX + (track.offset?.x || 0),\n            y: viewY + (track.offset?.y || 0),\n            width: viewWidth,\n            height: viewHeight,\n            rotate: pos.rotate,\n        };\n        meta2d.setValue({ id: targetPen.id, ...data });\n    });\n}\nfunction setElementAnimateOnPen(ctx, line, element) {\n    const draw = globalStore.lineAnimateDraws[element];\n    if (!draw)\n        return;\n    renderElementOnLine(ctx, line, draw);\n}\nfunction renderElementOnLine(ctx, line, draw) {\n    if (line.lineAnimateDash) {\n        const dash = Array.isArray(line.lineAnimateDash) ? line.lineAnimateDash : line.lineAnimateDash.split(',').map(i => Number(i));\n        const scale = line.calculative.canvas.store.data.scale;\n        const len = getLineLength(line) / scale;\n        const elesPos = computeLineDashSegments(len, dash, line.lineAnimateDashOffset, line.lineAnimateElementCount);\n        elesPos.forEach((i, index) => {\n            const pos = calculateLineFrameStates(line, i.start);\n            // if(i.start < 1)return\n            if (!pos)\n                return;\n            pos.index = i.start;\n            pos.calculateLineFrameStates = calculateLineFrameStates;\n            try {\n                ctx.save();\n                draw(ctx, line, pos, index);\n                ctx.restore();\n            }\n            catch (e) {\n                ctx.restore();\n                console.warn(e);\n            }\n        });\n    }\n}\n/**\n * 模拟 canvas lineDash 计算\n * @param lineLength 总长度\n * @param dashArray [dashLength, gapLength, ...]\n * @param offset 起点偏移，可为负数\n */\nfunction computeLineDashSegments(lineLength, dashArray, offset = 0, count, animateOffset = 0) {\n    const result = [];\n    if (!dashArray || dashArray.length === 0) {\n        result.push({ start: 0, end: lineLength, isDash: true });\n        return result;\n    }\n    const patternLength = dashArray.reduce((sum, val) => sum + val, 0);\n    let pos = (-offset + animateOffset) % patternLength;\n    if (pos < 0)\n        pos += patternLength;\n    let _count = 0;\n    let globalPos = 0;\n    if (!count)\n        count = Infinity;\n    while (globalPos < lineLength && _count < count) {\n        for (let i = 0; i < dashArray.length; i++) {\n            const segLength = dashArray[i];\n            const isDash = i % 2 === 0;\n            let start = globalPos;\n            let end = globalPos + segLength - pos;\n            if (end > lineLength)\n                end = lineLength;\n            if (isDash && end > start) {\n                // 这里平移到动画偏移后的环上\n                const shiftedStart = (start + animateOffset) % lineLength;\n                const shiftedEnd = (end + animateOffset) % lineLength;\n                result.push({ start: shiftedStart, end: shiftedEnd, isDash: true });\n                _count += 1;\n            }\n            globalPos = end;\n            pos = 0;\n            if (globalPos >= lineLength || _count >= count)\n                break;\n        }\n    }\n    return result;\n}\nfunction calculateLineFrameStates(line, offsetInstance = 0) {\n    let path;\n    let from = null;\n    line.calculative.worldAnchors.forEach(pt => {\n        if (from) {\n            path = createSvgPath(path, from, from.next, pt.prev, pt);\n        }\n        from = pt;\n    });\n    if (line.close) {\n        let pt = line.calculative.worldAnchors[0];\n        path = createSvgPath(path, from, from.next, pt.prev, pt);\n    }\n    let instance = 0;\n    if (line.animateReverse) {\n        // TODO 延迟有问题 出现卡顿瞬间移动\n        instance = line.length - line.calculative.animatePos - (offsetInstance * line.calculative.canvas.store.data.scale);\n    }\n    else {\n        instance = line.calculative.animatePos - offsetInstance * line.calculative.canvas.store.data.scale;\n    }\n    const pos = getLinePointPosAndAngle(path, instance);\n    return pos;\n}\n/**\n * 全局 color\n */\nexport function getGlobalColor(store) {\n    const { data, options } = store;\n    return data.color || options.color;\n}\nexport function renderLineAnchors(ctx, pen) {\n    const store = pen.calculative.canvas.store;\n    ctx.save();\n    ctx.lineWidth = 1;\n    ctx.fillStyle = pen.activeColor || store.styles.activeColor; //store.options.activeColor;\n    pen.calculative.worldAnchors.forEach((pt) => {\n        !pt.hidden && !pt.isTemp && renderAnchor(ctx, pt, pen);\n    });\n    ctx.restore();\n}\nexport function renderAnchor(ctx, pt, pen) {\n    if (!pt) {\n        return;\n    }\n    const active = pen.calculative.canvas.store.activeAnchor ===\n        pen.calculative.activeAnchor && pen.calculative.activeAnchor === pt;\n    let r = 3;\n    if (pen.calculative.lineWidth > 3) {\n        r = pen.calculative.lineWidth;\n    }\n    if (pen.anchorRadius) {\n        r = pen.anchorRadius;\n    }\n    if (pt.radius) {\n        r = pt.radius;\n    }\n    if (active) {\n        if (pt.prev) {\n            ctx.save();\n            ctx.strokeStyle = '#4dffff';\n            ctx.beginPath();\n            ctx.moveTo(pt.prev.x, pt.prev.y);\n            ctx.lineTo(pt.x, pt.y);\n            ctx.stroke();\n            ctx.restore();\n            ctx.save();\n            ctx.fillStyle = '#ffffff';\n            ctx.beginPath();\n            ctx.arc(pt.prev.x, pt.prev.y, r, 0, Math.PI * 2);\n            ctx.fill();\n            ctx.stroke();\n            ctx.restore();\n        }\n        if (pt.next) {\n            ctx.save();\n            ctx.strokeStyle = '#4dffff';\n            ctx.beginPath();\n            ctx.moveTo(pt.x, pt.y);\n            ctx.lineTo(pt.next.x, pt.next.y);\n            ctx.stroke();\n            ctx.restore();\n            ctx.save();\n            ctx.fillStyle = '#ffffff';\n            ctx.beginPath();\n            ctx.arc(pt.next.x, pt.next.y, r, 0, Math.PI * 2);\n            ctx.fill();\n            ctx.stroke();\n            ctx.restore();\n            ctx.beginPath();\n            ctx.arc(pt.x, pt.y, r, 0, Math.PI * 2);\n            ctx.fill();\n            ctx.stroke();\n        }\n        ctx.beginPath();\n        ctx.arc(pt.x, pt.y, r, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.stroke();\n    }\n    else {\n        ctx.save();\n        ctx.fillStyle = '#ffffff';\n        ctx.beginPath();\n        ctx.arc(pt.x, pt.y, r, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.stroke();\n        ctx.restore();\n    }\n}\nexport function calcWorldRects(pen) {\n    const store = pen.calculative.canvas.store;\n    let rect = {\n        x: pen.x,\n        y: pen.y,\n    };\n    if (!pen.parentId || (pen.parentId && !store.pens[pen.parentId])) {\n        pen.parentId = undefined;\n        rect.width = pen.width;\n        rect.height = pen.height;\n        rect.rotate = pen.rotate;\n        calcRightBottom(rect);\n        calcCenter(rect);\n        if (pen.pivot) {\n            calcPivot(rect, pen.pivot);\n        }\n    }\n    else {\n        const parent = store.pens[pen.parentId];\n        let parentRect = parent.calculative.worldRect;\n        if (!parentRect) {\n            parentRect = calcWorldRects(parent);\n        }\n        rect.x = parentRect.x + parentRect.width * pen.x;\n        rect.y = parentRect.y + parentRect.height * pen.y;\n        rect.width = parentRect.width * pen.width;\n        rect.height = parentRect.height * pen.height;\n        if (parent.flipX) {\n            rect.x =\n                parentRect.width - (rect.x - parentRect.x + rect.width) + parentRect.x;\n        }\n        if (parent.flipY) {\n            rect.y =\n                parentRect.height -\n                    (rect.y - parentRect.y + rect.height) +\n                    parentRect.y;\n        }\n        calcRightBottom(rect);\n        rect.rotate = parentRect.rotate + pen.rotate;\n        calcCenter(rect);\n        if (pen.pivot) {\n            calcPivot(rect, pen.pivot);\n        }\n    }\n    pen.calculative.worldRect = rect;\n    // 这里的 rect 均是绝对值\n    calcPadding(pen, rect);\n    return rect;\n}\nexport function calcPadding(pen, rect) {\n    !pen.paddingTop && (pen.calculative.paddingTop = 0);\n    !pen.paddingBottom && (pen.calculative.paddingBottom = 0);\n    !pen.paddingLeft && (pen.calculative.paddingLeft = 0);\n    !pen.paddingRight && (pen.calculative.paddingRight = 0);\n    Math.abs(pen.calculative.paddingTop) < 1 &&\n        (pen.calculative.paddingTop *= rect.height);\n    Math.abs(pen.calculative.paddingBottom) < 1 &&\n        (pen.calculative.paddingBottom *= rect.height);\n    Math.abs(pen.calculative.paddingLeft) < 1 &&\n        (pen.calculative.paddingLeft *= rect.width);\n    Math.abs(pen.calculative.paddingRight) < 1 &&\n        (pen.calculative.paddingRight *= rect.width);\n}\nexport function calcPenRect(pen) {\n    const worldRect = deepClone(pen.calculative.worldRect);\n    delete worldRect.pivot;\n    if (!pen.parentId) {\n        Object.assign(pen, worldRect);\n        return;\n    }\n    const store = pen.calculative.canvas.store;\n    const parentRect = store.pens[pen.parentId].calculative.worldRect;\n    Object.assign(pen, calcRelativeRect(worldRect, parentRect));\n}\nexport function calcWorldAnchors(pen) {\n    const store = pen.calculative.canvas.store;\n    let anchors = [];\n    if (pen.anchors) {\n        let _anchors = deepClone(pen.anchors);\n        if (pen.flipX) {\n            _anchors.forEach((anchor) => {\n                anchor.x = 0.5 - (anchor.x - 0.5);\n            });\n        }\n        if (pen.flipY) {\n            _anchors.forEach((anchor) => {\n                anchor.y = 0.5 - (anchor.y - 0.5);\n            });\n        }\n        _anchors.forEach((anchor) => {\n            anchors.push(calcWorldPointOfPen(pen, anchor));\n        });\n    }\n    // Default anchors of node\n    if (!anchors.length &&\n        !pen.type &&\n        !pen.calculative.canvas.parent.isCombine(pen)) {\n        const { x, y, width, height } = pen.calculative.worldRect;\n        anchors = store.options.defaultAnchors.map((anchor, index) => {\n            return {\n                id: `${index}`,\n                penId: pen.id,\n                x: x + width * anchor.x,\n                y: y + height * anchor.y,\n            };\n        });\n    }\n    if (pen.calculative.rotate) {\n        anchors.forEach((anchor) => {\n            rotatePoint(anchor, pen.calculative.rotate, pen.calculative.worldRect.pivot || pen.calculative.worldRect.center);\n        });\n    }\n    if (!pen.type || pen.anchors) {\n        pen.calculative.worldAnchors = anchors;\n    }\n    if (pen.calculative.activeAnchor && anchors.length) {\n        pen.calculative.activeAnchor = anchors.find((a) => {\n            a.id === pen.calculative.activeAnchor.id;\n        });\n    }\n    pen.calculative.gradientAnimatePath = undefined;\n}\nexport function calcChildrenInitRect(pen) {\n    // 重新计算子节点初始化坐标\n    if (pen.children?.length) {\n        let parentRect = pen.calculative.worldRect;\n        pen.children.forEach((id) => {\n            const child = pen.calculative.canvas.store.pens[id];\n            if (child.calculative.initRect && child.calculative.initRelativeRect) {\n                child.calculative.initRect.x =\n                    parentRect.x +\n                        parentRect.width * child.calculative.initRelativeRect.x;\n                child.calculative.initRect.y =\n                    parentRect.y +\n                        parentRect.height * child.calculative.initRelativeRect.y;\n                child.calculative.initRect.ex =\n                    child.calculative.initRect.x +\n                        parentRect.width * child.calculative.initRelativeRect.width;\n                child.calculative.initRect.ey =\n                    child.calculative.initRect.y +\n                        parentRect.height +\n                        child.calculative.initRelativeRect.height;\n                calcCenter(child.calculative.initRect);\n            }\n            calcChildrenInitRect(child);\n        });\n    }\n}\nexport function calcWorldPointOfPen(pen, pt) {\n    const p = { ...pt };\n    const { x, y, width, height } = pen.calculative.worldRect;\n    p.x = x + width * pt.x;\n    p.y = y + height * pt.y;\n    if (pt.prev) {\n        p.prev = {\n            penId: pen.id,\n            connectTo: pt.prev.connectTo,\n            x: x + width * pt.prev.x,\n            y: y + height * pt.prev.y,\n        };\n    }\n    if (pt.next) {\n        p.next = {\n            penId: pen.id,\n            connectTo: pt.next.connectTo,\n            x: x + width * pt.next.x,\n            y: y + height * pt.next.y,\n        };\n    }\n    return p;\n}\nexport function calcIconRect(pens, pen) {\n    const { paddingTop, paddingBottom, paddingLeft, paddingRight } = pen.calculative;\n    let x = paddingLeft;\n    let y = paddingTop;\n    let width = pen.calculative.worldRect.width - paddingLeft - paddingRight;\n    let height = pen.calculative.worldRect.height - paddingTop - paddingBottom;\n    let iconLeft = pen.calculative.iconLeft;\n    let iconTop = pen.calculative.iconTop;\n    if (iconLeft && Math.abs(iconLeft) < 1) {\n        iconLeft = pen.calculative.worldRect.width * iconLeft;\n    }\n    if (iconTop && Math.abs(iconTop) < 1) {\n        iconTop = pen.calculative.worldRect.height * iconTop;\n    }\n    x += iconLeft || 0;\n    y += iconTop || 0;\n    width -= iconLeft || 0;\n    height -= iconTop || 0;\n    let rotate = pen.calculative.iconRotate || 0;\n    if (pen.parentId) {\n        const parentPen = pens[pen.parentId].calculative;\n        if (parentPen) {\n            rotate += parentPen.rotate;\n            rotate %= 360;\n        }\n    }\n    x = pen.calculative.worldRect.x + x;\n    y = pen.calculative.worldRect.y + y;\n    pen.calculative.worldIconRect = {\n        x,\n        y,\n        width,\n        height,\n        rotate,\n    };\n    calcRightBottom(pen.calculative.worldIconRect);\n    calcCenter(pen.calculative.worldIconRect);\n}\nexport function scalePen(pen, scale, center) {\n    scaleRect(pen.calculative.worldRect, scale, center, pen.pivot);\n    if (pen.calculative.initRect) {\n        scaleRect(pen.calculative.initRect, scale, center, pen.pivot);\n    }\n    scaleChildrenInitRect(pen, scale, center);\n    if (pen.calculative.x) {\n        scalePoint(pen.calculative, scale, center);\n    }\n    if (pen.type) {\n        calcWorldAnchors(pen);\n    }\n}\nexport function scaleChildrenInitRect(pen, scale, center) {\n    if (!pen) {\n        return;\n    }\n    if (pen.children?.length) {\n        pen.children.forEach((id) => {\n            const child = pen.calculative.canvas.store.pens[id];\n            if (child) {\n                if (child.calculative.initRect) {\n                    scaleRect(child.calculative.initRect, scale, center);\n                }\n                scaleChildrenInitRect(child, scale, center);\n            }\n        });\n    }\n}\nexport function pushPenAnchor(pen, pt) {\n    if (!pen.anchors) {\n        pen.anchors = [];\n    }\n    if (!pen.calculative.worldAnchors) {\n        pen.calculative.worldAnchors = [];\n    }\n    const worldAnchor = {\n        id: pt.id,\n        penId: pen.id,\n        x: pt.x,\n        y: pt.y,\n    };\n    pen.calculative.worldAnchors.push(worldAnchor);\n    if (pen.calculative.worldRect) {\n        if (pen.rotate % 360) {\n            rotatePoint(pt, -pen.rotate, pen.calculative.worldRect.center);\n        }\n        const anchor = {\n            id: pt.id,\n            penId: pen.id,\n            x: (pt.x - pen.calculative.worldRect.x) / pen.calculative.worldRect.width,\n            y: (pt.y - pen.calculative.worldRect.y) / pen.calculative.worldRect.height,\n        };\n        pen.anchors.push(anchor);\n    }\n    return worldAnchor;\n}\nexport function addLineAnchor(pen, pt, index) {\n    if (!pen.anchors) {\n        pen.anchors = [];\n    }\n    if (!pen.calculative.worldAnchors) {\n        pen.calculative.worldAnchors = [];\n    }\n    const worldAnchor = getSplitAnchor(pen, pt, index);\n    pen.calculative.worldAnchors.splice(index + 1, 0, worldAnchor);\n    pen.anchors.splice(index + 1, 0, calcRelativePoint(worldAnchor, pen.calculative.worldRect));\n    pen.calculative.activeAnchor = worldAnchor;\n    return worldAnchor;\n}\nexport function removePenAnchor(pen, anchor) {\n    if (!pen || !pen.calculative.worldAnchors) {\n        return;\n    }\n    let i = pen.calculative.worldAnchors.findIndex((a) => a.id === anchor.id);\n    if (i > -1) {\n        pen.calculative.worldAnchors.splice(i, 1);\n    }\n    i = pen.anchors.findIndex((a) => a.id === anchor.id);\n    if (i > -1) {\n        pen.anchors.splice(i, 1);\n    }\n}\nexport function facePen(pt, pen) {\n    if (!pen || !pen.calculative || !pen.calculative.worldRect.center) {\n        return Direction.None;\n    }\n    if (pt.anchorId) {\n        let anchor = pen.anchors.filter((_anchor) => _anchor.id === pt.anchorId);\n        if (anchor.length) {\n            if (anchor[0].direction > -1) {\n                return anchor[0].direction;\n            }\n        }\n    }\n    return facePoint(pt, pen.calculative.worldRect.center);\n}\nexport function nearestAnchor(pen, pt) {\n    let dis = Infinity;\n    let anchor;\n    pen.calculative.worldAnchors.forEach((a) => {\n        const d = distance(pt, a);\n        if (dis > d) {\n            dis = d;\n            anchor = a;\n        }\n    });\n    return anchor;\n}\nexport function translateLine(pen, x, y) {\n    pen.x += x;\n    pen.y += y;\n    if (pen.anchors) {\n        pen.anchors.forEach((a) => {\n            translatePoint(a, x, y);\n        });\n    }\n    if (pen.calculative.worldAnchors) {\n        pen.calculative.worldAnchors.forEach((a) => {\n            translatePoint(a, x, y);\n        });\n    }\n}\nexport function deleteTempAnchor(pen) {\n    if (pen && pen.calculative && pen.calculative.worldAnchors.length) {\n        let to = getToAnchor(pen);\n        // 第一次画线\n        if (!pen.anchors || !pen.anchors.length) {\n            while (pen.calculative.worldAnchors.length &&\n                to !== pen.calculative.activeAnchor) {\n                pen.calculative.worldAnchors.pop();\n                to = getToAnchor(pen);\n            }\n        }\n        // 拖拽终点\n        else if (to === pen.calculative.activeAnchor) {\n            pen.calculative.worldAnchors = [pen.calculative.worldAnchors[0]];\n        }\n        // 拖拽起点\n        else if (pen.calculative.worldAnchors[0] === pen.calculative.activeAnchor) {\n            pen.calculative.worldAnchors = [\n                pen.calculative.worldAnchors[pen.calculative.worldAnchors.length - 1],\n            ];\n        }\n    }\n}\n/**\n * 添加line到pen的connectedLines中，并关联相关属性\n * 不添加连线到画布中，请确保画布中已经有该连线。\n * */\nexport function connectLine(pen, anchor, line, lineAnchor) {\n    if (!pen ||\n        !anchor ||\n        !line ||\n        !lineAnchor ||\n        anchor.twoWay === TwoWay.DisableConnected ||\n        anchor.twoWay === TwoWay.Disable ||\n        lineAnchor.twoWay === TwoWay.DisableConnectTo ||\n        lineAnchor.twoWay === TwoWay.Disable) {\n        return;\n    }\n    if (anchor.twoWay === TwoWay.In) {\n        if (line.calculative.worldAnchors.length === 1) {\n            return;\n        }\n        const to = getToAnchor(line);\n        if (lineAnchor.id !== to.id) {\n            return;\n        }\n    }\n    if (anchor.twoWay === TwoWay.Out) {\n        const from = getFromAnchor(line);\n        if (lineAnchor.id !== from.id) {\n            return;\n        }\n    }\n    if (lineAnchor.connectTo === pen.id && lineAnchor.anchorId === anchor.id) {\n        return;\n    }\n    if (lineAnchor.connectTo) {\n        const p = pen.calculative.canvas.store.pens[lineAnchor.connectTo];\n        disconnectLine(p, getAnchor(p, lineAnchor.anchorId), line, lineAnchor);\n    }\n    if (!pen.connectedLines) {\n        pen.connectedLines = [];\n    }\n    const i = pen.connectedLines.findIndex((item) => item.lineId === line.id &&\n        item.lineAnchor === lineAnchor.id &&\n        item.anchor === anchor.id);\n    if (i < 0) {\n        pen.connectedLines.push({\n            lineId: line.id,\n            lineAnchor: lineAnchor.id,\n            anchor: anchor.id,\n        });\n    }\n    lineAnchor.connectTo = pen.id;\n    lineAnchor.anchorId = anchor.id;\n    // 如果两条连线，则相互关联\n    if (pen.type) {\n        connectLine(line, lineAnchor, pen, anchor);\n    }\n    pen.calculative.canvas.store.emitter.emit('connectLine', {\n        line,\n        lineAnchor,\n        pen,\n        anchor,\n    });\n    // 新增连线生命周期\n    let fromPen = line.calculative.worldAnchors?.length >= 2\n        ? line.calculative.worldAnchors?.[0].connectTo\n        : undefined;\n    let fromAnchor = line.calculative.worldAnchors?.length >= 2\n        ? line.calculative.canvas.store.pens[line.calculative.worldAnchors?.[0].connectTo]?.anchors.find((i) => i.id === line.calculative.worldAnchors?.[0].anchorId)\n        : undefined; // num\n    pen.onConnectLine?.(pen, {\n        line,\n        lineAnchor,\n        pen,\n        anchor,\n        fromPen,\n        fromAnchor,\n    });\n    return true;\n}\n/**\n * 从 pen.connectedLines 中删除 lineId 和 lineAnchor\n */\nexport function disconnectLine(pen, anchor, line, lineAnchor) {\n    if (!pen || !anchor || !line || !lineAnchor) {\n        return;\n    }\n    if (!pen.connectedLines || !pen.connectedLines.length) {\n        return;\n    }\n    if (!line.lastConnected) {\n        line.lastConnected = {};\n    }\n    if (!line.lastConnected[pen.id]) {\n        line.lastConnected[pen.id] = deepClone(pen.connectedLines);\n    }\n    pen.connectedLines.forEach((item, index, arr) => {\n        if ((item.lineId === line.id || item.lineId === line.id) &&\n            item.lineAnchor === lineAnchor.id &&\n            item.anchor === anchor.id) {\n            arr.splice(index, 1);\n        }\n    });\n    lineAnchor.connectTo = undefined;\n    lineAnchor.anchorId = undefined;\n    // 如果两条连线相互关联，则都取消关联\n    if (pen.type &&\n        anchor.connectTo === line.id &&\n        anchor.anchorId === lineAnchor.id) {\n        disconnectLine(line, lineAnchor, pen, anchor);\n    }\n    pen.calculative.canvas.store.emitter.emit('disconnectLine', {\n        line,\n        lineAnchor,\n        pen,\n        anchor,\n    });\n    return true;\n}\nexport function getAnchor(pen, anchorId) {\n    if (!pen || !anchorId) {\n        return;\n    }\n    return pen.calculative.worldAnchors?.find((item) => item.id === anchorId);\n}\nexport function getFromAnchor(pen) {\n    if (!pen || !pen.calculative.worldAnchors) {\n        return;\n    }\n    return pen.calculative.worldAnchors[0];\n}\nexport function getToAnchor(pen) {\n    if (!pen || !pen.calculative.worldAnchors) {\n        return;\n    }\n    return pen.calculative.worldAnchors[pen.calculative.worldAnchors.length - 1];\n}\nexport function setNodeAnimate(pen, now) {\n    if (pen.calculative.start === 0 || !pen.frames || !pen.frames.length) {\n        pen.calculative.start = undefined;\n        return 0;\n    }\n    if (!pen.calculative.duration) {\n        pen.calculative.duration = 0;\n        for (const f of pen.frames) {\n            pen.calculative.duration += f.duration;\n            for (const k in f) {\n                if (k !== 'duration' && !pen[k]) {\n                    if (k === 'scale') {\n                        pen[k] = 1;\n                    }\n                }\n            }\n        }\n    }\n    if (!pen.animateCycle) {\n        pen.animateCycle = Infinity;\n    }\n    if (!pen.calculative.start) {\n        pen.calculative.start = now;\n        pen.calculative.frameIndex = 0;\n        pen.calculative.frameStart = pen.calculative.start;\n        pen.calculative.frameDuration = pen.frames[0].duration;\n        pen.calculative.frameEnd =\n            pen.calculative.frameStart + pen.calculative.frameDuration;\n        pen.calculative.cycleIndex = 1;\n        pen.calculative.x = pen.calculative.worldRect.x;\n        pen.calculative.y = pen.calculative.worldRect.y;\n        pen.calculative.initRect = deepClone(pen.calculative.worldRect);\n        if (pen.parentId) {\n            pen.calculative.initRelativeRect = {\n                x: pen.x,\n                y: pen.y,\n                width: pen.width,\n                height: pen.height,\n            };\n        }\n        if (pen.children?.length) {\n            const store = pen.calculative.canvas.store;\n            pen.calculative.childrenVisible = {};\n            pen.children.forEach((id) => {\n                pen.calculative.childrenVisible[id] = store.pens[id].visible;\n            });\n        }\n        pen.calculative.initRect.rotate = pen.calculative.rotate || 0;\n        initPrevFrame(pen);\n    }\n    else {\n        let frameIndex = 0;\n        const cycleIndex = Math.ceil((now - pen.calculative.start) / pen.calculative.duration);\n        // 播放结束\n        if (cycleIndex > pen.animateCycle) {\n            pen.currentAnimation = undefined;\n            pen.calculative.start = undefined;\n            setNodeAnimateProcess(pen, 1);\n            return 0;\n        }\n        const pos = (now - pen.calculative.start) % pen.calculative.duration || pen.calculative.duration;\n        let d = 0;\n        for (const frame of pen.frames) {\n            d += frame.duration;\n            if (pos > d) {\n                ++frameIndex;\n            }\n            else {\n                break;\n            }\n        }\n        // 帧超出\n        if (!pen.frames[frameIndex]) {\n            return true;\n        }\n        // 换帧\n        let frameChanged = false;\n        if (frameIndex !== pen.calculative.frameIndex) {\n            frameChanged = true;\n            pen.calculative.frameIndex = frameIndex;\n            pen.calculative.frameDuration = pen.frames[frameIndex].duration;\n            if (frameIndex > 0) {\n                pen.calculative.frameStart += pen.frames[frameIndex - 1].duration;\n            }\n            pen.calculative.frameEnd = pen.calculative.frameStart + pen.calculative.frameDuration;\n        }\n        // 新循环播放\n        let cycleChanged = false;\n        if (cycleIndex > pen.calculative.cycleIndex) {\n            pen.calculative.cycleIndex = cycleIndex;\n            pen.calculative.frameStart = pen.calculative.start + pen.calculative.duration * (cycleIndex - 1);\n            cycleChanged = true;\n        }\n        if (frameChanged || cycleChanged) {\n            // 以初始位置为参考点。因为网页在后台时，不执行动画帧，网页恢复显示时，位置不确定\n            pen.calculative.x = pen.calculative.initRect.x;\n            pen.calculative.y = pen.calculative.initRect.y;\n            if (pen.children?.length && !pen.parentId) {\n                pen.calculative.canvas.rotatePen(pen, (pen.calculative.initRect.rotate || 0) -\n                    (pen.calculative.rotate || 0), pen.calculative.initRect);\n            }\n            else {\n                pen.calculative.rotate = pen.calculative.initRect.rotate || 0;\n            }\n            if (frameIndex > 0) {\n                pen.prevFrame = {};\n                const prevFrame = pen.frames[frameIndex - 1];\n                for (const k in prevFrame) {\n                    pen.prevFrame[k] = prevFrame[k];\n                }\n                Object.assign(pen.prevFrame, {\n                    rotate: prevFrame.rotate || 0,\n                    x: prevFrame.x || 0,\n                    y: prevFrame.y || 0,\n                    scale: prevFrame.scale || 1,\n                });\n            }\n            else {\n                initPrevFrame(pen);\n            }\n        }\n    }\n    const process = ((now - pen.calculative.frameStart) / pen.calculative.frameDuration) % 1;\n    process > 0 && setNodeAnimateProcess(pen, process);\n    return true;\n}\n// 把前一个动画帧初始化为播放前状态\nexport function initPrevFrame(pen) {\n    pen.prevFrame = {};\n    for (const k in pen) {\n        if (typeof pen[k] !== 'object' || k === 'lineDash') {\n            pen.prevFrame[k] = pen[k];\n        }\n    }\n    pen.prevFrame.rotate = 0;\n    pen.prevFrame.x = 0;\n    pen.prevFrame.y = 0;\n    pen.prevFrame.scale = 1;\n}\n// 根据process进度值（纯小数），计算节点动画属性\nexport function setNodeAnimateProcess(pen, process) {\n    if (process < 0) {\n        return;\n    }\n    if (process > 1) {\n        process = 1;\n    }\n    const frame = pen.frames[pen.calculative.frameIndex];\n    const scale = pen.calculative.canvas.store.data.scale;\n    for (const k in frame) {\n        if (k === 'duration') {\n            continue;\n        }\n        else if (k === 'scale') {\n            pen.calculative.worldRect = deepClone(pen.calculative.initRect);\n            scaleRect(pen.calculative.worldRect, pen.prevFrame.scale, pen.calculative.worldRect.center);\n            const newScale = pen.prevFrame.scale + (frame[k] - pen.prevFrame.scale) * process;\n            scaleRect(pen.calculative.worldRect, newScale / pen.prevFrame.scale, pen.calculative.worldRect.center);\n            pen.calculative.patchFlags = true;\n        }\n        else if (k === 'x') {\n            const lastVal = getFrameValue(pen, k, pen.calculative.frameIndex) * scale;\n            pen.calculative.worldRect.x = pen.calculative.initRect.x + lastVal;\n            pen.calculative.worldRect.ex = pen.calculative.initRect.ex + lastVal;\n            pen.calculative.worldRect.center.x = pen.calculative.initRect.center.x + lastVal;\n            if (pen.calculative.worldRect.pivot?.x) {\n                pen.calculative.worldRect.pivot.x =\n                    pen.calculative.initRect.pivot?.x + lastVal;\n            }\n            translateRect(pen.calculative.worldRect, frame[k] * process * scale, 0);\n            pen.calculative.patchFlags = true;\n        }\n        else if (k === 'y') {\n            const lastVal = getFrameValue(pen, k, pen.calculative.frameIndex) * scale;\n            pen.calculative.worldRect.y = pen.calculative.initRect.y + lastVal;\n            pen.calculative.worldRect.ey = pen.calculative.initRect.ey + lastVal;\n            pen.calculative.worldRect.center.y =\n                pen.calculative.initRect.center.y + lastVal;\n            if (pen.calculative.worldRect.pivot?.x) {\n                pen.calculative.worldRect.pivot.y =\n                    pen.calculative.initRect.pivot?.y + lastVal;\n            }\n            translateRect(pen.calculative.worldRect, 0, frame[k] * process * scale);\n            pen.calculative.patchFlags = true;\n        }\n        else if (k === 'width') {\n            //仅考虑抽屉效果\n            const lastVal = getFrameValue(pen, k, pen.calculative.frameIndex) * scale;\n            pen.calculative.worldRect.width = pen.calculative.initRect.width + lastVal;\n            pen.calculative.worldRect.ex = pen.calculative.initRect.ex + lastVal;\n            pen.calculative.worldRect.center.x = pen.calculative.initRect.center.x + lastVal;\n            let value = frame[k] * process * scale;\n            pen.calculative.worldRect.width += value;\n            pen.calculative.worldRect.ex += value;\n            pen.calculative.worldRect.center.x += value;\n            pen.calculative.patchFlags = true;\n        }\n        else if (k === 'height') {\n            const lastVal = getFrameValue(pen, k, pen.calculative.frameIndex) * scale;\n            pen.calculative.worldRect.height = pen.calculative.initRect.height + lastVal;\n            pen.calculative.worldRect.ey = pen.calculative.initRect.ey + lastVal;\n            pen.calculative.worldRect.center.y = pen.calculative.initRect.center.y + lastVal;\n            let value = frame[k] * process * scale;\n            pen.calculative.worldRect.height += value;\n            pen.calculative.worldRect.ey += value;\n            pen.calculative.worldRect.center.y += value;\n            pen.calculative.patchFlags = true;\n        }\n        else if (k === 'rotate') {\n            if (pen.prevFrame[k] >= 360) {\n                pen.prevFrame[k] %= 360;\n            }\n            const lastVal = getFrameValue(pen, k, pen.calculative.frameIndex);\n            const offsetRotate = ((pen.calculative.initRect.rotate + lastVal + frame[k] * process) %\n                360) -\n                (pen.calculative.rotate || 0);\n            if (pen.children?.length) {\n                pen.calculative.canvas.rotatePen(pen, offsetRotate, pen.calculative.initRect);\n            }\n            else {\n                pen.calculative.rotate =\n                    (pen.calculative.initRect.rotate + lastVal + frame[k] * process) %\n                        360;\n            }\n            pen.calculative.patchFlags = true;\n        }\n        else if (k === 'image') {\n            pen.image = frame['image'];\n            pen.calculative.image = undefined;\n            pen.calculative.canvas.loadImage(pen);\n            // if (pen.isBottom) {\n            //   pen.calculative.canvas.canvasImageBottom.init();\n            // } else {\n            //   pen.calculative.canvas.canvasImage.init();\n            // }\n            if (pen.canvasLayer === CanvasLayer.CanvasImageBottom) {\n                pen.calculative.canvas.canvasImageBottom.init();\n            }\n            else if (pen.canvasLayer === CanvasLayer.CanvasImage) {\n                pen.calculative.canvas.canvasImage.init();\n            }\n        }\n        else if (isLinear(frame[k], k, pen)) {\n            if (pen.prevFrame[k] == null) {\n                if (k === 'globalAlpha') {\n                    pen.prevFrame[k] = 1;\n                }\n                else {\n                    pen.prevFrame[k] = 0;\n                }\n            }\n            const current = pen.prevFrame[k] + (frame[k] - pen.prevFrame[k]) * process;\n            pen.calculative[k] = Math.round(current * 100) / 100;\n        }\n        else {\n            if (k === 'visible') {\n                if (pen.calculative.image) {\n                    // if (pen.isBottom) {\n                    //   pen.calculative.canvas.canvasImageBottom.init();\n                    // } else {\n                    //   pen.calculative.canvas.canvasImage.init();\n                    // }\n                    // if (pen.canvasLayer === CanvasLayer.CanvasImageBottom) {\n                    //   pen.calculative.canvas.canvasImageBottom.init();\n                    // } else if (pen.canvasLayer === CanvasLayer.CanvasImage) {\n                    //   pen.calculative.canvas.canvasImage.init();\n                    // }\n                }\n                else if (pen.children?.length) {\n                    const childs = getAllChildren(pen, pen.calculative.canvas.store);\n                    pen.calculative.canvas.initImageCanvas(childs);\n                }\n            }\n            pen.calculative[k] = frame[k];\n            const v = {};\n            v[k] = frame[k];\n            setChildValue(pen, v);\n        }\n        if (k === 'text') {\n            calcTextLines(pen);\n        }\n    }\n}\n/**\n * 值类型为 number , pen.linear 为 false 时，且 key 不属于 noLinear 时，返回 true\n * @param value 值\n * @param key 键值\n * @param pen 画笔\n * @returns\n */\nfunction isLinear(value, key, pen) {\n    // 不线性变化的属性\n    const noLinear = ['strokeType', 'bkType', 'showChild'];\n    return (typeof value === 'number' &&\n        pen.linear !== false &&\n        !noLinear.includes(key));\n}\nexport function setLineAnimate(pen, now) {\n    if (pen.calculative.start === 0) {\n        pen.calculative.start = undefined;\n        pen.calculative.cycleStart = undefined;\n        return 0;\n    }\n    if (!pen.animateCycle) {\n        pen.animateCycle = Infinity;\n    }\n    if (!pen.animateSpan) {\n        pen.animateSpan = 1;\n    }\n    const elapsed = (now - pen.calculative.cycleStart) / 1000; // 秒\n    if (pen.animateTimingFunction && pen.duration) {\n        const timeParams = Array.isArray(pen.animateTimingFunction) ?\n            pen.animateTimingFunction :\n            pen.animateTimingFunction.split(',');\n        const duration = pen.duration;\n        const t = elapsed / duration;\n        const progress = cubicBezierY(t, timeParams[1], timeParams[3]);\n        // 更新动画位置\n        pen.calculative.animatePos = progress * pen.length;\n    }\n    else {\n        pen.calculative.animatePos +=\n            pen.animateSpan * (pen.calculative.canvas.store.data.scale || 1);\n    }\n    if (!pen.calculative.cycleStart) {\n        pen.calculative.cycleStart = now;\n    }\n    if (!pen.calculative.start) {\n        pen.calculative.start = Date.now();\n        pen.calculative.animatePos =\n            pen.animateSpan * (pen.calculative.canvas.store.data.scale || 1);\n        pen.calculative.cycleIndex = 1;\n    }\n    else if (pen.calculative.animatePos > pen.length || elapsed > pen.duration) {\n        // 播放到尾了\n        ++pen.calculative.cycleIndex;\n        // 播放结束\n        if (pen.calculative.cycleIndex > pen.animateCycle) {\n            pen.currentAnimation = undefined;\n            pen.calculative.start = undefined;\n            pen.calculative.cycleStart = undefined;\n            return 0;\n        }\n        pen.calculative.cycleStart = undefined;\n        pen.calculative.animatePos = pen.animateSpan;\n    }\n    return true;\n}\nexport function setChildrenActive(pen, active = true) {\n    if (!pen.children || pen.childActive === false) {\n        return;\n    }\n    const store = pen.calculative.canvas.store;\n    pen.children.forEach((id) => {\n        const child = store.pens[id];\n        if (child) {\n            child.calculative.active = active;\n            setChildrenActive(child, active);\n        }\n    });\n}\nexport function setHover(pen, hover = true) {\n    if (!pen) {\n        return;\n    }\n    const store = pen.calculative.canvas.store;\n    pen.calculative.hover = hover;\n    if (pen.childHover === false) {\n        return;\n    }\n    if (pen.children) {\n        pen.children.forEach((id) => {\n            // 子节点没有自己的独立hover，继承父节点hover\n            if (store.pens[id]?.hoverColor == undefined &&\n                store.pens[id]?.hoverBackground == undefined) {\n                setHover(store.pens[id], hover);\n            }\n        });\n    }\n}\nexport function setElemPosition(pen, elem) {\n    if (!elem) {\n        return;\n    }\n    const store = pen.calculative.canvas.store;\n    const worldRect = pen.calculative.worldRect;\n    elem.style.opacity = pen.globalAlpha + '';\n    elem.style.position = 'absolute';\n    elem.style.outline = 'none';\n    elem.style.left = worldRect.x + store.data.x + 'px';\n    elem.style.top = worldRect.y + store.data.y + 'px';\n    elem.style.width = worldRect.width + 'px';\n    elem.style.height = worldRect.height + 'px';\n    elem.style.display =\n        pen.calculative.inView != false\n            ? pen.calculative.cssDisplay || 'inline'\n            : 'none'; // 是否隐藏元素\n    !pen.calculative.rotate && (pen.calculative.rotate = 0);\n    elem.style.transform = `rotate(${pen.calculative.rotate}deg)`;\n    if (!pen.calculative.rotate) {\n        if (pen.calculative.flipX) {\n            elem.style.transform = `rotateY(180deg)`;\n        }\n        if (pen.calculative.flipY) {\n            elem.style.transform = `rotateX(180deg)`;\n        }\n        if (pen.calculative.flipX && pen.calculative.flipY) {\n            elem.style.transform = `rotateZ(180deg)`;\n        }\n    }\n    elem.style.zIndex =\n        pen.calculative.zIndex !== undefined ? pen.calculative.zIndex + '' : '5';\n    if (pen.calculative.zIndex > pen.calculative.canvas.maxZindex) {\n        pen.calculative.canvas.maxZindex = pen.calculative.zIndex;\n    }\n    if (pen.locked === LockState.DisableEdit ||\n        pen.locked === LockState.DisableMove ||\n        store.data.locked) {\n        // gif 组合后，作为子节点可通过 lockedOnCombine 来决定自身的 locked 状态\n        elem.style.userSelect = 'initial';\n        elem.style.pointerEvents = 'initial';\n        if (pen.name === 'gif') {\n            elem.style.userSelect = 'none';\n            elem.style.pointerEvents = 'none';\n        }\n    }\n    else {\n        // pen.locked LockState.Disable 不响应鼠标\n        elem.style.userSelect = 'none';\n        elem.style.pointerEvents = 'none';\n    }\n    if (pen.className) {\n        elem.className = pen.className;\n    }\n    if (pen.styles) {\n        for (let key in pen.styles) {\n            elem.style[key] = pen.styles[key];\n        }\n    }\n}\nexport function setElemImg(pen, elem) {\n    if (!elem) {\n        return;\n    }\n    //https://github.com/niklasvh/html2canvas\n    globalThis.html2canvas &&\n        globalThis.html2canvas(elem).then(function (canvas) {\n            // document.body.appendChild(canvas);\n            const img = new Image();\n            img.src = canvas.toDataURL('image/png', 0.1);\n            if (img.src.length > 10) {\n                pen.calculative.img = img;\n            }\n        });\n}\n/**\n * 每个画笔 locked\n * @param pens 画笔\n * @returns\n */\nexport function getPensLock(pens) {\n    return pens.every((pen) => pen.locked);\n}\n/**\n * 画笔们的 disabledRotate = true\n * 即 全部禁止旋转 返回 true\n * @param pens 画笔\n * @returns\n */\nexport function getPensDisableRotate(pens) {\n    return pens.every((pen) => pen.disableRotate);\n}\nexport function rotatePen(pen, angle, rect) {\n    if (pen.type) {\n        pen.calculative.worldAnchors.forEach((anchor) => {\n            rotatePoint(anchor, angle, rect.center);\n        });\n        initLineRect(pen);\n        calcPenRect(pen);\n    }\n    else {\n        if (pen.calculative.rotate) {\n            pen.calculative.rotate += angle;\n        }\n        else {\n            pen.calculative.rotate = angle;\n        }\n        rotatePoint(pen.calculative.worldRect.center, angle, rect.center);\n        if (pen.parentId) {\n            pen.calculative.worldRect.x =\n                pen.calculative.worldRect.center.x -\n                    pen.calculative.worldRect.width / 2;\n            pen.calculative.worldRect.y =\n                pen.calculative.worldRect.center.y -\n                    pen.calculative.worldRect.height / 2;\n            pen.x = (pen.calculative.worldRect.x - rect.x) / rect.width;\n            pen.y = (pen.calculative.worldRect.y - rect.y) / rect.height;\n        }\n    }\n    pen.children?.forEach((id) => {\n        const child = pen.calculative.canvas.store.pens[id];\n        rotatePen(child, angle, rect);\n    });\n}\nfunction initLineRect(pen) {\n    if (!pen.calculative.worldAnchors?.length) {\n        return;\n    }\n    if (!isFinite(pen.x) || !isFinite(pen.x)) {\n        return;\n    }\n    if (pen.x == null || pen.y == null) {\n        return;\n    }\n    const rect = getLineRect(pen);\n    if (!pen.parentId) {\n        Object.assign(pen, rect);\n    }\n    const { fontSize, lineHeight } = pen.calculative.canvas.store.options;\n    if (!pen.fontSize) {\n        pen.fontSize = fontSize >= 0 ? fontSize : 12;\n        pen.calculative.fontSize =\n            pen.fontSize * pen.calculative.canvas.store.data.scale;\n    }\n    else if (pen.fontSize < 0) {\n        pen.fontSize = 0;\n        pen.calculative.fontSize = 0;\n    }\n    if (!pen.lineHeight) {\n        pen.lineHeight = lineHeight;\n        pen.calculative.lineHeight = pen.lineHeight;\n    }\n    calcCenter(rect);\n    pen.calculative.worldRect = rect;\n    calcPadding(pen, rect);\n    calcTextRect(pen);\n    if (pen.calculative.worldAnchors) {\n        pen.anchors = pen.calculative.worldAnchors.map((pt) => {\n            return calcRelativePoint(pt, pen.calculative.worldRect);\n        });\n    }\n}\n/**\n * 画笔们的 disableSize = true\n * 即 全部不允许改变大小 返回 true\n * @param pens 画笔\n * @returns\n */\nexport function getPensDisableResize(pens) {\n    return pens.every((pen) => pen.disableSize || pen.pivot); //旋转中心点图元不允许改变大小\n}\nexport function getFrameValue(pen, prop, frameIndex) {\n    if (!pen.frames || !prop) {\n        return 0;\n    }\n    let v = 0;\n    for (let i = 0; i < frameIndex; i++) {\n        if (pen.frames[i]) {\n            v += pen.frames[i][prop] || 0;\n        }\n    }\n    return v;\n}\n/**\n * 判断该画笔 是否是组合为状态中 展示的画笔\n */\nexport function isShowChild(pen, store) {\n    let selfPen = pen;\n    while (selfPen && selfPen.parentId) {\n        const oldPen = selfPen;\n        selfPen = store.pens[selfPen.parentId];\n        const showChildIndex = selfPen?.calculative?.showChild;\n        if (showChildIndex != undefined) {\n            const showChildId = selfPen.children[showChildIndex];\n            if (showChildId !== oldPen.id) {\n                // toPng 不展示它\n                return false;\n            }\n        }\n    }\n    return true;\n}\n/**\n * 计算画笔的 inView\n * @param pen 画笔\n * @param calcChild 是否计算子画笔\n */\nexport function calcInView(pen, calcChild = false) {\n    const { store, canvasRect } = pen.calculative.canvas;\n    if (calcChild) {\n        pen.children?.forEach((id) => {\n            const child = store.pens[id];\n            child && calcInView(child, true);\n        });\n    }\n    pen.calculative.inView = true;\n    if (!isShowChild(pen, store)) {\n        pen.calculative.inView = false;\n    }\n    else if (pen.visible == false ||\n        pen.calculative.visible == false) {\n        pen.calculative.inView = false;\n        if ((pen.canvasLayer === CanvasLayer.CanvasImageBottom || pen.canvasLayer === CanvasLayer.CanvasImage) && pen.frames?.length) {\n            pen.calculative.inView = pen.frames.some(obj => obj.hasOwnProperty('visible'));\n        }\n    }\n    if (pen.calculative.inView) {\n        const { x, y, width, height, rotate } = pen.calculative.worldRect;\n        const penRect = {\n            x: x + store.data.x,\n            y: y + store.data.y,\n            width,\n            height,\n            rotate,\n        };\n        calcRightBottom(penRect);\n        if (!rectInRect(penRect, canvasRect)) {\n            pen.calculative.inView = false;\n        }\n    }\n    // TODO: 语义化上，用 onValue 更合适，但 onValue 会触发 echarts 图形的重绘，没有必要\n    // 更改 view 后，修改 dom 节点的显示隐藏\n    // pen.onMove?.(pen);\n    pen.calculative.singleton?.div &&\n        setElemPosition(pen, pen.calculative.singleton.div);\n}\n/**\n * 绘制 rect ，上线后可查看 rect 位置\n */\nfunction inspectRect(ctx, store, pen) {\n    if (store.fillWorldTextRect) {\n        ctx.save();\n        ctx.fillStyle = '#c3deb7';\n        const { x, y, width, height } = pen.calculative.worldTextRect;\n        ctx.fillRect(x, y, width, height);\n        ctx.restore();\n    }\n}\nexport function setGlobalAlpha(ctx, pen) {\n    const globalAlpha = pen.calculative.globalAlpha;\n    if (typeof globalAlpha === 'number' &&\n        globalAlpha < 1 &&\n        !isNaN(globalAlpha)) {\n        ctx.globalAlpha = globalAlpha;\n    }\n}\n/**\n * ctx 绘制图纸，并非 Path2D\n * @param ctx 画布上下文\n * @param pen 画笔\n */\nfunction ctxDrawCanvas(ctx, pen) {\n    const canvasDraw = drawFuncGenerator(ctx, pen) || globalStore.canvasDraws[pen.name];\n    if (canvasDraw) {\n        // TODO: 后续考虑优化 save / restore\n        ctx.save();\n        // TODO: 原有 return 终止后续操作，必要性不大\n        canvasDraw(ctx, pen);\n        ctx.restore();\n    }\n}\nfunction drawFuncGenerator(ctx, pen) {\n    // 进行数据的预处理\n    const drawCommand = pen.drawCommand;\n    if (!drawCommand || pen.name === 'line')\n        return;\n    // 单位转换 将其他单位转换为px\n    // 执行自定义绘画函数\n    return (ctx, pen) => {\n        // TODO  绘制命令的转换 （能否兼容多种指令？？）\n        drawCommand.forEach((command) => {\n            try {\n                command.steps = command.steps.flat(Infinity);\n                command.steps.reduce((calculate, step) => {\n                    const cs = commandTransfer(step, pen, calculate.x, calculate.y);\n                    // 应当保证顺序的正确\n                    try {\n                        if (cs.c) {\n                            if (cs.c.startsWith('_')) {\n                                const prop = cs.c.split('_')[1];\n                                if (typeof cs.v.value === \"number\")\n                                    cs.v.value *= pen.calculative.canvas.store.data.scale;\n                                // debugger;\n                                (cs.p || ctx)[prop] = cs.v.value;\n                                return { x: calculate.x, y: calculate.y };\n                            }\n                            let l = [];\n                            for (const csKey in cs.v) {\n                                l.push(cs.v[csKey]);\n                            }\n                            // ctx.beginPath();\n                            (cs.p || ctx)[cs.c](...l);\n                            // ctx.moveTo(cs.startX || cs.v.x,cs.startY || cs.v.y);\n                            // command.prop.NoFill === '0'?ctx.fill():'';\n                            return { x: cs.startX || cs.v.x, y: cs.startY || cs.v.y };\n                        }\n                        return { x: calculate.x, y: calculate.y };\n                    }\n                    catch (e) {\n                        // pass\n                        // console.log(e,'error',cs);\n                    }\n                }, {});\n            }\n            catch (e) {\n            }\n        });\n        ctx.stroke();\n    };\n}\nfunction commandTransfer(command, pen, startX, startY) {\n    // TODO 是否支持扩展更多的命令？用于兼容未来的其他解析格式？\n    //1. 进行简单的命令解析\n    // VISIO\n    const map = {\n        'visio': dealWithVisio,\n        'dxf': dealWithDXF,\n        'canvas': dealWithCanvas\n    };\n    // CAD\n    return map[pen.parseType]?.(command, pen, startX, startY) || command;\n}\nfunction dealWithDXF(command, pen, startX, startY) {\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const { originWidth, originHeight } = pen.dxfOrigin;\n    switch (command.c) {\n        case \"beginPath\":\n            return {\n                c: 'beginPath',\n                v: {}\n            };\n        case \"closePath\":\n            return {\n                c: 'closePath',\n                v: {}\n            };\n        case \"moveTo\":\n            return {\n                c: 'moveTo',\n                v: {\n                    x: command.v.x * (width / originWidth) + x,\n                    y: command.v.y * (height / originHeight) + y\n                }\n            };\n        case \"lineTo\":\n            return {\n                c: 'lineTo',\n                v: {\n                    x: command.v.x * (width / originWidth) + x,\n                    y: command.v.y * (height / originHeight) + y\n                }\n            };\n        case \"arc\":\n            return {\n                c: 'ellipse',\n                v: {\n                    x: command.v.x * (width / originWidth) + x,\n                    y: (command.v.y * (height / originHeight)) + y,\n                    rx: command.v.xr * (width / originWidth),\n                    ry: command.v.yr * (height / originHeight),\n                    rotation: command.v.rotation || 0,\n                    startAngle: command.v.startAngle,\n                    endAngle: command.v.endAngle,\n                    a: command.v.aclockwise ?? true\n                }\n            };\n        case \"ellipse\":\n            return {\n                c: 'ellipse',\n                v: {\n                    x: command.v.x * (width / originWidth) + x,\n                    y: (command.v.y * (height / originHeight)) + y,\n                    rx: command.v.xr * (width / originWidth),\n                    ry: command.v.yr * (height / originHeight),\n                    rotation: command.v.rotation || 0,\n                    startAngle: command.v.startAngle,\n                    endAngle: command.v.endAngle,\n                    a: command.v.aclockwise ?? true\n                }\n            };\n        case \"_font\":\n            return {\n                c: '_font',\n                v: {\n                    value: command.v.fontSize * pen.calculative.canvas.store.data.scale + 'px ' + (command.v.fontFamily || pen.calculative.canvas.store.options.fontFamily)\n                }\n            };\n        case \"_fillStyle\":\n            return {\n                c: '_fillStyle',\n                v: {\n                    value: pen.color || command.v.value\n                }\n            };\n        default:\n            const c = {\n                c: command.c,\n                v: {\n                    ...command.v,\n                }\n            };\n            if ((c.v.x) !== undefined)\n                c.v.x = command.v.x * (width / originWidth) + x;\n            if (c.v.y !== undefined)\n                c.v.y = (command.v.y * (height / originHeight)) + y;\n            return c;\n    }\n}\nfunction dealWithCanvas(command, pen, startX, startY) {\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const { originWidth, originHeight } = pen.origin;\n    switch (command.c) {\n        case \"beginPath\":\n            return {\n                c: 'beginPath',\n                v: {}\n            };\n        case \"closePath\":\n            return {\n                c: 'closePath',\n                v: {}\n            };\n        case \"moveTo\":\n            return {\n                c: 'moveTo',\n                v: {\n                    x: command.v.x * (width / originWidth) + x,\n                    y: command.v.y * (height / originHeight) + y\n                }\n            };\n        case \"lineTo\":\n            return {\n                c: 'lineTo',\n                v: {\n                    x: command.v.x * (width / originWidth) + x,\n                    y: command.v.y * (height / originHeight) + y\n                }\n            };\n        case \"arc\":\n            return {\n                c: 'ellipse',\n                v: {\n                    x: command.v.x * (width / originWidth) + x,\n                    y: (command.v.y * (height / originHeight)) + y,\n                    rx: command.v.xr * (width / originWidth),\n                    ry: command.v.yr * (height / originHeight),\n                    rotation: command.v.rotation || 0,\n                    startAngle: command.v.startAngle,\n                    endAngle: command.v.endAngle,\n                    a: command.v.aclockwise ?? true\n                }\n            };\n        case \"ellipse\":\n            return {\n                c: 'ellipse',\n                v: {\n                    x: command.v.x * (width / originWidth) + x,\n                    y: (command.v.y * (height / originHeight)) + y,\n                    rx: command.v.xr * (width / originWidth),\n                    ry: command.v.yr * (height / originHeight),\n                    rotation: command.v.rotation || 0,\n                    startAngle: command.v.startAngle,\n                    endAngle: command.v.endAngle,\n                    a: command.v.aclockwise ?? true\n                }\n            };\n        case \"_font\":\n            return {\n                c: '_font',\n                v: {\n                    value: command.v.fontSize * pen.calculative.canvas.store.data.scale + 'px ' + (command.v.fontFamily || pen.calculative.canvas.store.options.fontFamily)\n                }\n            };\n        default:\n            const c = {\n                c: command.c,\n                v: {\n                    ...command.v,\n                }\n            };\n            if ((c.v.x) !== undefined)\n                c.v.x = command.v.x * (width / originWidth) + x;\n            if (c.v.y !== undefined)\n                c.v.y = (command.v.y * (height / originHeight)) + y;\n            return c;\n    }\n}\nfunction dealWithVisio(command, pen, startX, startY) {\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const { width: originWidth, height: originHeight } = pen.origin;\n    switch (command.c) {\n        case 'MoveTo':\n            return {\n                c: 'moveTo',\n                v: {\n                    x: +command.v.X * 100 * (width / originWidth) + x,\n                    y: +command.v.Y * 100 * (height / originHeight) + y,\n                },\n            };\n        case 'RelMoveTo':\n            return {\n                c: 'moveTo',\n                v: {\n                    x: +command.v.X * originWidth * (width / originWidth) + x,\n                    y: +command.v.Y * originHeight * (height / originHeight) + y,\n                },\n            };\n        case 'LineTo':\n            return {\n                c: 'lineTo',\n                v: {\n                    x: +command.v.X * 100 * (width / originWidth) + x,\n                    y: +command.v.Y * 100 * (height / originHeight) + y,\n                },\n            };\n        case 'RelLineTo':\n            return {\n                c: 'lineTo',\n                v: {\n                    x: +command.v.X * originWidth * (width / originWidth) + x,\n                    y: +command.v.Y * originHeight * (height / originHeight) + y,\n                },\n            };\n        case 'Ellipse':\n            let centerX1 = command.v.X;\n            let centerY1 = command.v.Y;\n            let longAxis = Math.abs(command.v.A - command.v.C);\n            let shortAxis = Math.abs(command.v.B - command.v.D);\n            return {\n                c: 'ellipse',\n                v: {\n                    x: centerX1 * 100 * (width / originWidth) + x,\n                    y: centerY1 * 100 * (height / originHeight) + y,\n                    radiuX: longAxis * 100 * (width / originWidth),\n                    radiuY: shortAxis * 100 * (height / originHeight),\n                    rotation: 0,\n                    startAngle: 0,\n                    endAngle: Math.PI * 2,\n                    anticlockwise: true,\n                },\n            };\n        case 'EllipticalArcTo':\n            const endX = command.v.X * 100 * (width / originWidth) + x; // 弧上结束顶点的 x 坐标\n            const endY = command.v.Y * 100 * (height / originHeight) + y; // 弧上结束顶点的 y 坐标\n            const ctrlX = command.v.A * 100 * (width / originWidth) + x; // 控制点的 x 坐标\n            const ctrlY = command.v.B * 100 * (height / originHeight) + y; // 控制点的 y 坐标\n            const angleDeg = command.v.C; // 主轴相对于 x 轴的角度 (度)\n            const axisRatio = command.v.D * (width / height) * (originHeight / originWidth); // 长轴和短轴的比率\n            //\n            const crossProduct = (endX - startX) * (ctrlY - startY) - (endY - startY) * (ctrlX - startX) > 0;\n            const params = calculateEllipseParameters(startX, startY, endX, endY, ctrlX, ctrlY, axisRatio);\n            // 开始绘制路径\n            !command.orign && (command.orign = {});\n            !command.orign.startA &&\n                (command.orign.startA = calculateAngleInRadians(params.x0, params.y0, startX, startY));\n            !command.orign.endA &&\n                (command.orign.endA = calculateAngleInRadians(params.x0, params.y0, endX, endY));\n            return {\n                c: 'ellipse',\n                v: {\n                    centerX: params.x0,\n                    centerY: params.y0,\n                    radiuX: params.a,\n                    radiuY: params.b,\n                    // rotation:radiansToDegrees(angleDeg),\n                    rotation: 0,\n                    startAngle: command.orign.startA,\n                    endAngle: command.orign.endA,\n                    // startAngle: 0,\n                    // endAngle: Math.PI * 2,\n                    // anticlockwise: startA > 0 && startA>endA\n                    anticlockwise: crossProduct,\n                    // anticlockwise: Math.abs(endA - startA) < Math.PI\n                },\n                startX: endX,\n                startY: endY,\n            };\n        case \"RelEllipticalArcTo\":\n            const endX3 = command.v.X * originWidth * (width / originWidth) + x; // 弧上结束顶点的 x 坐标\n            const endY3 = command.v.Y * originHeight * (height / originHeight) + y; // 弧上结束顶点的 y 坐标\n            const ctrlX3 = command.v.A * originWidth * (width / originWidth) + x; // 控制点的 x 坐标\n            const ctrlY3 = command.v.B * originHeight * (height / originHeight) + y; // 控制点的 y 坐标\n            const angleDeg3 = command.v.C; // 主轴相对于 x 轴的角度 (度)\n            const axisRatio3 = command.v.D * (width / height) * (originHeight / originWidth); // 长轴和短轴的比率\n            //\n            const crossProduct2 = (endX3 - startX) * (ctrlY3 - startY) - (endY3 - startY) * (ctrlX3 - startX) > 0;\n            const params2 = calculateEllipseParameters(startX, startY, endX3, endY3, ctrlX3, ctrlY3, axisRatio3);\n            // 开始绘制路径\n            !command.orign && (command.orign = {});\n            !command.orign.startA &&\n                (command.orign.startA = calculateAngleInRadians(params2.x0, params2.y0, startX, startY));\n            !command.orign.endA &&\n                (command.orign.endA = calculateAngleInRadians(params2.x0, params2.y0, endX3, endY3));\n            return {\n                c: 'ellipse',\n                v: {\n                    centerX: params2.x0,\n                    centerY: params2.y0,\n                    radiuX: params2.a,\n                    radiuY: params2.b,\n                    // rotation:radiansToDegrees(angleDeg),\n                    rotation: 0,\n                    startAngle: command.orign.startA,\n                    endAngle: command.orign.endA,\n                    // startAngle: 0,\n                    // endAngle: Math.PI * 2,\n                    // anticlockwise: startA > 0 && startA>endA\n                    anticlockwise: crossProduct2\n                    // anticlockwise: Math.abs(endA - startA) < Math.PI\n                },\n                startX: endX3,\n                startY: endY3,\n            };\n        case 'ArcTo':\n            let endX2 = (command.v.X * 100 * width) / originWidth + x;\n            let endY2 = (command.v.Y * 100 * height) / originHeight + y;\n            let h = command.v.A * 100 * (width / height) * (originHeight / originWidth);\n            // 计算弦的中点\n            let xm = (startX + endX2) / 2;\n            let ym = (startY + endY2) / 2;\n            // 计算弦的长度\n            let d = Math.sqrt((endX2 - startX) ** 2 + (endY2 - startY) ** 2);\n            // 计算圆弧的半径\n            let R = d ** 2 / (8 * h) + h / 2;\n            // 计算单位垂直向量\n            let ux = -(endY2 - startY) / d;\n            let uy = (endX2 - startX) / d;\n            // 计算两个可能的圆心\n            let xc1 = xm + ux * R;\n            let yc1 = ym + uy * R;\n            let xc2 = xm - ux * R;\n            let yc2 = ym - uy * R;\n            // 选择一个圆心\n            let xc = xc1;\n            let yc = yc1;\n            // 计算起点和终点到圆心的角度\n            let startAngle = Math.atan2(startY - yc, startX - xc);\n            let endAngle = Math.atan2(endY2 - yc, endX2 - xc);\n            return {\n                c: 'arc',\n                v: {\n                    x: xc,\n                    y: yc,\n                    radius: R,\n                    startAngle: startAngle,\n                    endAngle: endAngle,\n                    aclockwise: true,\n                },\n            };\n        default:\n            const cloneCommand = deepClone(command);\n            Object.entries(cloneCommand.v).forEach(([k, v]) => {\n                // 表明此类型为\n                if (k.endsWith?.('_x')) {\n                    if (typeof v === \"number\")\n                        cloneCommand.v[k] = v * (width / originWidth) + x;\n                }\n                else if (k.endsWith?.(\"_y\")) {\n                    if (typeof v === \"number\")\n                        cloneCommand.v[k] = v * (height / originHeight) + y;\n                }\n                else {\n                    if (typeof v === \"number\")\n                        cloneCommand.v[k] = v;\n                }\n            });\n            return cloneCommand;\n    }\n}\nexport function drawFilter(ctx, pen) {\n    ctx.filter = pen.filter;\n}\nexport function setChildValue(pen, data) {\n    for (const k in data) {\n        if (inheritanceProps.includes(k)) {\n            if (k == 'fontSize' && data[k] < 0) {\n                data[k] = 0;\n            }\n            pen[k] = data[k];\n            if (['fontSize', 'lineWidth'].includes(k)) {\n                pen.calculative[k] = data[k] * pen.calculative.canvas.store.data.scale;\n                calcTextRect(pen);\n            }\n            else {\n                pen.calculative[k] = data[k];\n            }\n        }\n    }\n    if (pen.calculative.canvas.parent.isCombine(pen)\n    //&& pen.showChild === undefined\n    ) {\n        const children = pen.children;\n        children?.forEach((childId) => {\n            let _data = deepClone(data);\n            if (pen.calculative.childrenVisible) {\n                if (pen.calculative.childrenVisible[childId] === false) {\n                    delete _data.visible;\n                }\n            }\n            const child = pen.calculative.canvas.store.pens[childId];\n            child && setChildValue(child, _data);\n        });\n    }\n}\nfunction calculateEllipseParameters(x1, y1, x2, y2, x3, y3, D) {\n    // Calculate x₀ using equation ⑥\n    let numeratorX0 = (x1 - x2) * (x1 + x2) * (y2 - y3) -\n        (x2 - x3) * (x2 + x3) * (y1 - y2) +\n        D * D * (y1 - y2) * (y2 - y3) * (y1 - y3);\n    let denominatorX0 = 2 * ((x1 - x2) * (y2 - y3) - (x2 - x3) * (y1 - y2));\n    let x0 = numeratorX0 / denominatorX0;\n    // Calculate y₀ using equation ⑦\n    let numeratorY0 = (x1 - x2) * (x2 - x3) * (x1 - x3) +\n        D *\n            D *\n            ((x2 - x3) * (y1 - y2) * (y1 + y2) - (x1 - x2) * (y2 - y3) * (y2 + y3));\n    let denominatorY0 = 2 * D * D * ((x2 - x3) * (y1 - y2) - (x1 - x2) * (y2 - y3));\n    let y0 = numeratorY0 / denominatorY0;\n    // Calculate 'a' using equation ⑧, substituting x₀ and y₀\n    let a = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(D * (y1 - y0), 2));\n    // Calculate 'b' using equation ⑨\n    let b = a / D;\n    return { x0, y0, a, b };\n}\nfunction calculateAngleInRadians(x1, y1, x2, y2) {\n    // 计算两个点的差值\n    let dx = x2 - x1;\n    let dy = y2 - y1;\n    // 使用 atan2 计算角度，结果为弧度\n    let angleRadians = Math.atan2(dy, dx);\n    // 如果角度为负值，加上2π\n    if (angleRadians < 0) {\n        angleRadians += 2 * Math.PI;\n    }\n    return angleRadians;\n}\n//# sourceMappingURL=render.js.map","import { PenType } from '.';\nimport { calcCenter, expandRect, rectInFourAngRect, rectToPoints, } from '../rect';\nimport { deepClone } from '../utils';\nexport function calcAnchorDock(store, e, curAnchor) {\n    let xDock;\n    let yDock;\n    let x = Infinity;\n    let y = Infinity;\n    const size = 8;\n    for (const pen of store.data.pens) {\n        if (pen.calculative.inView === false) {\n            continue;\n        }\n        // 得到图形的全部点\n        const points = getPointsByPen(pen);\n        points.forEach((pt) => {\n            if (pt === e || pt === curAnchor) {\n                return;\n            }\n            let distance = (pen.calculative.worldRect.center.x - e.x) *\n                (pen.calculative.worldRect.center.x - e.x) +\n                (pen.calculative.worldRect.center.y - e.y) *\n                    (pen.calculative.worldRect.center.y - e.y);\n            const disX = Math.abs(pt.x - e.x);\n            if (disX > 0 && disX < size && distance < x) {\n                xDock = {\n                    x: Math.round(pt.x) + 0.5,\n                    y: Math.round(pt.y) + 0.5,\n                    prev: {\n                        x: Math.round(e.x) + 0.5,\n                        y: Math.round(e.y) + 0.5,\n                    },\n                    step: pt.x - e.x,\n                };\n                x = distance;\n            }\n            const disY = Math.abs(pt.y - e.y);\n            if (disY > 0 && disY < size && distance < y) {\n                yDock = {\n                    x: Math.round(pt.x) + 0.5,\n                    y: Math.round(pt.y) + 0.5,\n                    prev: {\n                        x: Math.round(e.x) + 0.5,\n                        y: Math.round(e.y) + 0.5,\n                    },\n                    step: pt.y - e.y,\n                };\n                y = distance;\n            }\n        });\n    }\n    return {\n        xDock,\n        yDock,\n    };\n}\nexport function calcMoveDock(store, rect, pens, offset) {\n    // 找到 points ，深拷贝一下，不影响原值\n    let activePoints = [];\n    if (pens.length === 1) {\n        activePoints = deepClone(getPointsByPen(pens[0]));\n        activePoints.forEach((point) => {\n            point.x += offset.x;\n            point.y += offset.y;\n        });\n    }\n    else {\n        calcCenter(rect);\n        activePoints = [rect.center, ...rectToPoints(rect)];\n    }\n    return calcDockByPoints(store, activePoints, rect, true);\n}\n/**\n * 得到画笔的全部点\n * 线 即全部的 worldAnchors\n * 图形 即全部的 worldAnchors ，加上边缘四个点以及中心点\n * @param pen 画笔\n */\nexport function getPointsByPen(pen) {\n    if (!pen.type) {\n        const outerPoints = rectToPoints(pen.calculative.worldRect);\n        calcCenter(pen.calculative.worldRect);\n        return [\n            ...pen.calculative.worldAnchors,\n            ...outerPoints,\n            pen.calculative.worldRect.center,\n        ];\n    }\n    else if (pen.type === PenType.Line) {\n        return pen.calculative.worldAnchors;\n    }\n}\nexport function calcResizeDock(store, rect, pens, resizeIndex) {\n    const activePoints = rectToPoints(rect);\n    return calcDockByPoints(store, activePoints, rect);\n}\n/**\n * 通过当前 活动层 的所有点 计算 dock\n * @param activePoints 活动层 的所有点\n * @param rect 当前区域\n * @param calcActive 是否与 活动层画笔 的点进行计算\n */\nfunction calcDockByPoints(store, activePoints, rect, calcActive = false) {\n    let xDock;\n    let yDock;\n    let minCloseX = Infinity;\n    let minCloseY = Infinity;\n    // 临近范围\n    const closeSize = 10;\n    const paddingRect = expandRect(rect, closeSize);\n    store.data.pens.forEach((pen) => {\n        const { inView, worldRect, active } = pen.calculative;\n        if (inView === false ||\n            (!calcActive && active) || // 如果不计算活动层，则过滤掉活动层\n            rectInFourAngRect(paddingRect, worldRect) || // 水平和垂直方向 无重合\n            (pen.type &&\n                store.active.some((active) => isConnectLine(store, active, pen)))) {\n            return;\n        }\n        // 得到图形的全部点\n        const points = getPointsByPen(pen);\n        if (!points) {\n            return;\n        }\n        // 比对 points 中的点，必须找出最近的点，不可提前跳出\n        for (const point of points) {\n            for (const activePoint of activePoints) {\n                const stepX = point.x - activePoint.x;\n                const stepY = point.y - activePoint.y;\n                const absStepX = Math.abs(stepX);\n                const absStepY = Math.abs(stepY);\n                if (!rect.center) {\n                    rect.center = {\n                        x: rect.x + rect.width / 2,\n                        y: rect.y + rect.height / 2,\n                    };\n                }\n                if (absStepX < closeSize && absStepX < minCloseX) {\n                    xDock = {\n                        x: Math.round(point.x) + 0.5,\n                        y: Math.round(point.y) + 0.5,\n                        step: stepX,\n                        prev: {\n                            x: Math.round(activePoint.x) + 0.5,\n                            y: Math.round(activePoint.y) + 0.5,\n                        },\n                        penId: pen.id,\n                        anchorId: activePoint.id,\n                        dockAnchorId: point.id,\n                    };\n                    minCloseX = absStepX;\n                }\n                if (absStepY < closeSize && absStepY < minCloseY) {\n                    yDock = {\n                        x: Math.round(point.x) + 0.5,\n                        y: Math.round(point.y) + 0.5,\n                        step: stepY,\n                        prev: {\n                            x: Math.round(activePoint.x) + 0.5,\n                            y: Math.round(activePoint.y) + 0.5,\n                        },\n                        penId: pen.id,\n                        anchorId: activePoint.id,\n                        dockAnchorId: point.id,\n                    };\n                    minCloseY = absStepY;\n                }\n            }\n        }\n    });\n    return {\n        xDock,\n        yDock,\n    };\n}\n/**\n * 判断 line 是否是 active 的连接线（并且计算子节点）\n * @param store\n * @param active 本次计算的画笔\n * @param line 连线\n * @returns\n */\nfunction isConnectLine(store, active, line) {\n    if (!line.type) {\n        return false;\n    }\n    if (Array.isArray(active?.connectedLines)) {\n        for (const cline of active?.connectedLines) {\n            if (cline.lineId === line.id) {\n                return true;\n            }\n        }\n    }\n    // 考虑子节点\n    if (Array.isArray(active?.children)) {\n        for (const id of active.children) {\n            const child = store.pens[id];\n            if (isConnectLine(store, child, line)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n/**\n * 是否近似于 num\n * @param num\n */\nexport function isEqual(source, target) {\n    // @ts-ignore\n    return source.toFixed(12) == target;\n}\n//# sourceMappingURL=math.js.map","import { s8 } from '../utils';\nexport function randomId(pen) {\n    pen.id = s8();\n    if (Array.isArray(pen.anchors)) {\n        for (const pt of pen.anchors) {\n            pen.type && (pt.id = s8());\n            pt.penId = pen.id;\n            if (pt.prev) {\n                pen.type && (pt.prev.id = s8());\n                pt.prev.penId = pen.id;\n            }\n            if (pt.next) {\n                pen.type && (pt.next.id = s8());\n                pt.next.penId = pen.id;\n            }\n        }\n    }\n}\n//# sourceMappingURL=utils.js.map","// 该文件为penPlugin的相关文件\n/**\n * @description 闭包 重写 pen的生命周期，为了追加回调函数\n * @return 生命周期操作函数，可在原生命周期回调函数基础上进行执行多个函数，可通过传参，设置函数的增加和删除，类似addEventListener 和 removeEventListener\n * @bug 漏洞：后面的生命周期无法将前面的生命周期需要的参数正确传递\n */\nfunction rewritePenLifeCycle() {\n    let funcMap = null;\n    let funcPenMap = new Map();\n    return (pen, lifeCycle, func, del = false) => {\n        if (funcPenMap.has(pen) && funcPenMap.get(pen)) {\n            funcMap = funcPenMap.get(pen);\n        }\n        else {\n            funcPenMap.set(pen, funcMap = new Map());\n        }\n        if (typeof func !== \"function\")\n            return () => {\n                console.warn('[rewritePenLifeCycle] warn: not a function ');\n            };\n        let funcListSet = new Set();\n        let originFuncMap = new Map(); // 原始事件回调Map\n        if (funcMap.has(lifeCycle) && funcMap.get(lifeCycle)) {\n            funcListSet = funcMap.get(lifeCycle);\n        }\n        else {\n            originFuncMap.set(lifeCycle, pen[lifeCycle]);\n            funcMap.set(lifeCycle, funcListSet);\n        }\n        if (del) {\n            funcListSet.delete(func);\n        }\n        else {\n            funcListSet.add(func);\n        }\n        let originLifeCycle = originFuncMap.get(lifeCycle); // 原始事件;\n        let rewriteFunc = (...args) => {\n            originLifeCycle?.(...args);\n            funcListSet.forEach(i => {\n                // @ts-ignore\n                i(...args);\n            });\n        };\n        pen[lifeCycle] = rewriteFunc;\n    };\n}\nexport let setLifeCycleFunc = rewritePenLifeCycle();\n/**\n * @description 校验插件*/\nexport function validationPlugin(plugin) {\n    // 校验penPlugin\n    if (!plugin.name && !plugin.install) {\n        console.error('installPenPlugin Error: Validation Failed');\n        return false;\n    }\n    return true;\n}\n//# sourceMappingURL=plugin.js.map","import { isEqual } from '../pen';\nimport { rotatePoint, scalePoint } from '../point';\nimport { formatPadding } from '../utils';\nexport function pointInRect(pt, rect) {\n    if (!rect) {\n        return;\n    }\n    if (rect.ex == null) {\n        calcRightBottom(rect);\n    }\n    if (!rect.rotate ||\n        // rect.width < 20 ||\n        // rect.height < 20 ||\n        rect.rotate % 360 === 0) {\n        return pt.x > rect.x && pt.x < rect.ex && pt.y > rect.y && pt.y < rect.ey;\n    }\n    if (!rect.center) {\n        calcCenter(rect);\n    }\n    const pts = [\n        { x: rect.x, y: rect.y },\n        { x: rect.ex, y: rect.y },\n        { x: rect.ex, y: rect.ey },\n        { x: rect.x, y: rect.ey },\n    ];\n    pts.forEach((item) => {\n        rotatePoint(item, rect.rotate, rect.pivot || rect.center);\n    });\n    return pointInVertices(pt, pts);\n}\nexport function pointInSimpleRect(pt, rect, r = 0) {\n    const { x, y, ex, ey } = rect;\n    return pt.x >= x - r && pt.x <= ex + r && pt.y >= y - r && pt.y <= ey + r;\n}\nexport function calcCenter(rect) {\n    if (!rect.center) {\n        rect.center = {};\n    }\n    rect.center.x = rect.x + rect.width / 2;\n    rect.center.y = rect.y + rect.height / 2;\n}\nexport function calcRightBottom(rect) {\n    rect.ex = rect.x + rect.width;\n    rect.ey = rect.y + rect.height;\n}\nexport function calcPivot(rect, pivot) {\n    if (!rect.pivot) {\n        rect.pivot = {};\n    }\n    rect.pivot.x = rect.x + rect.width * pivot.x;\n    rect.pivot.y = rect.y + rect.height * pivot.y;\n}\nexport function pointInVertices(point, vertices) {\n    if (vertices.length < 3) {\n        return false;\n    }\n    let isIn = false;\n    let last = vertices[vertices.length - 1];\n    for (const item of vertices) {\n        if (last.y > point.y !== item.y > point.y) {\n            if (item.x + ((point.y - item.y) * (last.x - item.x)) / (last.y - item.y) >\n                point.x) {\n                isIn = !isIn;\n            }\n        }\n        last = item;\n    }\n    return isIn;\n}\nexport function getRect(pens) {\n    const points = [];\n    pens.forEach((pen) => {\n        if (pen.isRuleLine) {\n            return;\n        }\n        const rect = pen.calculative.worldRect;\n        if (rect) {\n            const pts = rectToPoints(rect);\n            // rectToPoints 已经计算过 rotate 无需重复计算\n            points.push(...pts);\n        }\n    });\n    const rect = getRectOfPoints(points);\n    calcCenter(rect);\n    return rect;\n}\nexport function rectToPoints(rect) {\n    const pts = [\n        { x: rect.x, y: rect.y },\n        { x: rect.ex, y: rect.y },\n        { x: rect.ex, y: rect.ey },\n        { x: rect.x, y: rect.ey },\n    ];\n    if (rect.rotate) {\n        if (!rect.center) {\n            calcCenter(rect);\n        }\n        pts.forEach((pt) => {\n            rotatePoint(pt, rect.rotate, rect.pivot || rect.center);\n        });\n    }\n    return pts;\n}\nexport function getRectOfPoints(points) {\n    let x = Infinity;\n    let y = Infinity;\n    let ex = -Infinity;\n    let ey = -Infinity;\n    points?.forEach((item) => {\n        if (!isFinite(item.x) || !isFinite(item.y)) {\n            return;\n        }\n        x = Math.min(x, item.x);\n        y = Math.min(y, item.y);\n        ex = Math.max(ex, item.x);\n        ey = Math.max(ey, item.y);\n    });\n    return { x, y, ex, ey, width: ex - x, height: ey - y };\n}\nexport function rectInRect(source, target, allIn) {\n    if (source.rotate) {\n        // 根据 rotate 扩大 rect\n        source = getRectOfPoints(rectToPoints(source)); // 更改 source 引用地址值，不影响原值\n    }\n    if (allIn) {\n        return (source.x > target.x &&\n            source.ex < target.ex &&\n            source.y > target.y &&\n            source.ey < target.ey);\n    }\n    return !(source.x > target.ex ||\n        source.ex < target.x ||\n        source.ey < target.y ||\n        source.y > target.ey);\n}\n/**\n * 一个 rect 在另一个 rect 的 四个角，即水平区域不重合，垂直区域不重合\n */\nexport function rectInFourAngRect(source, target) {\n    return ((target.x > source.ex || target.ex < source.x) &&\n        (target.y > source.ey || target.ey < source.y));\n}\n/**\n * 扩大 rect ，x，y，ex，ey 值都会变\n * @param rect 原 rect ，无副作用\n * @param size padding 类型，可传四个方向的值，也可以只传一个值\n */\nexport function expandRect(rect, size) {\n    const padding = formatPadding(size);\n    const retRect = {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[1] + padding[3],\n        height: rect.height + padding[0] + padding[2],\n    };\n    calcRightBottom(retRect);\n    return retRect;\n}\nexport function translateRect(rect, x, y) {\n    rect.x += x;\n    rect.y += y;\n    rect.ex += x;\n    rect.ey += y;\n    if (rect.center) {\n        rect.center.x += x;\n        rect.center.y += y;\n    }\n    if (rect.pivot) {\n        rect.pivot.x += x;\n        rect.pivot.y += y;\n    }\n}\n/**\n * 通过两条线段计算出相交的点\n * @param line1 线段1\n * @param line2 线段2\n */\nfunction getIntersectPoint(line1, line2) {\n    const k1 = (line1.to.y - line1.from.y) / (line1.to.x - line1.from.x);\n    const k2 = (line2.to.y - line2.from.y) / (line2.to.x - line2.from.x);\n    return getIntersectPointByK({\n        k: k1,\n        point: line1.from,\n    }, {\n        k: k2,\n        point: line2.from,\n    });\n}\n/**\n * 该方法作用同上，不过此方法需要传的是 斜率\n * @param line1 线段1\n * @param line2 线段2\n * @returns\n */\nfunction getIntersectPointByK(line1, line2) {\n    if (isEqual(line1.k, 0)) {\n        return {\n            x: line2.point.x,\n            y: line1.point.y,\n        };\n    }\n    else if (isEqual(line2.k, 0)) {\n        return {\n            x: line1.point.x,\n            y: line2.point.y,\n        };\n    }\n    const b1 = line1.point.y - line1.k * line1.point.x;\n    const b2 = line2.point.y - line2.k * line2.point.x;\n    const x = (b2 - b1) / (line1.k - line2.k);\n    const y = line1.k * x + b1;\n    return {\n        x,\n        y,\n    };\n}\n/**\n * 通过 4 个点和旋转角度，计算出原矩形（旋转前的矩形）\n * @param pts 4 个点\n * @param rotate 旋转角度\n */\nfunction pointsToRect(pts, rotate) {\n    // 1. 计算 center，认为 0，2 ；1，3 的连线相交就是 center 点\n    const center = getIntersectPoint({\n        from: pts[0],\n        to: pts[2],\n    }, {\n        from: pts[1],\n        to: pts[3],\n    });\n    // 2. 把点反向转 rotate °\n    for (const pt of pts) {\n        rotatePoint(pt, -rotate, center);\n    }\n    // 3. 计算区域\n    return getRectOfPoints(pts);\n}\nexport function resizeRect(rect, offsetX, offsetY, resizeIndex) {\n    let calcRotate = rect.rotate ? rect.rotate % 360 : 0;\n    if (calcRotate) {\n        // 计算出外边的四个点\n        const pts = rectToPoints(rect);\n        // 斜率不改变，提前计算\n        const k1 = (pts[0].y - pts[1].y) / (pts[0].x - pts[1].x);\n        const k2 = (pts[1].y - pts[2].y) / (pts[1].x - pts[2].x);\n        if (resizeIndex < 4) {\n            // 斜对角的四个点\n            // resize 的点\n            pts[resizeIndex].x += offsetX;\n            if (rect.ratio) {\n                if (resizeIndex === 0 || resizeIndex === 2) {\n                    let calcOffsetY = offsetX * Math.tan((90 - (360 - calcRotate) - (Math.atan(rect.width / rect.height)) / Math.PI * 180) / 180 * Math.PI);\n                    pts[resizeIndex].y += calcOffsetY;\n                }\n                else {\n                    let calcOffsetY = offsetX * Math.tan((90 - (360 - calcRotate) + (Math.atan(rect.width / rect.height)) / Math.PI * 180) / 180 * Math.PI);\n                    pts[resizeIndex].y += calcOffsetY;\n                }\n            }\n            else {\n                pts[resizeIndex].y += offsetY;\n            }\n            // 不变的点\n            const noChangePoint = pts[(resizeIndex + 2) % 4];\n            // 由于斜率是不变的，我们只需要根据斜率 和 已知的两点求出相交的 另外两点\n            pts[(resizeIndex + 1) % 4] = getIntersectPointByK({ k: resizeIndex % 2 ? k2 : k1, point: pts[resizeIndex] }, { k: resizeIndex % 2 ? k1 : k2, point: noChangePoint });\n            pts[(resizeIndex + 4 - 1) % 4] = getIntersectPointByK({ k: resizeIndex % 2 ? k1 : k2, point: pts[resizeIndex] }, { k: resizeIndex % 2 ? k2 : k1, point: noChangePoint });\n        }\n        else {\n            // 边缘四个点有两个点固定\n            const k = [4, 6].includes(resizeIndex) ? k2 : k1;\n            if (!isEqual(k, 0)) {\n                pts[resizeIndex % 4].y += offsetY;\n                pts[resizeIndex % 4].x += offsetY / k;\n                pts[(resizeIndex + 1) % 4].y += offsetY;\n                pts[(resizeIndex + 1) % 4].x += offsetY / k;\n            }\n            else {\n                pts[resizeIndex % 4].x += offsetX;\n                pts[(resizeIndex + 1) % 4].x += offsetX;\n            }\n        }\n        if ((pts[0].x - pts[1].x) ** 2 + (pts[0].y - pts[1].y) ** 2 < 25 ||\n            (pts[1].x - pts[2].x) ** 2 + (pts[1].y - pts[2].y) ** 2 < 25) {\n            // 距离小于 5 不能继续 resize 了\n            return;\n        }\n        const retRect = pointsToRect(pts, rect.rotate);\n        calcCenter(retRect);\n        Object.assign(rect, retRect);\n        return;\n    }\n    switch (resizeIndex) {\n        case 0:\n            if (rect.width - offsetX < 5 || rect.height - offsetY < 5) {\n                break;\n            }\n            rect.x += offsetX;\n            rect.y += offsetY;\n            rect.width -= offsetX;\n            rect.height -= offsetY;\n            break;\n        case 1:\n            if (rect.width + offsetX < 5 || rect.height - offsetY < 5) {\n                break;\n            }\n            rect.ex += offsetX;\n            rect.y += offsetY;\n            rect.width += offsetX;\n            rect.height -= offsetY;\n            break;\n        case 2:\n            if (rect.width + offsetX < 5 || rect.height + offsetY < 5) {\n                break;\n            }\n            rect.ex += offsetX;\n            rect.ey += offsetY;\n            rect.width += offsetX;\n            rect.height += offsetY;\n            break;\n        case 3:\n            if (rect.width - offsetX < 5 || rect.height + offsetY < 5) {\n                break;\n            }\n            rect.x += offsetX;\n            rect.ey += offsetY;\n            rect.width -= offsetX;\n            rect.height += offsetY;\n            break;\n        case 4:\n            if (rect.height - offsetY < 5) {\n                break;\n            }\n            rect.y += offsetY;\n            rect.height -= offsetY;\n            break;\n        case 5:\n            if (rect.width + offsetX < 5) {\n                break;\n            }\n            rect.ex += offsetX;\n            rect.width += offsetX;\n            break;\n        case 6:\n            if (rect.height + offsetY < 5) {\n                break;\n            }\n            rect.ey += offsetY;\n            rect.height += offsetY;\n            break;\n        case 7:\n            if (rect.width - offsetX < 5) {\n                break;\n            }\n            rect.x += offsetX;\n            rect.width -= offsetX;\n            break;\n    }\n}\nexport function scaleRect(rect, scale, center, pivot) {\n    if (!rect) {\n        return;\n    }\n    rect.width *= scale;\n    rect.height *= scale;\n    scalePoint(rect, scale, center);\n    calcRightBottom(rect);\n    calcCenter(rect);\n    if (pivot) {\n        calcPivot(rect, pivot);\n    }\n}\nexport function calcRelativeRect(rect, worldRect) {\n    const relRect = {\n        x: (rect.x - worldRect.x) / worldRect.width,\n        y: (rect.y - worldRect.y) / worldRect.height,\n        width: rect.width / worldRect.width,\n        height: rect.height / worldRect.height,\n    };\n    calcRightBottom(relRect);\n    return relRect;\n}\n/**\n * 计算相对点 ，anchors 中的值都是百分比\n * @param pt 绝对坐标\n * @param worldRect 图形外接矩形\n * @returns 相对坐标点\n */\nexport function calcRelativePoint(pt, worldRect) {\n    const { x, y, width, height } = worldRect;\n    const { penId, connectTo } = pt;\n    const point = Object.assign({}, pt, {\n        x: width ? (pt.x - x) / width : 0,\n        y: height ? (pt.y - y) / height : 0,\n    });\n    if (pt.prev) {\n        point.prev = {\n            penId,\n            connectTo,\n            x: width ? (pt.prev.x - x) / width : 0,\n            y: height ? (pt.prev.y - y) / height : 0,\n        };\n    }\n    if (pt.next) {\n        point.next = {\n            penId,\n            connectTo,\n            x: width ? (pt.next.x - x) / width : 0,\n            y: height ? (pt.next.y - y) / height : 0,\n        };\n    }\n    return point;\n}\n//射线法 判断点是否在多边形内部\nexport function pointInPolygon(pt, pts) {\n    let inside = false;\n    for (let i = 0, j = pts.length - 1; i < pts.length; j = i++) {\n        let xi = pts[i].x, yi = pts[i].y;\n        let xj = pts[j].x, yj = pts[j].y;\n        let intersect = ((yi > pt.y) != (yj > pt.y))\n            && (pt.x < (xj - xi) * (pt.y - yi) / (yj - yi) + xi);\n        if (intersect)\n            inside = !inside;\n    }\n    return inside;\n}\n//# sourceMappingURL=rect.js.map","// This logic is shamelessly borrowed from Yqnn/svg-path-editor\n// https://github.com/Yqnn/svg-path-editor\nconst commandRegex = /^[\\t\\n\\f\\r ]*([MLHVZCSQTAmlhvzcsqta])[\\t\\n\\f\\r ]*/;\nconst flagRegex = /^[01]/;\nconst numberRegex = /^[+-]?(([0-9]*\\.[0-9]+)|([0-9]+\\.)|([0-9]+))([eE][+-]?[0-9]+)?/;\nconst commaWsp = /^(([\\t\\n\\f\\r ]+,?[\\t\\n\\f\\r ]*)|(,[\\t\\n\\f\\r ]*))/;\nconst grammar = {\n    M: [numberRegex, numberRegex],\n    L: [numberRegex, numberRegex],\n    H: [numberRegex],\n    V: [numberRegex],\n    Z: [],\n    C: [\n        numberRegex,\n        numberRegex,\n        numberRegex,\n        numberRegex,\n        numberRegex,\n        numberRegex,\n    ],\n    S: [numberRegex, numberRegex, numberRegex, numberRegex],\n    Q: [numberRegex, numberRegex, numberRegex, numberRegex],\n    T: [numberRegex, numberRegex],\n    A: [\n        numberRegex,\n        numberRegex,\n        numberRegex,\n        flagRegex,\n        flagRegex,\n        numberRegex,\n        numberRegex,\n    ],\n};\nexport function parseSvgPath(path) {\n    let cursor = 0;\n    const commands = [];\n    while (cursor < path.length) {\n        const match = path.slice(cursor).match(commandRegex);\n        if (match !== null) {\n            const command = match[1];\n            cursor += match[0].length;\n            const parser = parseCommands(command, path, cursor);\n            cursor = parser.cursor;\n            commands.push(...parser.commands);\n        }\n        else {\n            throw new Error('malformed path (first error at ' + cursor + ')');\n        }\n    }\n    return { commands };\n}\nexport function getRect(path) {\n    let x = Infinity;\n    let y = Infinity;\n    let ex = -Infinity;\n    let ey = -Infinity;\n    calcWorldPositions(path);\n    path.commands.forEach((item) => {\n        item.worldPoints.forEach((num, index) => {\n            if (index % 2 === 0) {\n                if (num < x) {\n                    x = num;\n                }\n                if (num > ex) {\n                    ex = num;\n                }\n            }\n            else {\n                if (num < y) {\n                    y = num;\n                }\n                if (num > ey) {\n                    ey = num;\n                }\n            }\n        });\n    });\n    //TODO ？\n    // --x;\n    // --y;\n    return {\n        x,\n        y,\n        ex,\n        ey,\n        width: ex - x + 1,\n        height: ey - y + 1,\n    };\n}\nexport function translatePath(path, x, y) {\n    if (y == null) {\n        y = x;\n    }\n    path.commands.forEach((item, index) => {\n        if (item.relative && index) {\n            return;\n        }\n        switch (item.key) {\n            case 'A':\n            case 'a':\n                item.values[5] += x;\n                item.values[6] += y;\n                break;\n            case 'V':\n            case 'v':\n                item.values[0] += y;\n                break;\n            default:\n                item.values.forEach((val, i) => {\n                    item.values[i] = val + (i % 2 === 0 ? x : y);\n                });\n                break;\n        }\n    });\n}\nexport function scalePath(path, x, y) {\n    if (y == null) {\n        y = x;\n    }\n    path.commands.forEach((item) => {\n        switch (item.key) {\n            case 'A':\n            case 'a':\n                const a = item.values[0];\n                const b = item.values[1];\n                const angle = (Math.PI * item.values[2]) / 180;\n                const cos = Math.cos(angle);\n                const sin = Math.sin(angle);\n                const A = b * b * y * y * cos * cos + a * a * y * y * sin * sin;\n                const B = 2 * x * y * cos * sin * (b * b - a * a);\n                const C = a * a * x * x * cos * cos + b * b * x * x * sin * sin;\n                const F = -(a * a * b * b * x * x * y * y);\n                const det = B * B - 4 * A * C;\n                const val1 = Math.sqrt((A - C) * (A - C) + B * B);\n                // New rotation:\n                item.values[2] =\n                    B !== 0\n                        ? (Math.atan((C - A - val1) / B) * 180) / Math.PI\n                        : A < C\n                            ? 0\n                            : 90;\n                // New radius-x, radius-y\n                item.values[0] = -Math.sqrt(2 * det * F * (A + C + val1)) / det;\n                item.values[1] = -Math.sqrt(2 * det * F * (A + C - val1)) / det;\n                // New target\n                item.values[5] *= x;\n                item.values[6] *= y;\n                // New sweep flag\n                item.values[4] = x * y >= 0 ? item.values[4] : 1 - item.values[4];\n                break;\n            case 'V':\n            case 'v':\n                item.values[0] *= y;\n                break;\n            default:\n                item.values.forEach((val, index) => {\n                    item.values[index] = val * (index % 2 === 0 ? x : y);\n                });\n                break;\n        }\n    });\n}\nexport function pathToString(path) {\n    let text = '';\n    path.commands.forEach((item) => {\n        text += item.key + ' ';\n        item.values.forEach((num) => {\n            text += num + ' ';\n        });\n    });\n    return text;\n}\nfunction parseCommands(type, path, cursor) {\n    const expectedRegexList = grammar[type.toUpperCase()];\n    const commands = [];\n    while (cursor <= path.length) {\n        const command = { key: type, values: [] };\n        for (const regex of expectedRegexList) {\n            const match = path.slice(cursor).match(regex);\n            if (match !== null) {\n                command.values.push(+match[0]);\n                cursor += match[0].length;\n                const ws = path.slice(cursor).match(commaWsp);\n                if (ws !== null) {\n                    cursor += ws[0].length;\n                }\n            }\n            else if (command.values.length === 0) {\n                return { cursor, commands };\n            }\n            else {\n                throw new Error('malformed path (first error at ' + cursor + ')');\n            }\n        }\n        command.relative = command.key.toUpperCase() !== command.key;\n        commands.push(command);\n        if (expectedRegexList.length === 0) {\n            return { cursor, commands };\n        }\n        if (type === 'm') {\n            type = 'l';\n        }\n        if (type === 'M') {\n            type = 'L';\n        }\n    }\n    throw new Error('malformed path (first error at ' + cursor + ')');\n}\nfunction calcWorldPoints(command, previous) {\n    const worldPoints = [];\n    let current = command.relative && previous\n        ? {\n            x: previous.worldPoints[previous.worldPoints.length - 2],\n            y: previous.worldPoints[previous.worldPoints.length - 1],\n        }\n        : { x: 0, y: 0 };\n    for (let i = 0; i < command.values.length - 1; i += 2) {\n        worldPoints.push(current.x + command.values[i]);\n        worldPoints.push(current.y + command.values[i + 1]);\n    }\n    command.worldPoints = worldPoints;\n}\nfunction calcWorldPositions(path) {\n    let previous;\n    let x = 0;\n    let y = 0;\n    path.commands.forEach((item) => {\n        switch (item.key) {\n            case 'Z':\n            case 'z':\n                item.worldPoints = [x, y];\n                break;\n            case 'H':\n                item.worldPoints = [\n                    item.values[0],\n                    previous.worldPoints[previous.worldPoints.length - 1],\n                ];\n                break;\n            case 'h':\n                item.worldPoints = [\n                    item.values[0] +\n                        previous.worldPoints[previous.worldPoints.length - 2],\n                    previous.worldPoints[previous.worldPoints.length - 1],\n                ];\n                break;\n            case 'V':\n                item.worldPoints = [\n                    previous.worldPoints[previous.worldPoints.length - 2],\n                    item.values[0],\n                ];\n                break;\n            case 'v':\n                item.worldPoints = [\n                    previous.worldPoints[previous.worldPoints.length - 2],\n                    item.values[0] +\n                        previous.worldPoints[previous.worldPoints.length - 1],\n                ];\n                break;\n            case 'A':\n                item.worldPoints = [\n                    previous.worldPoints[previous.worldPoints.length - 2],\n                    item.values[0] +\n                        previous.worldPoints[previous.worldPoints.length - 1],\n                ];\n                break;\n            default:\n                calcWorldPoints(item, previous);\n                break;\n        }\n        if (item.key === 'M' ||\n            item.key === 'm' ||\n            item.key === 'Z' ||\n            item.key === 'z') {\n            x = item.worldPoints[item.worldPoints.length - 2];\n            y = item.worldPoints[item.worldPoints.length - 1];\n        }\n        previous = item;\n    });\n}\n//# sourceMappingURL=parse.js.map","import { calcCenter } from '../rect';\nimport { getRect, parseSvgPath, pathToString, scalePath, translatePath, } from './svg/parse';\nexport function svgPath(pen, ctx) {\n    const store = pen.calculative.canvas.store;\n    const pathText = store.data.paths[pen.pathId];\n    if (!pathText) {\n        return new Path2D();\n    }\n    const path = parseSvgPath(pathText);\n    pen.calculative.svgRect = getRect(path);\n    calcCenter(pen.calculative.svgRect);\n    if (pen.calculative.svgRect.width !== pen.calculative.worldRect.width ||\n        pen.calculative.svgRect.height !== pen.calculative.worldRect.height) {\n        scalePath(path, pen.calculative.worldRect.width / pen.calculative.svgRect.width, pen.calculative.worldRect.height / pen.calculative.svgRect.height);\n    }\n    const rect = getRect(path);\n    calcCenter(rect);\n    translatePath(path, pen.calculative.worldRect.x - rect.x, pen.calculative.worldRect.y - rect.y);\n    const pathStr = pathToString(path);\n    if (ctx) {\n        ctx.svgPath?.(pathStr);\n        return;\n    }\n    const path2D = new Path2D(pathStr);\n    // TODO: 为何要闭合曲线\n    // path2D.closePath();\n    return path2D;\n}\n//# sourceMappingURL=svgPath.js.map","export function diamond(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x + width / 2, y);\n    path.lineTo(x + width, y + height / 2);\n    path.lineTo(x + width / 2, y + height);\n    path.lineTo(x, y + height / 2);\n    path.lineTo(x + width / 2, y);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=diamond.js.map","export function triangle(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x + width / 2, y);\n    path.lineTo(x + width, y + height);\n    path.lineTo(x, y + height);\n    path.lineTo(x + width / 2, y);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function triangleAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 0.75,\n            y: 0.5,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n        {\n            x: 0.25,\n            y: 0.5,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=triangle.js.map","export function pentagon(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x + width / 2, y);\n    path.lineTo(x + width, y + (height * 2) / 5);\n    path.lineTo(x + (width * 4) / 5, y + height);\n    path.lineTo(x + width / 5, y + height);\n    path.lineTo(x, y + (height * 2) / 5);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function pentagonAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 1,\n            y: 0.4,\n        },\n        {\n            x: 0.8,\n            y: 1,\n        },\n        {\n            x: 0.2,\n            y: 1,\n        },\n        {\n            x: 0,\n            y: 0.4,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=pentagon.js.map","export function pentagram(pen, ctx) {\n    if (!pen.onResize) {\n        pen.onResize = resize;\n    }\n    const path = !ctx ? new Path2D() : ctx;\n    const { width, height, center } = pen.calculative.worldRect;\n    const r = width > height ? height : width;\n    //旋转中心点\n    const centerx = center.x;\n    const centery = center.y;\n    const basey = centery - r / 2;\n    const baseyi = centery - r / 4;\n    const lx = -(baseyi - centery) * Math.sin((Math.PI / 180) * 324) + centerx;\n    const ly = (baseyi - centery) * Math.cos((Math.PI / 180) * 324) + centery;\n    path.moveTo(lx, ly);\n    for (let i = 0; i < 5; ++i) {\n        // TODO: Math.sin Math.cos 考虑优化下\n        path.lineTo(-(basey - centery) * Math.sin((Math.PI / 180) * 72 * i) + centerx, (basey - centery) * Math.cos((Math.PI / 180) * 72 * i) + centery);\n        path.lineTo((lx - centerx) * Math.cos((Math.PI / 180) * 72 * (i + 1)) -\n            (ly - centery) * Math.sin((Math.PI / 180) * 72 * (i + 1)) +\n            centerx, (lx - centerx) * Math.sin((Math.PI / 180) * 72 * (i + 1)) +\n            (ly - centery) * Math.cos((Math.PI / 180) * 72 * (i + 1)) +\n            centery);\n    }\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function pentagramAnchors(pen) {\n    // TODO: 组合状态下的 width height 成了固定的百分比\n    const { width, height } = pen;\n    const r = width > height ? height : width;\n    const anchors = [];\n    for (let i = 0; i < 5; ++i) {\n        anchors.push({\n            flag: 1, // 默认锚点\n            id: String(i),\n            penId: pen.id,\n            x: 0.5 + ((r / 2) * Math.sin((Math.PI / 180) * 72 * i)) / width,\n            y: ((-r / 2) * Math.cos((Math.PI / 180) * 72 * i)) / height + 0.5,\n        });\n    }\n    pen.anchors = anchors;\n}\nfunction resize(pen) {\n    // 过滤出非默认锚点，即自定义锚点\n    const manualPoints = pen.anchors.filter((point) => point.flag !== 1);\n    pentagramAnchors(pen);\n    pen.anchors = pen.anchors.concat(...manualPoints);\n}\n//# sourceMappingURL=pentagram.js.map","export function hexagon(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x + width / 4, y);\n    path.lineTo(x + (width * 3) / 4, y);\n    path.lineTo(x + width, y + height / 2);\n    path.lineTo(x + (width * 3) / 4, y + height);\n    path.lineTo(x + (width * 1) / 4, y + height);\n    path.lineTo(x, y + height / 2);\n    path.lineTo(x + width / 4, y);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n// export function hexagonAnchors(pen: Pen) {\n//   const anchors: Point[] = [];\n//   anchors.push({\n//     id: '0',\n//     penId: pen.id,\n//     x: 0.25,\n//     y: 0,\n//   });\n//   anchors.push({\n//     id: '1',\n//     penId: pen.id,\n//     x: 0.75,\n//     y: 0,\n//   });\n//   anchors.push({\n//     id: '2',\n//     penId: pen.id,\n//     x: 1,\n//     y: 0.5,\n//   });\n//   anchors.push({\n//     id: '3',\n//     penId: pen.id,\n//     x: 0.75,\n//     y: 1,\n//   });\n//   anchors.push({\n//     id: '4',\n//     penId: pen.id,\n//     x: 0.25,\n//     y: 1,\n//   });\n//   anchors.push({\n//     id: '5',\n//     penId: pen.id,\n//     x: 0,\n//     y: 0.5,\n//   });\n//   pen.anchors = anchors;\n// }\n//# sourceMappingURL=hexagon.js.map","export function leftArrow(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x, y + height / 2);\n    path.lineTo(x + height / 2, y);\n    path.lineTo(x + height / 2, y + height / 3);\n    path.lineTo(x + width, y + height / 3);\n    path.lineTo(x + width, y + (height * 2) / 3);\n    path.lineTo(x + height / 2, y + (height * 2) / 3);\n    path.lineTo(x + height / 2, y + (height * 2) / 3);\n    path.lineTo(x + height / 2, y + height);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function rightArrow(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x, y + height / 3);\n    path.lineTo(x + (width - height / 2), y + height / 3);\n    path.lineTo(x + (width - height / 2), y);\n    path.lineTo(x + width, y + height / 2);\n    path.lineTo(x + (width - height / 2), y + height);\n    path.lineTo(x + (width - height / 2), y + (height * 2) / 3);\n    path.lineTo(x, y + (height * 2) / 3);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function twowayArrow(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x, y + height / 2);\n    path.lineTo(x + height / 2, y);\n    path.lineTo(x + height / 2, y + height / 3);\n    path.lineTo(x + (width - height / 2), y + height / 3);\n    path.lineTo(x + (width - height / 2), y);\n    path.lineTo(x + width, y + height / 2);\n    path.lineTo(x + (width - height / 2), y + height);\n    path.lineTo(x + (width - height / 2), y + (height * 2) / 3);\n    path.lineTo(x + height / 2, y + (height * 2) / 3);\n    path.lineTo(x + height / 2, y + height);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=arrow.js.map","export function message(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height, ey } = pen.calculative.worldRect;\n    path.moveTo(x, y);\n    path.lineTo(x + width, y);\n    path.lineTo(x + width, y + (height * 3) / 4);\n    path.lineTo(x + (width * 8) / 16, y + (height * 3) / 4);\n    path.lineTo(x + width / 4, ey);\n    path.lineTo(x + (width * 5) / 16, y + (height * 3) / 4);\n    path.lineTo(x, y + (height * 3) / 4);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=message.js.map","export function cloud(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x + width / 5, y + (height * 13) / 16);\n    path.bezierCurveTo(x - width / 15, y + (height * 13) / 16, x - width / 15, y + (height * 7) / 16, x + width / 5, y + (height * 7) / 16);\n    path.bezierCurveTo(x + width / 5, y, x + (width * 4) / 5, y, x + (width * 4) / 5, y + (height * 7) / 16);\n    path.bezierCurveTo(x + (width * 16) / 15, y + (height * 7) / 16, x + (width * 16) / 15, y + (height * 13) / 16, x + (width * 4) / 5, y + (height * 13) / 16);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=cloud.js.map","export function file(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, ex, ey } = pen.calculative.worldRect;\n    const offsetX = width / 6;\n    path.moveTo(x, y);\n    path.lineTo(ex - offsetX, y);\n    path.lineTo(ex, y + offsetX);\n    path.lineTo(ex, ey);\n    path.lineTo(x, ey);\n    path.closePath();\n    path.moveTo(ex - offsetX, y);\n    path.lineTo(ex - offsetX, y + offsetX);\n    path.lineTo(ex, y + offsetX);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=file.js.map","export function cube(ctx, pen) {\n    const { x, y, width, ex, ey } = pen.calculative.worldRect;\n    let offset = width * 0.25;\n    const z = pen.z;\n    if (z > 1) {\n        offset = z * pen.calculative.canvas.store.data.scale;\n    }\n    else if (z > 0) {\n        offset = width * z;\n    }\n    const p1 = {\n        x: x,\n        y: y + offset,\n    };\n    const p2 = {\n        x: ex - offset,\n        y: y + offset,\n    };\n    const p3 = {\n        x: ex - offset,\n        y: ey,\n    };\n    const p4 = {\n        x: x,\n        y: ey,\n    };\n    // front\n    face(ctx, [p1, p2, p3, p4], pen.backgroundFront || pen.background, pen.color);\n    // up\n    face(ctx, [\n        p1,\n        {\n            x: x + offset,\n            y: y,\n        },\n        { x: ex, y: y },\n        p2,\n    ], pen.backgroundUp || pen.background, pen.color);\n    // right\n    face(ctx, [\n        p2,\n        { x: ex, y: y },\n        {\n            x: ex,\n            y: ey - offset,\n        },\n        p3,\n    ], pen.backgroundRight || pen.background, pen.color);\n}\nfunction face(ctx, points, fillStyle = '', strokeStyle = '') {\n    ctx.save();\n    fillStyle && (ctx.fillStyle = fillStyle);\n    strokeStyle && (ctx.strokeStyle = strokeStyle);\n    ctx.beginPath();\n    for (let i = 0; i < points.length; ++i) {\n        if (i) {\n            ctx.lineTo(points[i].x, points[i].y);\n        }\n        else {\n            ctx.moveTo(points[i].x, points[i].y);\n        }\n    }\n    ctx.closePath();\n    fillStyle && ctx.fill();\n    ctx.stroke();\n    ctx.restore();\n}\n//# sourceMappingURL=cube.js.map","export function people(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, ex, ey } = pen.calculative.worldRect;\n    const r = width / 4;\n    const middle = x + width / 2;\n    path.arc(middle, y + r, r, 0, Math.PI * 2);\n    path.moveTo(x, y + r * 3);\n    path.lineTo(ex, y + r * 3);\n    path.moveTo(middle, y + r * 2);\n    path.lineTo(middle, y + r * 4);\n    path.moveTo(middle, y + r * 4);\n    path.lineTo(x, ey);\n    path.moveTo(middle, y + r * 4);\n    path.lineTo(ex, ey);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=people.js.map","import { Direction } from '../../data';\nimport { facePen, getToAnchor } from '../../pen';\nimport { distance, PrevNextType, rotatePoint } from '../../point';\nimport { s8 } from '../../utils';\nexport function curve(store, pen, mousedwon) {\n    if (!pen.calculative.worldAnchors) {\n        pen.calculative.worldAnchors = [];\n    }\n    if (mousedwon) {\n        if (pen.calculative.activeAnchor) {\n            pen.calculative.activeAnchor.next = {\n                penId: pen.id,\n                x: mousedwon.x,\n                y: mousedwon.y,\n            };\n            if (distance(pen.calculative.activeAnchor.next, pen.calculative.activeAnchor) < 5) {\n                pen.calculative.activeAnchor.next = undefined;\n            }\n            else {\n                pen.calculative.activeAnchor.prev = {\n                    ...pen.calculative.activeAnchor.next,\n                };\n                rotatePoint(pen.calculative.activeAnchor.prev, 180, pen.calculative.activeAnchor);\n            }\n        }\n    }\n    else {\n        const from = pen.calculative.worldAnchors[0];\n        if (!from.next) {\n            const fromFace = facePen(from, store.pens[from.connectTo]);\n            calcCurveCP(from, fromFace, 50);\n            from.prev = undefined;\n        }\n        const to = pen.calculative.worldAnchors[pen.calculative.worldAnchors.length - 1];\n        if (to && to !== from && !to.prev) {\n            const toFace = facePen(to, store.pens[to.connectTo]);\n            calcCurveCP(to, toFace, -50);\n            to.next = undefined;\n        }\n    }\n}\nfunction calcCurveCP(pt, d, dis) {\n    switch (d) {\n        case Direction.Up:\n            pt.prev = {\n                penId: pt.penId,\n                x: pt.x,\n                y: pt.y + dis,\n            };\n            pt.next = {\n                penId: pt.penId,\n                x: pt.x,\n                y: pt.y - dis,\n            };\n            break;\n        case Direction.Right:\n            pt.prev = {\n                penId: pt.penId,\n                x: pt.x - dis,\n                y: pt.y,\n            };\n            pt.next = {\n                penId: pt.penId,\n                x: pt.x + dis,\n                y: pt.y,\n            };\n            break;\n        case Direction.Bottom:\n            pt.prev = {\n                penId: pt.penId,\n                x: pt.x,\n                y: pt.y - dis,\n            };\n            pt.next = {\n                penId: pt.penId,\n                x: pt.x,\n                y: pt.y + dis,\n            };\n            break;\n        case Direction.Left:\n            pt.prev = {\n                penId: pt.penId,\n                x: pt.x + dis,\n                y: pt.y,\n            };\n            pt.next = {\n                penId: pt.penId,\n                x: pt.x - dis,\n                y: pt.y,\n            };\n            break;\n    }\n}\n// Get a point in quadratic.\n// pos - The position of point in quadratic. It is expressed as a percentage(0 - 1).\nexport function getQuadraticPoint(step, from, cp, to) {\n    const pos = 1 - step;\n    const x = pos * pos * from.x + 2 * pos * step * cp.x + step * step * to.x;\n    const y = pos * pos * from.y + 2 * pos * step * cp.y + step * step * to.y;\n    return { x, y, step };\n}\n// Get a point in bezier.\n// pos - The position of point in bezier. It is expressed as a percentage(0 - 1).\nexport function getBezierPoint(step, from, cp1, cp2, to) {\n    const { x: x1, y: y1 } = from;\n    const { x: x2, y: y2 } = to;\n    const { x: cx1, y: cy1 } = cp1;\n    const { x: cx2, y: cy2 } = cp2;\n    const pos = 1 - step;\n    const x = x1 * pos * pos * pos +\n        3 * cx1 * step * pos * pos +\n        3 * cx2 * step * step * pos +\n        x2 * step * step * step;\n    const y = y1 * pos * pos * pos +\n        3 * cy1 * step * pos * pos +\n        3 * cy2 * step * step * pos +\n        y2 * step * step * step;\n    return { x, y, step };\n}\nfunction lerp(pt1, pt2, t) {\n    return {\n        x: pt1.x + t * (pt2.x - pt1.x),\n        y: pt1.y + t * (pt2.y - pt1.y),\n    };\n}\nexport function getSplitAnchor(pen, pt, index) {\n    let from = pen.calculative.worldAnchors[index];\n    let to = pen.calculative.worldAnchors[index + 1];\n    if (!to && pen.close) {\n        to = pen.calculative.worldAnchors[0];\n    }\n    const t = pt.step;\n    let anchor;\n    if (from.next && to.prev) {\n        const p0 = from;\n        const p1 = from.next;\n        const p2 = to.prev;\n        const p3 = to;\n        const p4 = lerp(p0, p1, t);\n        const p5 = lerp(p1, p2, t);\n        const p6 = lerp(p2, p3, t);\n        const p7 = lerp(p4, p5, t);\n        const p8 = lerp(p5, p6, t);\n        anchor = lerp(p7, p8, t);\n        p7.penId = pen.id;\n        anchor.prev = p7;\n        p8.penId = pen.id;\n        anchor.next = p8;\n        from.next.x = p4.x;\n        from.next.y = p4.y;\n        to.prev.x = p6.x;\n        to.prev.y = p6.y;\n    }\n    else if (from.next || to.prev) {\n        const p0 = from;\n        const p1 = from.next || to.prev;\n        const p2 = to;\n        const p3 = lerp(p0, p1, t);\n        const p4 = lerp(p1, p2, t);\n        anchor = pt;\n        p3.penId = pen.id;\n        p4.penId = pen.id;\n        anchor.prev = p3;\n        anchor.next = p4;\n        from.next = undefined;\n        to.prev = undefined;\n    }\n    else {\n        // 并非贝塞尔点，即 from 和 to 之间是一条直线\n        anchor = pt;\n    }\n    anchor.penId = pen.id;\n    anchor.id = s8();\n    anchor.prevNextType = PrevNextType.Bilateral;\n    return anchor;\n}\nexport function mind(store, pen, mousedwon) {\n    if (!pen.calculative.worldAnchors) {\n        pen.calculative.worldAnchors = [];\n    }\n    if (pen.calculative.worldAnchors.length < 2) {\n        return;\n    }\n    let from = pen.calculative.activeAnchor;\n    let to = mousedwon || getToAnchor(pen);\n    if (!from || !to) {\n        return;\n    }\n    const dis = 20;\n    const fromPen = store.pens[from.connectTo];\n    let fromFace = facePen(from, fromPen);\n    if (fromFace === Direction.None) {\n        if (to.x > from.x) {\n            fromFace = Direction.Right;\n        }\n        else {\n            fromFace = Direction.Left;\n        }\n    }\n    from.next = {\n        id: s8(),\n        penId: pen.id,\n        x: from.x,\n        y: from.y,\n        prevNextType: 2,\n    };\n    to.prev = { id: s8(), penId: pen.id, x: to.x, y: to.y, prevNextType: 2 };\n    switch (fromFace) {\n        case Direction.Up:\n            from.next.y -= dis;\n            to.prev.y = from.y;\n            break;\n        case Direction.Bottom:\n            from.next.y += dis;\n            to.prev.y = from.y;\n            break;\n        case Direction.Left:\n            from.next.x -= dis;\n            to.prev.x = from.x;\n            break;\n        default:\n            from.next.x += dis;\n            to.prev.x = from.x;\n            break;\n    }\n}\n//# sourceMappingURL=curve.js.map","import { deleteTempAnchor, getFromAnchor, getGradientAnimatePath, getToAnchor } from '../../pen';\nimport { hitPoint } from '../../point';\nimport { getRectOfPoints, pointInSimpleRect } from '../../rect';\nimport { getBezierPoint, getQuadraticPoint } from './curve';\nexport function line(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    if (pen.lineName === 'line' || pen.lineName === 'polyline') {\n        if (pen.calculative.lineSmooth) {\n            let _path = getGradientAnimatePath(pen);\n            if (path instanceof Path2D)\n                path.addPath(_path);\n            if (path instanceof Path2D)\n                return path;\n        }\n    }\n    const worldAnchors = pen.calculative.worldAnchors;\n    if (worldAnchors.length > 1) {\n        let from; // 上一个点\n        worldAnchors.forEach((pt) => {\n            if (from) {\n                draw(path, from, pt);\n            }\n            else {\n                pt.start = true;\n            }\n            from = pt;\n        });\n        if (pen.close) {\n            if (pen.lineName === 'curve') {\n                draw(path, from, worldAnchors[0]);\n            }\n            else {\n                path.closePath();\n            }\n        }\n    }\n    if (path instanceof Path2D)\n        return path;\n}\nexport function lineSegment(store, pen, mousedwon) {\n    if (!pen.calculative.worldAnchors) {\n        pen.calculative.worldAnchors = [];\n    }\n    if (pen.calculative.worldAnchors.length < 2 || pen.anchors?.length > 1) {\n        return;\n    }\n    const from = getFromAnchor(pen);\n    const to = getToAnchor(pen);\n    if (!from || !to || !to.id || from === to) {\n        return;\n    }\n    from.next = undefined;\n    deleteTempAnchor(pen);\n    to.prev = undefined;\n    pen.calculative.worldAnchors.push(to);\n}\nfunction draw(path, from, to) {\n    if (!to || to.isTemp) {\n        return;\n    }\n    from.start && path.moveTo(from.x, from.y);\n    if (from.next) {\n        if (to.prev) {\n            path.bezierCurveTo(from.next.x, from.next.y, to.prev.x, to.prev.y, to.x, to.y);\n        }\n        else {\n            path.quadraticCurveTo(from.next.x, from.next.y, to.x, to.y);\n        }\n    }\n    else {\n        if (to.prev) {\n            path.quadraticCurveTo(to.prev.x, to.prev.y, to.x, to.y);\n        }\n        else {\n            path.lineTo(to.x, to.y);\n        }\n    }\n}\nexport function getLineRect(pen) {\n    getLineLength(pen);\n    return getRectOfPoints(getLinePoints(pen));\n}\n/**\n * 获取连线的 points ，并非 worldAnchors ，worldAnchors 之前的路径点也会记录\n */\nexport function getLinePoints(pen) {\n    const pts = [];\n    let from; // 上一个点\n    pen.calculative.worldAnchors.forEach((pt) => {\n        pts.push(pt);\n        from && pts.push(...getPoints(from, pt, pen));\n        from = pt;\n    });\n    if (pen.close && pen.calculative.worldAnchors.length > 1) {\n        pts.push(...getPoints(from, pen.calculative.worldAnchors[0], pen));\n    }\n    return pts;\n}\nexport function getLineR(pen) {\n    return pen?.lineWidth ? pen.lineWidth / 2 + 4 : 4;\n}\nexport function getPoints(from, to, pen) {\n    const pts = [];\n    if (!to) {\n        return pts;\n    }\n    let step = 0.02;\n    if (from.lineLength && !pen.parentId) {\n        const r = getLineR(pen);\n        step = r / from.lineLength;\n    }\n    if (from.next) {\n        if (to.prev) {\n            for (let i = step; i < 1; i += step) {\n                pts.push(getBezierPoint(i, from, from.next, to.prev, to));\n            }\n        }\n        else {\n            for (let i = step; i < 1; i += step) {\n                pts.push(getQuadraticPoint(i, from, from.next, to));\n            }\n        }\n    }\n    else {\n        if (to.prev) {\n            for (let i = step; i < 1; i += step) {\n                pts.push(getQuadraticPoint(i, from, to.prev, to));\n            }\n        }\n        else {\n            pts.push({ x: to.x, y: to.y });\n        }\n    }\n    if (pts.length > 1) {\n        from.curvePoints = pts;\n    }\n    return pts;\n}\nexport function pointInLine(pt, pen) {\n    const r = getLineR(pen);\n    let i = 0;\n    let from; // 上一个点\n    let point;\n    for (const anchor of pen.calculative.worldAnchors) {\n        if (from) {\n            point = pointInLineSegment(pt, from, anchor, r);\n            if (point) {\n                return {\n                    i,\n                    point,\n                };\n            }\n            ++i;\n        }\n        from = anchor;\n    }\n    if (pen.close &&\n        pen.calculative.worldAnchors.length > 1 &&\n        (point = pointInLineSegment(pt, from, pen.calculative.worldAnchors[0], r))) {\n        return {\n            i,\n            point,\n        };\n    }\n}\nexport function pointInLineSegment(pt, pt1, pt2, r = 4) {\n    if (!pt1.next && !pt2.prev) {\n        const { x: x1, y: y1 } = pt1;\n        const { x: x2, y: y2 } = pt2;\n        const minX = Math.min(x1, x2);\n        const maxX = Math.max(x1, x2);\n        const minY = Math.min(y1, y2);\n        const maxY = Math.max(y1, y2);\n        if (!(pt.x >= minX - r &&\n            pt.x <= maxX + r &&\n            pt.y >= minY - r &&\n            pt.y <= maxY + r)) {\n            return;\n        }\n        return pointToLine(pt, pt1, pt2, r);\n    }\n    else if (pt1.curvePoints) {\n        for (const point of pt1.curvePoints) {\n            if (hitPoint(pt, point, r)) {\n                return point;\n            }\n        }\n    }\n}\nexport function pointToLine(pt, pt1, pt2, r = 4) {\n    // 竖线\n    if (pt1.x === pt2.x) {\n        const len = Math.abs(pt.x - pt1.x);\n        if (len <= r) {\n            return {\n                x: pt1.x,\n                y: pt.y,\n            };\n        }\n    }\n    else {\n        const A = (pt1.y - pt2.y) / (pt1.x - pt2.x);\n        const B = pt1.y - A * pt1.x;\n        const len = Math.abs((A * pt.x + B - pt.y) / Math.sqrt(A * A + 1));\n        if (len <= r) {\n            const m = pt.x + A * pt.y;\n            const x = (m - A * B) / (A * A + 1);\n            return {\n                x,\n                y: A * x + B,\n            };\n        }\n    }\n}\nfunction lineLen(from, cp1, cp2, to) {\n    if (!cp1 && !cp2) {\n        return (Math.sqrt(Math.pow(Math.abs(from.x - to.x), 2) +\n            Math.pow(Math.abs(from.y - to.y), 2)) || 0);\n    }\n    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    if (cp1 && cp2) {\n        path.setAttribute('d', `M${from.x} ${from.y} C${cp1.x} ${cp1.y} ${cp2.x} ${cp2.y} ${to.x} ${to.y}`);\n    }\n    else if (cp1) {\n        path.setAttribute('d', `M${from.x} ${from.y} Q${cp1.x} ${cp1.y} ${to.x} ${to.y}`);\n    }\n    else {\n        path.setAttribute('d', `M${from.x} ${from.y} Q${cp2.x} ${cp2.y} ${to.x} ${to.y}`);\n    }\n    return path.getTotalLength() || 0;\n}\nexport function getLineLength(pen) {\n    if (pen.calculative.worldAnchors.length < 2) {\n        return 0;\n    }\n    let len = 0;\n    let from; // 上一个点\n    pen.calculative.worldAnchors.forEach((pt) => {\n        if (from) {\n            from.lineLength = lineLen(from, from.next, pt.prev, pt);\n            len += from.lineLength;\n        }\n        from = pt;\n    });\n    if (pen.close) {\n        // pen.close ，下一个点即第一个点\n        const to = getFromAnchor(pen);\n        from.lineLength = lineLen(from, from.next, to.prev, to);\n        len += from.lineLength;\n    }\n    if (pen.calculative.animatePos) {\n        pen.calculative.animatePos =\n            (len / pen.length) * pen.calculative.animatePos;\n    }\n    pen.length = len;\n    return len;\n}\nexport function createLineSvgPath(line) {\n    let path;\n    let from = null;\n    line.calculative.worldAnchors.forEach(pt => {\n        if (from) {\n            path = createSvgPath(path, from, from.next, pt.prev, pt);\n        }\n        from = pt;\n    });\n    if (line.close) {\n        let pt = line.calculative.worldAnchors[0];\n        path = createSvgPath(path, from, from.next, pt.prev, pt);\n    }\n    return path;\n}\n/**\n * 连线在 rect 内， 连线与 rect 相交\n */\nexport function lineInRect(line, rect) {\n    // 判断是直线还是贝塞尔\n    const worldAnchors = line.calculative.worldAnchors;\n    for (let index = 0; index < worldAnchors.length - 1; index++) {\n        const current = worldAnchors[index];\n        const next = worldAnchors[index + 1];\n        if (!current.next && !next.prev) {\n            // 线段\n            if (isLineIntersectRectangle(current, next, rect)) {\n                return true;\n            }\n        }\n        else {\n            // 贝塞尔\n            if (isBezierIntersectRectangle(current, next, rect)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n/**\n * 线段与矩形是否相交\n * @param rect 矩形\n */\nexport function isLineIntersectRectangle(pt1, pt2, rect) {\n    if (pointInSimpleRect(pt1, rect) || pointInSimpleRect(pt2, rect)) {\n        // 存在一个点在矩形内部\n        return true;\n    }\n    const linePointX1 = pt1.x;\n    const linePointY1 = pt1.y;\n    const linePointX2 = pt2.x;\n    const linePointY2 = pt2.y;\n    let rectangleLeftTopX = rect.x;\n    let rectangleLeftTopY = rect.y;\n    let rectangleRightBottomX = rect.ex;\n    let rectangleRightBottomY = rect.ey;\n    const lineHeight = linePointY1 - linePointY2;\n    const lineWidth = linePointX2 - linePointX1; // 计算叉乘\n    const c = linePointX1 * linePointY2 - linePointX2 * linePointY1;\n    if ((lineHeight * rectangleLeftTopX + lineWidth * rectangleLeftTopY + c >= 0 &&\n        lineHeight * rectangleRightBottomX +\n            lineWidth * rectangleRightBottomY +\n            c <=\n            0) ||\n        (lineHeight * rectangleLeftTopX + lineWidth * rectangleLeftTopY + c <= 0 &&\n            lineHeight * rectangleRightBottomX +\n                lineWidth * rectangleRightBottomY +\n                c >=\n                0) ||\n        (lineHeight * rectangleLeftTopX + lineWidth * rectangleRightBottomY + c >=\n            0 &&\n            lineHeight * rectangleRightBottomX + lineWidth * rectangleLeftTopY + c <=\n                0) ||\n        (lineHeight * rectangleLeftTopX + lineWidth * rectangleRightBottomY + c <=\n            0 &&\n            lineHeight * rectangleRightBottomX + lineWidth * rectangleLeftTopY + c >=\n                0)) {\n        if (rectangleLeftTopX > rectangleRightBottomX) {\n            const temp = rectangleLeftTopX;\n            rectangleLeftTopX = rectangleRightBottomX;\n            rectangleRightBottomX = temp;\n        }\n        if (rectangleLeftTopY < rectangleRightBottomY) {\n            const temp1 = rectangleLeftTopY;\n            rectangleLeftTopY = rectangleRightBottomY;\n            rectangleRightBottomY = temp1;\n        }\n        if ((linePointX1 < rectangleLeftTopX && linePointX2 < rectangleLeftTopX) ||\n            (linePointX1 > rectangleRightBottomX &&\n                linePointX2 > rectangleRightBottomX) ||\n            (linePointY1 > rectangleLeftTopY && linePointY2 > rectangleLeftTopY) ||\n            (linePointY1 < rectangleRightBottomY &&\n                linePointY2 < rectangleRightBottomY)) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    else {\n        return false;\n    }\n}\n/**\n * 贝塞尔曲线与矩形是否相交\n * @param from 前点\n * @param to 后点\n * @param rect 矩形\n */\nexport function isBezierIntersectRectangle(from, to, rect) {\n    const step = 0.02;\n    if (!from.next && !to.prev) {\n        // 直线\n        return isLineIntersectRectangle(from, to, rect);\n    }\n    else if (from.next && to.prev) {\n        for (let i = step; i < 1; i += step) {\n            const point = getBezierPoint(i, from, from.next, to.prev, to);\n            if (pointInSimpleRect(point, rect)) {\n                return true;\n            }\n        }\n    }\n    else if (from.next || to.prev) {\n        for (let i = step; i < 1; i += step) {\n            const point = getQuadraticPoint(i, from, from.next || to.prev, to);\n            if (pointInSimpleRect(point, rect)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexport function createSvgPath(path, from, cp1, cp2, to) {\n    let d = '';\n    if (!path) {\n        d += `M${from.x} ${from.y} `;\n        path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setAttribute('d', d);\n    }\n    d = path.getAttribute('d') || '';\n    if (cp1 && cp2) {\n        d += `C${cp1.x} ${cp1.y} ${cp2.x} ${cp2.y} ${to.x} ${to.y}`;\n    }\n    else if (cp1) {\n        d += `Q${cp1.x} ${cp1.y} ${to.x} ${to.y}`;\n    }\n    else {\n        d += `Q${cp2?.x || from.x} ${cp2?.y || from.y} ${to.x} ${to.y}`;\n    }\n    path.setAttribute('d', d);\n    return path;\n}\n// 获取线段的某个点的导数和位置\nexport function getLinePointPosAndAngle(path, distance) {\n    const totalLength = path.getTotalLength();\n    if (distance < 0 || distance > totalLength)\n        return null;\n    const delta = 0.01;\n    const point1 = path.getPointAtLength(distance);\n    const point2 = path.getPointAtLength(distance - delta);\n    const determinant = Math.atan2(point1.y - point2.y, point1.x - point2.x);\n    return {\n        x: point1.x,\n        y: point1.y,\n        rotate: determinant / Math.PI * 180,\n        progress: distance / totalLength\n    };\n}\n//# sourceMappingURL=line.js.map","import { Direction } from '../../data';\nimport { deleteTempAnchor, facePen, getFromAnchor, getToAnchor, } from '../../pen';\nimport { s8 } from '../../utils';\nlet faceSpace = 10;\nexport function polyline(store, pen, mousedwon) {\n    if (!pen.calculative.worldAnchors) {\n        pen.calculative.worldAnchors = [];\n    }\n    faceSpace = store.options.polylineSpace || 10;\n    if (pen.calculative.worldAnchors.length < 2) {\n        return;\n    }\n    let from = getFromAnchor(pen);\n    let to = getToAnchor(pen);\n    if (!from || !to) {\n        return;\n    }\n    // 拖拽起点\n    let dragFrom;\n    if (pen.anchors?.length && from === pen.calculative.activeAnchor) {\n        dragFrom = true;\n        from = to;\n        to = getFromAnchor(pen);\n    }\n    else if ((!pen.anchors || !pen.anchors.length) &&\n        from !== pen.calculative.activeAnchor) {\n        from = pen.calculative.activeAnchor;\n    }\n    if (!from || !to) {\n        return;\n    }\n    from.next = undefined;\n    to.prev = undefined;\n    const connected = to.connectTo;\n    deleteTempAnchor(pen);\n    const pts = [];\n    const fromPen = store.pens[from.connectTo];\n    const toPen = store.pens[to.connectTo];\n    const fromFace = facePen(from, fromPen);\n    const toFace = facePen(to, toPen);\n    let a = getFacePoint(from, fromFace, faceSpace);\n    if (a) {\n        from = a;\n        pts.push(a);\n    }\n    a = getFacePoint(to, toFace, faceSpace);\n    const end = to;\n    let corner = undefined;\n    if (a) {\n        to = a;\n        if (end.connectTo) {\n            if ((a.y > end.y && from.y < end.y) || (a.y < end.y && from.y > end.y)) {\n                //拐角 防止连线覆盖\n                corner = a;\n                let _faceSpace = faceSpace;\n                if (from.x < a.x) {\n                    _faceSpace = -_faceSpace;\n                }\n                if (Math.abs(from.x - a.x) < _faceSpace) {\n                    _faceSpace = -_faceSpace;\n                }\n                const point = { x: a.x + _faceSpace, y: a.y, id: s8() };\n                to = point;\n            }\n        }\n    }\n    switch (fromFace) {\n        case Direction.Up:\n            pts.push(...getNextPointsOfUp(from, to, toFace));\n            break;\n        case Direction.Right:\n            pts.push(...getNextPointsOfRight(from, to, toFace));\n            break;\n        case Direction.Bottom:\n            pts.push(...getNextPointsOfBottom(from, to, toFace));\n            break;\n        case Direction.Left:\n            pts.push(...getNextPointsOfLeft(from, to, toFace));\n            break;\n        default:\n            pts.push(...getNextPoints(pen, from, to));\n            break;\n    }\n    pts.forEach((anchor) => {\n        anchor.id = s8();\n        anchor.penId = pen.id;\n        pen.calculative.worldAnchors.push(anchor);\n    });\n    pen.calculative.worldAnchors.push(to);\n    if (corner) {\n        pen.calculative.worldAnchors.push(corner);\n    }\n    if (a) {\n        pen.calculative.worldAnchors.push(end);\n    }\n    if (dragFrom) {\n        pen.calculative.worldAnchors.reverse();\n    }\n    if (connected) {\n        const i = pen.calculative.worldAnchors.length - 2;\n        pen.calculative.worldAnchors[i].isTemp = false;\n        pen.calculative.worldAnchors[1].isTemp = false;\n    }\n}\nfunction getFacePoint(pt, d, dis) {\n    const point = { x: pt.x, y: pt.y, id: s8() };\n    switch (d) {\n        case Direction.Up:\n            point.y -= dis;\n            break;\n        case Direction.Right:\n            point.x += dis;\n            break;\n        case Direction.Bottom:\n            point.y += dis;\n            break;\n        case Direction.Left:\n            point.x -= dis;\n            break;\n        default: {\n            return;\n        }\n    }\n    return point;\n}\nfunction getNextPointsOfUp(from, to, toFace) {\n    if (from.x === to.x || from.y === to.y) {\n        return [];\n    }\n    const pts = [];\n    let x;\n    let y;\n    switch (toFace) {\n        case Direction.Up:\n            if (from.y < to.y) {\n                x = to.x;\n                y = from.y;\n            }\n            else {\n                x = from.x;\n                y = to.y;\n            }\n            pts.push({ x, y });\n            break;\n        case Direction.Bottom:\n            x = to.x;\n            y = from.y;\n            if (to.y > from.y) {\n                x = from.x + (to.x - from.x) / 2;\n                pts.push({ x, y: from.y }, { x, y: to.y });\n            }\n            else {\n                const centerY = (from.y + to.y) / 2;\n                pts.push({ x: from.x, y: centerY }, { x: to.x, y: centerY });\n            }\n            break;\n        case Direction.Right:\n            x = to.x;\n            y = from.y;\n            if (to.x < from.x && to.y < from.y) {\n                x = from.x;\n                y = to.y;\n            }\n            pts.push({ x, y });\n            break;\n        case Direction.Left:\n            x = to.x;\n            y = from.y;\n            if (to.x > from.x && to.y < from.y) {\n                x = from.x;\n                y = to.y;\n            }\n            pts.push({ x, y });\n            break;\n        default:\n            if (to.y > from.y - faceSpace) {\n                x = from.x + (to.x - from.x) / 2;\n                pts.push({ x, y: from.y }, { x, y: to.y });\n            }\n            else {\n                const centerY = (from.y + to.y + faceSpace) / 2;\n                pts.push({ x: from.x, y: centerY }, { x: to.x, y: centerY });\n            }\n            break;\n    }\n    return pts;\n}\nfunction getNextPointsOfRight(from, to, toFace) {\n    if (from.x === to.x || from.y === to.y) {\n        return [];\n    }\n    const pts = [];\n    let x;\n    let y;\n    switch (toFace) {\n        case Direction.Up:\n            x = from.x;\n            y = to.y;\n            if (to.x > from.x && to.y > from.y) {\n                x = to.x;\n                y = from.y;\n            }\n            pts.push({ x, y });\n            break;\n        case Direction.Bottom:\n            x = from.x;\n            y = to.y;\n            if (to.x > from.x && to.y < from.y) {\n                x = to.x;\n                y = from.y;\n            }\n            pts.push({ x, y });\n            break;\n        case Direction.Left:\n            x = to.x;\n            y = from.y;\n            if (to.x < from.x) {\n                y = from.y + (to.y - from.y) / 2;\n                pts.push({ x: from.x, y }, { x: to.x, y });\n            }\n            else {\n                const centerX = (from.x + to.x) / 2;\n                pts.push({ x: centerX, y }, { x: centerX, y: to.y });\n            }\n            break;\n        case Direction.Right:\n            if (to.x < from.x) {\n                pts.push({ x: from.x, y: to.y });\n            }\n            else {\n                pts.push({ x: to.x, y: from.y });\n            }\n            break;\n        default:\n            x = to.x;\n            y = to.y;\n            if (to.x < from.x + faceSpace) {\n                pts.push({ x: from.x, y });\n            }\n            else {\n                const centerX = (from.x + to.x - faceSpace) / 2;\n                pts.push({ x: centerX, y: from.y }, { x: centerX, y });\n            }\n            break;\n    }\n    return pts;\n}\nfunction getNextPointsOfBottom(from, to, toFace) {\n    if (from.x === to.x || from.y === to.y) {\n        return [];\n    }\n    const pts = [];\n    let x;\n    let y;\n    switch (toFace) {\n        case Direction.Up:\n            x = from.x;\n            y = to.y;\n            if (to.y < from.y) {\n                x = from.x + (to.x - from.x) / 2;\n                pts.push({ x, y: from.y }, { x, y: to.y });\n            }\n            else {\n                const centerY = (from.y + to.y) / 2;\n                pts.push({ x, y: centerY }, { x: to.x, y: centerY });\n            }\n            break;\n        case Direction.Right:\n            x = to.x;\n            y = from.y;\n            if (to.x < from.x && to.y > from.y) {\n                x = from.x;\n                y = to.y;\n            }\n            pts.push({ x, y });\n            break;\n        case Direction.Bottom:\n            if (from.y > to.y) {\n                x = to.x;\n                y = from.y;\n            }\n            else {\n                x = from.x;\n                y = to.y;\n            }\n            pts.push({ x, y });\n            break;\n        case Direction.Left:\n            x = to.x;\n            y = from.y;\n            if (to.x > from.x && to.y > from.y) {\n                x = from.x;\n                y = to.y;\n            }\n            pts.push({ x, y });\n            break;\n        default:\n            x = from.x;\n            if (to.y < from.y + faceSpace) {\n                x = from.x + (to.x - from.x) / 2;\n                pts.push({ x, y: from.y }, { x, y: to.y });\n            }\n            else {\n                const centerY = (from.y + to.y - faceSpace) / 2;\n                pts.push({ x, y: centerY }, { x: to.x, y: centerY });\n            }\n            break;\n    }\n    return pts;\n}\nfunction getNextPointsOfLeft(from, to, toFace) {\n    if (from.x === to.x || from.y === to.y) {\n        return [];\n    }\n    const pts = [];\n    let x;\n    let y;\n    switch (toFace) {\n        case Direction.Up:\n            x = from.x;\n            y = to.y;\n            if (to.x < from.x && to.y > from.y) {\n                x = to.x;\n                y = from.y;\n            }\n            pts.push({ x, y });\n            break;\n        case Direction.Bottom:\n            x = from.x;\n            y = to.y;\n            if (to.x < from.x && to.y < from.y) {\n                x = to.x;\n                y = from.y;\n            }\n            pts.push({ x, y });\n            break;\n        case Direction.Right:\n            x = from.x;\n            y = to.y;\n            if (to.x > from.x) {\n                x = to.x;\n                y = from.y + (to.y - from.y) / 2;\n                pts.push({ x: from.x, y }, { x: to.x, y });\n            }\n            else {\n                const centerX = (from.x + to.x) / 2;\n                pts.push({ x: centerX, y: from.y }, { x: centerX, y: to.y });\n            }\n            break;\n        case Direction.Left:\n            if (to.x > from.x) {\n                pts.push({ x: from.x, y: to.y });\n            }\n            else {\n                pts.push({ x: to.x, y: from.y });\n            }\n            break;\n        default:\n            x = from.x;\n            y = to.y;\n            if (to.x < from.x - faceSpace) {\n                const centerX = (from.x + to.x + faceSpace) / 2;\n                pts.push({ x: centerX, y: from.y }, { x: centerX, y });\n            }\n            else {\n                pts.push({ x: from.x, y });\n            }\n            break;\n    }\n    return pts;\n}\nfunction getNextPoints(pen, from, to) {\n    const pts = [];\n    if (pen.calculative.drawlineH == undefined) {\n        pen.calculative.drawlineH =\n            Math.abs(to.x - from.x) > Math.abs(to.y - from.y);\n    }\n    let index = pen.calculative.worldAnchors.findIndex((anchor) => anchor.id == from.id);\n    if (index > 1) {\n        let prev = pen.calculative.worldAnchors[index - 1];\n        if (prev.x === from.x && prev.y !== from.y) {\n            //水平\n            pts.push({ x: to.x, y: from.y });\n            return pts;\n        }\n        else if (prev.y === from.y && prev.x !== from.x) {\n            //垂直\n            pts.push({ x: from.x, y: to.y });\n            return pts;\n        }\n    }\n    if (pen.calculative.worldAnchors.length) {\n        to.isTemp = undefined;\n        if (pen.calculative.drawlineH) {\n            pts.push({ x: to.x, y: from.y });\n            if (Math.abs(to.y - from.y) < faceSpace) {\n                to.isTemp = true;\n            }\n        }\n        else {\n            pts.push({ x: from.x, y: to.y });\n            if (Math.abs(to.x - from.x) < faceSpace) {\n                to.isTemp = true;\n            }\n        }\n    }\n    return pts;\n}\nexport function anchorInHorizontal(pen, anchor, from = true) {\n    let anchors = pen.calculative.worldAnchors;\n    if (!from) {\n        anchors = [];\n        pen.calculative.worldAnchors.forEach((item) => {\n            anchors.unshift(item);\n        });\n    }\n    for (let i = 0; i < anchors.length; i++) {\n        if (anchors[i].id === anchor.id) {\n            break;\n        }\n        if (anchors[i].y !== anchor.y) {\n            return false;\n        }\n        if (anchors[i].x === anchors[i + 1]?.x &&\n            anchors[i].y !== anchors[i + 1]?.y) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function anchorInVertical(pen, anchor, from = true) {\n    let anchors = pen.calculative.worldAnchors;\n    if (!from) {\n        anchors = [];\n        pen.calculative.worldAnchors.forEach((item) => {\n            anchors.unshift(item);\n        });\n    }\n    for (let i = 0; i < anchors.length; i++) {\n        if (anchors[i].id === anchor.id) {\n            break;\n        }\n        if (anchors[i].x !== anchor.x) {\n            return false;\n        }\n        if (anchors[i].y === anchors[i + 1]?.y &&\n            anchors[i].x !== anchors[i + 1]?.x) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function translatePolylineAnchor(pen, anchor, pt) {\n    if (!pen.calculative.worldAnchors) {\n        return;\n    }\n    const i = pen.calculative.worldAnchors.findIndex((item) => item.id === anchor.id);\n    const from = getFromAnchor(pen);\n    const to = getToAnchor(pen);\n    let prev = pen.calculative.worldAnchors[i - 1];\n    let next = pen.calculative.worldAnchors[i + 1];\n    if (pen.calculative.h == undefined) {\n        if (from.connectTo) {\n            if (anchorInHorizontal(pen, anchor, true)) {\n                pen.calculative.h = true;\n            }\n            else if (anchorInVertical(pen, anchor, true)) {\n                pen.calculative.h = false;\n            }\n        }\n        if (pen.calculative.h == undefined && to.connectTo) {\n            if (anchorInHorizontal(pen, anchor, false)) {\n                pen.calculative.h = true;\n            }\n            else if (anchorInVertical(pen, anchor, false)) {\n                pen.calculative.h = false;\n            }\n        }\n        if (pen.calculative.h == undefined) {\n            if (prev) {\n                pen.calculative.h = prev.y === anchor.y;\n            }\n            else if (next) {\n                pen.calculative.h = next.y === anchor.y;\n            }\n        }\n    }\n    // 水平\n    if (pen.calculative.h) {\n        anchor.x = pt.x;\n        if (from.connectTo && anchorInHorizontal(pen, anchor, true)) {\n            if (next && next.y !== anchor.y) {\n                next.x = anchor.x;\n            }\n            return;\n        }\n        if (to.connectTo && anchorInHorizontal(pen, anchor, false)) {\n            if (prev && prev.y !== anchor.y) {\n                prev.x = anchor.x;\n            }\n            return;\n        }\n        const a = pen.anchors[i];\n        let d;\n        for (let pos = i - 1; pos > -1; pos--) {\n            prev = pen.anchors[pos];\n            if (d == undefined) {\n                d = prev.y === a.y;\n            }\n            if (d === true) {\n                if (prev.y === a.y) {\n                    pen.calculative.worldAnchors[pos].y = pt.y;\n                }\n                else {\n                    break;\n                }\n            }\n            else {\n                if (prev.x === a.x) {\n                    pen.calculative.worldAnchors[pos].x = pt.x;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        d = undefined;\n        for (let pos = i + 1; pos < pen.calculative.worldAnchors.length; pos++) {\n            next = pen.anchors[pos];\n            if (next) {\n                if (d == undefined) {\n                    d = next.y === a.y;\n                }\n                if (d === true) {\n                    if (next.y === a.y) {\n                        pen.calculative.worldAnchors[pos].y = pt.y;\n                    }\n                    else {\n                        break;\n                    }\n                }\n                else {\n                    if (next.x === a.x) {\n                        pen.calculative.worldAnchors[pos].x = pt.x;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                break;\n            }\n        }\n        anchor.y = pt.y;\n    }\n    // 垂直\n    else {\n        anchor.y = pt.y;\n        if (from.connectTo && anchorInVertical(pen, anchor, true)) {\n            if (next && next.x !== anchor.x) {\n                next.y = anchor.y;\n            }\n            return;\n        }\n        if (to.connectTo && anchorInVertical(pen, anchor, false)) {\n            if (prev && prev.x !== anchor.x) {\n                prev.y = anchor.y;\n            }\n            return;\n        }\n        const a = pen.anchors[i];\n        let d;\n        for (let pos = i - 1; pos > -1; pos--) {\n            prev = pen.anchors[pos];\n            if (d == undefined) {\n                d = prev.x === a.x;\n            }\n            if (d === true) {\n                if (prev.x === a.x) {\n                    pen.calculative.worldAnchors[pos].x = pt.x;\n                }\n                else {\n                    break;\n                }\n            }\n            else {\n                if (prev.y === a.y) {\n                    pen.calculative.worldAnchors[pos].y = pt.y;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        d = undefined;\n        for (let pos = i + 1; pos < pen.calculative.worldAnchors.length; pos++) {\n            next = pen.anchors[pos];\n            if (next) {\n                if (d == undefined) {\n                    d = next.x === a.x;\n                }\n                if (d === true) {\n                    if (next.x === a.x) {\n                        pen.calculative.worldAnchors[pos].x = pt.x;\n                    }\n                    else {\n                        break;\n                    }\n                }\n                else {\n                    if (next.y === a.y) {\n                        pen.calculative.worldAnchors[pos].y = pt.y;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                break;\n            }\n        }\n        anchor.x = pt.x;\n    }\n}\n//# sourceMappingURL=polyline.js.map","import { PrevNextType } from '../../point';\nexport function simplify(points, length, start, end) {\n    const newPoints = [];\n    let maxDist, index, xx, yy, dx, dy, ddx, ddy, p1, p2, p, t, dist, dist1;\n    p1 = points[start];\n    p2 = points[end];\n    xx = p1.x;\n    yy = p1.y;\n    ddx = p2.x - xx;\n    ddy = p2.y - yy;\n    dist1 = ddx * ddx + ddy * ddy;\n    maxDist = length;\n    for (let i = start + 1; i < end; i++) {\n        p = points[i];\n        if (ddx !== 0 || ddy !== 0) {\n            t = ((p.x - xx) * ddx + (p.y - yy) * ddy) / dist1;\n            if (t > 1) {\n                dx = p.x - p2.x;\n                dy = p.y - p2.y;\n            }\n            else if (t > 0) {\n                dx = p.x - (xx + ddx * t);\n                dy = p.y - (yy + ddy * t);\n            }\n            else {\n                dx = p.x - xx;\n                dy = p.y - yy;\n            }\n        }\n        else {\n            dx = p.x - xx;\n            dy = p.y - yy;\n        }\n        dist = dx * dx + dy * dy;\n        if (dist > maxDist) {\n            index = i;\n            maxDist = dist;\n        }\n    }\n    if (maxDist > length) {\n        // continue simplification while maxDist > length\n        if (index - start > 1) {\n            newPoints.push(...simplify(points, length, start, index));\n        }\n        newPoints.push({\n            id: points[index].id,\n            penId: points[index].penId,\n            x: points[index].x,\n            y: points[index].y,\n        });\n        if (end - index > 1) {\n            newPoints.push(...simplify(points, length, index, end));\n        }\n    }\n    return newPoints;\n}\nexport function smoothLine(points, cornerThres = 0.8, match = false) {\n    if (points.length < 3) {\n        return points;\n    }\n    // adds bezier control points at points if lines have angle less than thres\n    let p1, p2, p3, dist1, dist2, x, y, endP, len, angle, newPoints, aLen, nx1, nx2, ny1, ny2;\n    const dot = (x, y, xx, yy) => {\n        dist1 = Math.sqrt(x * x + y * y);\n        if (dist1 > 0) {\n            // normalise\n            nx1 = x / dist1;\n            ny1 = y / dist1;\n        }\n        else {\n            nx1 = 1; // need to have something so this will do as good as anything\n            ny1 = 0;\n        }\n        dist2 = Math.sqrt(xx * xx + yy * yy);\n        if (dist2 > 0) {\n            nx2 = xx / dist2;\n            ny2 = yy / dist2;\n        }\n        else {\n            nx2 = 1;\n            ny2 = 0;\n        }\n        return Math.acos(nx1 * nx2 + ny1 * ny2);\n    };\n    newPoints = [];\n    aLen = points.length;\n    p1 = points[0];\n    endP = points[aLen - 1];\n    newPoints.push({ ...points[0] });\n    for (let i = 0; i < aLen - 1; i++) {\n        p2 = points[i];\n        p3 = points[i + 1];\n        angle = Math.abs(dot(p2.x - p1.x, p2.y - p1.y, p3.x - p2.x, p3.y - p2.y));\n        if (dist1) {\n            // dist1 and dist2 come from dot function\n            if (angle < cornerThres * 3.14) {\n                // bend it if angle between lines is small\n                if (match) {\n                    dist1 = Math.min(dist1, dist2);\n                    dist2 = dist1;\n                }\n                // use the two normalized vectors along the lines to create the tangent vector\n                x = (nx1 + nx2) / 2;\n                y = (ny1 + ny2) / 2;\n                len = Math.sqrt(x * x + y * y); // normalise the tangent\n                if (len === 0) {\n                    newPoints.push({ ...p2 });\n                }\n                else {\n                    x /= len;\n                    y /= len;\n                    const pt = { ...p2 };\n                    pt.prevNextType = PrevNextType.Bilateral;\n                    pt.prev = {\n                        penId: pt.penId,\n                        x: p2.x - x * dist1 * 0.25,\n                        y: p2.y - y * dist1 * 0.25,\n                    };\n                    pt.next = {\n                        penId: pt.penId,\n                        x: p2.x + x * dist2 * 0.25,\n                        y: p2.y + y * dist2 * 0.25,\n                    };\n                    newPoints.push(pt);\n                }\n            }\n            else {\n                newPoints.push({ ...p2 });\n            }\n        }\n        p1 = p2;\n    }\n    newPoints.push({ ...points[points.length - 1] });\n    return newPoints;\n}\n//# sourceMappingURL=smooth.js.map","import { LineAnimateType } from '../../pen';\n//箭头动画\nexport function drawArrow(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const worldAnchors = pen.calculative.worldAnchors;\n    let scale = pen.calculative.canvas.store.data.scale;\n    let size = (pen.calculative.animateLineWidth || 6) * scale; // 箭头大小\n    let arrowLength = (pen.animateLineWidth * 2 || 12) * scale; // 箭头长度\n    if (pen.lineAnimateType === LineAnimateType.WaterDrop) {\n        arrowLength = (pen.animateLineWidth * 4 || 24) * scale; // 水滴长度\n    }\n    let d = (pen.animateInterval || 100) * scale; // 箭头间距\n    let smoothLenth = pen.calculative.lineWidth * (pen.calculative.lineSmooth || 0); //*scale;\n    let lineWidth = (pen.calculative.animateLineWidth / 2 || 3) * scale;\n    if (pen.animateReverse) {\n        //箭头反向\n        arrowLength = -arrowLength;\n        size = -size;\n    }\n    if (worldAnchors.length > 1) {\n        let from; // 上一个点\n        let lastLength = 0;\n        for (let i = 0; i < worldAnchors.length; i++) {\n            let pt = worldAnchors[i];\n            //获取箭头角度\n            if (from) {\n                let angle = getAngle(from, pt);\n                let newP = {\n                    x: from.x +\n                        ((pen.calculative.animatePos - lastLength) % d) *\n                            Math.cos((angle * Math.PI) / 180),\n                    y: from.y -\n                        ((pen.calculative.animatePos - lastLength) % d) *\n                            Math.sin((angle * Math.PI) / 180),\n                };\n                if (pen.animateReverse) {\n                    newP = {\n                        x: from.x +\n                            ((pen.length - (pen.calculative.animatePos + lastLength)) % d) *\n                                Math.cos((angle * Math.PI) / 180),\n                        y: from.y -\n                            ((pen.length - (pen.calculative.animatePos + lastLength)) % d) *\n                                Math.sin((angle * Math.PI) / 180),\n                    };\n                }\n                let newPTFrom = Math.sqrt((newP.x - from.x) ** 2 + (newP.y - from.y) ** 2);\n                let ptTFrom = Math.sqrt((pt.x - from.x) ** 2 + (pt.y - from.y) ** 2);\n                while (newPTFrom < ptTFrom) {\n                    if (((pen.animateReverse && newPTFrom - arrowLength < ptTFrom) || //不允许超出连线绘制\n                        (!pen.animateReverse &&\n                            newPTFrom > arrowLength)) &&\n                        newPTFrom > (smoothLenth + arrowLength) &&\n                        ptTFrom - newPTFrom > smoothLenth) {\n                        if (pen.lineAnimateType === LineAnimateType.Arrow) {\n                            arrow(path, newP, size, angle, lineWidth, arrowLength);\n                        }\n                        else if (pen.lineAnimateType === LineAnimateType.WaterDrop) {\n                            waterDrop(path, newP, pen.animateReverse, angle, lineWidth, arrowLength);\n                        }\n                    }\n                    newP.x += d * Math.cos((angle * Math.PI) / 180);\n                    newP.y -= d * Math.sin((angle * Math.PI) / 180);\n                    newPTFrom = Math.sqrt((newP.x - from.x) ** 2 + (newP.y - from.y) ** 2);\n                }\n                // lastLength += ptTFrom-newPTFrom;\n            }\n            from = pt;\n        }\n    }\n    if (path instanceof Path2D)\n        return path;\n}\n//获取两点连线和水平线的夹角\nfunction getAngle(p1, p2) {\n    let dx = p2.x - p1.x;\n    let dy = p2.y - p1.y;\n    let angle = (Math.atan(dy / dx) * 180) / Math.PI;\n    if (p2.x >= p1.x) {\n        angle = -angle;\n    }\n    else {\n        angle = 180 - angle;\n    }\n    return angle;\n}\n//获取p相对rp旋转_angle后的点坐标\nfunction getRotatePoint(p, rp, _angle) {\n    let angle = ((180 - _angle) * Math.PI) / 180;\n    return {\n        x: (p.x - rp.x) * Math.cos(angle) - (p.y - rp.y) * Math.sin(angle) + rp.x,\n        y: (p.x - rp.x) * Math.sin(angle) + (p.y - rp.y) * Math.cos(angle) + rp.y,\n    };\n}\n//标准箭头\nfunction arrow(path, newP, size, angle, lineWidth, arrowLength) {\n    let pr = getRotatePoint({ x: newP.x + size, y: newP.y + 0.57 * size }, { x: newP.x, y: newP.y }, angle);\n    let pl = getRotatePoint({ x: newP.x + size, y: newP.y - 0.57 * size }, { x: newP.x, y: newP.y }, angle);\n    let pr1 = getRotatePoint({ x: newP.x + size, y: newP.y + lineWidth / 2 }, { x: newP.x, y: newP.y }, angle);\n    let pr2 = getRotatePoint({ x: newP.x + arrowLength, y: newP.y + lineWidth / 2 }, { x: newP.x, y: newP.y }, angle);\n    let pl1 = getRotatePoint({ x: newP.x + size, y: newP.y - lineWidth / 2 }, { x: newP.x, y: newP.y }, angle);\n    let pl2 = getRotatePoint({ x: newP.x + arrowLength, y: newP.y - lineWidth / 2 }, { x: newP.x, y: newP.y }, angle);\n    path.moveTo(pr.x, pr.y);\n    path.lineTo(newP.x, newP.y);\n    path.lineTo(pl.x, pl.y);\n    path.lineTo(pl1.x, pl1.y);\n    path.lineTo(pl2.x, pl2.y);\n    path.lineTo(pr2.x, pr2.y);\n    path.lineTo(pr1.x, pr1.y);\n    path.lineTo(pr.x, pr.y);\n}\n//水滴\nfunction waterDrop(path, newP, reverse, angle, lineWidth, arrowLength) {\n    let dis = lineWidth / 2;\n    if (reverse) {\n        dis = -lineWidth / 2;\n    }\n    let pl1 = getRotatePoint({ x: newP.x, y: newP.y + dis }, { x: newP.x, y: newP.y }, angle);\n    let pE = getRotatePoint({ x: newP.x + arrowLength, y: newP.y }, { x: newP.x, y: newP.y }, angle);\n    let rAngle = Math.PI / 2;\n    if (reverse) {\n        rAngle = -Math.PI / 2;\n    }\n    path.moveTo(newP.x, newP.y);\n    path.arc(newP.x, newP.y, lineWidth / 2, -rAngle - angle / 180 * Math.PI, rAngle - angle / 180 * Math.PI, false);\n    path.lineTo(pE.x, pE.y);\n    path.lineTo(pl1.x, pl1.y);\n}\n//# sourceMappingURL=arrow.js.map","import { setElemPosition } from '../pen';\nimport { deepClone, getRootDomain } from '../utils';\nexport function iframe(pen) {\n    if (!pen.onDestroy) {\n        pen.onDestroy = destory;\n        pen.onMove = move;\n        pen.onResize = move;\n        pen.onRotate = move;\n        pen.onValue = move;\n        pen.onMouseMove = mouseMove;\n        pen.onBeforeValue = beforeValue;\n        pen.onRenderPenRaw = renderPenRaw;\n    }\n    if (!pen.calculative.singleton) {\n        pen.calculative.singleton = {};\n    }\n    const worldRect = pen.calculative.worldRect;\n    if (!pen.calculative.singleton.div) {\n        const div = document.createElement('div');\n        div.style.position = 'absolute';\n        div.style.outline = 'none';\n        div.style.left = '-9999px';\n        div.style.top = '-9999px';\n        div.style.width = worldRect.width + 'px';\n        div.style.height = worldRect.height + 'px';\n        document.body.appendChild(div);\n        pen.calculative.canvas.externalElements?.parentElement.appendChild(div);\n        setElemPosition(pen, div);\n        pen.calculative.singleton.div = div;\n        const iframe = document.createElement('iframe');\n        iframe.style.width = '100%';\n        iframe.style.height = '100%';\n        iframe.scrolling = pen.scrolling || 'no';\n        iframe.frameBorder = '0';\n        iframe.style.border = 'none';\n        iframe.src = pen.iframe;\n        pen.calculative.iframe = pen.iframe;\n        div.appendChild(iframe);\n        generateAroundDiv(pen);\n        iframe.onload = () => {\n            iframe.setAttribute('document.domain', '');\n        };\n    }\n    if (pen.calculative.patchFlags) {\n        setElemPosition(pen, pen.calculative.singleton.div);\n    }\n    pen.onRenderPenRaw(pen);\n    return new Path2D();\n}\nfunction destory(pen) {\n    updatePointerEvents(pen);\n    if (pen.calculative.singleton && pen.calculative.singleton.div) {\n        pen.calculative.singleton.div.remove();\n        delete pen.calculative.singleton.div;\n    }\n}\nfunction move(pen) {\n    pen.calculative.singleton.div &&\n        setElemPosition(pen, pen.calculative.singleton.div);\n}\nfunction beforeValue(pen, value) {\n    if (value.iframe) {\n        if (pen.calculative.singleton.div) {\n            pen.calculative.singleton.div.children[0].src = value.iframe;\n            pen.calculative.iframe = value.iframe;\n        }\n    }\n    if (value.operationalRect ||\n        value['operationalRect.x'] !== undefined ||\n        value['operationalRect.y'] !== undefined ||\n        value['operationalRect.width'] !== undefined ||\n        value['operationalRect.height'] !== undefined) {\n        if (!pen.operationalRect) {\n            pen.operationalRect = {};\n        }\n        let _value = deepClone(value);\n        if (!_value.operationalRect) {\n            _value.operationalRect = {};\n        }\n        if (_value['operationalRect.x'] !== undefined) {\n            _value.operationalRect.x = _value['operationalRect.x'];\n        }\n        if (_value['operationalRect.y'] !== undefined) {\n            _value.operationalRect.y = _value['operationalRect.y'];\n        }\n        if (_value['operationalRect.width'] !== undefined) {\n            _value.operationalRect.width = _value['operationalRect.width'];\n        }\n        if (_value['operationalRect.height'] !== undefined) {\n            _value.operationalRect.height = _value['operationalRect.height'];\n        }\n        Object.assign(pen.operationalRect, _value.operationalRect);\n        if (pen.calculative.singleton.div) {\n            let length = pen.calculative.singleton.div.children.length;\n            if (length === 1) {\n                //没有创建\n                generateAroundDiv(pen);\n            }\n            else {\n                //有更新值\n                pen.calculative.singleton.div.children[1].style.height =\n                    pen.operationalRect.y * 100 + '%';\n                pen.calculative.singleton.div.children[1].style.left =\n                    pen.operationalRect.x * 100 + '%';\n                pen.calculative.singleton.div.children[1].style.width =\n                    pen.operationalRect.width * 100 + '%';\n                pen.calculative.singleton.div.children[2].style.width =\n                    (1 - pen.operationalRect.x - pen.operationalRect.width) * 100 + '%';\n                pen.calculative.singleton.div.children[3].style.height =\n                    (1 - pen.operationalRect.y - pen.operationalRect.height) * 100 + '%';\n                pen.calculative.singleton.div.children[3].style.left =\n                    pen.operationalRect.x * 100 + '%';\n                pen.calculative.singleton.div.children[3].style.width =\n                    pen.operationalRect.width * 100 + '%';\n                pen.calculative.singleton.div.children[4].style.width =\n                    pen.operationalRect.x * 100 + '%';\n            }\n        }\n    }\n    if (value.blur !== undefined) {\n        for (let i = 1; i < 5; i++) {\n            pen.calculative.singleton.div.children[i].style['backdrop-filter'] = `blur(${value.blur || 2}px)`;\n        }\n    }\n    if (value.blurBackground !== undefined) {\n        for (let i = 1; i < 5; i++) {\n            pen.calculative.singleton.div.children[i].style.backgroundColor =\n                value.blurBackground;\n        }\n    }\n    return value;\n}\nfunction mouseMove(pen, e) {\n    if (!pen.calculative.canvas.store.data.locked && !pen.locked) {\n        return;\n    }\n    if (initOperationalRect(pen.operationalRect)) {\n        if (pen.calculative.zIndex < 5 &&\n            e.x > pen.x + pen.width * pen.operationalRect.x &&\n            e.x <\n                pen.x +\n                    pen.width * (pen.operationalRect.x + pen.operationalRect.width) &&\n            e.y > pen.y + pen.height * pen.operationalRect.y &&\n            e.y <\n                pen.y +\n                    pen.height * (pen.operationalRect.y + pen.operationalRect.height)) {\n            if (pen.calculative.singleton.div) {\n                let children = pen.calculative.singleton.div.parentNode.children;\n                for (let i = 0; i < 6; i++) {\n                    children[i].style.pointerEvents = 'none';\n                }\n            }\n        }\n    }\n}\nfunction initOperationalRect(operationalRect) {\n    if (operationalRect) {\n        if (!operationalRect.width || !operationalRect.height) {\n            return false;\n        }\n        //默认居中\n        if (operationalRect.x === undefined) {\n            operationalRect.x = (1 - operationalRect.width) / 2;\n        }\n        if (operationalRect.y === undefined) {\n            operationalRect.y = (1 - operationalRect.height) / 2;\n        }\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction generateAroundDiv(pen) {\n    if (!initOperationalRect(pen.operationalRect)) {\n        return;\n    }\n    const div = pen.calculative.singleton.div;\n    if (!div) {\n        return;\n    }\n    const top = document.createElement('div');\n    top.style.position = 'absolute';\n    top.style.left = pen.operationalRect.x * 100 + '%';\n    top.style.top = '0px';\n    top.style.width = pen.operationalRect.width * 100 + '%';\n    top.style.height = pen.operationalRect.y * 100 + '%';\n    top.style['backdrop-filter'] = `blur(${pen.blur || 2}px)`;\n    top.style.backgroundColor = pen.blurBackground;\n    div.appendChild(top);\n    const right = document.createElement('div');\n    right.style.position = 'absolute';\n    right.style.right = '0px';\n    right.style.top = '0px';\n    right.style.width =\n        (1 - pen.operationalRect.x - pen.operationalRect.width) * 100 + '%';\n    right.style.height = '100%';\n    right.style['backdrop-filter'] = `blur(${pen.blur || 2}px)`;\n    right.style.backgroundColor = pen.blurBackground;\n    div.appendChild(right);\n    const bottom = document.createElement('div');\n    bottom.style.position = 'absolute';\n    bottom.style.left = pen.operationalRect.x * 100 + '%';\n    bottom.style.bottom = '0px';\n    bottom.style.width = pen.operationalRect.width * 100 + '%';\n    bottom.style.height =\n        (1 - pen.operationalRect.y - pen.operationalRect.height) * 100 + '%';\n    bottom.style['backdrop-filter'] = `blur(${pen.blur || 2}px)`;\n    bottom.style.backgroundColor = pen.blurBackground;\n    div.appendChild(bottom);\n    const left = document.createElement('div');\n    left.style.position = 'absolute';\n    left.style.left = '0px';\n    left.style.top = '0px';\n    left.style.width = pen.operationalRect.x * 100 + '%';\n    left.style.height = '100%';\n    left.style['backdrop-filter'] = `blur(${pen.blur || 2}px)`;\n    left.style.backgroundColor = pen.blurBackground;\n    div.appendChild(left);\n    let mouseEnter = () => {\n        updatePointerEvents(pen);\n    };\n    top.onmouseenter = mouseEnter;\n    bottom.onmouseenter = mouseEnter;\n    right.onmouseenter = mouseEnter;\n    left.onmouseenter = mouseEnter;\n    div.onmouseleave = mouseEnter;\n    // }\n}\nfunction updatePointerEvents(pen) {\n    if (!pen.calculative.canvas.store.data.locked && !pen.locked) {\n        return;\n    }\n    if (pen.calculative.zIndex < 5) {\n        let children = pen.calculative.singleton.div.parentNode.children;\n        for (let i = 1; i < 6; i++) {\n            children[i].style.pointerEvents = 'initial';\n        }\n    }\n}\nfunction renderPenRaw(pen) {\n    if (pen.thumbImg) {\n        if (!pen.calculative.img) {\n            const img = new Image();\n            img.crossOrigin =\n                pen.crossOrigin === 'undefined'\n                    ? undefined\n                    : pen.crossOrigin || 'anonymous';\n            if (pen.calculative.canvas.store.options.cdn &&\n                !(pen.thumbImg.startsWith('http') ||\n                    pen.thumbImg.startsWith('//') ||\n                    pen.thumbImg.startsWith('data:image'))) {\n                img.src = pen.calculative.canvas.store.options.cdn + pen.thumbImg;\n            }\n            else {\n                img.src = pen.thumbImg;\n            }\n            img.onerror = (e) => {\n                img.remove();\n                pen.calculative.img = undefined;\n            };\n            pen.calculative.img = img;\n        }\n    }\n    else {\n        // if (pen.calculative.singleton && pen.calculative.singleton.div) {\n        //   try {\n        //     // handleSaveImg(pen);\n        //   } catch (e) {\n        //     console.warn(e);\n        //     pen.calculative.img = null;\n        //   }\n        // }\n    }\n}\nasync function handleSaveImg(pen) {\n    let iframeHtml = pen.calculative.singleton.div.children[0].contentWindow;\n    const iframeBody = iframeHtml.document.getElementsByTagName('body')[0];\n    const iframeScrollY = iframeHtml.document.documentElement.scrollTop;\n    const iframeScrollX = iframeHtml.document.documentElement.scrollLeft;\n    var fillContent = document.createElement('div');\n    // 把需要转换成图片的元素内容赋给创建的元素\n    fillContent.innerHTML = iframeBody.outerHTML;\n    document.body.appendChild(fillContent);\n    iframeHtml.document.domain = getRootDomain();\n    if (globalThis.html2canvas) {\n        const canvas = await globalThis.html2canvas(fillContent, {\n            allowTaint: true,\n            useCORS: true,\n            width: pen.width, // TODO 截屏按照1920*1080分辨率下的预览窗口宽高\n            height: pen.height,\n            x: iframeScrollX,\n            y: iframeScrollY,\n            // foreignObjectRendering: true,\n        });\n        // canvas.getContext('2d', {\n        //   willReadFrequently: true,\n        // });\n        const img = new Image();\n        img.crossOrigin =\n            pen.crossOrigin === 'undefined'\n                ? undefined\n                : pen.crossOrigin || 'anonymous';\n        img.src = canvas.toDataURL('image/png', 0.1);\n        if (img.src.length > 10) {\n            pen.calculative.img = img;\n        }\n        document.body.removeChild(fillContent);\n    }\n    // globalThis.html2canvas &&\n    //   globalThis\n    //     .html2canvas(iframeBody, {\n    //       allowTaint: true,\n    //       useCORS: true,\n    //       width: pen.width, // TODO 截屏按照1920*1080分辨率下的预览窗口宽高\n    //       height: pen.height,\n    //       x: iframeScrollX,\n    //       y: iframeScrollY,\n    //       foreignObjectRendering: true,\n    //     })\n    //     .then((canvas) => {\n    //       // 转成图片，生成图片地址\n    //       // imgBase64 = canvas.toDataURL('image/png');\n    //       const img = new Image();\n    //       img.crossOrigin =\n    //         pen.crossOrigin === 'undefined'\n    //           ? undefined\n    //           : pen.crossOrigin || 'anonymous';\n    //       img.src = canvas.toDataURL('image/png', 0.1);\n    //       if (img.src.length > 10) {\n    //         pen.calculative.img = img;\n    //       }\n    //     })\n    //     .catch((e) => {\n    //       console.warn(e);\n    //     });\n}\n//# sourceMappingURL=iframe.js.map","import { setElemPosition } from '../pen';\nexport const videos = {};\nconst mutedIcons = ['<svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M473.088 125.44L256 256H52.224C23.552 256 0 279.552 0 308.224V716.8c0 28.16 23.04 51.2 51.2 51.2h204.8l217.088 130.56c16.896 10.24 38.912-2.048 38.912-22.016V147.456c0-19.968-21.504-32.256-38.912-22.016zM699.904 320.512c-20.992-18.944-53.248-17.408-72.192 3.584-18.944 20.992-17.408 53.248 3.584 72.192 0.512 0.512 58.368 54.784 58.368 121.344 0 37.888-19.456 74.752-58.368 110.08-20.992 18.944-22.528 51.2-3.584 72.192 10.24 11.264 24.064 16.896 37.888 16.896 12.288 0 24.576-4.608 34.304-13.312 61.44-55.296 92.16-117.76 92.16-185.856 0-112.64-88.576-193.536-92.16-197.12z\" fill=\"\" p-id=\"2434\"></path><path d=\"M853.504 166.4c-20.992-18.944-53.248-16.896-72.192 4.096-18.944 20.992-16.896 53.248 4.096 72.192 1.536 1.024 135.68 122.88 135.68 280.576 0 90.624-45.568 177.152-135.68 257.536-20.992 18.944-23.04 51.2-4.096 72.192 10.24 11.264 24.064 16.896 38.4 16.896 12.288 0 24.576-4.096 34.304-12.8 112.64-100.864 169.984-212.992 169.984-333.824-1.024-202.752-163.84-350.208-170.496-356.864z\"></path></svg>', '<svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" ><path d=\"M256 768H51.2c-28.16 0-51.2-23.04-51.2-51.2V308.224C0 279.552 23.552 256 52.224 256H256v512zM512 147.456v728.576c0 19.968-21.504 32.256-38.912 22.016L256 768V256l217.088-130.56c17.408-10.24 38.912 2.048 38.912 22.016zM623.104 656.896c-19.968-19.968-19.968-52.224 0-72.192l217.088-217.088c19.968-19.968 52.224-19.968 72.192 0 19.968 19.968 19.968 52.224 0 72.192l-217.088 217.088c-19.456 19.968-52.224 19.968-72.192 0z\" fill=\"\" p-id=\"2582\"></path><path d=\"M623.104 367.104c19.968-19.968 52.224-19.968 72.192 0l217.088 217.088c19.968 19.968 19.968 52.224 0 72.192-19.968 19.968-52.224 19.968-72.192 0l-217.088-217.088c-19.968-19.456-19.968-52.224 0-72.192z\"></path></svg>'];\nexport function video(pen) {\n    if (!pen.onDestroy) {\n        pen.onDestroy = destory;\n        pen.onMove = move;\n        pen.onResize = move;\n        pen.onRotate = move;\n        pen.onClick = click;\n        pen.onValue = value;\n        pen.onChangeId = changeId;\n    }\n    if (!videos[pen.id]) {\n        const player = document.createElement('div');\n        const progress = document.createElement('div');\n        progress.style.position = 'absolute';\n        progress.style.outline = 'none';\n        progress.style.left = '0';\n        progress.style.bottom = '0';\n        progress.style.width = '0';\n        progress.style.height = '2px';\n        progress.style.background = '#52c41a';\n        progress.style.zIndex = '1';\n        if (pen.hideProgress) {\n            progress.style.display = 'none';\n        }\n        const muted = document.createElement('div');\n        muted.innerHTML = mutedIcons[1];\n        muted.style.position = 'absolute';\n        muted.style.right = '0';\n        muted.style.bottom = '0';\n        muted.style.width = '20px';\n        muted.style.height = '20px';\n        muted.style.fill = 'hsla(0, 0%, 100%, .8)';\n        muted.style.zIndex = '1';\n        muted.style.display = 'none';\n        player.appendChild(progress);\n        player.appendChild(muted);\n        muted.onclick = (e) => {\n            e.stopPropagation();\n            if (pen.calculative.media.muted) {\n                muted.innerHTML = mutedIcons[0];\n                pen.calculative.media.muted = false;\n            }\n            else {\n                muted.innerHTML = mutedIcons[1];\n                pen.calculative.media.muted = true;\n            }\n        };\n        if (!pen.calculative.singleton) {\n            pen.calculative.singleton = {};\n        }\n        pen.calculative.singleton.muted = muted;\n        player.onmouseenter = (e) => {\n            muted.style.display = 'block';\n        };\n        player.onmouseleave = (e) => {\n            muted.style.display = 'none';\n        };\n        player.onclick = (e) => {\n            e.stopPropagation();\n            click(pen);\n        };\n        let media;\n        if (pen.audio) {\n            media = document.createElement('audio');\n            media.controls = pen.controls;\n            media.src = pen.audio;\n        }\n        else {\n            media = document.createElement('video');\n            media.src = pen.video;\n        }\n        media.loop = pen.playLoop;\n        media.ontimeupdate = () => {\n            resizeProcessWidth(progress, media, pen.calculative.worldRect.width);\n        };\n        media.onended = () => {\n            pen.calculative.onended && pen.calculative.onended(pen);\n        };\n        pen.calculative.media = media;\n        media.style.position = 'absolute';\n        media.style.outline = 'none';\n        media.style.left = '0';\n        media.style.top = '0';\n        media.style.width = '100%';\n        media.style.height = '100%';\n        player.appendChild(media);\n        videos[pen.id] = player;\n        pen.calculative.canvas.externalElements?.parentElement.appendChild(player);\n        setElemPosition(pen, player);\n        if (pen.autoPlay) {\n            media.autoplay = true;\n            media.muted = true;\n        }\n    }\n    else if (pen.video &&\n        pen.calculative.media &&\n        pen.video !== pen.calculative.video) {\n        console.warn('video 更改, 此处是否执行？');\n        pen.calculative.media.src = pen.video;\n        if (pen.autoPlay) {\n            pen.calculative.media.muted = true;\n            pen.calculative.media.autoplay = true;\n        }\n        pen.calculative.media.loop = pen.playLoop;\n        pen.calculative.video = pen.video;\n    }\n    else if (pen.audio &&\n        pen.calculative.media &&\n        pen.audio !== pen.calculative.audio) {\n        pen.calculative.media.src = pen.audio;\n        if (pen.autoPlay) {\n            pen.calculative.media.muted = true;\n            pen.calculative.media.autoplay = true;\n        }\n        pen.calculative.media.loop = pen.playLoop;\n        pen.calculative.audio = pen.audio;\n    }\n    if (pen.calculative.patchFlags) {\n        setElemPosition(pen, videos[pen.id]);\n    }\n    return new Path2D();\n}\nfunction destory(pen) {\n    videos[pen.id].onclick = null;\n    videos[pen.id].remove();\n    videos[pen.id] = undefined;\n}\nfunction move(pen) {\n    setElemPosition(pen, videos[pen.id]);\n    const progress = videos[pen.id].children[0];\n    const media = videos[pen.id].children[1];\n    resizeProcessWidth(progress, media, pen.calculative.worldRect.width);\n}\nfunction click(pen) {\n    if (pen.calculative.media) {\n        pen.calculative.media.muted = false;\n        pen.calculative.singleton.muted.innerHTML = mutedIcons[0];\n        if (pen.calculative.media.paused) {\n            pen.calculative.media.play();\n        }\n        else {\n            pen.calculative.media.pause();\n        }\n    }\n}\nfunction resizeProcessWidth(progress, media, width) {\n    // worldRect 会重新赋值，而 pen 不会变，这里才能取到实时的 worldRect\n    progress.style.width = (media.currentTime / media.duration) * width + 'px';\n}\nfunction changeId(pen, oldId, newId) {\n    if (!videos[oldId]) {\n        return;\n    }\n    videos[newId] = videos[oldId];\n    delete videos[oldId];\n}\nfunction value(pen) {\n    const video = videos[pen.id];\n    if (!video) {\n        return;\n    }\n    setElemPosition(pen, video);\n    const currentSrc = pen.calculative.media.getAttribute('src');\n    if (pen.video) {\n        if (currentSrc !== pen.video) {\n            pen.calculative.media.src = pen.video;\n        }\n    }\n    else if (pen.audio) {\n        if (currentSrc !== pen.audio) {\n            pen.calculative.media.src = pen.audio;\n        }\n    }\n    // TODO: 下面每次都改动，是否影响性能？\n    if (pen.autoPlay) {\n        pen.calculative.media.muted = true;\n        // TODO: 自动播放何时关？\n        pen.calculative.media.autoplay = true;\n    }\n    pen.calculative.media.loop = pen.playLoop;\n}\n//# sourceMappingURL=video.js.map","export function createOffscreen() {\n    try {\n        const offscreen = new OffscreenCanvas(0, 0);\n        const context = offscreen.getContext('2d');\n        if (context && context.arc) {\n            return offscreen;\n        }\n        return document.createElement('canvas');\n    }\n    catch (e) {\n        return document.createElement('canvas');\n    }\n}\n//# sourceMappingURL=offscreen.js.map","import { getParent } from '../pen';\nexport class Tooltip {\n    parentElement;\n    store;\n    box;\n    text;\n    arrowUp;\n    arrowDown;\n    x;\n    y;\n    currentPen; // 本次 tooltip 在哪个画笔上\n    constructor(parentElement, store) {\n        this.parentElement = parentElement;\n        this.store = store;\n        this.box = document.createElement('div');\n        this.text = document.createElement('div');\n        this.arrowUp = document.createElement('div');\n        this.arrowDown = document.createElement('div');\n        this.box.className = 'meta2d-tooltip';\n        this.text.className = 'text';\n        this.arrowUp.className = 'arrow';\n        this.arrowDown.className = 'arrow down';\n        this.box.appendChild(this.text);\n        this.box.appendChild(this.arrowUp);\n        this.box.appendChild(this.arrowDown);\n        parentElement.appendChild(this.box);\n        this.box.onmouseleave = () => {\n            this.hide();\n            this.store.lastHover = undefined;\n        };\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le.com/tooltip') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        if (!sheet) {\n            let style = document.createElement('style');\n            style.type = 'text/css';\n            style.title = 'le5le.com/tooltip';\n            document.head.appendChild(style);\n            style = document.createElement('style');\n            style.type = 'text/css';\n            document.head.appendChild(style);\n            sheet = style.sheet;\n            sheet.insertRule('.meta2d-tooltip{position:absolute;padding:8px 0;z-index:10;left: -9999px;top: -9999px;}');\n            sheet.insertRule('.meta2d-tooltip .text{max-width:320px;min-height:30px;max-height:400px;outline:none;padding:8px 16px;border-radius:4px;background:#777777;color:#ffffff;line-height:1.8;overflow-y:auto;}');\n            sheet.insertRule('.meta2d-tooltip .arrow{position:absolute;border:10px solid transparent;background:transparent;top:-5px;left:50%;transform:translateX(-50%)}');\n            sheet.insertRule('.meta2d-tooltip .arrow.down{top:initial;bottom: -1px;}');\n        }\n    }\n    /**\n     * 通过 pen 的 titleFn titleFnJs title 来获取 title\n     * @returns 此次应该展示的 title\n     */\n    static getTitle(pen) {\n        if (pen.titleFnJs && !pen.titleFn) {\n            try {\n                pen.titleFn = new Function('pen', pen.titleFnJs);\n            }\n            catch (error) {\n                console.log('titleFnJs', error);\n            }\n        }\n        return pen.titleFn ? pen.titleFn(pen) : String(pen.title);\n    }\n    /**\n     * 更改 tooltip dom 的文本\n     * @returns 返回设置前的 rect\n     */\n    setText(pen) {\n        const oldElemRect = this.box.getBoundingClientRect();\n        let marked = globalThis.marked;\n        const title = Tooltip.getTitle(pen);\n        if (marked) {\n            this.text.innerHTML = marked(title);\n            const a = this.text.getElementsByTagName('A');\n            for (let i = 0; i < a.length; ++i) {\n                a[i].setAttribute('target', '_blank');\n            }\n        }\n        else {\n            this.text.innerHTML = title;\n        }\n        return oldElemRect;\n    }\n    /**\n     * 更新文字\n     */\n    updateText(pen) {\n        if (this.currentPen?.id !== pen.id) {\n            return;\n        }\n        if (Tooltip.titleEmpty(pen)) {\n            return;\n        }\n        const oldRect = this.setText(pen);\n        const newRect = this.box.getBoundingClientRect();\n        this.changePositionByText(oldRect, newRect);\n    }\n    /**\n     * 改变文字会 影响 box 的大小，需要重新设置位置\n     * @param oldRect 原\n     * @param newRect 新\n     */\n    changePositionByText(oldRect, newRect) {\n        this.x -= (newRect.width - oldRect.width) / 2;\n        this.y -= newRect.height - oldRect.height;\n        this.box.style.left = this.x + 'px';\n        this.box.style.top = this.y + 'px';\n    }\n    static titleEmpty(pen) {\n        return !pen.title && !pen.titleFn && !pen.titleFnJs;\n    }\n    show(pen, pos) {\n        this.currentPen = pen;\n        if (Tooltip.titleEmpty(pen)) {\n            let parent = getParent(pen, true);\n            if (parent) {\n                this.show(parent, pos);\n            }\n            return;\n        }\n        this.setText(pen);\n        const elemRect = this.box.getBoundingClientRect();\n        const rect = pen.calculative.worldRect;\n        let x = pen.calculative.canvas.store.data.x + pos.x - elemRect.width / 2;\n        let y = pen.calculative.canvas.store.data.y + pos.y - elemRect.height;\n        if (!pen.type) {\n            x =\n                pen.calculative.canvas.store.data.x +\n                    rect.x -\n                    (elemRect.width - rect.width) / 2;\n            y =\n                pen.calculative.canvas.store.data.y +\n                    rect.ey -\n                    elemRect.height -\n                    rect.height;\n        }\n        if (y > 0) {\n            this.arrowUp.style.borderBottomColor = 'transparent';\n            this.arrowDown.style.borderTopColor = '#777777';\n        }\n        else {\n            y += elemRect.height + rect.height + 5;\n            this.arrowUp.style.borderBottomColor = '#777777';\n            this.arrowDown.style.borderTopColor = 'transparent';\n        }\n        this.x = x;\n        this.y = y;\n        this.box.style.left = this.x + 'px';\n        this.box.style.top = this.y + 'px';\n    }\n    hide() {\n        this.currentPen = null;\n        this.x = -9999;\n        this.box.style.left = '-9999px';\n    }\n    translate(x, y) {\n        if (this.x < -1000) {\n            return;\n        }\n        this.x += x;\n        this.y += y;\n        this.box.style.left = this.x + 'px';\n        this.box.style.top = this.y + 'px';\n    }\n    destroy() {\n        this.box.onmouseleave = null;\n    }\n}\n//# sourceMappingURL=tooltip.js.map","import { getRect } from '../rect';\nexport class Scroll {\n    parent;\n    h;\n    v;\n    isDownH;\n    isDownV;\n    x;\n    y;\n    hSize;\n    vSize;\n    scrollX;\n    scrollY;\n    lastScrollX;\n    lastScrollY;\n    rect;\n    isShow;\n    pageMode; //页面模式\n    constructor(parent) {\n        this.parent = parent;\n        this.h = document.createElement('div');\n        this.v = document.createElement('div');\n        this.parent.externalElements.appendChild(this.h);\n        this.parent.externalElements.appendChild(this.v);\n        this.h.className = 'meta2d-scroll h';\n        this.h.onmousedown = this.onMouseDownH;\n        this.v.className = 'meta2d-scroll v';\n        this.v.onmousedown = this.onMouseDownV;\n        document.addEventListener('mousemove', this.onMouseMove);\n        document.addEventListener('mouseup', this.onMouseUp);\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le/scroll') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        if (!sheet) {\n            let style = document.createElement('style');\n            style.type = 'text/css';\n            style.title = 'le5le.com/scroll';\n            document.head.appendChild(style);\n            style = document.createElement('style');\n            style.type = 'text/css';\n            document.head.appendChild(style);\n            sheet = style.sheet;\n            sheet.insertRule('.meta2d-scroll{position:absolute;width:8px;height:200px;background:#dddddd;border-radius:10px;z-index:20;cursor:default;}');\n            sheet.insertRule('.meta2d-scroll:hover{background:#cccccc;cursor:pointer}');\n            sheet.insertRule('.meta2d-scroll.v{right:0;top:calc(50% - 100px);}');\n            sheet.insertRule('.meta2d-scroll.h{bottom:2px;left:calc(50% - 100px);width:200px;height:8px;}');\n        }\n        this.init();\n    }\n    init() {\n        this.isShow = true;\n        this.resize();\n        this.initPos();\n    }\n    onMouseDownH = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.isDownH = e.x;\n        this.x = this.parent.store.data.x || 0;\n        this.lastScrollX = this.scrollX;\n    };\n    onMouseDownV = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.isDownV = e.y;\n        this.y = this.parent.store.data.y || 0;\n        this.lastScrollY = this.scrollY;\n    };\n    onMouseMove = (e) => {\n        if (this.isDownH) {\n            const x = e.x - this.isDownH;\n            this.scrollX = this.lastScrollX + x;\n            this.h.style.left = `${this.scrollX}px`;\n            this.parent.store.data.x =\n                this.x - (x * this.rect.width) / this.parent.parentElement.clientWidth;\n        }\n        if (this.isDownV) {\n            const y = e.y - this.isDownV;\n            if (this.pageMode && this.canMouseMove(y)) {\n                return;\n            }\n            this.scrollY = this.lastScrollY + y;\n            this.v.style.top = `${this.scrollY}px`;\n            this.parent.store.data.y =\n                this.y -\n                    (y * this.rect.height) / this.parent.parentElement.clientHeight;\n        }\n        if (this.isDownH || this.isDownV) {\n            this.parent.onMovePens();\n            this.parent.canvasTemplate.init();\n            this.parent.canvasImage.init();\n            this.parent.canvasImageBottom.init();\n            this.parent.render();\n        }\n    };\n    onMouseUp = (e) => {\n        if (!this.isDownH && !this.isDownV) {\n            return;\n        }\n        this.isDownH = undefined;\n        this.isDownV = undefined;\n        if (this.scrollX < 20) {\n            this.scrollX = 20;\n            this.h.style.left = `${this.scrollX}px`;\n        }\n        else if (this.scrollX >\n            this.parent.parentElement.clientWidth - this.hSize - 20) {\n            this.scrollX = this.parent.parentElement.clientWidth - this.hSize - 20;\n            this.h.style.left = `${this.scrollX}px`;\n        }\n        if (this.scrollY < 20) {\n            this.scrollY = 20;\n            this.v.style.top = `${this.scrollY}px`;\n        }\n        else if (this.scrollY >\n            this.parent.parentElement.clientHeight - this.vSize - 20) {\n            this.scrollY = this.parent.parentElement.clientHeight - this.vSize - 20;\n            this.v.style.top = `${this.scrollY}px`;\n        }\n        this.resize();\n    };\n    canMouseMove(y) {\n        const rect = this.parent.parent.getRect();\n        if (y < 0 && rect.y + this.parent.store.data.y >= 0) {\n            return true;\n        }\n        if (y > 0 && rect.ey - this.parent.height + this.parent.store.data.y <= 0) {\n            return true;\n        }\n        return false;\n    }\n    changeMode() {\n        this.pageMode = true;\n        this.h.style.display = `none`;\n        const rect = this.parent.parent.getRect();\n        if (rect.height < this.parent.height) {\n            this.v.style.display = `none`;\n        }\n    }\n    initPos() {\n        this.scrollX = (this.parent.parentElement.clientWidth - this.hSize) / 2;\n        this.scrollY = (this.parent.parentElement.clientHeight - this.vSize) / 2;\n        this.h.style.left = `${this.scrollX}px`;\n        this.v.style.top = `${this.scrollY}px`;\n    }\n    resize() {\n        this.rect = getRect(this.parent.store.data.pens);\n        if (this.rect.width < 1400) {\n            this.rect.width = 1400;\n        }\n        if (this.rect.height < 900) {\n            this.rect.height = 900;\n        }\n        if (this.parent.store.data.x > 0) {\n            this.rect.width +=\n                this.parent.store.data.x + (this.rect.x > 0 ? 0 : this.rect.x);\n        }\n        else {\n            this.rect.width -=\n                this.parent.store.data.x + (this.rect.x > 0 ? 0 : this.rect.x);\n        }\n        if (this.parent.store.data.y > 0) {\n            this.rect.height +=\n                this.parent.store.data.y + (this.rect.y > 0 ? 0 : this.rect.y);\n        }\n        else {\n            this.rect.height -=\n                this.parent.store.data.y + (this.rect.y > 0 ? 0 : this.rect.y);\n        }\n        if (this.rect.width < 1400) {\n            this.rect.width = 1400;\n        }\n        if (this.rect.height < 900) {\n            this.rect.height = 900;\n        }\n        this.hSize =\n            (1000 * this.parent.parentElement.clientWidth) / this.rect.width / 3;\n        this.vSize =\n            (1000 * this.parent.parentElement.clientHeight) / this.rect.height / 3;\n        this.h.style.width = this.hSize + 'px';\n        this.v.style.height = this.vSize + 'px';\n    }\n    show() {\n        this.isShow = true;\n        this.h.style.display = `block`;\n        this.v.style.display = `block`;\n        document.addEventListener('mousemove', this.onMouseMove);\n        document.addEventListener('mouseup', this.onMouseUp);\n    }\n    hide() {\n        this.isShow = false;\n        this.h.style.display = `none`;\n        this.v.style.display = `none`;\n        this.destroy();\n    }\n    translate(x, y) {\n        if (x) {\n            this.scrollX -=\n                (x * this.parent.parentElement.clientWidth) / this.rect.width;\n            this.h.style.left = `${this.scrollX}px`;\n        }\n        if (y) {\n            this.scrollY -=\n                (y * this.parent.parentElement.clientHeight) / this.rect.height;\n            this.v.style.top = `${this.scrollY}px`;\n        }\n    }\n    wheel(up) {\n        let y = 10;\n        if (up) {\n            y = -10;\n        }\n        if (this.pageMode && this.canMouseMove(y)) {\n            return;\n        }\n        this.scrollY += y;\n        this.v.style.top = `${this.scrollY}px`;\n        this.parent.store.data.y -=\n            (y * this.rect.height) / this.parent.parentElement.clientHeight;\n        this.parent.onMovePens();\n        this.parent.canvasTemplate.init();\n        this.parent.canvasImage.init();\n        this.parent.canvasImageBottom.init();\n        this.parent.render();\n    }\n    destroy() {\n        document.removeEventListener('mousemove', this.onMouseMove);\n        document.removeEventListener('mouseup', this.onMouseUp);\n    }\n}\n//# sourceMappingURL=scroll.js.map","import { ctxFlip, ctxRotate, drawImage, setGlobalAlpha, getParent, CanvasLayer, } from '../pen';\nimport { rgba } from '../utils';\nimport { createOffscreen } from './offscreen';\nexport class CanvasImage {\n    parentElement;\n    store;\n    isBottom;\n    canvas = document.createElement('canvas');\n    /**\n     * 非图片的绘制\n     * isBottom true 指背景颜色，背景网格\n     * isBottom false 指 标尺\n     */\n    otherOffsreen = createOffscreen(); // 非图片的\n    offscreen = createOffscreen();\n    animateOffsScreen = createOffscreen();\n    fitOffscreen = createOffscreen();\n    fitFlag = false; //开启自定义填充\n    currentFit;\n    activeFit;\n    constructor(parentElement, store, isBottom) {\n        this.parentElement = parentElement;\n        this.store = store;\n        this.isBottom = isBottom;\n        parentElement.appendChild(this.canvas);\n        this.canvas.style.backgroundRepeat = 'no-repeat';\n        this.canvas.style.backgroundSize = '100% 100%';\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.top = '0';\n        this.canvas.style.left = '0';\n    }\n    resize(w, h) {\n        this.canvas.style.width = w + 'px';\n        this.canvas.style.height = h + 'px';\n        w = (w * this.store.dpiRatio) | 0;\n        h = (h * this.store.dpiRatio) | 0;\n        this.canvas.width = w;\n        this.canvas.height = h;\n        this.otherOffsreen.width = w;\n        this.otherOffsreen.height = h;\n        this.offscreen.width = w;\n        this.offscreen.height = h;\n        this.animateOffsScreen.width = w;\n        this.animateOffsScreen.height = h;\n        this.fitOffscreen.width = w;\n        this.fitOffscreen.height = h;\n        this.otherOffsreen\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.otherOffsreen.getContext('2d').textBaseline = 'middle';\n        this.offscreen\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.offscreen.getContext('2d').textBaseline = 'middle';\n        this.animateOffsScreen\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.animateOffsScreen.getContext('2d').textBaseline = 'middle';\n        this.fitOffscreen\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.fitOffscreen.getContext('2d').textBaseline = 'middle';\n        this.init();\n    }\n    init() {\n        this.offscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.animateOffsScreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.fitOffscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        for (const pen of this.store.data.pens) {\n            if (this.hasImage(pen)) {\n                // 只影响本层的\n                pen.calculative.imageDrawed = false;\n            }\n        }\n        if (this.isBottom) {\n            this.store.patchFlagsBackground = true;\n        }\n        else {\n            this.store.patchFlagsTop = true;\n        }\n    }\n    clear() {\n        this.otherOffsreen\n            .getContext('2d')\n            .clearRect(0, 0, this.otherOffsreen.width, this.otherOffsreen.height);\n        this.offscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.animateOffsScreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.fitOffscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.canvas\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n    hasImage(pen) {\n        pen.calculative.hasImage =\n            pen.calculative &&\n                pen.calculative.inView &&\n                // !pen.isBottom == !this.isBottom && // undefined == false 结果 false\n                ((this.isBottom && pen.canvasLayer === CanvasLayer.CanvasImageBottom) ||\n                    (!this.isBottom && pen.canvasLayer === CanvasLayer.CanvasImage)) &&\n                pen.image &&\n                pen.calculative.img &&\n                pen.name !== 'gif';\n        return pen.calculative.hasImage;\n    }\n    render() {\n        let patchFlags = false;\n        let patchFlagsAnimate = false;\n        for (const pen of this.store.data.pens) {\n            if (this.hasImage(pen)) {\n                if (this.store.animates.has(pen)) {\n                    patchFlagsAnimate = true;\n                }\n                else if (!pen.calculative.imageDrawed) {\n                    patchFlags = true;\n                }\n                if (pen.parentId && this.store.animates.has(getParent(pen, true))) {\n                    patchFlagsAnimate = true;\n                }\n            }\n        }\n        const patchFlagsBackground = this.store.patchFlagsBackground;\n        // if (patchFlagsBackground && this.isBottom) {\n        //   const ctx = this.otherOffsreen.getContext('2d');\n        //   ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        //   const width = this.store.data.width || this.store.options.width;\n        //   const height = this.store.data.height || this.store.options.height;\n        //   const x = this.store.data.x || this.store.options.x;\n        //   const y = this.store.data.y || this.store.options.y;\n        //   if (width && height && this.store.bkImg) {\n        //     ctx.save();\n        //     ctx.drawImage(\n        //       this.store.bkImg,\n        //       this.store.data.origin.x + x,\n        //       this.store.data.origin.y + y,\n        //       width * this.store.data.scale,\n        //       height * this.store.data.scale\n        //     );\n        //     ctx.restore();\n        //   }\n        //   const background =\n        //     this.store.data.background ||\n        //     (this.store.bkImg ? undefined : this.store.options.background);\n        //   if (background) {\n        //     ctx.save();\n        //     ctx.fillStyle = background;\n        //     if (width && height) {\n        //       ctx.fillRect(\n        //         this.store.data.origin.x + x,\n        //         this.store.data.origin.y + y,\n        //         width * this.store.data.scale,\n        //         height * this.store.data.scale\n        //       );\n        //     } else {\n        //       ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        //     }\n        //     ctx.restore();\n        //   }\n        //   this.renderGrid(ctx);\n        // }\n        const patchFlagsTop = this.store.patchFlagsTop;\n        if (patchFlagsTop && !this.isBottom) {\n            const ctx = this.otherOffsreen.getContext('2d');\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            this.renderRule(ctx);\n        }\n        // 从有图片画布层切换到无图片画布\n        const patchFlagsLast = this.store.patchFlagsLast;\n        if (patchFlagsLast) {\n            const ctx = this.offscreen.getContext('2d');\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        }\n        if (patchFlags) {\n            const ctx = this.offscreen.getContext('2d');\n            ctx.save();\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            ctx.translate(this.store.data.x, this.store.data.y);\n            for (const pen of this.store.data.pens) {\n                //pen.calculative.imageDrawed  只用于判断是否需要重绘整块画布，不用于判断改图片节点是否绘制过\n                if (!pen.calculative.hasImage ||\n                    this.store.animates.has(pen) ||\n                    this.store.animates.has(getParent(pen, true))) {\n                    continue;\n                }\n                // if (pen.template) {\n                if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                    continue;\n                }\n                if (pen.name === 'combine' && !pen.draw) {\n                    continue;\n                }\n                pen.calculative.imageDrawed = true;\n                ctx.save();\n                ctxFlip(ctx, pen);\n                if (pen.calculative.rotate) {\n                    ctxRotate(ctx, pen);\n                }\n                setGlobalAlpha(ctx, pen);\n                drawImage(ctx, pen);\n                ctx.restore();\n            }\n            ctx.restore();\n        }\n        if (patchFlagsAnimate) {\n            const ctx = this.animateOffsScreen.getContext('2d');\n            ctx.save();\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            ctx.translate(this.store.data.x, this.store.data.y);\n            for (const pen of this.store.animates) {\n                if (!pen.calculative.hasImage) {\n                    continue;\n                }\n                // if (pen.template) {\n                if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                    continue;\n                }\n                if (pen.visible === false || pen.calculative.visible === false) {\n                    //动画控制显示隐藏\n                    continue;\n                }\n                pen.calculative.imageDrawed = true;\n                ctx.save();\n                ctxFlip(ctx, pen);\n                if (pen.calculative.rotate) {\n                    ctxRotate(ctx, pen);\n                }\n                setGlobalAlpha(ctx, pen);\n                drawImage(ctx, pen);\n                ctx.restore();\n            }\n            //图片组合节点 动画\n            for (const pen of this.store.data.pens) {\n                if (!pen.calculative.hasImage || !pen.parentId) {\n                    continue;\n                }\n                // if (pen.template) {\n                if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                    continue;\n                }\n                if (pen.visible === false || pen.calculative.visible === false) {\n                    continue;\n                }\n                if (this.store.animates.has(getParent(pen, true))) {\n                    pen.calculative.imageDrawed = true;\n                    ctx.save();\n                    ctxFlip(ctx, pen);\n                    if (pen.calculative.rotate) {\n                        ctxRotate(ctx, pen);\n                    }\n                    setGlobalAlpha(ctx, pen);\n                    drawImage(ctx, pen);\n                    ctx.restore();\n                }\n            }\n            ctx.restore();\n        }\n        if (!this.isBottom && !this.store.data.locked && this.fitFlag) {\n            const width = (this.store.data.width || this.store.options.width) *\n                this.store.data.scale;\n            const height = (this.store.data.height || this.store.options.height) *\n                this.store.data.scale;\n            const x = this.store.data.origin.x + this.store.data.x ||\n                this.store.options.x ||\n                0;\n            const y = this.store.data.origin.y + this.store.data.y ||\n                this.store.options.y ||\n                0;\n            const ctx = this.fitOffscreen.getContext('2d');\n            ctx.save();\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            ctx.fillStyle = '#ffffff66';\n            ctx.strokeStyle = this.store.styles.activeColor;\n            this.store.data.fits?.forEach((item, index) => {\n                ctx.fillRect(x + width * item.x, y + height * item.y, width * item.width, height * item.height);\n                if (item.active) {\n                    ctx.strokeRect(x + width * item.x, y + height * item.y, width * item.width, height * item.height);\n                }\n            });\n            ctx.restore();\n        }\n        if (patchFlags ||\n            patchFlagsAnimate ||\n            (patchFlagsBackground && this.isBottom) ||\n            // this.isBottom ||\n            (patchFlagsTop && !this.isBottom)) {\n            const ctxCanvas = this.canvas.getContext('2d');\n            ctxCanvas.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            if (this.isBottom) {\n                //   ctxCanvas.drawImage(\n                //     this.otherOffsreen,\n                //     0,\n                //     0,\n                //     this.canvas.width,\n                //     this.canvas.height\n                //   );\n                this.store.patchFlagsBackground = false;\n            }\n            ctxCanvas.drawImage(this.offscreen, 0, 0, this.canvas.width, this.canvas.height);\n            ctxCanvas.drawImage(this.animateOffsScreen, 0, 0, this.canvas.width, this.canvas.height);\n            if (!this.isBottom) {\n                ctxCanvas.drawImage(this.otherOffsreen, 0, 0, this.canvas.width, this.canvas.height);\n                this.store.patchFlagsTop = false;\n                if (!this.store.data.locked && this.fitFlag) {\n                    ctxCanvas.drawImage(this.fitOffscreen, 0, 0, this.canvas.width, this.canvas.height);\n                }\n            }\n        }\n    }\n    // renderGrid(\n    //   ctx: CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D\n    // ) {\n    //   const { data, options } = this.store;\n    //   const { grid, gridRotate, gridColor, gridSize, scale } = data;\n    //   if (!(grid ?? options.grid)) {\n    //     // grid false 时不绘制, undefined 时看 options.grid\n    //     return;\n    //   }\n    //   ctx.save();\n    //   const { width, height } = this.canvas;\n    //   if (gridRotate) {\n    //     ctx.translate(width / 2, height / 2);\n    //     ctx.rotate((gridRotate * Math.PI) / 180);\n    //     ctx.translate(-width / 2, -height / 2);\n    //   }\n    //   ctx.lineWidth = 1;\n    //   ctx.strokeStyle = gridColor || options.gridColor;\n    //   ctx.beginPath();\n    //   const size = (gridSize || options.gridSize) * scale;\n    //   const longSide = Math.max(width, height);\n    //   const count = Math.ceil(longSide / size);\n    //   for (let i = -size * count; i < longSide * 2; i += size) {\n    //     ctx.moveTo(i, -longSide);\n    //     ctx.lineTo(i, longSide * 2);\n    //   }\n    //   for (let i = -size * count; i < longSide * 2; i += size) {\n    //     ctx.moveTo(-longSide, i);\n    //     ctx.lineTo(longSide * 2, i);\n    //   }\n    //   ctx.stroke();\n    //   ctx.restore();\n    // }\n    renderRule(ctx) {\n        const { data, options } = this.store;\n        const { rule, ruleColor, scale, origin } = data;\n        if (!(rule ?? options.rule)) {\n            // rule false 时不绘制, undefined 时看 options.rule\n            return;\n        }\n        const span = scale * 10;\n        ctx.save();\n        const finalRuleColor = ruleColor || options.ruleColor || \"#ccc\";\n        ctx.strokeStyle = rgba(finalRuleColor, 0.7);\n        const x = origin.x + data.x;\n        const y = origin.y + data.y;\n        const { width, height } = this.canvas;\n        let h = options.ruleOptions?.height || 20;\n        if (options.ruleOptions?.background) {\n            //背景颜色\n            ctx.beginPath();\n            ctx.fillStyle = options.ruleOptions?.background;\n            ctx.rect(0, 0, width, h);\n            ctx.fill();\n            ctx.rect(0, 0, h, height);\n            ctx.fill();\n        }\n        if (options.ruleOptions?.underline) {\n            ctx.beginPath();\n            ctx.fillStyle = rgba(finalRuleColor, 0.7);\n            ctx.moveTo(0, h);\n            ctx.lineTo(width, h);\n            ctx.stroke();\n            ctx.moveTo(h, 0);\n            ctx.lineTo(h, height);\n            ctx.stroke();\n        }\n        let b_y = h / 4;\n        if (options.ruleOptions?.baseline === \"bottom\") {\n            b_y = h * 3 / 4;\n        }\n        // horizontal rule\n        ctx.beginPath();\n        ctx.lineWidth = h / 2;\n        ctx.lineDashOffset = -x % span;\n        ctx.setLineDash([1, span - 1]);\n        ctx.moveTo(0, b_y);\n        ctx.lineTo(width, b_y);\n        ctx.stroke();\n        // vertical rule\n        ctx.beginPath();\n        ctx.lineDashOffset = -y % span;\n        ctx.moveTo(b_y, 0);\n        ctx.lineTo(b_y, height);\n        ctx.stroke();\n        // the big rule\n        ctx.strokeStyle = finalRuleColor;\n        ctx.beginPath();\n        ctx.lineWidth = h;\n        ctx.lineDashOffset = -x % (span * 10);\n        ctx.setLineDash([1, span * 10 - 1]);\n        ctx.moveTo(0, h / 2);\n        ctx.lineTo(width, h / 2);\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.lineDashOffset = -y % (span * 10);\n        ctx.moveTo(h / 2, 0);\n        ctx.lineTo(h / 2, height);\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.fillStyle = options.ruleOptions?.textColor || ctx.strokeStyle;\n        let text = 0 - Math.floor(x / span / 10) * 100;\n        let textTop = options.ruleOptions?.textTop || 16;\n        let textLeft = options.ruleOptions?.textLeft || 4;\n        if (x < 0) {\n            text -= 100;\n        }\n        for (let i = x % (span * 10); i < width; i += 10 * span, text += 100) {\n            if (span < 3 && text % 500) {\n                continue;\n            }\n            ctx.fillText(text.toString(), i + textLeft, textTop);\n        }\n        text = 0 - Math.floor(y / span / 10) * 100;\n        if (y < 0) {\n            text -= 100;\n        }\n        for (let i = y % (span * 10); i < height; i += 10 * span, text += 100) {\n            if (span < 3 && text % 500) {\n                continue;\n            }\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(textTop, i - textLeft);\n            ctx.rotate((270 * Math.PI) / 180);\n            ctx.fillText(text.toString(), 0, 0);\n            ctx.restore();\n        }\n        ctx.restore();\n    }\n}\n//# sourceMappingURL=canvasImage.js.map","import { createOffscreen } from './offscreen';\nexport class MagnifierCanvas {\n    parentCanvas;\n    parentElement;\n    store;\n    canvas = document.createElement('canvas');\n    magnifierScreen = createOffscreen();\n    offscreen = createOffscreen();\n    domOffscreen = createOffscreen();\n    magnifierSize = 300;\n    magnifier;\n    constructor(parentCanvas, parentElement, store) {\n        this.parentCanvas = parentCanvas;\n        this.parentElement = parentElement;\n        this.store = store;\n        parentElement.appendChild(this.canvas);\n        this.canvas.style.backgroundRepeat = 'no-repeat';\n        this.canvas.style.backgroundSize = '100% 100%';\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.top = '0';\n        this.canvas.style.left = '0';\n        this.canvas.style.pointerEvents = 'none';\n    }\n    resize(w, h) {\n        this.canvas.style.width = w + 'px';\n        this.canvas.style.height = h + 'px';\n        w = (w * this.store.dpiRatio) | 0;\n        h = (h * this.store.dpiRatio) | 0;\n        this.canvas.width = w;\n        this.canvas.height = h;\n        this.offscreen.width = w;\n        this.offscreen.height = h;\n        this.offscreen\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.offscreen.getContext('2d').textBaseline = 'middle';\n        this.domOffscreen.width = w;\n        this.domOffscreen.height = h;\n        this.domOffscreen.getContext('2d').scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.domOffscreen.getContext('2d').textBaseline = 'middle';\n        this.magnifierScreen.width = this.magnifierSize + 5;\n        this.magnifierScreen.height = this.magnifierSize + 5;\n    }\n    /**\n     * 绘制到 该画布的 离屏层\n     */\n    renderMagnifier() {\n        if (!this.magnifier) {\n            return;\n        }\n        const r = this.magnifierSize / 2;\n        const size = this.magnifierSize + 5;\n        const ctx = this.magnifierScreen.getContext('2d');\n        ctx.clearRect(0, 0, size, size);\n        ctx.lineWidth = 5;\n        ctx.save();\n        ctx.translate(2.5, 2.5);\n        ctx.save();\n        ctx.arc(r, r, r, 0, Math.PI * 2, false);\n        ctx.clip();\n        // ctx.fillStyle =\n        //   this.store.data.background || this.store.options.background || '#f4f4f4';\n        // ctx.fillRect(0, 0, size, size);\n        ctx.translate(-r, -r);\n        ctx.scale(2, 2);\n        const pt = {\n            x: (this.parentCanvas.mousePos.x + this.store.data.x) *\n                this.store.dpiRatio,\n            y: (this.parentCanvas.mousePos.y + this.store.data.y) *\n                this.store.dpiRatio,\n        };\n        const drawOffscreens = [\n            this.parentCanvas.canvasTemplate.bgOffscreen,\n            this.parentCanvas.canvasTemplate.offscreen,\n            this.parentCanvas.canvasImageBottom.offscreen,\n            this.parentCanvas.canvasImageBottom.animateOffsScreen,\n            this.parentCanvas.offscreen,\n            this.parentCanvas.canvasImage.offscreen,\n            this.parentCanvas.canvasImage.animateOffsScreen,\n            this.domOffscreen //dom元素的绘制层\n        ];\n        drawOffscreens.forEach((offscreen) => {\n            ctx.drawImage(offscreen, pt.x - r, pt.y - r, this.magnifierSize, this.magnifierSize, 0, 0, this.magnifierSize, this.magnifierSize);\n        });\n        ctx.restore();\n        ctx.beginPath();\n        const gradient = ctx.createRadialGradient(r, r, r - 5, r, r, r);\n        gradient.addColorStop(0, 'rgba(0,0,0,0.2)');\n        gradient.addColorStop(0.8, 'rgb(200,200,200)');\n        gradient.addColorStop(0.9, 'rgb(200,200,200)');\n        gradient.addColorStop(1.0, 'rgba(200,200,200,0.9)');\n        ctx.strokeStyle = gradient;\n        ctx.arc(r, r, r, 0, Math.PI * 2, false);\n        ctx.stroke();\n        ctx.restore();\n        const offscreenCtx = this.offscreen.getContext('2d');\n        offscreenCtx.drawImage(this.magnifierScreen, 0, 0, this.magnifierSize + 5, this.magnifierSize + 5, (pt.x - r - 2.5) / this.store.dpiRatio, (pt.y - r - 2.5) / this.store.dpiRatio, (this.magnifierSize + 5) / this.store.dpiRatio, (this.magnifierSize + 5) / this.store.dpiRatio);\n    }\n    updateDomOffscreen() {\n        const domCtx = this.domOffscreen.getContext('2d');\n        domCtx.clearRect(0, 0, this.domOffscreen.width, this.domOffscreen.height);\n        for (const pen of this.store.data.pens) {\n            if (pen.externElement || pen.name === 'gif') {\n                if (pen.calculative.img) {\n                    domCtx.save();\n                    domCtx.translate(this.store.data.x, this.store.data.y);\n                    const { x, y, width, height } = pen.calculative.worldRect;\n                    domCtx.drawImage(pen.calculative.img, x, y, width, height);\n                    domCtx.restore();\n                }\n            }\n        }\n    }\n    render() {\n        this.offscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.renderMagnifier();\n        const ctx = this.canvas.getContext('2d');\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        ctx.drawImage(this.offscreen, 0, 0, this.canvas.width, this.canvas.height);\n    }\n}\n//# sourceMappingURL=magnifierCanvas.js.map","export function lockedError(store) {\n    if (store.data.locked) {\n        throw new Error('canvas is locked');\n    }\n}\n//# sourceMappingURL=error.js.map","import { Meta2d } from \"../core\";\nimport { getMeta2dData } from \"../utils\";\nexport class Dialog {\n    parentElement;\n    box;\n    iframe;\n    dialog;\n    close;\n    title;\n    body;\n    x;\n    y;\n    url;\n    meta2dDiv;\n    dialogMeta2d;\n    store;\n    constructor(parentElement, store) {\n        this.parentElement = parentElement;\n        this.store = store;\n        this.box = document.createElement('div');\n        this.dialog = document.createElement('div');\n        let header = document.createElement('div');\n        this.title = document.createElement('div');\n        this.close = document.createElement('span');\n        this.close.innerHTML = `\n      <svg fill=\"none\" viewBox=\"0 0 16 16\" width=\"1em\" height=\"1em\">\n      <path\n        fill=\"currentColor\"\n        d=\"M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z\"\n        fill-opacity=\"0.9\"\n      ></path>\n    </svg>`;\n        this.body = document.createElement('div');\n        this.iframe = document.createElement('iframe');\n        this.iframe.setAttribute('frameborder', '0');\n        this.meta2dDiv = document.createElement('div');\n        this.box.className = 'meta2d-dialog_mask';\n        this.dialog.className = 'meta2d-dialog';\n        this.body.className = 'meta2d-dialog_body';\n        header.className = 'meta2d-dialog_header';\n        this.title.className = 'meta2d-dialog-content';\n        this.close.className = 'meta2d-dialog-close';\n        this.meta2dDiv.className = 'meta2d-dialog-meta2d';\n        header.appendChild(this.title);\n        header.appendChild(this.close);\n        this.body.appendChild(this.iframe);\n        this.body.appendChild(this.meta2dDiv);\n        this.dialog.appendChild(header);\n        this.dialog.appendChild(this.body);\n        this.box.appendChild(this.dialog);\n        parentElement.appendChild(this.box);\n        this.dialog.onclick = (e) => {\n            e.stopPropagation();\n        };\n        this.box.onclick = () => {\n            this.hide();\n        };\n        this.close.onclick = () => {\n            this.hide();\n        };\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le.com/dialog') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        if (!sheet) {\n            let style = document.createElement('style');\n            style.type = 'text/css';\n            style.title = 'le5le.com/dialog';\n            document.head.appendChild(style);\n            style = document.createElement('style');\n            style.type = 'text/css';\n            document.head.appendChild(style);\n            sheet = style.sheet;\n            sheet.insertRule(`.meta2d-dialog_mask {\n        display: none;\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        width: 100%;\n        height: 100%;\n        background-color: #0000006f;\n        z-index: 9999;`);\n            sheet.insertRule(`.meta2d-dialog_mask .meta2d-dialog {\n            position: absolute;\n            top: 15vh;\n            left: 10%;\n            width: 80%;\n            height:420px;\n            padding: 16px 20px;\n            border-radius: 9px;\n            background-color: #1e2430;\n            z-index: 19999;\n            overflow: auto;\n        }`);\n            sheet.insertRule(`.meta2d-dialog_header {\n            display: flex;\n            position: relative;\n            z-index: 999;\n        }`);\n            sheet.insertRule(`.meta2d-dialog-content {\n            width: calc(100% - 20px);\n            font-weight: 600;\n            font-size: 14px;\n            color: #bdc7db;\n            padding-bottom:8px;\n        }`);\n            sheet.insertRule(`.meta2d-dialog-close {\n            width: 20px;\n            height: 20px;\n            line-height: 20px;\n            text-align: center;\n            color: #617b91;\n            position: absolute;\n            right:20px;\n            top:2px;\n        }`);\n            sheet.insertRule(`.meta2d-dialog-close svg{\n            width: 18px;\n            height: 18px;\n        }`);\n            sheet.insertRule(`.meta2d-dialog-close :hover{\n            cursor: pointer;\n        }`);\n            sheet.insertRule(`.meta2d-dialog_body{\n          width: 100%;\n          height: 100%;\n        } `);\n            sheet.insertRule(`.meta2d-dialog_body iframe{\n            width: 100%;\n            height: 100%;\n        }`);\n            sheet.insertRule(`.meta2d-dialog_body .meta2d-dialog-meta2d{\n          width: 100%;\n          height: 100%;\n          display: none;\n      }`);\n        }\n    }\n    async show(title, url, rect, data) {\n        if (!url) {\n            return;\n        }\n        const isIframe = this.isUrl(url);\n        if (isIframe) {\n            this.meta2dDiv.style.display = 'none';\n            this.iframe.style.display = 'block';\n        }\n        else {\n            this.iframe.style.display = 'none';\n            this.meta2dDiv.style.display = 'block';\n        }\n        if (isIframe && url !== this.url) {\n            this.iframe.setAttribute('src', url);\n            this.url = url;\n        }\n        title && (this.title.innerText = title);\n        if (!title) {\n            this.dialog.style.padding = '0px';\n            this.title.style.display = 'none';\n            this.body.style.height = '100%';\n            this.body.style.overflow = 'hidden';\n            this.close.style.top = '18px';\n            this.close.style.right = '20px';\n            this.body.style.background = 'transparent';\n        }\n        else {\n            this.dialog.style.padding = '16px 20px';\n            this.title.style.display = 'block';\n            this.body.style.height = 'calc(100% - 26px)';\n            this.close.style.top = '2px';\n            this.close.style.right = '2px';\n            this.body.style.background = '#1e2430';\n        }\n        if (rect) {\n            this.dialog.style.width = rect.width ? (rect.width + 'px') : '80%';\n            this.dialog.style.height = rect.height ? (rect.height + 'px') : '420px';\n            this.dialog.style.top = rect.y ? (rect.y + 'px') : (rect.height ? `calc( 50% - ${rect.height / 2}px )` : '15vh');\n            this.dialog.style.left = rect.x ? (rect.x + 'px') : `calc( 50% - ${rect.width ? rect.width / 2 + 'px' : '40%'} )`;\n        }\n        if (isIframe && data) {\n            let timeout = 0;\n            const interval = setInterval(() => {\n                if (this.iframe.contentWindow.meta2d) {\n                    clearInterval(interval);\n                    setTimeout(() => {\n                        this.iframe.contentWindow.postMessage(JSON.stringify({\n                            name: 'dialog',\n                            data\n                        }), '*');\n                    }, 100);\n                }\n                timeout++;\n                if (timeout > 50) {\n                    clearInterval(interval);\n                }\n            }, 300);\n        }\n        if (!this.dialogMeta2d || isIframe) {\n            this.box.style.display = 'block';\n        }\n        if (!isIframe) {\n            this.meta2dDiv.style.display = 'block';\n            if (!this.dialogMeta2d) {\n                globalThis.mainMeta2d = globalThis.meta2d;\n                this.dialogMeta2d = new Meta2d(this.meta2dDiv);\n                globalThis.meta2d = globalThis.mainMeta2d;\n            }\n            const meta2dData = await getMeta2dData(this.store, url);\n            if (meta2dData) {\n                this.box.style.display = 'block';\n                this.dialogMeta2d.clear(true);\n                this.dialogMeta2d.open(meta2dData, false);\n                this.dialogMeta2d.lock(1);\n                this.dialogMeta2d.resize();\n                this.dialogMeta2d.fitView(true, 0);\n                this.dialogMeta2d.render(true);\n            }\n        }\n    }\n    hide() {\n        this.box.style.display = 'none';\n    }\n    isUrl(url) {\n        if (url.startsWith('http') || url.includes('?') || url.includes('/')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    destroy() {\n        this.dialog.onclick = undefined;\n        this.box.onclick = undefined;\n        this.close.onclick = undefined;\n        this.dialogMeta2d?.destroy(true);\n    }\n}\n//# sourceMappingURL=dialog.js.map","export class Title {\n    parentElement;\n    box;\n    currentAnchor; // 本次 tooltip 在哪个画笔上\n    constructor(parentElement) {\n        this.parentElement = parentElement;\n        this.box = document.createElement('div');\n        this.box.className = 'meta2d-title';\n        parentElement.appendChild(this.box);\n        // this.box.onmouseleave = () => {\n        //   this.hide();\n        // };\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le.com/title') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        if (!sheet) {\n            let style = document.createElement('style');\n            style.type = 'text/css';\n            style.title = 'le5le.com/title';\n            document.head.appendChild(style);\n            style = document.createElement('style');\n            style.type = 'text/css';\n            document.head.appendChild(style);\n            sheet = style.sheet;\n            sheet.insertRule('.meta2d-title{position:absolute;padding:0;z-index:10;left: -9999px;top: -9999px;background:#fff;color:#000; cursor: crosshair;border: 1px solid black;}');\n        }\n    }\n    /**\n     * @returns 此次应该展示的 title\n     */\n    static getTitle(anchor) {\n        // if (anchor.titleFnJs && !anchor.titleFn) {\n        //   try {\n        //     anchor.titleFn = new Function('anchor', anchor.titleFnJs) as (\n        //       anchor: Point\n        //     ) => string;\n        //   } catch (error) {\n        //     console.log('titleFnJs', error);\n        //   }\n        // }\n        // return anchor.titleFn ? anchor.titleFn(anchor) : String(anchor.title);\n    }\n    /**\n     * @returns 返回设置前的 rect\n     */\n    setText(anchor) {\n        // this.box.title = anchor.title;\n        this.box.innerText = anchor.title;\n    }\n    /**\n     * 更新文字\n     */\n    updateText(anchor) {\n        if (this.currentAnchor?.id !== anchor.id) {\n            return;\n        }\n        if (Title.titleEmpty(anchor)) {\n            return;\n        }\n        this.setText(anchor);\n        this.changePositionByAnchor(anchor);\n    }\n    /**\n     * 改变文字会 影响 box 的大小，需要重新设置位置\n     * @param oldRect 原\n     * @param newRect 新\n     */\n    changePositionByAnchor(anchor) {\n        this.box.style.left = anchor.x + 10 + 'px';\n        this.box.style.top = anchor.y + 10 + 'px';\n    }\n    static titleEmpty(anchor) {\n        return !anchor.title; // && !anchor.titleFn && !anchor.titleFnJs;\n    }\n    show(anchor, pen) {\n        if (Title.titleEmpty(anchor)) {\n            return;\n        }\n        this.currentAnchor = anchor;\n        this.setText(anchor);\n        let pos = {\n            x: pen.calculative.canvas.store.data.x + anchor.x,\n            y: pen.calculative.canvas.store.data.y + anchor.y,\n        };\n        this.changePositionByAnchor(pos);\n    }\n    hide() {\n        this.box.style.left = '-9999px';\n        this.box.innerText = '';\n        this.currentAnchor = null;\n    }\n    destroy() {\n        this.box.onmouseleave = null;\n    }\n}\n//# sourceMappingURL=title.js.map","import { ctxFlip, ctxRotate, drawImage, setGlobalAlpha, renderPen, CanvasLayer, } from '../pen';\nimport { createOffscreen } from './offscreen';\nexport class CanvasTemplate {\n    parentElement;\n    store;\n    canvas = document.createElement('canvas');\n    offscreen = createOffscreen();\n    bgOffscreen = createOffscreen();\n    patchFlags;\n    bgPatchFlags;\n    fit; //是否自适应布局 \n    constructor(parentElement, store) {\n        this.parentElement = parentElement;\n        this.store = store;\n        parentElement.appendChild(this.canvas);\n        this.canvas.style.backgroundRepeat = 'no-repeat';\n        this.canvas.style.backgroundSize = '100% 100%';\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.top = '0';\n        this.canvas.style.left = '0';\n    }\n    resize(w, h) {\n        this.canvas.style.width = w + 'px';\n        this.canvas.style.height = h + 'px';\n        w = (w * this.store.dpiRatio) | 0;\n        h = (h * this.store.dpiRatio) | 0;\n        this.canvas.width = w;\n        this.canvas.height = h;\n        this.bgOffscreen.width = w;\n        this.bgOffscreen.height = h;\n        this.offscreen.width = w;\n        this.offscreen.height = h;\n        this.bgOffscreen\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.bgOffscreen.getContext('2d').textBaseline = 'middle';\n        this.offscreen\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.offscreen.getContext('2d').textBaseline = 'middle';\n        this.init();\n    }\n    init() {\n        this.bgOffscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.offscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.patchFlags = true;\n        this.bgPatchFlags = true;\n        // for (const pen of this.store.data.pens) {\n        //   if (this.hasImage(pen)) {\n        //     // 只影响本层的\n        //     pen.calculative.imageDrawed = false;\n        //   }\n        // }\n        // this.store.patchFlagsBackground = true;\n        // this.store.patchFlagsTop = true;\n    }\n    hidden() {\n        this.canvas.style.display = 'none';\n    }\n    show() {\n        this.canvas.style.display = 'block';\n    }\n    clear() {\n        this.bgOffscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.offscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.canvas\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.bgPatchFlags = true;\n        this.patchFlags = true;\n    }\n    render() {\n        if (this.bgPatchFlags) {\n            const ctx = this.bgOffscreen.getContext('2d');\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            const width = this.store.data.width || this.store.options.width;\n            const height = this.store.data.height || this.store.options.height;\n            const x = this.store.data.x || this.store.options.x || 0;\n            const y = this.store.data.y || this.store.options.y || 0;\n            const background = this.store.data.background || this.store.styles.background;\n            // this.store.data.background || this.store.options.background;\n            if (background) {\n                ctx.save();\n                ctx.fillStyle = background;\n                ctx.globalAlpha = this.store.data.globalAlpha ?? this.store.options.globalAlpha;\n                if (width && height && !this.fit) {\n                    ctx.shadowOffsetX = this.store.options.shadowOffsetX;\n                    ctx.shadowOffsetY = this.store.options.shadowOffsetY;\n                    ctx.shadowBlur = this.store.options.shadowBlur;\n                    ctx.shadowColor = this.store.options.shadowColor;\n                    ctx.fillRect(this.store.data.origin.x + x, this.store.data.origin.y + y, width * this.store.data.scale, height * this.store.data.scale);\n                }\n                else {\n                    ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n                }\n                ctx.restore();\n            }\n            if (width && height && this.store.bkImg) {\n                ctx.save();\n                if (this.fit) {\n                    ctx.drawImage(this.store.bkImg, 0, 0, this.canvas.offsetWidth, this.canvas.offsetHeight);\n                }\n                else {\n                    ctx.drawImage(this.store.bkImg, this.store.data.origin.x + x, this.store.data.origin.y + y, width * this.store.data.scale, height * this.store.data.scale);\n                }\n                ctx.restore();\n            }\n            this.renderGrid(ctx);\n        }\n        if (this.patchFlags) {\n            const ctx = this.offscreen.getContext('2d');\n            ctx.save();\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            ctx.translate(this.store.data.x, this.store.data.y);\n            for (const pen of this.store.data.pens) {\n                if (!isFinite(pen.x)) {\n                    continue;\n                }\n                if (\n                // pen.template \n                pen.canvasLayer === CanvasLayer.CanvasTemplate\n                    && pen.calculative.inView) {\n                    if (pen.name === 'combine' && !pen.draw) {\n                        continue;\n                    }\n                    //非图片\n                    renderPen(ctx, pen);\n                    //图片\n                    if (pen.image && pen.name !== 'gif' && pen.calculative.img) {\n                        ctx.save();\n                        ctxFlip(ctx, pen);\n                        if (pen.calculative.rotate) {\n                            ctxRotate(ctx, pen);\n                        }\n                        setGlobalAlpha(ctx, pen);\n                        drawImage(ctx, pen);\n                        ctx.restore();\n                    }\n                }\n            }\n            ctx.restore();\n        }\n        if (this.patchFlags || this.bgPatchFlags) {\n            const ctxCanvas = this.canvas.getContext('2d');\n            ctxCanvas.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            ctxCanvas.drawImage(this.bgOffscreen, 0, 0, this.canvas.width, this.canvas.height);\n            ctxCanvas.drawImage(this.offscreen, 0, 0, this.canvas.width, this.canvas.height);\n            this.patchFlags = false;\n            this.bgPatchFlags = false;\n        }\n    }\n    renderGrid(ctx) {\n        const { data, options } = this.store;\n        const { grid, gridRotate, gridColor, gridSize, scale, origin } = data;\n        if (!(grid ?? options.grid)) {\n            // grid false 时不绘制, undefined 时看 options.grid\n            return;\n        }\n        ctx.save();\n        const width = (data.width || options.width) * scale;\n        const height = (data.height || options.height) * scale;\n        const startX = (data.x || options.x || 0) + origin.x;\n        const startY = (data.y || options.y || 0) + origin.y;\n        if (gridRotate) {\n            ctx.translate(width / 2, height / 2);\n            ctx.rotate((gridRotate * Math.PI) / 180);\n            ctx.translate(-width / 2, -height / 2);\n        }\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = gridColor || options.gridColor;\n        ctx.beginPath();\n        let size = (gridSize || options.gridSize) * scale;\n        size = size < 0 ? 0 : size;\n        if (!width || !height) {\n            const ratio = this.store.dpiRatio;\n            const cW = this.canvas.width / ratio;\n            const cH = this.canvas.height / ratio;\n            const m = startX / size;\n            const n = startY / size;\n            const offset = size * 10; //补偿值\n            const newX = startX - Math.ceil(m) * size;\n            const newY = startY - Math.ceil(n) * size;\n            const endX = cW + newX + offset;\n            const endY = cH + newY + offset;\n            for (let i = newX; i <= endX; i += size) {\n                ctx.moveTo(i, newY);\n                ctx.lineTo(i, cH + newY + offset);\n            }\n            for (let i = newY; i <= endY; i += size) {\n                ctx.moveTo(newX, i);\n                ctx.lineTo(cW + newX + offset, i);\n            }\n        }\n        else {\n            const endX = width + startX;\n            const endY = height + startY;\n            for (let i = startX; i <= endX; i += size) {\n                ctx.moveTo(i, startY);\n                ctx.lineTo(i, height + startY);\n            }\n            for (let i = startY; i <= endY; i += size) {\n                ctx.moveTo(startX, i);\n                ctx.lineTo(width + startX, i);\n            }\n        }\n        ctx.stroke();\n        ctx.restore();\n    }\n}\n//# sourceMappingURL=canvasTemplate.js.map","const status = {\n    'success': {},\n    'info': {\n        icon: '<svg fill=\"none\" viewBox=\"0 0 24 24\"><path fill=\"#0052d9\" d=\"M12 23a11 11 0 100-22 11 11 0 000 22zM11 8.5v-2h2v2h-2zm2 1.5v7.5h-2V10h2z\"></path></svg>',\n    },\n    'warning': {},\n    'error': {}\n};\nexport class Popconfirm {\n    parentElement;\n    store;\n    box;\n    text;\n    arrowUp;\n    arrowDown;\n    icon;\n    confirm;\n    cancel;\n    x;\n    y;\n    constructor(parentElement, store) {\n        this.parentElement = parentElement;\n        this.store = store;\n        this.box = document.createElement('div');\n        this.text = document.createElement('div');\n        this.arrowUp = document.createElement('div');\n        this.arrowDown = document.createElement('div');\n        this.icon = document.createElement('div');\n        this.confirm = document.createElement('button');\n        this.cancel = document.createElement('button');\n        this.box.className = 'meta2d-popconfirm';\n        this.text.className = 'text';\n        this.arrowUp.className = 'arrow';\n        this.arrowDown.className = 'arrow down';\n        this.icon.className = 'icon';\n        this.confirm.className = 'confirm';\n        this.cancel.className = 'cancel';\n        this.confirm.innerHTML = '确定';\n        this.cancel.innerHTML = '取消';\n        this.icon.innerHTML = status.info.icon;\n        this.box.appendChild(this.text);\n        this.box.appendChild(this.arrowUp);\n        this.box.appendChild(this.arrowDown);\n        this.box.appendChild(this.confirm);\n        this.box.appendChild(this.cancel);\n        this.box.appendChild(this.icon);\n        parentElement.appendChild(this.box);\n        // this.box.onmouseleave = () => {\n        //   this.hide();\n        //   this.store.lastHover = undefined;\n        // };\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le.com/popconfirm') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        if (!sheet) {\n            let style = document.createElement('style');\n            style.type = 'text/css';\n            style.title = 'le5le.com/popconfirm';\n            document.head.appendChild(style);\n            style = document.createElement('style');\n            style.type = 'text/css';\n            document.head.appendChild(style);\n            sheet = style.sheet;\n            sheet.insertRule('.meta2d-popconfirm{position:absolute;z-index:999;left: -9999px;top: -9999px;padding:16px;max-width:400px;background:#fff;border-radius:6px;box-shadow:0 3px 14px 2px rgba(0, 0, 0, .05),0 8px 10px 1px rgba(0, 0, 0, 6%),0 5px 5px -3px rgba(0, 0, 0, 10%);}');\n            sheet.insertRule('.meta2d-popconfirm .text{outline:none;padding:0px 0px 40px 28px;border-radius:4px;color:rgba(0, 0, 0, 0.9);overflow-y:auto;line-height:22px;font-size:13px;}');\n            sheet.insertRule('.meta2d-popconfirm .arrow{position:absolute;border:10px solid transparent;background:transparent;top:-18px;left:50%;transform:translateX(-50%)}');\n            sheet.insertRule('.meta2d-popconfirm .arrow.down{top:initial;bottom: -18px;}');\n            sheet.insertRule('.meta2d-popconfirm .icon{position:absolute;width:22px;height:22px;left:16px;top:16px;}');\n            sheet.insertRule('.meta2d-popconfirm .confirm{position:absolute;right:16px;bottom:16px;width:40px;height:24px;text-align:center;background:#4582e6;color:#fff;border-radius:3px;border-color:transparent}');\n            sheet.insertRule('.meta2d-popconfirm .confirm:hover{background:#003cab;}');\n            sheet.insertRule('.meta2d-popconfirm .cancel{position:absolute;right:64px;bottom:16px;width:40px;height:24px;text-align:center;background:#dcdcdc;color:rgba(0, 0, 0, 0.9);border-radius:3px;border-color:transparent}');\n            sheet.insertRule('.meta2d-popconfirm .cancel:hover{background:#a6a6a6;}');\n        }\n    }\n    show(pen, pos) {\n        if (!pen) {\n            return;\n        }\n        const elemRect = this.box.getBoundingClientRect();\n        const rect = pen.calculative.worldRect;\n        let x = pen.calculative.canvas.store.data.x + pos.x - elemRect.width / 2;\n        let y = pen.calculative.canvas.store.data.y + pos.y - elemRect.height - 20;\n        if (!pen.type) {\n            x =\n                pen.calculative.canvas.store.data.x +\n                    rect.x -\n                    (elemRect.width - rect.width) / 2;\n            y =\n                pen.calculative.canvas.store.data.y +\n                    rect.ey -\n                    elemRect.height -\n                    rect.height;\n        }\n        if (y > 0) {\n            this.arrowUp.style.borderBottomColor = 'transparent';\n            this.arrowDown.style.borderTopColor = '#fff';\n            y -= 10;\n        }\n        else {\n            y += elemRect.height + rect.height + 5;\n            y += 10;\n            this.arrowUp.style.borderBottomColor = '#fff';\n            this.arrowDown.style.borderTopColor = 'transparent';\n        }\n        this.x = x;\n        this.y = y;\n        this.box.style.left = this.x + 'px';\n        this.box.style.top = this.y + 'px';\n    }\n    hide() {\n        this.x = -9999;\n        this.box.style.left = '-9999px';\n    }\n    showModal(pen, pos, title) {\n        return new Promise((resolve) => {\n            this.text.innerHTML = title || '确认执行操作吗？';\n            this.show(pen, pos);\n            this.confirm.onclick = () => {\n                resolve(true);\n                this.hide();\n            };\n            this.cancel.onclick = () => {\n                resolve(false);\n                this.hide();\n            };\n        });\n    }\n    destroy() {\n        this.box = null;\n    }\n}\n//# sourceMappingURL=popconfirm.js.map","import { KeydownType } from '../options';\nimport { addLineAnchor, calcIconRect, calcTextRect, calcWorldAnchors, calcWorldRects, LockState, nearestAnchor, PenType, pushPenAnchor, removePenAnchor, renderPen, scalePen, translateLine, deleteTempAnchor, connectLine, disconnectLine, getAnchor, calcAnchorDock, calcMoveDock, calcTextLines, setNodeAnimate, setLineAnimate, calcPenRect, setChildrenActive, getParent, setHover, randomId, getPensLock, getToAnchor, getFromAnchor, calcPadding, getPensDisableRotate, getPensDisableResize, needCalcTextRectProps, calcResizeDock, needPatchFlagsPenRectProps, needCalcIconRectProps, isDomShapes, renderPenRaw, needSetPenProps, getAllChildren, calcInView, isShowChild, getTextColor, clearLifeCycle, rotatePen, calcTextAutoWidth, getGradientAnimatePath, CanvasLayer, ctxFlip, ctxRotate, setGlobalAlpha, drawImage, setElemPosition, getAllFollowers, calcChildrenInitRect, } from '../pen';\nimport { calcRotate, distance, getDistance, hitPoint, PointType, PrevNextType, rotatePoint, samePoint, scalePoint, translatePoint, TwoWay, } from '../point';\nimport { calcCenter, calcRightBottom, calcRelativePoint, getRect, getRectOfPoints, pointInRect, pointInSimpleRect, rectInRect, rectToPoints, resizeRect, translateRect, pointInPolygon } from '../rect';\nimport { EditType, globalStore, } from '../store';\nimport { deepClone, fileToBase64, uploadFile, formatPadding, rgba, s8, } from '../utils';\nimport { inheritanceProps, defaultCursors, defaultDrawLineFns, HotkeyType, HoverType, MouseRight, rotatedCursors, } from '../data';\nimport { createOffscreen } from './offscreen';\nimport { curve, mind, getLineLength, getLineRect, pointInLine, simplify, smoothLine, lineSegment, getLineR, lineInRect, } from '../diagrams';\nimport { polyline, translatePolylineAnchor } from '../diagrams/line/polyline';\nimport { Tooltip } from '../tooltip';\nimport { Scroll } from '../scroll';\nimport { CanvasImage } from './canvasImage';\nimport { MagnifierCanvas } from './magnifierCanvas';\nimport { lockedError } from '../utils/error';\nimport { Dialog } from '../dialog';\nimport { setter } from '../utils/object';\nimport { Title } from '../title';\nimport { CanvasTemplate } from './canvasTemplate';\nimport { getLinePoints } from '../diagrams/line';\nimport { Popconfirm } from '../popconfirm';\nimport { le5leTheme, themeKeys } from '../theme';\nexport const movingSuffix = '-moving';\nexport class Canvas {\n    parent;\n    parentElement;\n    store;\n    canvas = document.createElement('canvas');\n    offscreen = createOffscreen();\n    width;\n    height;\n    externalElements = document.createElement('div');\n    clientRect;\n    canvasRect;\n    activeRect;\n    initActiveRect;\n    dragRect;\n    lastRotate = 0;\n    sizeCPs;\n    activeInitPos;\n    hoverType = HoverType.None;\n    resizeIndex = 0;\n    mouseDown;\n    hotkeyType;\n    mouseRight;\n    addCaches;\n    touchCenter;\n    initTouchDis;\n    initScale;\n    touchScaling;\n    touchMoving;\n    startTouches;\n    lastOffsetX = 0;\n    lastOffsetY = 0;\n    drawingLineName;\n    drawLineFns = [...defaultDrawLineFns];\n    drawingLine;\n    pencil;\n    pencilLine;\n    movingPens;\n    patchFlagsLines = new Set();\n    dock;\n    prevAnchor;\n    nextAnchor;\n    lastMouseTime = 0;\n    hoverTimer = 0;\n    fitTimer = 0;\n    // 即将取消活动状态的画笔，用于Ctrl选中/取消选中画笔\n    willInactivePen;\n    patchFlags = false;\n    lastRender = 0;\n    touchStart = 0;\n    touchStartTimer;\n    timer;\n    lastAnimateRender = 0;\n    animateRendering = false;\n    renderTimer;\n    initPens;\n    pointSize = 8;\n    pasteOffset = true;\n    opening = false;\n    maxZindex = 5;\n    canMoveLine = false; //moveConnectedLine=false\n    randomIdObj; //记录拖拽前后id变化\n    keyOptions;\n    /**\n     * @deprecated 改用 beforeAddPens\n     */\n    beforeAddPen;\n    beforeAddPens;\n    beforeAddAnchor;\n    beforeRemovePens;\n    beforeRemoveAnchor;\n    customResizeDock;\n    customMoveDock;\n    inputParent = document.createElement('div');\n    // input = document.createElement('textarea');\n    inputDiv = document.createElement('div');\n    // inputRight = document.createElement('div');\n    dropdown = document.createElement('ul');\n    tooltip;\n    popconfirm;\n    title;\n    mousePos = { x: 0, y: 0 };\n    scroll;\n    movingAnchor; // 正在移动中的瞄点\n    canvasTemplate;\n    canvasImage;\n    canvasImageBottom;\n    magnifierCanvas;\n    dialog;\n    autoPolylineFlag = false; //标记open不自动计算\n    stopPropagation = (e) => {\n        e.stopPropagation();\n    };\n    constructor(parent, parentElement, store) {\n        this.parent = parent;\n        this.parentElement = parentElement;\n        this.store = store;\n        this.canvasTemplate = new CanvasTemplate(parentElement, store);\n        this.canvasTemplate.canvas.style.zIndex = '1';\n        this.canvasImageBottom = new CanvasImage(parentElement, store, true);\n        this.canvasImageBottom.canvas.style.zIndex = '2';\n        parentElement.appendChild(this.canvas);\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.backgroundRepeat = 'no-repeat';\n        this.canvas.style.backgroundSize = '100% 100%';\n        this.canvas.style.zIndex = '3';\n        this.canvasImage = new CanvasImage(parentElement, store);\n        this.canvasImage.canvas.style.zIndex = '4';\n        this.magnifierCanvas = new MagnifierCanvas(this, parentElement, store);\n        this.magnifierCanvas.canvas.style.zIndex = '5';\n        this.externalElements.style.position = 'absolute';\n        this.externalElements.style.left = '0';\n        this.externalElements.style.top = '0';\n        this.externalElements.style.outline = 'none';\n        this.externalElements.style.background = 'transparent';\n        this.externalElements.style.zIndex = '5';\n        parentElement.style.position = 'relative';\n        parentElement.appendChild(this.externalElements);\n        this.createInput();\n        this.tooltip = new Tooltip(parentElement, store);\n        this.tooltip.box.onmouseleave = (e) => {\n            this.patchFlags = true;\n            this.store.lastHover && (this.store.lastHover.calculative.hover = false);\n            let hover = this.store.data.pens.find((item) => item.calculative.hover === true);\n            setHover(hover, false);\n        };\n        this.popconfirm = new Popconfirm(parentElement, store);\n        this.dialog = new Dialog(parentElement, store);\n        this.title = new Title(parentElement);\n        if (this.store.options.scroll) {\n            this.scroll = new Scroll(this);\n        }\n        this.store.dpiRatio = globalThis.devicePixelRatio || 1;\n        if (this.store.dpiRatio < 1) {\n            this.store.dpiRatio = 1;\n        }\n        else if (this.store.dpiRatio > 1 && this.store.dpiRatio < 1.5) {\n            this.store.dpiRatio = 1.5;\n        }\n        this.clientRect = this.externalElements.getBoundingClientRect();\n        this.listen();\n        window?.addEventListener('resize', this.onResize);\n        window?.addEventListener('scroll', this.onScroll);\n        window?.addEventListener('message', this.onMessage);\n    }\n    curve = curve;\n    polyline = polyline;\n    mind = mind;\n    line = lineSegment;\n    listen() {\n        // ios\n        this.externalElements.addEventListener('gesturestart', this.onGesturestart);\n        this.externalElements.ondragover = (e) => e.preventDefault();\n        this.externalElements.ondrop = this.ondrop;\n        this.externalElements.oncontextmenu = (e) => e.preventDefault();\n        this.store.options.interval = 50;\n        this.externalElements.ontouchstart = this.ontouchstart;\n        this.externalElements.ontouchmove = this.ontouchmove;\n        this.externalElements.ontouchend = this.ontouchend;\n        this.externalElements.onmousedown = (e) => {\n            this.onMouseDown({\n                x: e.offsetX,\n                y: e.offsetY,\n                clientX: e.clientX,\n                clientY: e.clientY,\n                pageX: e.pageX,\n                pageY: e.pageY,\n                ctrlKey: e.ctrlKey || e.metaKey,\n                shiftKey: e.shiftKey,\n                altKey: e.altKey,\n                buttons: e.buttons,\n            });\n        };\n        this.externalElements.onmousemove = (e) => {\n            if (e.target !== this.externalElements) {\n                return;\n            }\n            this.onMouseMove({\n                x: e.offsetX,\n                y: e.offsetY,\n                clientX: e.clientX,\n                clientY: e.clientY,\n                pageX: e.pageX,\n                pageY: e.pageY,\n                ctrlKey: e.ctrlKey || e.metaKey,\n                shiftKey: e.shiftKey,\n                altKey: e.altKey,\n                buttons: e.buttons,\n            });\n        };\n        this.externalElements.onmouseup = (e) => {\n            this.onMouseUp({\n                x: e.offsetX,\n                y: e.offsetY,\n                clientX: e.clientX,\n                clientY: e.clientY,\n                pageX: e.pageX,\n                pageY: e.pageY,\n                ctrlKey: e.ctrlKey || e.metaKey,\n                shiftKey: e.shiftKey,\n                altKey: e.altKey,\n                buttons: e.buttons,\n                button: e.button,\n            });\n        };\n        this.externalElements.onmouseleave = (e) => {\n            //离开画布取消所有选中\n            this.store.data.pens.forEach((pen) => {\n                if (pen.calculative.hover) {\n                    pen.calculative.hover = false;\n                }\n            });\n            if (this.store.hover) {\n                this.store.hover.calculative.hover = false;\n                this.store.hover = undefined;\n            }\n            this.render();\n            if (e.toElement !== this.tooltip.box &&\n                e.toElement !== this.tooltip.arrowUp &&\n                e.toElement !== this.tooltip.arrowDown) {\n                this.tooltip.hide();\n                this.store.lastHover = undefined;\n            }\n        };\n        this.externalElements.ondblclick = this.ondblclick;\n        this.externalElements.tabIndex = 0;\n        this.externalElements.onblur = () => {\n            this.mouseDown = undefined;\n        };\n        this.externalElements.onwheel = this.onwheel;\n        document.addEventListener('copy', this.onCopy);\n        document.addEventListener('cut', this.onCut);\n        document.addEventListener('paste', this.onPaste);\n        switch (this.store.options.keydown) {\n            case KeydownType.Document:\n                document.addEventListener('keydown', this.onkeydown);\n                document.addEventListener('keyup', this.onkeyup);\n                break;\n            case KeydownType.Canvas:\n                this.externalElements.addEventListener('keydown', this.onkeydown);\n                this.externalElements.addEventListener('keyup', this.onkeyup);\n                break;\n        }\n    }\n    onCopy = (event) => {\n        if (this.store.options.disableClipboard) {\n            return;\n        }\n        if (event.target !== this.externalElements &&\n            event.target !== document.body &&\n            event.target.offsetParent !== this.externalElements) {\n            return;\n        }\n        this.copy();\n    };\n    onCut = (event) => {\n        if (this.store.options.disableClipboard) {\n            return;\n        }\n        if (event.target !== this.externalElements &&\n            event.target !== document.body &&\n            event.target.offsetParent !== this.externalElements) {\n            return;\n        }\n        this.cut();\n    };\n    onPaste = async (event) => {\n        if (this.store.data.locked || this.store.options.disableClipboard) {\n            return;\n        }\n        if (event.target !== this.externalElements &&\n            event.target !== document.body &&\n            event.target.offsetParent !== this.externalElements) {\n            return;\n        }\n        // 是否粘贴图片\n        let hasImages;\n        if (navigator.clipboard && event.clipboardData) {\n            const items = event.clipboardData.items;\n            if (items) {\n                for (let i = 0; i < items.length; i++) {\n                    if (items[i].type.indexOf('image') !== -1 && items[i].getAsFile()) {\n                        hasImages = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (hasImages) {\n            const items = event.clipboardData.items;\n            if (items) {\n                for (let i = 0; i < items.length; i++) {\n                    if (items[i].type.indexOf('image') !== -1 && items[i].getAsFile()) {\n                        const { x, y } = this.mousePos;\n                        const blob = items[i].getAsFile();\n                        let name = items[i].type.slice(6) === 'gif' ? 'gif' : 'image';\n                        if (blob !== null) {\n                            const isGif = name === 'gif';\n                            const pen = await this.fileToPen(blob, isGif);\n                            pen.height = (pen.height / pen.width) * 100,\n                                pen.width = 100;\n                            pen.x = x - 50 / 2,\n                                pen.y = y - (pen.height / pen.width) * 50,\n                                pen.externElement = isGif,\n                                this.addPens([pen]);\n                            this.active([pen]);\n                            this.copy([pen]);\n                            // let base64_str: any;\n                            // const reader = new FileReader();\n                            // reader.onload = (e) => {\n                            //   base64_str = e.target.result;\n                            //   const image = new Image();\n                            //   image.src = base64_str;\n                            //   image.onload = () => {\n                            //     const { width, height } = image;\n                            //     const pen = {\n                            //       name,\n                            //       x: x - 50 / 2,\n                            //       y: y - (height / width) * 50,\n                            //       externElement: name === 'gif',\n                            //       width: 100,\n                            //       height: (height / width) * 100,\n                            //       image: base64_str as any,\n                            //     };\n                            //     this.addPens([pen]);\n                            //     this.active([pen]);\n                            //     this.copy([pen]);\n                            //   };\n                            // };\n                            // reader.readAsDataURL(blob);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.paste();\n        }\n    };\n    onMessage = (e) => {\n        if (typeof e.data !== 'string' ||\n            !e.data ||\n            e.data.startsWith('setImmediate') ||\n            e.data.startsWith('webpackHotUpdate') // 处理vue2 webpack4 热更新消息冲突问题\n        ) {\n            return;\n        }\n        let data = JSON.parse(e.data);\n        if (typeof data === 'object') {\n            this.parent.doMessageEvent(data.name, JSON.stringify(data.data));\n        }\n        else {\n            this.parent.doMessageEvent(data);\n        }\n    };\n    onwheel = (e) => {\n        //输入模式不允许滚动\n        if (this.inputDiv.contentEditable === 'true') {\n            return;\n        }\n        //画线过程中不允许缩放\n        if (this.drawingLine) {\n            return;\n        }\n        if (this.pencil) {\n            return;\n        }\n        if (this.store.hover) {\n            if (this.store.hover.onWheel) {\n                this.store.hover.onWheel(this.store.hover, e);\n                return;\n            }\n        }\n        if (this.store.data.disableScale || this.store.options.disableScale) {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        //移动画笔过程中不允许缩放\n        if (this.mouseDown &&\n            (this.hoverType === HoverType.Node || this.hoverType === HoverType.Line))\n            return;\n        if (this.store.data.locked === LockState.Disable)\n            return;\n        if (this.store.data.locked === LockState.DisableScale)\n            return;\n        if (this.store.data.locked === LockState.DisableMoveScale)\n            return;\n        // e.ctrlKey: false - 平移； true - 缩放。老windows触摸板不支持\n        if (!e.ctrlKey &&\n            Math.abs(e.wheelDelta) < 100 &&\n            e.deltaY.toString().indexOf('.') === -1) {\n            if (this.store.options.scroll && !e.metaKey && this.scroll) {\n                this.scroll.wheel(e.deltaY < 0);\n                return;\n            }\n            const scale = this.store.data.scale || 1;\n            this.translate(-e.deltaX / scale, -e.deltaY / scale);\n            return;\n        }\n        if (Math.abs(e.wheelDelta) > 100) {\n            //鼠标滚轮滚动 scroll模式下是上下滚动而不是缩放 ctrl可以控制缩放\n            if (this.store.options.scroll && this.scroll && !this.store.options.scrollButScale && !(e.ctrlKey || e.metaKey)) {\n                this.scroll.wheel(e.deltaY < 0);\n                return;\n            }\n        }\n        //禁止触摸屏双指缩放操作\n        if (this.store.options.disableTouchPadScale) {\n            return;\n        }\n        let scaleOff = 0.015;\n        if (this.store.options.scaleOff) {\n            scaleOff = this.store.options.scaleOff;\n            if (e.deltaY > 0) {\n                scaleOff = -this.store.options.scaleOff;\n            }\n        }\n        else {\n            let isMac = /mac os /i.test(navigator.userAgent);\n            if (isMac) {\n                if (!e.ctrlKey) {\n                    scaleOff *= e.wheelDeltaY / 240;\n                }\n                else if (e.deltaY > 0) {\n                    scaleOff *= -1;\n                }\n            }\n            else {\n                let offset = 0.2;\n                if (e.deltaY.toString().indexOf('.') !== -1) {\n                    offset = 0.01;\n                }\n                if (e.deltaY > 0) {\n                    scaleOff = -offset;\n                }\n                else {\n                    scaleOff = offset;\n                }\n            }\n        }\n        let { offsetX: x, offsetY: y } = e;\n        // if (this.parent.map && e.target === this.parent.map?.box) {\n        //   //放大镜缩放\n        //   const width = this.store.data.width || this.store.options.width;\n        //   const height = this.store.data.height || this.store.options.height;\n        //   if (width && height) {\n        //     //大屏\n        //     x =\n        //       (x / this.parent.map.boxWidth) * width * this.store.data.scale +\n        //       this.store.data.origin.x;\n        //     y =\n        //       (y / this.parent.map.boxHeight) * height * this.store.data.scale +\n        //       this.store.data.origin.y;\n        //     const rect = this.canvas.getBoundingClientRect();\n        //     x = x + rect.left;\n        //     y = y + rect.top;\n        //   } else {\n        //     const rect = this.parent.getRect();\n        //     x =\n        //       (x / this.parent.map.boxWidth) * rect.width +\n        //       rect.x +\n        //       this.store.data.x;\n        //     y =\n        //       (y / this.parent.map.boxHeight) * rect.height +\n        //       rect.y +\n        //       this.store.data.y;\n        //   }\n        // }\n        this.scale(this.store.data.scale + scaleOff, { x, y });\n        this.externalElements.focus(); // 聚焦\n    };\n    onkeydown = (e) => {\n        if (this.store.data.locked >= LockState.DisableEdit &&\n            e.target.tagName !== 'INPUT' &&\n            e.target.tagName !== 'TEXTAREA' &&\n            !e.target.dataset.meta2dIgnore) {\n            this.store.active.forEach((pen) => {\n                pen.onKeyDown?.(pen, e.key);\n            });\n        }\n        if (this.store.data.locked >= LockState.DisableEdit ||\n            e.target.tagName === 'INPUT' ||\n            e.target.tagName === 'TEXTAREA' ||\n            e.target.dataset.meta2dIgnore) {\n            return;\n        }\n        if (this.store.options.unavailableKeys.includes(e.key)) {\n            return;\n        }\n        if (!this.keyOptions) {\n            this.keyOptions = {};\n        }\n        this.keyOptions.altKey = e.altKey;\n        this.keyOptions.shiftKey = e.shiftKey;\n        this.keyOptions.ctrlKey = e.ctrlKey;\n        this.keyOptions.metaKey = e.metaKey;\n        this.keyOptions.F = false;\n        if (e.key === 'F' || e.key === 'f') {\n            this.keyOptions.F = true;\n        }\n        let x = 10;\n        let y = 10;\n        let vRect = null;\n        if (this.store.options.strictScope) {\n            const width = this.store.data.width || this.store.options.width;\n            const height = this.store.data.height || this.store.options.height;\n            if (width && height) {\n                vRect = {\n                    x: this.store.data.origin.x,\n                    y: this.store.data.origin.y,\n                    width: width * this.store.data.scale,\n                    height: height * this.store.data.scale,\n                };\n            }\n        }\n        switch (e.key) {\n            case ' ':\n                this.hotkeyType = HotkeyType.Translate;\n                break;\n            case 'Control':\n                if (this.drawingLine) {\n                    this.drawingLine.calculative.drawlineH =\n                        !this.drawingLine.calculative.drawlineH;\n                }\n                else if (!this.hotkeyType) {\n                    this.patchFlags = true;\n                    this.hotkeyType = HotkeyType.Select;\n                }\n                break;\n            case 'Meta':\n                break;\n            case 'Shift':\n                if (this.store.active.length === 1 &&\n                    this.store.active[0].type &&\n                    this.store.activeAnchor) {\n                    this.toggleAnchorHand();\n                }\n                else if (!this.hotkeyType) {\n                    this.patchFlags = true;\n                    if (!this.store.options.resizeMode) {\n                        this.hotkeyType = HotkeyType.Resize;\n                    }\n                }\n                break;\n            case 'Alt':\n                if (!e.ctrlKey && !e.shiftKey && this.drawingLine) {\n                    const to = getToAnchor(this.drawingLine);\n                    if (to !== this.drawingLine.calculative.activeAnchor) {\n                        deleteTempAnchor(this.drawingLine);\n                        this.drawingLine.calculative.worldAnchors.push(to);\n                    }\n                    else {\n                        this.drawingLine.calculative.worldAnchors.push({\n                            x: to.x,\n                            y: to.y,\n                        });\n                    }\n                    const index = this.drawLineFns.indexOf(this.drawingLineName);\n                    this.drawingLineName =\n                        this.drawLineFns[(index + 1) % this.drawLineFns.length];\n                    this.drawingLine.lineName = this.drawingLineName;\n                    this.drawline();\n                    this.patchFlags = true;\n                }\n                e.preventDefault();\n                break;\n            case 'a':\n            case 'A':\n                if (e.ctrlKey || e.metaKey) {\n                    // TODO: ctrl + A 会选中 visible == false 的元素\n                    this.active(this.store.data.pens.filter((pen) => !pen.parentId && pen.locked !== LockState.Disable));\n                    e.preventDefault();\n                }\n                else {\n                    this.toggleAnchorMode();\n                }\n                break;\n            case 'Delete':\n            case 'Backspace':\n                if (this.canvasImage.fitFlag && this.canvasImage.activeFit) {\n                    this.deleteFit();\n                    break;\n                }\n                !this.store.data.locked && this.delete();\n                break;\n            case 'ArrowLeft':\n                if (this.movingAnchor) {\n                    this.translateAnchor(-1, 0);\n                    break;\n                }\n                x = -1;\n                if (e.shiftKey) {\n                    x = -5;\n                }\n                if (e.ctrlKey || e.metaKey) {\n                    x = -10;\n                }\n                x = x * this.store.data.scale;\n                if (this.store.activeAnchor &&\n                    this.store.active &&\n                    this.store.active.length === 1 &&\n                    this.store.active[0].type) {\n                    this.moveLineAnchor({ x: this.store.activeAnchor.x + x, y: this.store.activeAnchor.y }, {});\n                    break;\n                }\n                if (vRect && this.activeRect.x + x < vRect.x) {\n                    x = vRect.x - this.activeRect.x;\n                }\n                this.translatePens(this.store.active, x, 0);\n                break;\n            case 'ArrowUp':\n                if (this.movingAnchor) {\n                    this.translateAnchor(0, -1);\n                    break;\n                }\n                y = -1;\n                if (e.shiftKey) {\n                    y = -5;\n                }\n                if (e.ctrlKey || e.metaKey) {\n                    y = -10;\n                }\n                y = y * this.store.data.scale;\n                if (vRect && this.activeRect.y + y < vRect.y) {\n                    y = vRect.y - this.activeRect.y;\n                }\n                if (this.store.activeAnchor &&\n                    this.store.active &&\n                    this.store.active.length === 1 &&\n                    this.store.active[0].type) {\n                    this.moveLineAnchor({ x: this.store.activeAnchor.x, y: this.store.activeAnchor.y + y }, {});\n                    break;\n                }\n                this.translatePens(this.store.active, 0, y);\n                break;\n            case 'ArrowRight':\n                if (this.movingAnchor) {\n                    this.translateAnchor(1, 0);\n                    break;\n                }\n                x = 1;\n                if (e.shiftKey) {\n                    x = 5;\n                }\n                if (e.ctrlKey || e.metaKey) {\n                    x = 10;\n                }\n                x = x * this.store.data.scale;\n                if (this.store.activeAnchor &&\n                    this.store.active &&\n                    this.store.active.length === 1 &&\n                    this.store.active[0].type) {\n                    this.moveLineAnchor({ x: this.store.activeAnchor.x + x, y: this.store.activeAnchor.y }, {});\n                    break;\n                }\n                if (vRect &&\n                    this.activeRect.x + this.activeRect.width + x > vRect.x + vRect.width) {\n                    x =\n                        vRect.x + vRect.width - (this.activeRect.x + this.activeRect.width);\n                }\n                this.translatePens(this.store.active, x, 0);\n                break;\n            case 'ArrowDown':\n                if (this.movingAnchor) {\n                    this.translateAnchor(0, 1);\n                    break;\n                }\n                y = 1;\n                if (e.shiftKey) {\n                    y = 5;\n                }\n                if (e.ctrlKey || e.metaKey) {\n                    y = 10;\n                }\n                y = y * this.store.data.scale;\n                if (vRect &&\n                    this.activeRect.y + this.activeRect.height + y >\n                        vRect.y + vRect.height) {\n                    y =\n                        vRect.y +\n                            vRect.height -\n                            (this.activeRect.y + this.activeRect.height);\n                }\n                if (this.store.activeAnchor &&\n                    this.store.active &&\n                    this.store.active.length === 1 &&\n                    this.store.active[0].type) {\n                    this.moveLineAnchor({ x: this.store.activeAnchor.x, y: this.store.activeAnchor.y + y }, {});\n                    break;\n                }\n                this.translatePens(this.store.active, 0, y);\n                break;\n            case 'd':\n            case 'D':\n                if (!this.store.active[0]?.locked) {\n                    this.removeAnchorHand();\n                }\n                break;\n            case 'h':\n            case 'H':\n                if (!this.store.active[0]?.locked) {\n                    this.addAnchorHand();\n                }\n                break;\n            case 'm':\n            case 'M':\n                this.toggleMagnifier();\n                break;\n            case 'g':\n            case 'G':\n                //组合/解组\n                if (e.ctrlKey || e.metaKey) {\n                    if (e.shiftKey) {\n                        this.parent.uncombine();\n                    }\n                    else {\n                        if (this.store.active.length > 1) {\n                            this.parent.combine(this.store.active);\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                }\n                // 进入移动瞄点状态\n                if (this.hoverType === HoverType.NodeAnchor) {\n                    this.movingAnchor = this.store.hoverAnchor;\n                    this.externalElements.style.cursor = 'move';\n                }\n                break;\n            case 's':\n            case 'S':\n                // 分割线\n                if (!this.store.data.locked &&\n                    this.hoverType === HoverType.LineAnchor &&\n                    this.store.hover === this.store.active[0]) {\n                    this.splitLine(this.store.active[0], this.store.hoverAnchor);\n                }\n                // 保存\n                (e.ctrlKey || e.metaKey) &&\n                    this.store.emitter.emit('save', { event: e });\n                break;\n            case 'c':\n            case 'C':\n                if ((e.ctrlKey || e.metaKey) && this.store.options.disableClipboard) {\n                    this.copy();\n                }\n                break;\n            case 'x':\n            case 'X':\n                if ((e.ctrlKey || e.metaKey) && this.store.options.disableClipboard) {\n                    this.cut();\n                }\n                break;\n            case '√': //MAC OPTION + V\n            case 'v':\n            case 'V':\n                if (!e.ctrlKey && !e.metaKey) {\n                    if (this.pencil) {\n                        this.stopPencil();\n                    }\n                    if (this.drawingLineName) {\n                        this.finishDrawline();\n                        this.drawingLineName = '';\n                    }\n                    else {\n                        this.drawingLineName = this.store.options.drawingLineName;\n                    }\n                }\n                if (!this.store.data.locked && (e.ctrlKey || e.metaKey) && (this.store.options.disableClipboard ||\n                    (!this.store.options.disableClipboard && e.altKey)) //alt按下，paste事件无效\n                ) {\n                    this.paste();\n                }\n                break;\n            case 'b':\n            case 'B':\n                if (this.drawingLineName) {\n                    this.finishDrawline();\n                    this.drawingLineName = '';\n                }\n                if (this.pencil) {\n                    this.stopPencil();\n                }\n                else {\n                    this.drawingPencil();\n                }\n                break;\n            case 'y':\n            case 'Y':\n                if (e.ctrlKey || e.metaKey) {\n                    this.redo();\n                }\n                break;\n            case 'z':\n            case 'Z':\n                if (e.ctrlKey || e.metaKey) {\n                    this.undo();\n                }\n                else if (e.shiftKey) {\n                    this.redo();\n                }\n                break;\n            case 'Enter':\n                if (this.drawingLineName) {\n                    this.finishDrawline(true);\n                    if (this.store.active[0].anchors[0].connectTo) {\n                        this.drawingLineName = '';\n                    }\n                    else {\n                        this.drawingLineName = this.store.options.drawingLineName;\n                    }\n                }\n                if (this.store.active) {\n                    this.store.active.forEach((pen) => {\n                        if (pen.type) {\n                            pen.close = !pen.close;\n                            if (pen.close) {\n                                getLinePoints(pen);\n                            }\n                            this.store.path2dMap.set(pen, globalStore.path2dDraws.line(pen));\n                            getLineLength(pen);\n                        }\n                        else {\n                            //图元进入编辑模式\n                            pen.calculative.focus = true;\n                        }\n                    });\n                    this.render();\n                }\n                break;\n            case 'Escape':\n                if (this.drawingLineName) {\n                    this.finishDrawline();\n                }\n                this.drawingLineName = undefined;\n                this.stopPencil();\n                if (this.store.active) {\n                    this.store.active.forEach((pen) => {\n                        if (pen.type) {\n                        }\n                        else {\n                            //图元退出编辑模式\n                            pen.calculative.focus = false;\n                        }\n                    });\n                }\n                if (this.movingPens) {\n                    this.getAllByPens(this.movingPens).forEach((pen) => {\n                        this.store.pens[pen.id] = undefined;\n                    });\n                    this.movingPens = undefined;\n                    this.mouseDown = undefined;\n                    this.clearDock();\n                    this.store.active?.forEach((pen) => {\n                        this.updateLines(pen);\n                    });\n                    this.calcActiveRect();\n                    this.patchFlags = true;\n                }\n                this.hotkeyType = HotkeyType.None;\n                this.movingAnchor = undefined;\n                if (this.magnifierCanvas.magnifier) {\n                    this.magnifierCanvas.magnifier = false;\n                    this.patchFlags = true;\n                }\n                break;\n            case 'E':\n            case 'e':\n                this.store.options.disableAnchor = !this.store.options.disableAnchor;\n                this.store.emitter.emit('disableAnchor', this.store.options.disableAnchor);\n                break;\n            case '=':\n                if (e.ctrlKey || e.metaKey) {\n                    this.scale(this.store.data.scale + 0.1);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case '-':\n                if (e.ctrlKey || e.metaKey) {\n                    this.scale(this.store.data.scale - 0.1);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'l':\n            case 'L':\n                this.canMoveLine = true;\n                break;\n            case '[':\n                //下一层\n                this.parent.down();\n                break;\n            case ']':\n                //上一层\n                this.parent.up();\n                break;\n            case '{':\n                // 置底\n                this.parent.bottom();\n                break;\n            case '}':\n                //置顶\n                this.parent.top();\n                break;\n            case 'F':\n            case 'f':\n                if (!this.store.data.locked && (e.ctrlKey || e.metaKey) && !this.store.options.disableClipboard) {\n                    //粘贴到被复制图元上一层\n                    this.paste();\n                }\n                this.setFollowers();\n                break;\n        }\n        this.render(false);\n    };\n    /**\n     * 分割连线的锚点，变成两条线\n     * @param line 连线\n     * @param anchor 锚点，连线的某个锚点，引用相同\n     */\n    splitLine(line, anchor) {\n        const worldAnchors = line.calculative.worldAnchors;\n        const index = worldAnchors.findIndex((a) => a === anchor);\n        if ([-1, 0, worldAnchors.length - 1].includes(index)) {\n            // 没找到，起终点不处理\n            return;\n        }\n        const initLine = deepClone(line, true);\n        const newLine = deepClone(line, true);\n        const id = s8();\n        newLine.id = id;\n        newLine.calculative.canvas = this;\n        newLine.calculative.active = false;\n        newLine.calculative.hover = false;\n        // index 作为公共点\n        const preAnchors = deepClone(worldAnchors.slice(0, index + 1));\n        const laterAnchors = deepClone(worldAnchors.slice(index)).map((a) => {\n            a.penId = id;\n            return a;\n        });\n        line.calculative.worldAnchors = preAnchors;\n        newLine.calculative.worldAnchors = laterAnchors;\n        this.initLineRect(line);\n        this.initLineRect(newLine);\n        this.store.data.pens.push(newLine);\n        this.store.pens[id] = newLine;\n        this.pushHistory({\n            type: EditType.Add,\n            pens: [deepClone(newLine, true)],\n            step: 2,\n        });\n        this.pushHistory({\n            type: EditType.Update,\n            initPens: [initLine],\n            pens: [deepClone(line, true)],\n            step: 2,\n        });\n    }\n    translateAnchor(x, y) {\n        this.movingAnchor.x += x;\n        this.movingAnchor.y += y;\n        // 点不在范围内，移动到范围内\n        const penId = this.movingAnchor.penId;\n        if (penId) {\n            const pen = this.store.pens[penId];\n            const rect = pen.calculative.worldRect;\n            if (this.movingAnchor.x < rect.x) {\n                this.movingAnchor.x = rect.x;\n            }\n            else if (this.movingAnchor.x > rect.ex) {\n                this.movingAnchor.x = rect.ex;\n            }\n            if (this.movingAnchor.y < rect.y) {\n                this.movingAnchor.y = rect.y;\n            }\n            else if (this.movingAnchor.y > rect.ey) {\n                this.movingAnchor.y = rect.ey;\n            }\n            const anchor = calcRelativePoint(this.movingAnchor, rect);\n            // 更改 pen 的 anchors 属性\n            const index = pen.anchors.findIndex((anchor) => anchor.id === this.movingAnchor.id);\n            pen.anchors[index] = anchor;\n            this.patchFlags = true;\n        }\n    }\n    onkeyup = (e) => {\n        switch (e.key) {\n            case 'l':\n            case 'L':\n                this.canMoveLine = false;\n                break;\n            // case 'Alt':\n            //   if (this.drawingLine) {\n            //     this.store.options.autoAnchor = !this.store.options.autoAnchor;\n            //   }\n            //   break;\n        }\n        if (this.hotkeyType) {\n            this.render();\n        }\n        if (this.hotkeyType < HotkeyType.AddAnchor) {\n            this.hotkeyType = HotkeyType.None;\n        }\n    };\n    async fileToPen(file, isGif) {\n        let url = '';\n        if (this.store.options.uploadFn) {\n            url = await this.store.options.uploadFn(file);\n        }\n        else if (this.store.options.uploadUrl) {\n            url = await uploadFile(file, this.store.options.uploadUrl, this.store.options.uploadParams, this.store.options.uploadHeaders);\n        }\n        else {\n            url = await fileToBase64(file);\n        }\n        return new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onload = () => {\n                globalStore.htmlElements[url] = img;\n                resolve({\n                    width: img.width,\n                    height: img.height,\n                    name: isGif ? 'gif' : 'image',\n                    image: url,\n                });\n            };\n            img.onerror = (e) => {\n                reject(e);\n            };\n            img.crossOrigin = 'anonymous';\n            img.src = url;\n        });\n    }\n    ondrop = async (event) => {\n        if (this.store.data.locked) {\n            console.warn('canvas is locked, can not drop');\n            return;\n        }\n        // Fix bug: 在 firefox 上拖拽图片会打开新页\n        event.preventDefault();\n        event.stopPropagation();\n        const json = event.dataTransfer.getData('Meta2d') ||\n            event.dataTransfer.getData('Text');\n        let obj = null;\n        try {\n            if (json) {\n                obj = JSON.parse(json);\n            }\n        }\n        catch (e) { }\n        if (!obj) {\n            const { files } = event.dataTransfer;\n            if (files.length &&\n                files[0].type.match('image.*') &&\n                !(this.addCaches && this.addCaches.length)) {\n                // 必须是图片类型\n                const isGif = files[0].type === 'image/gif';\n                obj = await this.fileToPen(files[0], isGif);\n            }\n            else if (this.addCaches && this.addCaches.length) {\n                obj = this.addCaches;\n                this.addCaches = [];\n            }\n            else {\n                this.store.emitter.emit('drop', undefined);\n                return;\n            }\n        }\n        obj = Array.isArray(obj) ? obj : [obj];\n        if (obj[0] && obj[0].draggable !== false) {\n            const pt = { x: event.offsetX, y: event.offsetY };\n            this.calibrateMouse(pt);\n            this.dropPens(obj, pt);\n            this.addCaches = [];\n            // 拖拽新增图元判断是否是在容器上\n            this.getContainerHover(pt);\n            this.mousePos.x = pt.x;\n            this.mousePos.y = pt.y;\n            this.store.emitter.emit('mouseup', {\n                x: pt.x,\n                y: pt.y,\n                pen: this.store.hoverContainer,\n            });\n        }\n        this.store.emitter.emit('drop', obj || json);\n    };\n    async dropPens(pens, e) {\n        this.randomIdObj = {};\n        for (const pen of pens) {\n            // 只修改 树根处的 祖先节点, randomCombineId 会递归更改子节点\n            !pen.parentId && this.randomCombineId(pen, pens);\n        }\n        if (Object.keys(this.randomIdObj).length !== 0) {\n            const keys = Object.keys(this.randomIdObj).join('|');\n            const regex = new RegExp(`(${keys})`, \"g\");\n            for (const pen of pens) {\n                if (pen.type) {\n                    pen.anchors[0].connectTo = this.randomIdObj[pen.anchors[0].connectTo];\n                    pen.anchors[pen.anchors.length - 1].connectTo =\n                        this.randomIdObj[pen.anchors[pen.anchors.length - 1].connectTo];\n                }\n                else {\n                    pen.connectedLines?.forEach((item) => {\n                        item.lineAnchor = this.randomIdObj[item.lineAnchor];\n                        item.lineId = this.randomIdObj[item.lineId];\n                    });\n                }\n                //动画、事件和状态\n                if (pen.animations?.length) {\n                    const str = JSON.stringify(pen.animations).replace(regex, match => this.randomIdObj[match]);\n                    pen.animations = JSON.parse(str);\n                }\n                if (pen.triggers?.length) {\n                    const str = JSON.stringify(pen.triggers).replace(regex, match => this.randomIdObj[match]);\n                    pen.triggers = JSON.parse(str);\n                }\n                if (pen.events?.length) {\n                    const str = JSON.stringify(pen.events).replace(regex, match => this.randomIdObj[match]);\n                    pen.events = JSON.parse(str);\n                }\n            }\n        }\n        for (const pen of pens) {\n            // TODO: randomCombineId 会更改 id， 此处应该不存在空 id\n            if (!pen.id) {\n                pen.id = s8();\n            }\n            !pen.calculative && (pen.calculative = { canvas: this });\n            this.store.pens[pen.id] = pen;\n        }\n        // // 计算区域\n        // for (const pen of pens) {\n        //   // 组合节点才需要提前计算\n        //   Array.isArray(pen.children) && pen.children.length > 0 && this.updatePenRect(pen);\n        // }\n        let num = 0;\n        let lastH = 0;\n        let lastW = 0;\n        for (const pen of pens) {\n            if (!pen.parentId) {\n                pen.width *= this.store.data.scale;\n                pen.height *= this.store.data.scale;\n                pen.x = e.x - pen.width / 2 + lastW;\n                pen.y = e.y - pen.height / 2 + lastH;\n                if (pen.tags && pen.tags.includes('meta3d')) {\n                    pen.x = this.store.data.origin.x;\n                    pen.y = this.store.data.origin.y;\n                }\n                if (pen.dataset) {\n                    if (num % 2 === 0) {\n                        lastW = pen.width - 40 * this.store.data.scale;\n                    }\n                    else {\n                        lastW = 0;\n                    }\n                    num++;\n                    if (num % 2 === 0) {\n                        lastH += pen.height + 10 * this.store.data.scale;\n                    }\n                }\n            }\n        }\n        //大屏区域\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        if (width && height) {\n            let rect = {\n                x: this.store.data.origin.x,\n                y: this.store.data.origin.y,\n                width: width * this.store.data.scale,\n                height: height * this.store.data.scale,\n            };\n            let flag = true;\n            for (const pen of pens) {\n                if (!pen.parentId) {\n                    let points = [\n                        { x: pen.x, y: pen.y },\n                        { x: pen.x + pen.width, y: pen.y },\n                        { x: pen.x, y: pen.y + pen.height },\n                        { x: pen.x + pen.width, y: pen.y + pen.height },\n                        { x: pen.x + pen.width / 2, y: pen.y + pen.height / 2 },\n                    ];\n                    if ((pen.x === rect.x &&\n                        pen.y === rect.y &&\n                        pen.width === rect.width &&\n                        pen.height === rect.height) ||\n                        points.some((point) => pointInRect(point, rect))) {\n                        flag = false;\n                        //严格范围模式下对齐大屏边界\n                        if (this.store.options.strictScope) {\n                            if (pen.x < rect.x) {\n                                pen.x = rect.x;\n                            }\n                            if (pen.y < rect.y) {\n                                pen.y = rect.y;\n                            }\n                            if (pen.x + pen.width > rect.x + rect.width) {\n                                pen.x = rect.x + rect.width - pen.width;\n                            }\n                            if (pen.y + pen.height > rect.y + rect.height) {\n                                pen.y = rect.y + rect.height - pen.height;\n                            }\n                        }\n                        break;\n                    }\n                }\n            }\n            if (flag) {\n                console.info('画笔在大屏范围外');\n                return;\n            }\n        }\n        await this.addPens(pens, true);\n        this.active(pens.filter((pen) => !pen.parentId));\n        this.render();\n        this.externalElements.focus(); // 聚焦\n    }\n    randomCombineId(pen, pens, parentId) {\n        let beforeIds = null;\n        if (pen.type) {\n            if (pen.anchors[0].connectTo ||\n                pen.anchors[pen.anchors.length - 1].connectTo) {\n                beforeIds = [\n                    pen.id,\n                    pen.anchors[0].id,\n                    pen.anchors[pen.anchors.length - 1].id,\n                ];\n            }\n            else {\n                beforeIds = [pen.id];\n            }\n        }\n        else {\n            if (pens.length > 1) {\n                // if (pen.connectedLines && pen.connectedLines.length) {\n                beforeIds = [pen.id];\n            }\n        }\n        randomId(pen);\n        if (pens.length > 1) {\n            // if (beforeIds) {\n            if (beforeIds.length === 1) {\n                this.randomIdObj[beforeIds[0]] = pen.id;\n            }\n            else {\n                this.randomIdObj[beforeIds[0]] = pen.id;\n                this.randomIdObj[beforeIds[1]] = pen.anchors[0].id;\n                this.randomIdObj[beforeIds[2]] = pen.anchors[pen.anchors.length - 1].id;\n            }\n        }\n        //处理链接关系\n        pen.parentId = parentId;\n        const newChildren = [];\n        if (Array.isArray(pen.children)) {\n            for (const childId of pen.children) {\n                const childPen = pens.find((pen) => pen.id === childId);\n                childPen &&\n                    newChildren.push(this.randomCombineId(childPen, pens, pen.id).id);\n                // TODO: 既已成为 组合节点，连接关系是否仍需要考虑呢？\n            }\n        }\n        pen.children = newChildren;\n        return pen;\n    }\n    async addPens(pens, history, abs) {\n        if (this.beforeAddPens && (await this.beforeAddPens(pens)) != true) {\n            return [];\n        }\n        const list = [];\n        for (const pen of pens) {\n            if (this.beforeAddPen && this.beforeAddPen(pen) != true) {\n                continue;\n            }\n            if (abs) {\n                pen.x = pen.x * this.store.data.scale + this.store.data.origin.x;\n                pen.y = pen.y * this.store.data.scale + this.store.data.origin.y;\n                pen.width = pen.width * this.store.data.scale;\n                pen.height = pen.height * this.store.data.scale;\n            }\n            this.makePen(pen);\n            list.push(pen);\n        }\n        this.render();\n        this.store.emitter.emit('add', list);\n        if (history) {\n            this.pushHistory({ type: EditType.Add, pens: deepClone(list, true) });\n        }\n        return list;\n    }\n    ontouchstart = (e) => {\n        if (this.store.data.locked === LockState.Disable) {\n            return;\n        }\n        if (this.touchStartTimer) {\n            clearTimeout(this.touchStartTimer);\n        }\n        this.touchStartTimer = setTimeout(() => {\n            this.touchStart = performance.now();\n            const x = e.touches[0].pageX - this.clientRect.x;\n            const y = e.touches[0].pageY - this.clientRect.y;\n            const pos = { x, y };\n            this.calibrateMouse(pos);\n            this.getHover(pos);\n            this.onMouseDown({\n                x,\n                y,\n                clientX: e.touches[0].clientX,\n                clientY: e.touches[0].clientY,\n                pageX: e.touches[0].pageX,\n                pageY: e.touches[0].pageY,\n                ctrlKey: e.ctrlKey || e.metaKey,\n                shiftKey: e.shiftKey,\n                altKey: e.altKey,\n                buttons: 1,\n            });\n            if (e.touches.length === 2) {\n                this.initTouchDis = Math.hypot(e.touches[0].pageX - e.touches[1].pageX, e.touches[0].pageY - e.touches[1].pageY);\n                this.initScale = this.store.data.scale;\n                this.startTouches = e.touches;\n                this.touchCenter = {\n                    x: e.touches[0].pageX +\n                        (e.touches[1].pageX - e.touches[0].pageX) / 2 -\n                        this.clientRect.x,\n                    y: e.touches[0].pageY +\n                        (e.touches[1].pageY - e.touches[0].pageY) / 2 -\n                        this.clientRect.y,\n                };\n                return;\n            }\n            else if (e.touches.length === 3) {\n                this.store.emitter.emit('contextmenu', {\n                    e: {\n                        x,\n                        y,\n                        clientX: e.touches[0].clientX,\n                        clientY: e.touches[0].clientY,\n                        pageX: e.touches[0].pageX,\n                        pageY: e.touches[0].pageY,\n                    },\n                    clientRect: this.clientRect,\n                });\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            this.touchStartTimer = undefined;\n        }, 50);\n    };\n    ontouchmove = (event) => {\n        if (this.store.data.locked === LockState.Disable) {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        const now = performance.now();\n        if (now - this.touchStart < 50) {\n            return;\n        }\n        this.touchStart = now;\n        const touches = event.touches;\n        const len = touches.length;\n        const x = event.touches[0].pageX - this.clientRect.x;\n        const y = event.touches[0].pageY - this.clientRect.y;\n        if (len === 1) {\n            this.onMouseMove({\n                x,\n                y,\n                clientX: event.changedTouches[0].clientX,\n                clientY: event.changedTouches[0].clientY,\n                pageX: event.changedTouches[0].pageX,\n                pageY: event.changedTouches[0].pageY,\n                ctrlKey: event.ctrlKey || event.metaKey,\n                shiftKey: event.shiftKey,\n                altKey: event.altKey,\n                buttons: 1,\n            });\n        }\n        else if (len === 2 && this.startTouches?.length === 2) {\n            if (!this.touchMoving && !this.touchScaling) {\n                const x1 = this.startTouches[0].pageX - touches[0].pageX;\n                const x2 = this.startTouches[1].pageX - touches[1].pageX;\n                const y1 = this.startTouches[0].pageY - touches[0].pageY;\n                const y2 = this.startTouches[1].pageY - touches[1].pageY;\n                if (((x1 >= 0 && x2 < 0) || (x1 <= 0 && x2 > 0)) &&\n                    ((y1 >= 0 && y2 < 0) || (y1 <= 0 && y2 > 0))) {\n                    this.touchScaling = true;\n                }\n                else {\n                    this.touchMoving = true;\n                }\n            }\n            if (this.touchScaling) {\n                if (this.store.data.disableScale || this.store.options.disableScale) {\n                    return;\n                }\n                const scale = Math.hypot(touches[0].pageX - touches[1].pageX, touches[0].pageY - touches[1].pageY) / this.initTouchDis;\n                this.scale(this.initScale * scale, deepClone(this.touchCenter));\n            }\n            if (this.touchMoving) {\n                if ((this.store.data.locked >= LockState.DisableMove &&\n                    this.store.data.locked !== LockState.DisableScale) ||\n                    this.store.data.disableScale ||\n                    this.store.options.disableScale) {\n                    return;\n                }\n                if (this.lastOffsetX) {\n                    const { scale } = this.store.data;\n                    this.translate((x - this.lastOffsetX) / scale, (y - this.lastOffsetY) / scale);\n                }\n                this.lastOffsetX = x;\n                this.lastOffsetY = y;\n            }\n        }\n    };\n    ontouchend = (event) => {\n        if (this.store.data.locked === LockState.Disable) {\n            return;\n        }\n        this.touchCenter = undefined;\n        this.touchScaling = undefined;\n        this.touchMoving = undefined;\n        this.startTouches = undefined;\n        this.lastOffsetX = 0;\n        this.lastOffsetY = 0;\n        const x = event.changedTouches[0].pageX - this.clientRect.x;\n        const y = event.changedTouches[0].pageY - this.clientRect.y;\n        this.onMouseUp({\n            x,\n            y,\n            clientX: event.changedTouches[0].clientX,\n            clientY: event.changedTouches[0].clientY,\n            pageX: event.changedTouches[0].pageX,\n            pageY: event.changedTouches[0].pageY,\n            ctrlKey: event.ctrlKey || event.metaKey,\n            shiftKey: event.shiftKey,\n            altKey: event.altKey,\n            buttons: 1,\n        });\n        setTimeout(() => {\n            this.render();\n        }, 20);\n    };\n    onGesturestart = (e) => {\n        e.preventDefault();\n    };\n    /**\n     * 获取初始化的 pencilLine\n     * @param pt 需包含 penId\n     */\n    getInitPencilLine(pt) {\n        const { data, options } = this.store;\n        const scale = data.scale;\n        const lineWidth = data.lineWidth || 1;\n        return {\n            id: pt.penId,\n            name: 'line',\n            x: pt.x,\n            y: pt.y,\n            type: PenType.Line,\n            calculative: {\n                canvas: this,\n                pencil: true,\n                active: true,\n                worldAnchors: [pt],\n                lineWidth: lineWidth * scale,\n            },\n            fromArrow: data.fromArrow || options.fromArrow,\n            toArrow: data.toArrow || options.toArrow,\n            lineWidth,\n        };\n    }\n    /**\n     * 获取初始化的 drawingLine\n     * @param pt 需包含 penId\n     */\n    createDrawingLine(pt) {\n        this.inactive();\n        const { data, options } = this.store;\n        const scale = data.scale;\n        const lineWidth = data.lineWidth || 1;\n        pt.penId = s8();\n        return {\n            id: pt.penId,\n            name: 'line',\n            lineName: this.drawingLineName,\n            x: pt.x,\n            y: pt.y,\n            type: PenType.Line,\n            calculative: {\n                canvas: this,\n                active: true,\n                worldAnchors: [pt],\n                lineWidth: lineWidth * scale,\n            },\n            fromArrow: data.fromArrow || options.fromArrow,\n            toArrow: data.toArrow || options.toArrow,\n            lineWidth,\n        };\n    }\n    onMouseDown = (e) => {\n        if (e.buttons === 2 && !this.drawingLine) {\n            this.mouseRight = MouseRight.Down;\n        }\n        this.hideInput();\n        this.popconfirm.hide();\n        if (this.store.data.locked === LockState.Disable ||\n            (e.buttons !== 1 && e.buttons !== 2)) {\n            this.hoverType = HoverType.None;\n            return;\n        }\n        if (this.magnifierCanvas.magnifier) {\n            return;\n        }\n        this.calibrateMouse(e);\n        this.mousePos.x = e.x;\n        this.mousePos.y = e.y;\n        this.mouseDown = e;\n        this.lastMouseTime = performance.now();\n        if (this.canvasImage.fitFlag) {\n            if (!this.canvasImage.currentFit) {\n                //选中布局容器\n                this.calcuActiveFit();\n            }\n            return;\n        }\n        // Set anchor of pen.\n        if (this.hotkeyType === HotkeyType.AddAnchor) {\n            this.setAnchor(this.store.pointAt);\n            return;\n        }\n        //shift 快捷添加锚点并连线\n        if (!this.store.options.autoAnchor && !this.drawingLine) {\n            if (e.shiftKey && e.ctrlKey && e.altKey) {\n                this.setAnchor(this.store.pointAt);\n                this.drawingLineName = this.store.options.drawingLineName;\n                const anchor = this.store.activeAnchor;\n                if (!anchor) {\n                    return;\n                }\n                const pt = {\n                    id: s8(),\n                    x: anchor.x,\n                    y: anchor.y,\n                };\n                this.drawingLine = this.createDrawingLine(pt);\n                let _pt = getFromAnchor(this.drawingLine);\n                this.drawingLine.calculative.activeAnchor = _pt;\n                connectLine(this.store.hover, anchor, this.drawingLine, pt);\n                this.drawline();\n                return;\n            }\n        }\n        // Translate\n        if (this.hotkeyType === HotkeyType.Translate ||\n            (this.mouseRight === MouseRight.Down &&\n                !this.store.options.mouseRightActive)) {\n            return;\n        }\n        // 正在连线\n        if (this.drawingLine) {\n            // 单击在锚点上，完成绘画\n            if (this.store.hoverAnchor) {\n                const to = getToAnchor(this.drawingLine);\n                if (this.store.hoverAnchor.type === PointType.Line) {\n                    getDistance(to, this.store.hoverAnchor, this.store);\n                }\n                else {\n                    to.x = this.store.hoverAnchor.x;\n                    to.y = this.store.hoverAnchor.y;\n                }\n                connectLine(this.store.hover, this.store.hoverAnchor, this.drawingLine, to);\n                this.drawline();\n                this.finishDrawline(true);\n                return;\n            }\n            //shift快捷添加锚点并完成连线\n            if (!this.store.options.autoAnchor) {\n                if (e.shiftKey && e.altKey && e.ctrlKey) {\n                    this.setAnchor(this.store.pointAt);\n                    const to = getToAnchor(this.drawingLine);\n                    const anchor = this.store.activeAnchor;\n                    if (!anchor) {\n                        return;\n                    }\n                    to.x = anchor.x;\n                    to.y = anchor.y;\n                    connectLine(this.store.hover, anchor, this.drawingLine, to);\n                    this.drawline();\n                    this.finishDrawline(true);\n                    return;\n                }\n            }\n            // 右键，完成绘画\n            if (e.buttons === 2 ||\n                (this.drawingLineName === 'mind' &&\n                    this.drawingLine?.calculative.worldAnchors.length > 1) ||\n                (this.store.options.drawingLineLength &&\n                    this.drawingLine?.calculative.worldAnchors.length >\n                        this.store.options.drawingLineLength)) {\n                this.finishDrawline(true);\n                if (this.store.active[0]?.anchors[0].connectTo || this.store.active.length == 0) {\n                    this.drawingLineName = '';\n                }\n                else {\n                    this.drawingLineName = this.store.options.drawingLineName;\n                }\n                return;\n            }\n            // 自动锚点（单击节点），完成绘画\n            if (this.store.options.autoAnchor && this.hoverType === HoverType.Node) {\n                const to = getToAnchor(this.drawingLine);\n                const anchor = nearestAnchor(this.store.hover, e);\n                to.x = anchor.x;\n                to.y = anchor.y;\n                this.drawingLine.autoTo = true;\n                connectLine(this.store.hover, anchor, this.drawingLine, to);\n                this.drawline();\n                this.finishDrawline(true);\n                return;\n            }\n            // 添加点\n            const to = getToAnchor(this.drawingLine);\n            if (to.isTemp) {\n                this.drawingLine.calculative.activeAnchor =\n                    this.drawingLine.calculative.worldAnchors[this.drawingLine.calculative.worldAnchors.length - 2];\n                to.isTemp = undefined;\n            }\n            else {\n                this.drawingLine.calculative.activeAnchor = to;\n                this.drawingLine.calculative.worldAnchors.push({\n                    x: to.x,\n                    y: to.y,\n                    penId: to.penId,\n                });\n            }\n            this.drawingLine.calculative.drawlineH = undefined;\n            this.drawingLineName !== 'polyline' && this.drawline();\n        }\n        // 单击在节点上，通过自动锚点连线\n        if (this.drawingLineName) {\n            if (this.hoverType === HoverType.Node) {\n                if (this.store.options.autoAnchor) {\n                    this.inactive(true);\n                    const anchor = nearestAnchor(this.store.hover, e);\n                    this.store.hoverAnchor = anchor;\n                    const pt = { id: s8(), x: anchor.x, y: anchor.y };\n                    this.drawingLine = this.createDrawingLine(pt);\n                    this.drawingLine.autoFrom = true;\n                    connectLine(this.store.hover, anchor, this.drawingLine, pt);\n                }\n                else {\n                    this.inactive();\n                    this.hoverType = HoverType.None;\n                }\n            }\n            else if (this.hoverType === HoverType.NodeAnchor) {\n                //钢笔模式下 可以连节点锚点\n                this.drawingLineName = this.store.options.drawingLineName;\n                const pt = {\n                    id: s8(),\n                    x: this.store.hoverAnchor.x,\n                    y: this.store.hoverAnchor.y,\n                };\n                this.drawingLine = this.createDrawingLine(pt);\n                this.drawingLine.calculative.activeAnchor = pt;\n                connectLine(this.store.hover, this.store.hoverAnchor, this.drawingLine, pt);\n                // this.drawline();\n            }\n            else if (!this.drawingLine && this.drawingLineName !== 'curve') {\n                this.inactive(true);\n                const pt = { id: s8(), x: e.x, y: e.y };\n                this.drawingLine = this.createDrawingLine(pt);\n                this.drawingLine.calculative.activeAnchor = pt;\n            }\n        }\n        else if (this.pencil) {\n            this.inactive(true);\n            const penId = s8();\n            const pt = { x: e.x, y: e.y, id: s8(), penId };\n            this.pencilLine = this.getInitPencilLine(pt);\n        }\n        else {\n            switch (this.hoverType) {\n                case HoverType.None:\n                    (this.store.data.rule || this.store.options.rule) &&\n                        !this.store.options.disableRuleLine &&\n                        this.addRuleLine(e);\n                    if (this.store.options.resizeMode) {\n                        this.hotkeyType = HotkeyType.None;\n                    }\n                    this.inactive();\n                    break;\n                case HoverType.Node:\n                case HoverType.Line:\n                    if (this.store.hover) {\n                        if (this.store.active?.length && this.store.active.length === 1) {\n                            if (this.store.hover.id === this.store.active[0].id) {\n                                //准备移动子图元\n                                this.calcActiveRect();\n                                break;\n                            }\n                        }\n                        const parentPen = getParent(this.store.hover, true);\n                        let pen = parentPen || this.store.hover;\n                        if (parentPen && (parentPen.container || this.store.options.containerShapes?.includes(parentPen.name))) {\n                            pen = this.store.hover;\n                        }\n                        // const pen = getParent(this.store.hover, true) || this.store.hover;\n                        if (e.ctrlKey && !e.shiftKey) {\n                            if (pen.calculative.active) {\n                                this.willInactivePen = pen;\n                            }\n                            else {\n                                if (this.store.active.length > 0) {\n                                    pen.calculative.active = true;\n                                    setChildrenActive(pen); // 子节点也设置为active\n                                    this.store.active.push(pen);\n                                    this.store.emitter.emit('active', this.store.active);\n                                }\n                            }\n                            this.patchFlags = true;\n                        }\n                        else if (e.ctrlKey && e.shiftKey && this.store.hover.parentId) {\n                            this.active([this.store.hover]);\n                        }\n                        else {\n                            if (!(this.activeRect && pointInRect({ x: e.x, y: e.y }, this.activeRect)) || this.store.active.length == 1) {\n                                if (!pen.calculative.active) {\n                                    this.active([pen]);\n                                    if (this.store.options.resizeMode) {\n                                        this.hotkeyType = HotkeyType.Resize;\n                                    }\n                                }\n                            }\n                        }\n                        this.calcActiveRect();\n                    }\n                    break;\n                case HoverType.LineAnchor:\n                    this.store.activeAnchor = this.store.hoverAnchor;\n                    this.store.hover.calculative.activeAnchor = this.store.hoverAnchor;\n                    this.active([this.store.hover]);\n                    break;\n                case HoverType.LineAnchorPrev:\n                case HoverType.LineAnchorNext:\n                    if (this.store.activeAnchor) {\n                        // 备份，方便移动锚点方向\n                        this.prevAnchor = { ...this.store.activeAnchor.prev };\n                        this.nextAnchor = { ...this.store.activeAnchor.next };\n                    }\n                    break;\n                case HoverType.Resize:\n                    this.activeInitPos = [];\n                    this.store.active.forEach((pen) => {\n                        this.activeInitPos.push({\n                            x: (pen.calculative.worldRect.x - this.activeRect.x) /\n                                this.activeRect.width,\n                            y: (pen.calculative.worldRect.y - this.activeRect.y) /\n                                this.activeRect.height,\n                        });\n                    });\n                    break;\n            }\n            if (this.store.hover) {\n                this.store.hover.calculative.mouseDown = true;\n            }\n            this.store.emitter.emit('mousedown', {\n                x: e.x,\n                y: e.y,\n                pen: this.store.hover,\n            });\n        }\n        this.render();\n    };\n    onMouseMove = (e) => {\n        if (this.store.data.locked === LockState.Disable) {\n            this.hoverType = HoverType.None;\n            return;\n        }\n        // 防止异常情况导致mouseup事件没有触发\n        if (this.mouseDown &&\n            !this.mouseDown.restore &&\n            e.buttons !== 1 &&\n            e.buttons !== 2) {\n            this.onMouseUp(e);\n            return;\n        }\n        // 避免鼠标点击和移动一起触发，误抖动\n        if (this.lastMouseTime) {\n            const now = performance.now();\n            if (now - this.lastMouseTime < 50) {\n                this.lastMouseTime = 0;\n                return;\n            }\n            this.lastMouseTime = 0;\n        }\n        this.calibrateMouse(e);\n        this.mousePos.x = e.x;\n        this.mousePos.y = e.y;\n        if (this.magnifierCanvas.magnifier) {\n            this.render();\n            return;\n        }\n        if (this.canvasImage.fitFlag) {\n            if (this.canvasImage.activeFit) {\n                const now = performance.now();\n                if (now - this.fitTimer > 100) {\n                    if (this.mouseDown) {\n                        // 容器大小变化\n                        this.updateFit(e);\n                    }\n                    else {\n                        this.inFitBorder(this.mousePos);\n                    }\n                    this.fitTimer = now;\n                }\n                return;\n            }\n        }\n        if (this.mouseDown && !this.store.options.disableTranslate && !this.store.data.disableTranslate) {\n            // 画布平移前提\n            if (this.mouseRight === MouseRight.Down) {\n                this.mouseRight = MouseRight.Translate;\n            }\n            // Translate\n            if (this.store.data.locked === LockState.DisableEdit ||\n                this.store.data.locked === LockState.DisableScale ||\n                this.hotkeyType === HotkeyType.Translate ||\n                this.mouseRight === MouseRight.Translate) {\n                const { scale } = this.store.data;\n                // if (Math.abs(e.x - this.mouseDown.x) > 30) {\n                //   return;\n                // }\n                let x = (e.x - this.mouseDown.x) / scale;\n                let y = (e.y - this.mouseDown.y) / scale;\n                e.shiftKey && !e.ctrlKey && (y = 0);\n                e.ctrlKey && (x = 0);\n                this.translate(x, y);\n                return;\n            }\n            if (this.store.data.locked) {\n                return;\n            }\n            if (!this.drawingLine && !this.pencil) {\n                if (!this.drawingLineName && !this.movingAnchor) {\n                    // 在锚点上开始连线\n                    if (this.hoverType === HoverType.NodeAnchor) {\n                        if (!this.store.hoverAnchor) {\n                            return;\n                        }\n                        this.drawingLineName = this.store.options.drawingLineName;\n                        const pt = {\n                            id: s8(),\n                            x: this.store.hoverAnchor.x,\n                            y: this.store.hoverAnchor.y,\n                        };\n                        this.drawingLine = this.createDrawingLine(pt);\n                        this.drawingLine.calculative.activeAnchor = pt;\n                        connectLine(this.store.hover, this.store.hoverAnchor, this.drawingLine, pt);\n                        this.drawline();\n                        return;\n                    }\n                }\n                // 钢笔画线\n                else if (this.drawingLineName && this.hoverType === HoverType.None) {\n                    const pt = { id: s8(), x: e.x, y: e.y };\n                    this.drawingLine = this.createDrawingLine(pt);\n                    this.drawingLine.calculative.activeAnchor = pt;\n                    this.drawline();\n                    return;\n                }\n                // 框选\n                if (e.buttons === 1 && (e.ctrlKey || !this.hoverType && !this.hotkeyType) && !(e.ctrlKey && (this.store.activeAnchor || this.store.active?.length))) {\n                    this.dragRect = {\n                        x: Math.min(this.mouseDown.x, e.x),\n                        y: Math.min(this.mouseDown.y, e.y),\n                        ex: Math.max(this.mouseDown.x, e.x),\n                        ey: Math.max(this.mouseDown.y, e.y),\n                        width: Math.abs(e.x - this.mouseDown.x),\n                        height: Math.abs(e.y - this.mouseDown.y),\n                    };\n                    this.render();\n                    return;\n                }\n                // 移动节点锚点\n                if (this.movingAnchor) {\n                    const x = e.x - this.movingAnchor.x;\n                    const y = e.y - this.movingAnchor.y;\n                    this.translateAnchor(x, y);\n                    this.render();\n                    return;\n                }\n                else if (!this.store.active[0]?.locked) {\n                    const pt = { x: e.x, y: e.y };\n                    // Move line anchor\n                    if (this.hoverType === HoverType.LineAnchor) {\n                        if ((this.dockInAnchor(e) || this.store.active[0]?.lineName === 'line') &&\n                            !this.store.options.disableDock &&\n                            !this.store.options.disableLineDock) {\n                            this.clearDock();\n                            this.dock = calcAnchorDock(this.store, pt, this.store.activeAnchor);\n                            this.dock?.xDock && (pt.x += this.dock.xDock.step);\n                            this.dock?.yDock && (pt.y += this.dock.yDock.step);\n                        }\n                        this.moveLineAnchor(pt, e);\n                        return;\n                    }\n                    // Move line anchor prev\n                    if (this.hoverType === HoverType.LineAnchorPrev) {\n                        this.moveLineAnchorPrev(e);\n                        return;\n                    }\n                    // Move line anchor next\n                    if (this.hoverType === HoverType.LineAnchorNext) {\n                        this.moveLineAnchorNext(e);\n                        return;\n                    }\n                }\n                // Rotate\n                if (this.hoverType === HoverType.Rotate) {\n                    this.rotatePens({ x: e.x, y: e.y });\n                    return;\n                }\n                // Resize\n                if (this.hoverType === HoverType.Resize) {\n                    this.resizePens(e);\n                    return;\n                }\n                // Move\n                if (this.hoverType === HoverType.Node ||\n                    this.hoverType === HoverType.Line) {\n                    const x = e.x - this.mouseDown.x;\n                    const y = e.y - this.mouseDown.y;\n                    const shake = 20;\n                    if (e.ctrlKey &&\n                        !e.shiftKey &&\n                        (Math.abs(x) >= shake || Math.abs(y) >= shake)) {\n                        this.willInactivePen = undefined;\n                    }\n                    if (this.store.active.length === 1) {\n                        const activePen = this.store.active[0];\n                        if (activePen.locked === undefined || activePen.locked < LockState.DisableMove) {\n                            activePen?.onMouseMove?.(activePen, this.mousePos);\n                        }\n                        if (activePen.calculative.focus) {\n                            //执行图元的操作\n                            return;\n                        }\n                    }\n                    this.movePens(e);\n                    //图元是否进入容器图元\n                    this.getContainerHover(e);\n                    return;\n                }\n            }\n            else if (this.pencil) {\n                const { x, y } = e;\n                const pt = { x, y };\n                pt.id = s8();\n                pt.penId = this.pencilLine.id;\n                this.pencilLine.calculative.worldAnchors.push(pt);\n                this.store.path2dMap.set(this.pencilLine, globalStore.path2dDraws[this.pencilLine.name](this.pencilLine));\n                this.patchFlags = true;\n            }\n        }\n        if (this.drawingLine) {\n            const { x, y } = e;\n            const pt = { x, y };\n            pt.id = s8();\n            pt.penId = this.drawingLine.id;\n            // dock\n            if (!this.store.options.disableDock &&\n                !this.store.options.disableLineDock) {\n                this.clearDock();\n                this.dock = calcAnchorDock(this.store, pt);\n                this.dock?.xDock && (pt.x += this.dock.xDock.step);\n                this.dock?.yDock && (pt.y += this.dock.yDock.step);\n            }\n            if (this.mouseDown &&\n                this.drawingLineName === 'curve' &&\n                !this.drawingLine.calculative.worldAnchors[0].connectTo) {\n                this.drawline(pt);\n            }\n            else {\n                let to;\n                if (this.drawingLine.calculative.worldAnchors.length > 1) {\n                    to = getToAnchor(this.drawingLine);\n                }\n                if (to) {\n                    to.prev = undefined;\n                    to.next = undefined;\n                    if (!to.id) {\n                        to.id = s8();\n                    }\n                    to.x = pt.x;\n                    to.y = pt.y;\n                    to.connectTo = undefined;\n                }\n                else {\n                    to = { ...pt };\n                    this.drawingLine.calculative.worldAnchors.push(to);\n                }\n                if (this.hoverType === HoverType.NodeAnchor ||\n                    this.hoverType === HoverType.LineAnchor) {\n                    if (this.store.hoverAnchor.type !== PointType.Line) {\n                        to.x = this.store.hoverAnchor.x;\n                        to.y = this.store.hoverAnchor.y;\n                    }\n                    to.connectTo = this.store.hoverAnchor.penId;\n                    if (this.drawingLineName === 'polyline') {\n                        to.isTemp = false;\n                    }\n                }\n                if (this.drawingLineName === 'line') {\n                    if (e.ctrlKey && !e.shiftKey) {\n                        to.x =\n                            this.drawingLine.calculative.worldAnchors[this.drawingLine.calculative.worldAnchors.length - 2].x;\n                    }\n                    else if (e.shiftKey && !e.ctrlKey) {\n                        to.y =\n                            this.drawingLine.calculative.worldAnchors[this.drawingLine.calculative.worldAnchors.length - 2].y;\n                    }\n                    else if (e.shiftKey && e.ctrlKey) {\n                        let last = this.drawingLine.calculative.worldAnchors[this.drawingLine.calculative.worldAnchors.length - 2];\n                        this.getSpecialAngle(to, last);\n                    }\n                }\n                this.drawline();\n            }\n        }\n        globalThis.debug && console.time('hover');\n        const now = performance.now();\n        if (now - this.hoverTimer > 50) {\n            this.hoverTimer = now;\n            this.getHover(e);\n        }\n        globalThis.debug && console.timeEnd('hover');\n        if (this.hotkeyType === HotkeyType.AddAnchor) {\n            this.patchFlags = true;\n        }\n        this.render(false);\n    };\n    onMouseUp = (e) => {\n        if (this.store.data.locked === LockState.Disable) {\n            this.hoverType = HoverType.None;\n            return;\n        }\n        if (!this.mouseDown) {\n            return;\n        }\n        if (this.mouseRight === MouseRight.Down) {\n            if (this.store.hover && this.store.hover.onContextmenu) {\n                this.store.hover.onContextmenu(this.store.hover, e);\n            }\n            else {\n                this.store.emitter.emit('contextmenu', {\n                    e,\n                    clientRect: this.clientRect,\n                    pen: this.store.hover,\n                });\n            }\n        }\n        this.mouseRight = MouseRight.None;\n        this.calibrateMouse(e);\n        this.mousePos.x = e.x;\n        this.mousePos.y = e.y;\n        this.pencil && this.finishPencil();\n        if (this.drawingLine) {\n            // 在锚点上，完成绘画\n            if (this.store.hoverAnchor) {\n                const to = getToAnchor(this.drawingLine);\n                if (this.store.hoverAnchor.type === PointType.Line) {\n                    getDistance(to, this.store.hoverAnchor, this.store);\n                }\n                else {\n                    to.x = this.store.hoverAnchor.x;\n                    to.y = this.store.hoverAnchor.y;\n                }\n                connectLine(this.store.hover, this.store.hoverAnchor, this.drawingLine, to);\n                this.drawline();\n                this.finishDrawline(true);\n                return;\n            }\n            // 自动锚点（单击节点），完成绘画\n            if (this.store.options.autoAnchor && this.hoverType === HoverType.Node) {\n                const to = getToAnchor(this.drawingLine);\n                const anchor = nearestAnchor(this.store.hover, e);\n                to.x = anchor.x;\n                to.y = anchor.y;\n                this.drawingLine.autoTo = true;\n                connectLine(this.store.hover, anchor, this.drawingLine, to);\n                this.drawline();\n                this.finishDrawline(true);\n                return;\n            }\n        }\n        // 拖拽连线锚点\n        if (this.hoverType === HoverType.LineAnchor &&\n            this.store.hover &&\n            this.store.active[0] &&\n            this.store.active[0].name === 'line' &&\n            this.store.active[0] !== this.store.hover) {\n            const line = this.store.active[0];\n            const from = getFromAnchor(line);\n            const to = getToAnchor(line);\n            if (this.store.hoverAnchor) {\n                const hover = this.store.hover;\n                const isHoverFrom = getFromAnchor(hover) === this.store.hoverAnchor;\n                const isHoverTo = getToAnchor(hover) === this.store.hoverAnchor;\n                const isActiveFrom = from === this.store.activeAnchor;\n                const isActiveTo = to === this.store.activeAnchor;\n                if ((e.ctrlKey || e.altKey) &&\n                    hover.type === PenType.Line &&\n                    (isHoverFrom || isHoverTo) &&\n                    (isActiveFrom || isActiveTo)) {\n                    // 合并连线\n                    const hoverAnchors = hover.calculative.worldAnchors.map((anchor) => {\n                        return {\n                            ...anchor,\n                            penId: line.id,\n                        };\n                    });\n                    if (isHoverFrom) {\n                        hoverAnchors.shift();\n                    }\n                    else if (isHoverTo) {\n                        hoverAnchors.pop();\n                    }\n                    if ((isHoverFrom && isActiveFrom) || (isHoverTo && isActiveTo)) {\n                        hoverAnchors.reverse();\n                    }\n                    if (isActiveFrom) {\n                        line.calculative.worldAnchors[0].connectTo = undefined;\n                        line.calculative.worldAnchors.unshift(...hoverAnchors);\n                    }\n                    else if (isActiveTo) {\n                        line.calculative.worldAnchors[line.calculative.worldAnchors.length - 1].connectTo = undefined;\n                        line.calculative.worldAnchors.push(...hoverAnchors);\n                    }\n                    this.delete([hover]);\n                    // TODO: 历史记录\n                    this.render();\n                }\n                else {\n                    // 连接连线\n                    if (this.store.activeAnchor) {\n                        /**\n                         * 线的锚点需要存所连接锚点的位置\n                         */\n                        if (this.store.hoverAnchor.type === PointType.Line) {\n                            getDistance(this.store.activeAnchor, this.store.hoverAnchor, this.store);\n                        }\n                        else {\n                            this.store.activeAnchor.x = this.store.hoverAnchor.x;\n                            this.store.activeAnchor.y = this.store.hoverAnchor.y;\n                        }\n                        connectLine(this.store.hover, this.store.hoverAnchor, line, this.store.activeAnchor);\n                    }\n                }\n                if (this[line.lineName] && line.lineName !== 'polyline') {\n                    this[line.lineName](this.store, line);\n                }\n                this.store.path2dMap.set(line, globalStore.path2dDraws.line(line));\n                this.initLineRect(line);\n            }\n            else {\n                // 连线起始点自动关联 到 pen\n                if (from === this.store.activeAnchor && line.autoFrom) {\n                    this.calcAutoAnchor(line, from, this.store.hover);\n                }\n                else if (to === this.store.activeAnchor && line.autoTo) {\n                    this.calcAutoAnchor(line, to, this.store.hover);\n                }\n            }\n        }\n        // Add pen\n        if (this.addCaches && this.addCaches.length) {\n            if (!this.store.data.locked) {\n                if (this.dragRect) {\n                    // 只存在一个缓存图元\n                    if (this.addCaches.length === 1) {\n                        const target = this.addCaches[0];\n                        target.width = this.dragRect.width / this.store.data.scale;\n                        target.height = this.dragRect.height / this.store.data.scale;\n                        e.x = (this.dragRect.x + this.dragRect.ex) / 2;\n                        e.y = (this.dragRect.y + this.dragRect.ey) / 2;\n                    }\n                }\n                this.dropPens(this.addCaches, e);\n            }\n            this.addCaches = undefined;\n        }\n        // Rotate\n        if (this.hoverType === HoverType.Rotate) {\n            this.getSizeCPs();\n            this.store.active.forEach((pen) => {\n                pen.rotate = pen.calculative.rotate;\n            });\n        }\n        this.patchFlagsLines.forEach((pen) => {\n            if (pen.type) {\n                this.initLineRect(pen);\n            }\n        });\n        this.patchFlagsLines.clear();\n        if (this.dragRect) {\n            if (this.canvasImage.fitFlag) {\n                this.makeFit();\n            }\n            else {\n                const pens = this.store.data.pens.filter((pen) => {\n                    if (pen.visible === false ||\n                        pen.locked >= LockState.DisableMove ||\n                        pen.parentId || pen.isRuleLine) {\n                        return false;\n                    }\n                    if (rectInRect(pen.calculative.worldRect, this.dragRect, e.ctrlKey || this.store.options.dragAllIn)) {\n                        // 先判断在区域内，若不在区域内，则锚点肯定不在框选区域内，避免每条连线过度计算\n                        if (pen.type === PenType.Line && !this.store.options.dragAllIn) {\n                            return lineInRect(pen, this.dragRect);\n                        }\n                        return true;\n                    }\n                });\n                //框选\n                this.active(pens);\n            }\n        }\n        if (e.button !== 2) {\n            if (distance(this.mouseDown, e) < 2) {\n                if (this.store.hover && this.store.hover.input) {\n                    if (this.store.hover.onShowInput) {\n                        this.store.hover.onShowInput(this.store.hover, e);\n                    }\n                    else {\n                        this.showInput(this.store.hover);\n                    }\n                }\n                this.store.emitter.emit('click', {\n                    x: e.x,\n                    y: e.y,\n                    pen: this.store.hover,\n                });\n            }\n            if (this.store.hover) {\n                this.store.hover.calculative.mouseDown = false;\n            }\n            if (this.store.hover != this.store.hoverContainer) {\n                this.store.emitter.emit('mouseup', {\n                    x: e.x,\n                    y: e.y,\n                    pen: this.store.hover,\n                });\n            }\n            this.store.emitter.emit('mouseup', {\n                x: e.x,\n                y: e.y,\n                pen: this.store.hoverContainer,\n            });\n        }\n        if (this.willInactivePen) {\n            this.willInactivePen.calculative.active = undefined;\n            setChildrenActive(this.willInactivePen, false); // 子节点取消激活\n            const index = this.store.active.findIndex((p) => p === this.willInactivePen);\n            if (index >= 0) {\n                this.store.active.splice(index, 1);\n            }\n            this.calcActiveRect();\n            this.willInactivePen = undefined;\n            this.store.emitter.emit('inactive', [this.willInactivePen]);\n            this.render();\n        }\n        if (this.movingPens) {\n            if (e.altKey && !e.shiftKey) {\n                this.copyMovedPens();\n            }\n            else {\n                this.movedActivePens(e.ctrlKey && e.shiftKey);\n            }\n            this.getAllByPens(this.movingPens).forEach((pen) => {\n                this.store.pens[pen.id] = undefined;\n            });\n            this.movingPens = undefined;\n        }\n        if (this.store.active && this.store.active[0]) {\n            this.store.active[0].calculative.h = undefined;\n        }\n        this.mouseDown = undefined;\n        this.lastOffsetX = 0;\n        this.lastOffsetY = 0;\n        this.clearDock();\n        this.dragRect = undefined;\n        this.initActiveRect = undefined;\n        this.render();\n    };\n    addRuleLine(e) {\n        const { x: offsetX, y: offsetY, scale, origin } = this.store.data;\n        // 靠近左上角的 x ，y\n        const x = e.x + offsetX;\n        const y = e.y + offsetY;\n        let lineX = e.x;\n        let lineY = e.y;\n        let width = 0;\n        let height = 0;\n        let otherPX = 0;\n        let otherPY = 0;\n        if (x <= y && x < 20) {\n            // 绘制一条水平线\n            lineX = -offsetX;\n            width = this.width;\n            otherPX = 1;\n            if (!e.ctrlKey) {\n                //找最近的标尺线\n                lineY =\n                    Math.round((lineY - origin.y) / (scale * 10)) * (scale * 10) +\n                        origin.y;\n            }\n        }\n        else if (y < x && y < 20) {\n            // 绘制一条垂直线\n            lineY = -offsetY;\n            height = this.height;\n            otherPY = 1;\n            if (!e.ctrlKey) {\n                //找最近的标尺线\n                lineX =\n                    Math.round((lineX - origin.x) / (scale * 10)) * (scale * 10) +\n                        origin.x;\n            }\n        }\n        else {\n            return;\n        }\n        this.addPen({\n            isRuleLine: true,\n            // locked: LockState.DisableMove,\n            type: PenType.Line,\n            name: 'line',\n            lineName: 'line',\n            x: lineX,\n            y: lineY,\n            width,\n            height,\n            color: this.store.options.ruleLineColor,\n            anchors: [\n                {\n                    x: 0,\n                    y: 0,\n                },\n                {\n                    x: otherPX,\n                    y: otherPY,\n                },\n            ],\n        });\n    }\n    clearRuleLines() {\n        this.delete(this.ruleLines);\n    }\n    get ruleLines() {\n        return this.store.data.pens.filter(p => p.isRuleLine);\n    }\n    /**\n     * @description 调整pen的坐标，让pen按照网格自动对齐\n     * @author Joseph Ho\n     * @date 14/11/2023\n     * @memberof Canvas\n     */\n    alignPenToGrid(pen) {\n        const autoAlignGrid = this.store.options.autoAlignGrid && this.store.data.grid;\n        // 如果开启了自动网格,并且不是连线，则使pen对齐网格\n        if (autoAlignGrid && !pen.type) {\n            const gridSize = this.store.data.gridSize || this.store.options.gridSize;\n            const { origin, scale } = this.store.data;\n            const { x, y } = pen;\n            const obj = { x, y };\n            const rect = this.getPenRect(pen);\n            // 算出偏移了多少个网格\n            const m = parseInt((rect.x / gridSize).toFixed());\n            const n = parseInt((rect.y / gridSize).toFixed());\n            const x1 = m * gridSize;\n            const y1 = n * gridSize;\n            // 算出最终的偏移坐标\n            obj.x = origin.x + x1 * scale;\n            obj.y = origin.y + y1 * scale;\n            Object.assign(pen, obj);\n            pen.onMove?.(pen);\n            this.updatePenRect(pen);\n            this.calcActiveRect();\n            this.getSizeCPs();\n        }\n    }\n    /**\n     * 拖拽结束，数据更新到 active.pens\n     */\n    movedActivePens(readyConnect) {\n        // 鼠标松手才更新，此处是更新前的值\n        //follower\n        let movedPens = this.getAllFollowersByPens(this.store.active, false);\n        const initPens = deepClone(movedPens, true);\n        // const pens = deepClone(this.store.active, true);\n        const gridSize = this.store.data.gridSize || this.store.options.gridSize;\n        const { origin, scale } = this.store.data;\n        const autoAlignGrid = this.store.options.autoAlignGrid && (this.store.data.grid || this.store.options.grid);\n        movedPens.forEach((pen) => {\n            const i = this.movingPens.findIndex((item) => item.id === pen.id + movingSuffix);\n            if (i < 0) {\n                return;\n            }\n            const { x, y } = this.movingPens[i];\n            const obj = { x, y };\n            // 根据是否开启了自动网格对齐，来修正坐标\n            if (autoAlignGrid && !this.movingPens[i].type) {\n                const rect = this.getPenRect(this.movingPens[i]);\n                // 算出偏移了多少个网格\n                const m = parseInt((rect.x / gridSize).toFixed());\n                const n = parseInt((rect.y / gridSize).toFixed());\n                const x1 = m * gridSize;\n                const y1 = n * gridSize;\n                // 算出最终的偏移坐标\n                obj.x = origin.x + x1 * scale;\n                obj.y = origin.y + y1 * scale;\n            }\n            Object.assign(pen, obj);\n            pen.onMove?.(pen);\n            this.updatePenRect(pen);\n            this.updateLines(pen);\n            this.store.emitter.emit('updateLines', pen);\n            // TODO: mouseup 中重复执行 patchFlagsLines\n            this.patchFlagsLines.forEach((pen) => {\n                if (pen.type) {\n                    this.initLineRect(pen);\n                }\n            });\n            this.patchFlagsLines.clear();\n            pen.calculative.x = pen.x;\n            pen.calculative.y = pen.y;\n            if (pen.calculative.initRect) {\n                pen.calculative.initRect.x = pen.calculative.x;\n                pen.calculative.initRect.y = pen.calculative.y;\n                pen.calculative.initRect.ex = pen.calculative.x + pen.calculative.width;\n                pen.calculative.initRect.ey =\n                    pen.calculative.y + pen.calculative.height;\n            }\n            calcChildrenInitRect(pen);\n            if (pen.parentId) {\n                //移动子图元，更新整个组件\n                this.parent.updateRectbyChild(pen.calculative.worldRect, pen, this.store.pens[pen.parentId]);\n            }\n        });\n        // active 消息表示拖拽结束\n        // this.store.emitter.emit('active', this.store.active);\n        this.initImageCanvas(this.store.active);\n        this.initTemplateCanvas(this.store.active);\n        // 避免选中图元的出错情况，this.dock为undefined\n        if (!this.dock)\n            return;\n        const { xDock, yDock } = this.dock;\n        let dockPen;\n        if (xDock) {\n            dockPen = this.store.pens[xDock.penId];\n        }\n        if (!dockPen && yDock) {\n            dockPen = this.store.pens[yDock.penId];\n        }\n        const pens = deepClone(this.store.active, true);\n        // 移动到连线端点，自动连线\n        if (readyConnect &&\n            this.store.active.length === 1 &&\n            dockPen?.type === 1 &&\n            (xDock?.anchorId || yDock?.anchorId)) {\n            const from = getFromAnchor(dockPen);\n            const to = getToAnchor(dockPen);\n            if (xDock?.anchorId) {\n                const anchor = this.store.pens[this.store.active[0].id + movingSuffix].calculative.worldAnchors.find((item) => item.id === xDock.anchorId);\n                if (anchor.x === from.x && anchor.y === from.y) {\n                    initPens.push(deepClone(dockPen, true));\n                    connectLine(this.store.active[0], anchor, dockPen, from);\n                    pens.push(deepClone(dockPen, true));\n                }\n                else if (anchor.x === to.x && anchor.y === to.y) {\n                    initPens.push(deepClone(dockPen, true));\n                    connectLine(this.store.active[0], anchor, dockPen, to);\n                    pens.push(deepClone(dockPen, true));\n                }\n            }\n            else if (yDock?.anchorId) {\n                const anchor = this.store.pens[this.store.active[0].id + movingSuffix].calculative.worldAnchors.find((item) => item.id === yDock.anchorId);\n                if (anchor.x === from.x && anchor.y === from.y) {\n                    initPens.push(deepClone(dockPen, true));\n                    connectLine(this.store.active[0], anchor, dockPen, from);\n                    pens.push(deepClone(dockPen, true));\n                }\n                else if (anchor.x === to.x && anchor.y === to.y) {\n                    initPens.push(deepClone(dockPen, true));\n                    connectLine(this.store.active[0], anchor, dockPen, to);\n                    pens.push(deepClone(dockPen, true));\n                }\n            }\n        }\n        // 如果开启自动网格对齐，则需要重算activeRect和sizeCPs\n        if (autoAlignGrid) {\n            this.calcActiveRect();\n            this.getSizeCPs();\n        }\n        // 此处是更新后的值\n        this.pushHistory({\n            type: EditType.Update,\n            pens,\n            initPens,\n        });\n        this.store.emitter.emit('translatePens', pens);\n    }\n    /**\n     * 复制移动后的笔\n     */\n    copyMovedPens() {\n        // 复制行为\n        this.copy(this.store.active.map((pen, i) => {\n            // TODO: 移动只更改 x,y 值，不更新其他属性\n            // 若需要更改 anchors ，注意 anchors connectTo 问题\n            // const { x, y, width, height, anchors } = this.movingPens[i];\n            /**\n             * TODO: line 类型无法取到移动后的 x，y 值\n             * 所以 patchFlagsLines 需要放到 copyMovedPens 前\n             * */\n            const { x, y } = this.movingPens[i];\n            this.updateLines(pen); //复制前更新被复制节点的连接关系\n            return {\n                ...pen,\n                x,\n                y,\n            };\n        }));\n        // 偏移量 0\n        this.pasteOffset = false;\n        this.paste();\n    }\n    /**\n     * 若本次改变的画笔存在图片，并且在上层 or 下层，需要擦除上层 or 下层\n     * 子节点中包含图片，也需要重绘\n     * @param pens 本次改变的 pens\n     */\n    initImageCanvas(pens) {\n        pens.some((pen) => this.hasImage(pen, false)) && this.canvasImage.init();\n        pens.some((pen) => this.hasImage(pen, true)) &&\n            this.canvasImageBottom.init();\n    }\n    initTemplateCanvas(pens) {\n        // pens.some((pen) => pen.template !== undefined) &&\n        //   this.canvasTemplate.init();\n        pens.some((pen) => pen.canvasLayer === CanvasLayer.CanvasTemplate) &&\n            this.canvasTemplate.init();\n    }\n    hasImage(pen, isBottom) {\n        // if (pen.image && pen.name !== 'gif' && !pen.isBottom == !isBottom) {\n        //   return true;\n        // }\n        if (pen.image && pen.name !== 'gif') {\n            if (isBottom) {\n                if (pen.canvasLayer === CanvasLayer.CanvasImageBottom) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                if (pen.canvasLayer === CanvasLayer.CanvasImage) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n        return pen.children?.some((childId) => {\n            const child = this.store.pens[childId];\n            return child && this.hasImage(child, isBottom);\n        });\n    }\n    clearDock = () => {\n        const xPenId = this.dock?.xDock?.penId;\n        const yPenId = this.dock?.yDock?.penId;\n        const xPen = this.store.pens[xPenId];\n        if (xPen) {\n            xPen.calculative.isDock = false;\n        }\n        const yPen = this.store.pens[yPenId];\n        if (yPen) {\n            yPen.calculative.isDock = false;\n        }\n        this.dock = undefined;\n    };\n    inactive(drawing) {\n        if (!this.store.active.length) {\n            return;\n        }\n        this.initTemplateCanvas(this.store.active);\n        this.store.active.forEach((pen) => {\n            pen.calculative.active = undefined;\n            pen.calculative.activeAnchor = undefined;\n            pen.calculative.hover = false;\n            setChildrenActive(pen, false);\n        });\n        !drawing && this.store.emitter.emit('inactive', this.store.active);\n        this.store.active = [];\n        this.activeRect = undefined;\n        this.sizeCPs = undefined;\n        this.store.activeAnchor = undefined;\n        this.patchFlags = true;\n    }\n    active(pens, emit = true) {\n        if (this.store.active) {\n            emit && this.store.emitter.emit('inactive', this.store.active);\n            for (const pen of this.store.active) {\n                pen.calculative.active = undefined;\n                pen.calculative.hover = false;\n                setChildrenActive(pen, false);\n            }\n        }\n        this.store.active = [];\n        pens.forEach((pen) => {\n            pen.calculative.active = true;\n            setChildrenActive(pen);\n        });\n        this.store.active.push(...pens);\n        this.activeRect = undefined;\n        this.calcActiveRect();\n        this.initTemplateCanvas(pens);\n        this.patchFlags = true;\n        emit && this.store.emitter.emit('active', this.store.active);\n    }\n    getSizeCPs() {\n        this.sizeCPs = rectToPoints(this.activeRect);\n        // 正上 正右 正下 正左\n        const pts = [\n            { x: 0.5, y: 0 },\n            { x: 1, y: 0.5 },\n            { x: 0.5, y: 1 },\n            { x: 0, y: 0.5 },\n        ];\n        const { x, y, width, height, rotate, center } = this.activeRect;\n        pts.forEach((pt) => {\n            const p = {\n                x: pt.x * width + x,\n                y: pt.y * height + y,\n            };\n            rotatePoint(p, rotate, center);\n            this.sizeCPs.push(p);\n        });\n    }\n    getSpecialAngle(to, last) {\n        //快捷定位到特殊角度\n        let angle = 0;\n        let angleArr = [0, 30, 45, 60, 90, 120, 150, 135, 180];\n        //获取实际角度\n        if (to.x - last.x !== 0) {\n            angle = (Math.atan((last.y - to.y) / (to.x - last.x)) * 180) / Math.PI;\n            if (to.x < last.x) {\n                if (angle > 0) {\n                    angle -= 180;\n                }\n                else {\n                    angle += 180;\n                }\n            }\n        }\n        else {\n            if (last.y > to.y) {\n                angle = 90;\n            }\n            else if (last.y < to.y) {\n                angle = -90;\n            }\n        }\n        //取最近角度\n        // let _min = 999;\n        // let index = -1;\n        // for (let i = 0; i < angleArr.length; i++) {\n        //   if (angle < 0) {\n        //     if (Math.abs(angle + angleArr[i]) < _min) {\n        //       index = i;\n        //       _min = Math.abs(angle + angleArr[i]);\n        //     }\n        //   } else {\n        //     if (Math.abs(angle - angleArr[i]) < _min) {\n        //       index = i;\n        //       _min = Math.abs(angle - angleArr[i]);\n        //     }\n        //   }\n        // }\n        // if (angle < 0) {\n        //   angle = -angleArr[index];\n        // } else {\n        //   angle = angleArr[index];\n        // }\n        angle = Math.round(angle / 15) * 15;\n        let length = Math.sqrt((last.x - to.x) * (last.x - to.x) + (last.y - to.y) * (last.y - to.y));\n        to.x = last.x + Math.cos((angle / 180) * Math.PI) * length;\n        to.y = last.y - Math.sin((angle / 180) * Math.PI) * length;\n    }\n    onResize = () => {\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n        this.timer = setTimeout(() => {\n            this.resize();\n            this.timer = undefined;\n        }, 100);\n    };\n    onScroll = () => {\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n        this.timer = setTimeout(() => {\n            this.clientRect = this.canvas.getBoundingClientRect();\n            this.timer = undefined;\n        }, 100);\n    };\n    calibrateMouse = (pt) => {\n        pt.x -= this.store.data.x;\n        pt.y -= this.store.data.y;\n        return pt;\n    };\n    clearHover() {\n        this.hoverType = HoverType.None;\n        this.store.hover = null;\n        this.store.hoverAnchor = null;\n    }\n    getContainerHover = (pt) => {\n        if (this.dragRect) {\n            return;\n        }\n        this.store.hoverContainer = undefined;\n        const containerPens = this.store.data.pens.filter((pen) => pen.container || this.store.options.containerShapes?.includes(pen.name));\n        if (containerPens.length) {\n            for (let i = containerPens.length - 1; i >= 0; --i) {\n                const pen = containerPens[i];\n                if (pen.visible == false ||\n                    pen.calculative.inView == false ||\n                    pen.locked === LockState.Disable) {\n                    continue;\n                }\n                if (pointInRect(pt, pen.calculative.worldRect)) {\n                    this.store.hoverContainer = pen;\n                    pen?.onMouseMove?.(pen, pt);\n                    if (this.store.lastHoverContainer !== this.store.hoverContainer) {\n                        this.patchFlags = true;\n                        if (this.store.lastHoverContainer) {\n                            this.store.lastHoverContainer.calculative.containerHover = false;\n                            this.store.emitter.emit('leave', this.store.lastHoverContainer);\n                        }\n                        if (this.store.hoverContainer) {\n                            this.store.hoverContainer.calculative.containerHover = true;\n                            this.store.emitter.emit('enter', this.store.hoverContainer);\n                        }\n                        this.store.lastHoverContainer = this.store.hoverContainer;\n                    }\n                }\n                else {\n                    if (pen === this.store.hoverContainer) {\n                        this.store.hoverContainer = undefined;\n                        if (this.store.lastHoverContainer !== this.store.hoverContainer) {\n                            this.patchFlags = true;\n                            const movingPen = this.store.lastHoverContainer.calculative.canvas.store.pens[this.store.lastHoverContainer.id + movingSuffix];\n                            if (this.store.lastHoverContainer && !movingPen) {\n                                this.store.lastHoverContainer.calculative.containerHover = false;\n                                this.store.emitter.emit('leave', this.store.lastHoverContainer);\n                            }\n                            this.store.lastHoverContainer = this.store.hoverContainer;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    getHover = (pt) => {\n        if (this.dragRect) {\n            return;\n        }\n        if (this.canvasImage.fitFlag) {\n            return;\n        }\n        let hoverType = HoverType.None;\n        this.store.hover = undefined;\n        this.store.hoverAnchor = undefined;\n        this.title.hide();\n        this.store.pointAt = undefined;\n        this.store.pointAtIndex = undefined;\n        const activeLine = this.store.active.length === 1 && this.store.active[0].type;\n        if (!this.drawingLineName &&\n            this.hotkeyType !== HotkeyType.AddAnchor &&\n            this.activeRect &&\n            !activeLine &&\n            !this.store.data.locked) {\n            const activePensLock = getPensLock(this.store.active);\n            const activePensDisableRotate = getPensDisableRotate(this.store.active) ||\n                this.store.options.disableRotate;\n            const activePensDisableResize = getPensDisableResize(this.store.active) ||\n                this.store.options.disableSize;\n            if (!activePensLock && !activePensDisableRotate) {\n                const rotatePt = {\n                    x: this.activeRect.center.x,\n                    y: this.activeRect.y - 30,\n                };\n                if (this.activeRect.rotate) {\n                    rotatePoint(rotatePt, this.activeRect.rotate, this.activeRect.pivot || this.activeRect.center);\n                }\n                // 旋转控制点\n                if (!this.hotkeyType && hitPoint(pt, rotatePt, this.pointSize)) {\n                    hoverType = HoverType.Rotate;\n                    this.externalElements.style.cursor = `url(\"${this.store.options.rotateCursor}\"), auto`;\n                }\n            }\n            // 大小控制点\n            if (!activePensLock && !activePensDisableResize) {\n                for (let i = 0; i < 8; i++) {\n                    const firstFour = i < 4;\n                    const hotKeyIsResize = this.hotkeyType === HotkeyType.Resize ||\n                        (firstFour && !this.hotkeyType);\n                    if (hotKeyIsResize && hitPoint(pt, this.sizeCPs[i], this.pointSize)) {\n                        let cursors = firstFour ? defaultCursors : rotatedCursors;\n                        let offset = 0;\n                        if (Math.abs((this.activeRect.rotate % 90) - 45) < 25) {\n                            cursors = firstFour ? rotatedCursors : defaultCursors;\n                            offset =\n                                Math.round((this.activeRect.rotate - 45) / 90) +\n                                    (firstFour ? 0 : 1);\n                        }\n                        else {\n                            offset = Math.round(this.activeRect.rotate / 90);\n                        }\n                        hoverType = HoverType.Resize;\n                        this.resizeIndex = i;\n                        this.externalElements.style.cursor = cursors[(i + offset) % 4];\n                        break;\n                    }\n                }\n            }\n        }\n        if (hoverType === HoverType.None) {\n            hoverType = this.inPens(pt, this.store.data.pens);\n        }\n        if (!hoverType && !activeLine && pointInRect(pt, this.activeRect)) {\n            hoverType = HoverType.Node;\n            this.externalElements.style.cursor = 'move';\n        }\n        this.hoverType = hoverType;\n        if (hoverType === HoverType.None) {\n            if (this.drawingLineName || this.pencil) {\n                this.externalElements.style.cursor = 'crosshair';\n            }\n            else if (!this.mouseDown) {\n                this.externalElements.style.cursor = 'default';\n            }\n            this.store.hover = undefined;\n        }\n        if (this.store.lastHover !== this.store.hover) {\n            this.patchFlags = true;\n            if (this.store.lastHover) {\n                this.store.lastHover.calculative.hover = false;\n                setHover(getParent(this.store.lastHover, true) || this.store.lastHover, false);\n                this.store.emitter.emit('leave', this.store.lastHover);\n                this.tooltip.hide();\n            }\n            if (this.store.hover) {\n                this.store.hover.calculative.hover = true;\n                setHover(getParent(this.store.hover, true) || this.store.hover);\n                this.store.emitter.emit('enter', this.store.hover);\n                this.tooltip.show(this.store.hover, pt);\n            }\n            this.store.lastHover = this.store.hover;\n        }\n        this.store.hover?.onMouseMove?.(this.store.hover, this.mousePos);\n    };\n    inPens = (pt, pens) => {\n        let hoverType = HoverType.None;\n        outer: for (let i = pens.length - 1; i >= 0; --i) {\n            const pen = pens[i];\n            if (pen.visible == false ||\n                pen.calculative.inView == false ||\n                pen.locked === LockState.Disable) {\n                continue;\n            }\n            const r = getLineR(pen);\n            if (!pen.calculative.active &&\n                !pointInSimpleRect(pt, pen.calculative.worldRect, r) &&\n                !pointInRect(pt, pen.calculative.worldRect)) {\n                continue;\n            }\n            //anchor title\n            // if (this.store.data.locked) {\n            //   // locked>0\n            //   if (pen.calculative.worldAnchors) {\n            //     for (const anchor of pen.calculative.worldAnchors) {\n            //       if (\n            //         hitPoint(\n            //           pt,\n            //           anchor,\n            //           this.pointSize,\n            //           anchor.penId ? this.store.pens[anchor.penId] : undefined\n            //         )\n            //       ) {\n            //         this.title.show(anchor, pen);\n            //         if (anchor.title) {\n            //           break outer;\n            //         }\n            //       }\n            //     }\n            //   }\n            // }\n            // 锚点\n            if (!this.store.data.locked && this.hotkeyType !== HotkeyType.Resize) {\n                if (pen.calculative.worldAnchors) {\n                    for (const anchor of pen.calculative.worldAnchors) {\n                        hoverType = this.inAnchor(pt, pen, anchor);\n                        if (hoverType) {\n                            //title显示\n                            let _anchor = deepClone(anchor);\n                            Object.assign(_anchor, pt);\n                            this.title.show(_anchor, pen);\n                            break outer;\n                        }\n                    }\n                }\n            }\n            // 图形\n            if (pen.type) {\n                if (pen.isRuleLine) {\n                    let ruleH = this.store.options.ruleOptions?.height || 20;\n                    if (pt.x + this.store.data.x > ruleH &&\n                        pt.y + this.store.data.y > ruleH) {\n                        break;\n                    }\n                }\n                const pos = pointInLine(pt, pen);\n                if (pos) {\n                    if (!this.store.data.locked && !pen.locked) {\n                        if (this.hotkeyType === HotkeyType.AddAnchor) {\n                            this.externalElements.style.cursor = 'pointer';\n                        }\n                        else {\n                            this.externalElements.style.cursor = 'move';\n                        }\n                    }\n                    else {\n                        this.externalElements.style.cursor = this.store.options.hoverCursor;\n                    }\n                    if (pen.calculative.disabled) {\n                        this.externalElements.style.cursor = 'not-allowed';\n                    }\n                    this.store.hover = pen;\n                    this.store.pointAt = pos.point;\n                    this.store.pointAtIndex = pos.i;\n                    this.initTemplateCanvas([this.store.hover]);\n                    hoverType = HoverType.Line;\n                    break;\n                }\n            }\n            else {\n                if (pen.children) {\n                    const pens = []; // TODO: 只考虑了一级子\n                    pen.children.forEach((id) => {\n                        this.store.pens[id] && pens.push(this.store.pens[id]);\n                    });\n                    hoverType = this.inPens(pt, pens);\n                    if (hoverType) {\n                        break;\n                    }\n                }\n                let isIn = false;\n                if (pen.name === 'line') {\n                    isIn = pointInSimpleRect(pt, pen.calculative.worldRect, pen.lineWidth);\n                }\n                else {\n                    isIn = pointInRect(pt, pen.calculative.worldRect);\n                }\n                if (isIn) {\n                    if (pen.type === PenType.Node && pen.name === 'line') {\n                        let pIn = pointInPolygon(pt, pen.calculative.worldAnchors);\n                        if (!pIn) {\n                            continue;\n                        }\n                    }\n                    if (!this.store.data.locked && !pen.locked) {\n                        if (this.hotkeyType === HotkeyType.AddAnchor) {\n                            this.externalElements.style.cursor = 'pointer';\n                        }\n                        else {\n                            this.externalElements.style.cursor = 'move';\n                        }\n                    }\n                    else {\n                        this.externalElements.style.cursor = this.store.options.hoverCursor;\n                    }\n                    if (pen.calculative.disabled) {\n                        this.externalElements.style.cursor = 'not-allowed';\n                    }\n                    this.store.hover = pen;\n                    this.initTemplateCanvas([this.store.hover]);\n                    hoverType = HoverType.Node;\n                    this.store.pointAt = pt;\n                    // 锚点贴边吸附\n                    if (!pt.ctrlKey) {\n                        let { x, y, ex, ey, rotate, center } = this.store.hover.calculative.worldRect;\n                        if (rotate) {\n                            const pts = [\n                                { x, y },\n                                { x: ex, y: y },\n                                { x: ex, y: ey },\n                                { x: x, y: ey },\n                            ];\n                            pts.forEach((item) => {\n                                rotatePoint(item, rotate, center);\n                            });\n                            let last = pts[pts.length - 1];\n                            for (const item of pts) {\n                                if (last.y > pt.y !== item.y > pt.y) {\n                                    const tempx = item.x +\n                                        ((pt.y - item.y) * (last.x - item.x)) / (last.y - item.y);\n                                    if (Math.abs(tempx - this.store.pointAt.x) < 10) {\n                                        this.store.pointAt.x = tempx;\n                                    }\n                                }\n                                last = item;\n                            }\n                        }\n                        else {\n                            if (this.store.pointAt.x - 10 < x) {\n                                this.store.pointAt.x = x;\n                            }\n                            else if (this.store.pointAt.x + 10 > ex) {\n                                this.store.pointAt.x = ex;\n                            }\n                            if (this.store.pointAt.y - 10 < y) {\n                                this.store.pointAt.y = y;\n                            }\n                            else if (this.store.pointAt.y + 10 > ey) {\n                                this.store.pointAt.y = ey;\n                            }\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        return hoverType;\n    };\n    dockInAnchor = (pt) => {\n        this.store.hover = undefined;\n        for (let i = this.store.data.pens.length - 1; i >= 0; --i) {\n            const pen = this.store.data.pens[i];\n            if (pen.visible == false ||\n                pen.locked === LockState.Disable ||\n                pen === this.store.active[0]) {\n                continue;\n            }\n            let r = getLineR(pen);\n            r += 2 * this.store.options.anchorRadius;\n            if (!pointInSimpleRect(pt, pen.calculative.worldRect, r)) {\n                continue;\n            }\n            this.store.hover = pen;\n            // 锚点\n            if (this.hotkeyType !== HotkeyType.Resize) {\n                if (pen.calculative.worldAnchors) {\n                    for (const anchor of pen.calculative.worldAnchors) {\n                        if (anchor.twoWay === TwoWay.In) {\n                            const to = getToAnchor(this.store.active[0]);\n                            if (this.store.activeAnchor.id !== to.id) {\n                                continue;\n                            }\n                        }\n                        if (anchor.twoWay === TwoWay.Out) {\n                            const from = getFromAnchor(this.store.active[0]);\n                            if (this.store.activeAnchor.id !== from.id) {\n                                continue;\n                            }\n                        }\n                        if (anchor.twoWay === TwoWay.DisableConnected ||\n                            anchor.twoWay === TwoWay.Disable ||\n                            this.store.activeAnchor?.twoWay === TwoWay.DisableConnectTo ||\n                            this.store.activeAnchor?.twoWay === TwoWay.Disable) {\n                            continue;\n                        }\n                        this.title.hide();\n                        if (this.inAnchor(pt, pen, anchor)) {\n                            let _anchor = deepClone(anchor);\n                            Object.assign(_anchor, pt);\n                            this.title.show(_anchor, pen);\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    inAnchor(pt, pen, anchor) {\n        this.store.hoverAnchor = undefined;\n        this.movingAnchor = undefined;\n        if (!anchor || anchor.locked > LockState.DisableEdit) {\n            return HoverType.None;\n        }\n        if ((!(pen.type && pen.calculative.active) &&\n            this.store.options.disableAnchor) ||\n            pen.disableAnchor) {\n            return HoverType.None;\n        }\n        if ((this.mouseDown || this.drawingLine) &&\n            pen.name === 'line' &&\n            anchor.connectTo) {\n            const connectPen = this.findOne(anchor.connectTo);\n            if (connectPen?.calculative && !connectPen?.calculative.active) {\n                pen = connectPen;\n                const connectAnchor = connectPen.calculative.worldAnchors.find((item) => item.id === anchor.anchorId);\n                connectAnchor && (anchor = connectAnchor);\n            }\n        }\n        if (anchor.twoWay === TwoWay.Disable && pen.name !== 'line') {\n            return HoverType.None;\n        }\n        if (pen.name === 'line' && anchor.connectTo) {\n            let _anchor = this.findOne(anchor.connectTo)?.anchors.find((item) => item.id === anchor.anchorId);\n            if (_anchor && _anchor.twoWay) {\n                return HoverType.None;\n            }\n        }\n        if (this.drawingLine) {\n            if (anchor.twoWay === TwoWay.Out) {\n                return HoverType.None;\n            }\n        }\n        else {\n            if (this.mouseDown && this.hoverType === HoverType.LineAnchor) {\n            }\n            else if (anchor.twoWay === TwoWay.In) {\n                return HoverType.None;\n            }\n        }\n        if (hitPoint(pt, anchor, this.pointSize, anchor.penId ? this.store.pens[anchor.penId] : undefined)) {\n            if (anchor !== this.store.hoverAnchor) {\n                this.patchFlags = true;\n            }\n            this.store.hoverAnchor = anchor;\n            this.store.hover = pen;\n            if (pen.type) {\n                if (anchor.connectTo && !pen.calculative.active) {\n                    this.store.hover = this.store.pens[anchor.connectTo];\n                    if (this.store.hover) {\n                        this.store.hoverAnchor =\n                            this.store.hover.calculative.worldAnchors.find((a) => a.id === anchor.anchorId);\n                        if (!this.store.hoverAnchor) {\n                            return HoverType.None;\n                        }\n                        this.externalElements.style.cursor = 'crosshair';\n                        return HoverType.NodeAnchor;\n                    }\n                }\n                if (this.hotkeyType === HotkeyType.AddAnchor) {\n                    this.externalElements.style.cursor = 'vertical-text';\n                }\n                else {\n                    this.externalElements.style.cursor = 'pointer';\n                }\n                return HoverType.LineAnchor;\n            }\n            if (this.hotkeyType === HotkeyType.AddAnchor) {\n                this.externalElements.style.cursor = 'vertical-text';\n            }\n            else {\n                this.externalElements.style.cursor = 'crosshair';\n            }\n            return HoverType.NodeAnchor;\n        }\n        if (!this.mouseDown && pen.type) {\n            if (pen.calculative.active &&\n                anchor.prev &&\n                hitPoint(pt, anchor.prev, this.pointSize)) {\n                this.store.hoverAnchor = anchor;\n                this.store.hover = pen;\n                this.externalElements.style.cursor = 'pointer';\n                return HoverType.LineAnchorPrev;\n            }\n            if (pen.calculative.active &&\n                anchor.next &&\n                hitPoint(pt, anchor.next, this.pointSize)) {\n                this.store.hoverAnchor = anchor;\n                this.store.hover = pen;\n                this.externalElements.style.cursor = 'pointer';\n                return HoverType.LineAnchorNext;\n            }\n        }\n        return HoverType.None;\n    }\n    resize(w, h) {\n        w = w || this.parentElement.clientWidth;\n        h = h || this.parentElement.clientHeight;\n        this.width = w;\n        this.height = h;\n        this.canvasRect = {\n            x: 0,\n            y: 0,\n            width: w,\n            height: h,\n        };\n        calcRightBottom(this.canvasRect);\n        this.canvas.style.width = w + 'px';\n        this.canvas.style.height = h + 'px';\n        this.externalElements.style.width = w + 'px';\n        this.externalElements.style.height = h + 'px';\n        this.canvasTemplate.resize(w, h);\n        this.canvasImage.resize(w, h);\n        this.canvasImageBottom.resize(w, h);\n        this.magnifierCanvas.resize(w, h);\n        w = (w * this.store.dpiRatio) | 0;\n        h = (h * this.store.dpiRatio) | 0;\n        this.canvas.width = w;\n        this.canvas.height = h;\n        this.offscreen.width = w;\n        this.offscreen.height = h;\n        this.clientRect = this.externalElements.getBoundingClientRect();\n        this.canvas\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.offscreen\n            .getContext('2d')\n            .scale(this.store.dpiRatio, this.store.dpiRatio);\n        this.offscreen.getContext('2d').textBaseline = 'middle';\n        // TODO 窗口大小变化没有刷新图纸\n        for (const pen of this.store.data.pens) {\n            if (pen.isRuleLine) {\n                if (!pen.width) {\n                    pen.height = this.height;\n                }\n                else if (!pen.height) {\n                    pen.width = this.width;\n                }\n                this.updatePenRect(pen);\n            }\n            calcInView(pen);\n        }\n        this.render();\n    }\n    clearCanvas() {\n        this.activeRect = undefined;\n        this.sizeCPs = undefined;\n        this.canvas\n            .getContext('2d')\n            .clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.offscreen\n            .getContext('2d')\n            .clearRect(0, 0, this.offscreen.width, this.offscreen.height);\n        if (!this.store.data.template) {\n            this.canvasTemplate.clear();\n        }\n        this.canvasImage.clear();\n        this.canvasImageBottom.clear();\n    }\n    async addPen(pen, history, emit, abs) {\n        if (this.beforeAddPens && (await this.beforeAddPens([pen])) != true) {\n            return;\n        }\n        if (this.beforeAddPen && this.beforeAddPen(pen) != true) {\n            return;\n        }\n        if (abs) {\n            pen.x = pen.x * this.store.data.scale + this.store.data.origin.x;\n            pen.y = pen.y * this.store.data.scale + this.store.data.origin.y;\n            pen.width = pen.width * this.store.data.scale;\n            pen.height = pen.height * this.store.data.scale;\n        }\n        this.makePen(pen);\n        this.active([pen]);\n        this.render();\n        emit && this.store.emitter.emit('add', [pen]);\n        if (history) {\n            this.pushHistory({ type: EditType.Add, pens: [pen] });\n        }\n        return pen;\n    }\n    pushHistory(action) {\n        if (this.store.data.locked) {\n            return;\n        }\n        const { origin, scale } = this.store.data;\n        action.origin = deepClone(origin);\n        action.scale = scale;\n        if (action.type !== EditType.Update && action.pens) {\n            action.pens.forEach((pen) => {\n                pen.calculative &&\n                    (pen.calculative.layer = this.store.data.pens.findIndex((p) => p.id === pen.id));\n            });\n        }\n        if (this.store.historyIndex < this.store.histories.length - 1) {\n            this.store.histories.splice(this.store.historyIndex + 1, this.store.histories.length - this.store.historyIndex - 1);\n        }\n        action.pens?.forEach((pen) => {\n            let found;\n            if (action.initPens) {\n                for (const p of action.initPens) {\n                    if (p.id === pen.id) {\n                        found = p;\n                    }\n                }\n            }\n            if (found) {\n                for (const k in pen) {\n                    if (found[k] == undefined) {\n                        found[k] = undefined;\n                    }\n                }\n            }\n        });\n        this.store.histories.push(action);\n        this.store.historyIndex = this.store.histories.length - 1;\n        this.store.emitter.emit('update', {\n            previous: action.initPens,\n            current: action.pens,\n        });\n    }\n    undo() {\n        if (this.store.data.locked ||\n            this.store.historyIndex == null ||\n            this.store.historyIndex < 0) {\n            return;\n        }\n        const action = this.store.histories[this.store.historyIndex--];\n        this.doEditAction(action, true);\n        let step = action.step;\n        while (step > 1) {\n            const action = this.store.histories[this.store.historyIndex--];\n            this.doEditAction(action, true);\n            step--;\n        }\n        if (action.type == EditType.Add || action.type == EditType.Delete || action.type == EditType.Update) {\n            this.activeHistory();\n        }\n    }\n    redo() {\n        if (this.store.data.locked ||\n            this.store.historyIndex == null ||\n            this.store.historyIndex > this.store.histories.length - 2) {\n            return;\n        }\n        const action = this.store.histories[++this.store.historyIndex];\n        this.doEditAction(action, false);\n        let step = action.step;\n        while (step > 1) {\n            const action = this.store.histories[++this.store.historyIndex];\n            this.doEditAction(action, false);\n            step--;\n        }\n        if (action.type == EditType.Add || action.type == EditType.Delete || action.type == EditType.Update) {\n            this.activeHistory();\n        }\n    }\n    activeHistory() {\n        let now = this.store.histories[this.store.historyIndex + 1];\n        const pens = [];\n        if (now && (now.type === EditType.Update)) {\n            now.pens.forEach((pen) => {\n                pens.push(this.store.pens[pen.id]);\n            });\n            this.active(pens);\n            return;\n        }\n        let before = this.store.histories[this.store.historyIndex];\n        if (before && (before.type === EditType.Add || before.type === EditType.Delete)) {\n            before.pens.forEach((pen) => {\n                pens.push(this.store.pens[pen.id]);\n            });\n            this.active(pens);\n        }\n    }\n    doEditAction(action, undo) {\n        this.inactive();\n        this.store.hoverAnchor = undefined;\n        this.store.hover = undefined;\n        switch (action.type) {\n            case EditType.Add:\n                action.pens.forEach((aPen) => {\n                    const pen = deepClone(aPen, true);\n                    const i = this.store.data.pens.findIndex((item) => item.id === pen.id);\n                    if (i > -1) {\n                        pen.onDestroy?.(this.store.pens[pen.id]);\n                        this.store.data.pens.splice(i, 1);\n                        this.store.pens[pen.id] = undefined;\n                        if (!pen.calculative) {\n                            pen.calculative = {};\n                        }\n                        pen.calculative.canvas = this;\n                        this.store.animates.delete(pen);\n                        this.store.animateMap.delete(pen);\n                    }\n                });\n                action.type = EditType.Delete;\n                break;\n            case EditType.Update:\n                const pens = undo ? action.initPens : action.pens;\n                const unPens = undo ? action.pens : action.initPens;\n                pens.forEach((p) => {\n                    const pen = deepClone(p, true);\n                    const i = this.store.data.pens.findIndex((item) => item.id === pen.id);\n                    if (i > -1) {\n                        pen.calculative = this.store.data.pens[i].calculative;\n                        if (this.store.data.pens[i].type &&\n                            this.store.data.pens[i].lastConnected) {\n                            for (let key in this.store.data.pens[i].lastConnected) {\n                                if (this.store.pens[key]) {\n                                    let connected = deepClone(this.store.data.pens[i].lastConnected[key]);\n                                    this.store.pens[key].connectedLines = connected;\n                                    pen.anchors.forEach((anchor) => {\n                                        connected.forEach((item) => {\n                                            if (anchor.id === item.lineAnchor) {\n                                                anchor.connectTo = key;\n                                            }\n                                        });\n                                    });\n                                }\n                            }\n                        }\n                        this.store.data.pens[i] = pen;\n                        this.store.pens[pen.id] = pen;\n                        for (const k in pen) {\n                            if (typeof pen[k] !== 'object' || k === 'lineDash') {\n                                pen.calculative[k] = pen[k];\n                            }\n                        }\n                        pen.calculative.image = undefined;\n                        const rect = this.getPenRect(pen, action.origin, action.scale);\n                        this.setPenRect(pen, rect, false);\n                        this.updateLines(pen, true);\n                        if (pen.calculative.canvas.parent.isCombine(pen)) {\n                            let unPen = unPens.find((item) => item.id === pen.id);\n                            inheritanceProps.forEach((key) => {\n                                if (pen[key] !== unPen[key]) {\n                                    this.parent.setValue({ id: pen.id, [key]: pen[key] }, { render: true, doEvent: false });\n                                }\n                            });\n                        }\n                    }\n                });\n                break;\n            case EditType.Delete:\n                action.pens.reverse().forEach((aPen) => {\n                    const pen = deepClone(aPen, true);\n                    if (!pen.calculative) {\n                        pen.calculative = {};\n                    }\n                    this.store.data.pens.splice(pen.calculative?.layer !== -1\n                        ? pen.calculative?.layer\n                        : this.store.data.pens.length, 0, pen);\n                    // 先放进去，pens 可能是子节点在前，而父节点在后\n                    this.store.pens[pen.id] = pen;\n                    if (pen.type && pen.lastConnected) {\n                        for (let key in pen.lastConnected) {\n                            this.store.pens[key] && (this.store.pens[key].connectedLines = pen.lastConnected[key]);\n                        }\n                    }\n                    pen.calculative.canvas = this;\n                });\n                action.pens.reverse().forEach((aPen) => {\n                    const pen = this.store.pens[aPen.id];\n                    const rect = this.getPenRect(pen, action.origin, action.scale);\n                    this.setPenRect(pen, rect, false);\n                    pen.calculative.image = undefined;\n                    pen.calculative.backgroundImage = undefined;\n                    pen.calculative.strokeImage = undefined;\n                    this.loadImage(pen);\n                });\n                action.type = EditType.Add;\n                break;\n            case EditType.Replace: {\n                // undo pens则为新的pen\n                const pens = undo ? action.initPens : action.pens;\n                const unPens = undo ? action.pens : action.initPens;\n                // 删除旧的\n                unPens.forEach((aPen) => {\n                    const pen = deepClone(aPen, true);\n                    const i = this.store.data.pens.findIndex((item) => item.id === pen.id);\n                    if (i > -1) {\n                        pen.onDestroy?.(this.store.data.pens.find(i => i.id === pen.id));\n                        const i = this.store.data.pens.findIndex((item) => item.id === pen.id);\n                        this.store.data.pens.splice(i, 1);\n                        this.store.pens[pen.id] = undefined;\n                        if (!pen.calculative) {\n                            pen.calculative = {};\n                        }\n                        pen.calculative.canvas = this;\n                        this.store.animates.delete(pen);\n                        this.store.animateMap.delete(pen);\n                    }\n                });\n                // 放置新的\n                pens.reverse().forEach((aPen) => {\n                    const pen = deepClone(aPen, true);\n                    if (!pen.calculative) {\n                        pen.calculative = {};\n                    }\n                    this.store.data.pens.splice(pen.calculative?.layer !== -1\n                        ? pen.calculative?.layer\n                        : this.store.data.pens.length, 0, pen);\n                    // 先放进去，pens 可能是子节点在前，而父节点在后\n                    this.store.pens[pen.id] = pen;\n                    if (pen.type && pen.lastConnected) {\n                        for (let key in pen.lastConnected) {\n                            this.store.pens[key] && (this.store.pens[key].connectedLines = pen.lastConnected[key]);\n                        }\n                    }\n                    pen.calculative.canvas = this;\n                });\n                pens.reverse().forEach((aPen) => {\n                    const pen = this.store.data.pens.find(i => i.id === aPen.id);\n                    const rect = this.getPenRect(pen, action.origin, action.scale);\n                    this.setPenRect(pen, rect, false);\n                    pen.calculative.image = undefined;\n                    pen.calculative.backgroundImage = undefined;\n                    pen.calculative.strokeImage = undefined;\n                    this.loadImage(pen);\n                });\n                action.type = EditType.Replace;\n                break;\n            }\n        }\n        if (action.type === EditType.Update) {\n            let pens = [...action.pens, ...action.initPens];\n            this.initImageCanvas(pens);\n            this.initTemplateCanvas(pens);\n        }\n        else {\n            this.initImageCanvas(action.pens);\n            this.initTemplateCanvas(action.pens);\n        }\n        this.parent.onSizeUpdate();\n        this.render();\n        this.store.emitter.emit(undo ? 'undo' : 'redo', action);\n    }\n    makePen(pen) {\n        if (!pen.id) {\n            pen.id = s8();\n        }\n        if (Math.abs(this.store.lastScale - this.store.data.scale) < 0.0001 &&\n            this.store.sameTemplate &&\n            this.store.templatePens[pen.id] &&\n            // pen.template\n            pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n            pen = this.store.templatePens[pen.id];\n            this.store.data.pens.push(pen);\n            this.updatePenRect(pen);\n            return;\n        }\n        if (pen.copyIndex) {\n            this.store.data.pens.splice(pen.copyIndex + 1, 0, pen);\n            delete pen.copyIndex;\n        }\n        else {\n            this.store.data.pens.push(pen);\n        }\n        this.store.pens[pen.id] = pen;\n        // 集中存储path，避免数据冗余过大\n        if (pen.path) {\n            !pen.pathId && (pen.pathId = s8());\n            const paths = this.store.data.paths;\n            !paths[pen.pathId] && (paths[pen.pathId] = pen.path);\n            pen.path = undefined;\n        }\n        // end\n        if (pen.lineWidth == undefined) {\n            pen.lineWidth = 1;\n        }\n        const { fontSize, lineHeight } = this.store.options;\n        if (!pen.fontSize) {\n            pen.fontSize = fontSize >= 0 ? fontSize : 12;\n        }\n        else if (pen.fontSize < 0) {\n            pen.fontSize = 0;\n        }\n        if (!pen.lineHeight) {\n            pen.lineHeight = lineHeight;\n        }\n        if (pen.image && pen.name !== 'gif' && pen.canvasLayer === undefined) {\n            if (pen.isBottom) {\n                pen.canvasLayer = CanvasLayer.CanvasImageBottom;\n            }\n            else {\n                pen.canvasLayer = CanvasLayer.CanvasImage;\n            }\n            delete pen.isBottom;\n        }\n        if (pen.template) {\n            pen.canvasLayer = CanvasLayer.CanvasTemplate;\n        }\n        pen.calculative = { canvas: this, singleton: pen.calculative?.singleton };\n        if (pen.video || pen.audio) {\n            pen.calculative.onended = (pen) => {\n                this.nextAnimate(pen);\n            };\n        }\n        for (const k in pen) {\n            if (typeof pen[k] !== 'object' || k === 'lineDash') {\n                pen.calculative[k] = pen[k];\n            }\n        }\n        pen.calculative.image = undefined;\n        pen.calculative.backgroundImage = undefined;\n        pen.calculative.strokeImage = undefined;\n        if (!pen.anchors && globalStore.anchors[pen.name]) {\n            if (!pen.anchors) {\n                pen.anchors = [];\n            }\n            globalStore.anchors[pen.name](pen);\n        }\n        if (!pen.anchors) {\n            const anchors = deepClone(this.store.options.defaultAnchors);\n            anchors.forEach((item, index) => { item.id = `${index}`; item.penId = pen.id; });\n            pen.anchors = anchors;\n        }\n        this.updatePenRect(pen);\n        if (!pen.anchors && pen.calculative.worldAnchors) {\n            pen.anchors = pen.calculative.worldAnchors.map((pt) => {\n                return calcRelativePoint(pt, pen.calculative.worldRect);\n            });\n        }\n        !pen.rotate && (pen.rotate = 0);\n        this.loadImage(pen);\n        this.parent.penNetwork(pen);\n    }\n    drawline(mouse) {\n        if (!this.drawingLine) {\n            return;\n        }\n        this[this.drawingLineName]?.(this.store, this.drawingLine, mouse);\n        this.store.path2dMap.set(this.drawingLine, globalStore.path2dDraws.line(this.drawingLine));\n        this.patchFlags = true;\n    }\n    initLineRect(pen) {\n        if (!pen) {\n            return;\n        }\n        if (!pen.calculative.worldAnchors?.length) {\n            this._del([pen]);\n            return;\n        }\n        if (!isFinite(pen.x) || !isFinite(pen.x)) {\n            return;\n        }\n        if (pen.x == null || pen.y == null) {\n            return;\n        }\n        const rect = getLineRect(pen);\n        if (!pen.parentId) {\n            Object.assign(pen, rect);\n        }\n        const { fontSize, lineHeight } = this.store.options;\n        if (!pen.fontSize) {\n            pen.fontSize = fontSize >= 0 ? fontSize : 12;\n            pen.calculative.fontSize = pen.fontSize * this.store.data.scale;\n        }\n        if (!pen.lineHeight) {\n            pen.lineHeight = lineHeight;\n            pen.calculative.lineHeight = pen.lineHeight;\n        }\n        calcCenter(rect);\n        pen.calculative.worldRect = rect;\n        calcPadding(pen, rect);\n        calcTextRect(pen);\n        calcInView(pen);\n        pen.calculative &&\n            (pen.calculative.gradientAnimatePath = undefined);\n        this.store.path2dMap.set(pen, globalStore.path2dDraws[pen.name](pen));\n        if (pen.calculative.worldAnchors) {\n            pen.anchors = pen.calculative.worldAnchors.map((pt) => {\n                return calcRelativePoint(pt, pen.calculative.worldRect);\n            });\n        }\n    }\n    drawingPencil() {\n        lockedError(this.store);\n        this.pencil = true;\n        this.externalElements.style.cursor = 'crosshair';\n    }\n    stopPencil() {\n        this.pencil = false;\n        this.pencilLine = undefined;\n        this.externalElements.style.cursor = 'default';\n    }\n    async finishDrawline(end) {\n        if (!this.drawingLine) {\n            return;\n        }\n        const from = getFromAnchor(this.drawingLine);\n        let to = getToAnchor(this.drawingLine);\n        if (to.isTemp) {\n            this.drawingLine.calculative.worldAnchors.pop();\n            to = getToAnchor(this.drawingLine);\n        }\n        if (!end) {\n            !to.connectTo && this.drawingLine.calculative.worldAnchors.pop();\n            if (getFromAnchor(this.drawingLine) ===\n                this.drawingLine.calculative.activeAnchor) {\n                this.drawingLine = undefined;\n                this.render();\n                return;\n            }\n        }\n        if (!from.connectTo || !to.connectTo) {\n            if (this.store.options.disableEmptyLine) {\n                // 有一端未连线，且 禁止创建空线条\n                if (from.connectTo) {\n                    this.store.pens[from.connectTo].connectedLines = this.store.pens[from.connectTo].connectedLines.filter((item) => item.lineId !== this.drawingLine.id);\n                }\n                this.drawingLine = undefined;\n                this.render();\n                return;\n            }\n        }\n        else {\n            if (this.store.options.disableRepeatLine) {\n                // 两边都连上了锚点，且 禁止创建重复连线\n                const line = this.store.data.pens.find((pen) => {\n                    if (pen.type) {\n                        const penFrom = getFromAnchor(pen);\n                        const penTo = getToAnchor(pen);\n                        return samePoint(penFrom, from) && samePoint(penTo, to);\n                    }\n                });\n                if (line) {\n                    // 存在重复连线\n                    this.drawingLine = undefined;\n                    this.render();\n                    return;\n                }\n            }\n        }\n        const rect = getLineRect(this.drawingLine);\n        Object.assign(this.drawingLine, rect);\n        this.drawingLine.calculative.worldRect = rect;\n        this.drawingLine.calculative.activeAnchor = getToAnchor(this.drawingLine);\n        this.store.activeAnchor = this.drawingLine.calculative.activeAnchor;\n        const allowAdd = (!this.beforeAddPens || (await this.beforeAddPens([this.drawingLine]))) &&\n            (!this.beforeAddPen || this.beforeAddPen(this.drawingLine));\n        if (allowAdd) {\n            this.initLineRect(this.drawingLine);\n            this.store.data.pens.push(this.drawingLine);\n            this.store.pens[this.drawingLine.id] = this.drawingLine;\n            this.store.emitter.emit('add', [this.drawingLine]);\n            this.active([this.drawingLine]);\n            this.pushHistory({\n                type: EditType.Add,\n                pens: deepClone([this.drawingLine], true),\n            });\n        }\n        this.store.path2dMap.set(this.drawingLine, globalStore.path2dDraws[this.drawingLine.name](this.drawingLine));\n        this.drawingLine = undefined;\n        this.drawingLineName = undefined;\n        this.render();\n    }\n    async finishPencil() {\n        if (this.pencilLine) {\n            const anchors = simplify(this.pencilLine.calculative.worldAnchors, 10, 0, this.pencilLine.calculative.worldAnchors.length - 1);\n            let p = getFromAnchor(this.pencilLine);\n            anchors.unshift({ id: p.id, penId: p.penId, x: p.x, y: p.y });\n            p = getToAnchor(this.pencilLine);\n            anchors.push({ id: p.id, penId: p.penId, x: p.x, y: p.y });\n            this.pencilLine.calculative.worldAnchors = smoothLine(anchors);\n            if (this.pencilLine.calculative.worldAnchors.length > 1) {\n                this.pencilLine.calculative.pencil = false;\n                this.store.path2dMap.set(this.pencilLine, globalStore.path2dDraws[this.pencilLine.name](this.pencilLine));\n                const allowAdd = (!this.beforeAddPens ||\n                    (await this.beforeAddPens([this.pencilLine]))) &&\n                    (!this.beforeAddPen || this.beforeAddPen(this.pencilLine));\n                if (allowAdd) {\n                    this.initLineRect(this.pencilLine);\n                    this.store.data.pens.push(this.pencilLine);\n                    this.store.pens[this.pencilLine.id] = this.pencilLine;\n                    this.store.emitter.emit('add', [this.pencilLine]);\n                    this.active([this.pencilLine]);\n                    this.pushHistory({\n                        type: EditType.Add,\n                        pens: deepClone([this.pencilLine], true),\n                    });\n                }\n            }\n            this.pencilLine = undefined;\n            this.render();\n        }\n    }\n    /**\n     * 火狐浏览器无法绘制 svg 不存在 width height 的问题\n     * 此方法手动添加 width 和 height 解决火狐浏览器绘制 svg\n     * @param pen\n     */\n    firefoxLoadSvg(pen) {\n        const img = new Image();\n        // request the XML of your svg file\n        const request = new XMLHttpRequest();\n        request.open('GET', pen.image, true);\n        request.onload = () => {\n            // once the request returns, parse the response and get the SVG\n            const parser = new DOMParser();\n            const result = parser.parseFromString(request.responseText, 'text/xml');\n            const inlineSVG = result.getElementsByTagName('svg')[0];\n            const { width, height } = pen.calculative.worldRect;\n            // add the attributes Firefox needs. These should be absolute values, not relative\n            inlineSVG.setAttribute('width', `${width}px`);\n            inlineSVG.setAttribute('height', `${height}px`);\n            // convert the SVG to a data uri\n            const svg64 = btoa(unescape(encodeURIComponent(new XMLSerializer().serializeToString(inlineSVG))));\n            const image64 = 'data:image/svg+xml;base64,' + svg64;\n            // set that as your image source\n            img.src = image64;\n            // do your canvas work\n            img.onload = () => {\n                pen.calculative.img = img;\n                pen.calculative.imgNaturalWidth = img.naturalWidth || pen.iconWidth;\n                pen.calculative.imgNaturalHeight = img.naturalHeight || pen.iconHeight;\n                globalStore.htmlElements[pen.image] = img;\n                this.imageLoaded();\n                // if (pen.template) {\n                if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                    this.templateImageLoaded();\n                }\n            };\n        };\n        // send the request\n        request.send();\n    }\n    loadImage(pen) {\n        if (pen.image !== pen.calculative.image || !pen.calculative.img) {\n            pen.calculative.img = undefined;\n            if (pen.image) {\n                if (globalStore.htmlElements[pen.image]) {\n                    const img = globalStore.htmlElements[pen.image];\n                    pen.calculative.img = img;\n                    pen.calculative.imgNaturalWidth = img.naturalWidth || pen.iconWidth;\n                    pen.calculative.imgNaturalHeight =\n                        img.naturalHeight || pen.iconHeight;\n                    this.imageLoaded(); // TODO: 重绘图片层 有延时器，可能卡顿\n                    // if (pen.template) {\n                    if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                        this.templateImageLoaded();\n                    }\n                }\n                else {\n                    if (navigator.userAgent.includes('Firefox') &&\n                        pen.image.endsWith('.svg')) {\n                        // 火狐浏览器 svg 图片需要特殊处理\n                        this.firefoxLoadSvg(pen);\n                    }\n                    else {\n                        const img = new Image();\n                        img.crossOrigin =\n                            pen.crossOrigin === 'undefined'\n                                ? undefined\n                                : pen.crossOrigin || 'anonymous';\n                        img.src = pen.image;\n                        if (this.store.options.cdn &&\n                            !(pen.image.startsWith('http') ||\n                                pen.image.startsWith('//') ||\n                                pen.image.startsWith('data:image'))) {\n                            img.src = this.store.options.cdn + pen.image;\n                        }\n                        img.onload = () => {\n                            // TODO: 连续的加载两张图片，若后开始加载 的图片先加载完成，可能会导致展示的是 先开始加载的图片\n                            pen.calculative.img = img;\n                            pen.calculative.imgNaturalWidth =\n                                img.naturalWidth || pen.iconWidth;\n                            pen.calculative.imgNaturalHeight =\n                                img.naturalHeight || pen.iconHeight;\n                            globalStore.htmlElements[pen.image] = img;\n                            this.imageLoaded();\n                            // if (pen.template) {\n                            if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                                this.templateImageLoaded();\n                            }\n                        };\n                    }\n                }\n            }\n            pen.calculative.image = pen.image;\n        }\n        if (pen.backgroundImage !== pen.calculative.backgroundImage) {\n            pen.calculative.backgroundImg = undefined;\n            if (pen.backgroundImage) {\n                if (globalStore.htmlElements[pen.backgroundImage]) {\n                    const img = globalStore.htmlElements[pen.backgroundImage];\n                    pen.calculative.backgroundImg = img;\n                }\n                else {\n                    const img = new Image();\n                    img.crossOrigin = 'anonymous';\n                    img.src = pen.backgroundImage;\n                    if (this.store.options.cdn &&\n                        !(pen.backgroundImage.startsWith('http') ||\n                            pen.backgroundImage.startsWith('//') ||\n                            pen.backgroundImage.startsWith('data:image'))) {\n                        img.src = this.store.options.cdn + pen.backgroundImage;\n                    }\n                    img.onload = () => {\n                        pen.calculative.backgroundImg = img;\n                        globalStore.htmlElements[pen.backgroundImage] = img;\n                        this.imageLoaded();\n                        // if (pen.template) {\n                        if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                            this.templateImageLoaded();\n                        }\n                    };\n                }\n            }\n            pen.calculative.backgroundImage = pen.backgroundImage;\n        }\n        if (pen.strokeImage !== pen.calculative.strokeImage) {\n            pen.calculative.strokeImg = undefined;\n            if (pen.strokeImage) {\n                if (globalStore.htmlElements[pen.strokeImage]) {\n                    const img = globalStore.htmlElements[pen.strokeImage];\n                    pen.calculative.strokeImg = img;\n                }\n                else {\n                    const img = new Image();\n                    img.crossOrigin = 'anonymous';\n                    img.src = pen.strokeImage;\n                    if (this.store.options.cdn &&\n                        !(pen.strokeImage.startsWith('http') ||\n                            pen.strokeImage.startsWith('//') ||\n                            pen.strokeImage.startsWith('data:image'))) {\n                        img.src = this.store.options.cdn + pen.strokeImage;\n                    }\n                    img.onload = () => {\n                        pen.calculative.strokeImg = img;\n                        globalStore.htmlElements[pen.strokeImage] = img;\n                        this.imageLoaded();\n                        if (\n                        // pen.template\n                        pen.canvasLayer === CanvasLayer.CanvasTemplate &&\n                            pen.name !== 'gif') {\n                            this.templateImageLoaded();\n                        }\n                    };\n                }\n            }\n            pen.calculative.strokeImage = pen.strokeImage;\n        }\n    }\n    imageTimer;\n    // 避免初始化图片加载重复调用 render，此处防抖\n    imageLoaded() {\n        this.imageTimer && clearTimeout(this.imageTimer);\n        this.imageTimer = setTimeout(() => {\n            // 加载完图片，重新渲染一次图片层\n            this.canvasImage.init();\n            this.canvasImageBottom.init();\n            this.render();\n        }, 100);\n    }\n    templateImageTimer;\n    // 避免初始化图片加载重复调用 render，此处防抖\n    templateImageLoaded() {\n        this.templateImageTimer && clearTimeout(this.templateImageTimer);\n        this.templateImageTimer = setTimeout(() => {\n            // 加载完图片，重新渲染一次图片层\n            this.canvasTemplate.init();\n            this.render();\n        }, 100);\n    }\n    setCalculativeByScale(pen) {\n        const scale = this.store.data.scale;\n        pen.calculative.lineWidth = pen.lineWidth * scale;\n        pen.calculative.fontSize = pen.fontSize * scale;\n        if (pen.fontSize < 1 && pen.fontSize > 0) {\n            pen.calculative.fontSize =\n                pen.fontSize * pen.calculative.worldRect.height;\n        }\n        pen.calculative.iconSize = pen.iconSize * scale;\n        pen.calculative.iconWidth = pen.iconWidth * scale;\n        pen.calculative.iconHeight = pen.iconHeight * scale;\n        pen.calculative.iconLeft =\n            pen.iconLeft < 1 && pen.iconLeft > -1\n                ? pen.iconLeft\n                : pen.iconLeft * scale;\n        pen.calculative.iconTop =\n            pen.iconTop < 1 && pen.iconTop > -1 ? pen.iconTop : pen.iconTop * scale;\n        pen.calculative.textWidth =\n            pen.textWidth < 1 && pen.textWidth > -1\n                ? pen.textWidth\n                : pen.textWidth * scale;\n        pen.calculative.textHeight =\n            pen.textHeight < 1 && pen.textHeight > -1\n                ? pen.textHeight\n                : pen.textHeight * scale;\n        pen.calculative.textLeft =\n            pen.textLeft < 1 && pen.textLeft > -1\n                ? pen.textLeft * pen.calculative.worldRect.width\n                : pen.textLeft * scale;\n        pen.calculative.textTop =\n            pen.textTop < 1 && pen.textTop > -1 ? pen.textTop * pen.calculative.worldRect.height : pen.textTop * scale;\n        if (pen.type === PenType.Line && pen.borderWidth) {\n            pen.calculative.borderWidth = pen.borderWidth * scale;\n        }\n    }\n    updatePenRect(pen, { worldRectIsReady, playingAnimate, } = {}) {\n        if (worldRectIsReady) {\n            calcPenRect(pen);\n        }\n        else {\n            calcWorldRects(pen);\n        }\n        if (!playingAnimate) {\n            this.setCalculativeByScale(pen);\n        }\n        calcWorldAnchors(pen);\n        calcIconRect(this.store.pens, pen);\n        calcTextRect(pen);\n        calcInView(pen);\n        globalStore.path2dDraws[pen.name] &&\n            this.store.path2dMap.set(pen, globalStore.path2dDraws[pen.name](pen));\n        pen.calculative.patchFlags = true;\n        this.patchFlags = true;\n        if (pen.children) {\n            pen.children.forEach((id) => {\n                const child = this.store.pens[id];\n                child && this.updatePenRect(child, { worldRectIsReady: false });\n            });\n        }\n        pen.type && this.initLineRect(pen);\n        if (pen.calculative.gradientTimer) {\n            clearTimeout(pen.calculative.gradientTimer);\n        }\n        pen.calculative.gradientTimer = setTimeout(() => {\n            if (pen.calculative.lineGradient) {\n                pen.calculative.lineGradient = null;\n            }\n            if (pen.calculative.gradient) {\n                pen.calculative.gradient = null;\n            }\n            if (pen.calculative.radialGradient) {\n                pen.calculative.radialGradient = null;\n            }\n            this.patchFlags = true;\n            pen.calculative.gradientTimer = undefined;\n        }, 50);\n    }\n    initGlobalStyle() {\n        const options = {};\n        const data = {};\n        const theme = {};\n        themeKeys.forEach(key => {\n            if (this.store.options[key] !== undefined) {\n                options[key] = this.store.options[key];\n            }\n            if (this.store.data[key] !== undefined) {\n                data[key] = this.store.data[key];\n            }\n            if (this.store.data.theme) {\n                const value = this.store.theme[this.store.data.theme]?.[key];\n                if (value !== undefined) {\n                    theme[key] = value;\n                }\n            }\n        });\n        this.store.styles = {};\n        const themeObj = le5leTheme.getThemeObj(this.store.data.theme);\n        Object.assign(this.store.styles, options, data, theme, themeObj);\n    }\n    render = (patchFlags) => {\n        if (patchFlags) {\n            this.opening = false;\n        }\n        if (this.opening) {\n            return;\n        }\n        let now;\n        if (patchFlags == null || patchFlags === true || patchFlags === Infinity) {\n            now = performance.now();\n            this.patchFlags = true;\n        }\n        else if (patchFlags > 1) {\n            now = patchFlags;\n        }\n        else {\n            now = performance.now();\n        }\n        if (!this.patchFlags) {\n            return;\n        }\n        if (now - this.lastRender < this.store.options.interval) {\n            if (this.renderTimer) {\n                cancelAnimationFrame(this.renderTimer);\n            }\n            this.renderTimer = requestAnimationFrame(this.render);\n            return;\n        }\n        this.renderTimer = undefined;\n        this.lastRender = now;\n        const offscreenCtx = this.offscreen.getContext('2d');\n        offscreenCtx.clearRect(0, 0, this.offscreen.width, this.offscreen.height);\n        offscreenCtx.save();\n        offscreenCtx.translate(this.store.data.x, this.store.data.y);\n        globalThis.debugRender && console.time('renderPens');\n        this.renderPens();\n        globalThis.debugRender && console.timeEnd('renderPens');\n        this.renderBorder();\n        this.renderHoverPoint();\n        offscreenCtx.restore();\n        if (this.magnifierCanvas.magnifier) {\n            this.magnifierCanvas.render();\n        }\n        const ctx = this.canvas.getContext('2d');\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        ctx.drawImage(this.offscreen, 0, 0, this.width, this.height);\n        this.canvasTemplate.render();\n        this.canvasImageBottom.render();\n        this.canvasImage.render();\n        this.patchFlags = false;\n    };\n    renderPens = () => {\n        const ctx = this.offscreen.getContext('2d');\n        ctx.strokeStyle = this.store.styles.color; //getGlobalColor(this.store);\n        for (const pen of this.store.data.pens) {\n            if (!isFinite(pen.x)) {\n                continue;\n            }\n            // if (pen.template) {\n            if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                continue;\n            }\n            if (pen.name === 'combine' && !pen.draw) {\n                continue;\n            }\n            if (pen.calculative.inView) {\n                if (pen.canvasLayer === CanvasLayer.CanvasMain &&\n                    pen.name !== 'gif' &&\n                    pen.image &&\n                    pen.calculative.img) {\n                    ctx.save();\n                    ctxFlip(ctx, pen);\n                    if (pen.calculative.rotate) {\n                        ctxRotate(ctx, pen);\n                    }\n                    setGlobalAlpha(ctx, pen);\n                    drawImage(ctx, pen);\n                    ctx.restore();\n                }\n                renderPen(ctx, pen);\n            }\n        }\n        if (this.drawingLine) {\n            renderPen(ctx, this.drawingLine);\n        }\n        if (this.pencilLine) {\n            renderPen(ctx, this.pencilLine);\n        }\n        if (this.movingPens) {\n            this.movingPens.forEach((pen) => {\n                this.renderPenContainChild(ctx, pen);\n            });\n        }\n    };\n    renderPenContainChild = (ctx, pen) => {\n        if (pen.calculative.inView) {\n            if (!(pen.name === 'combine' && !pen.draw)) {\n                renderPen(ctx, pen); // 可见才绘制，组合为状态只显示其中一个\n            }\n        }\n        pen.children?.forEach((id) => {\n            const child = this.store.pens[id];\n            child && this.renderPenContainChild(ctx, child);\n        });\n    };\n    renderBorder = () => {\n        if (!this.store.data.locked) {\n            // Occupied territory.\n            if (this.activeRect &&\n                !(this.store.active.length === 1 && this.store.active[0].type) &&\n                !this.movingPens) {\n                const ctx = this.offscreen.getContext('2d');\n                ctx.save();\n                ctx.translate(0.5, 0.5);\n                const pivot = this.activeRect.pivot || this.activeRect.center;\n                if (this.activeRect.rotate) {\n                    ctx.translate(pivot.x, pivot.y);\n                    ctx.rotate((this.activeRect.rotate * Math.PI) / 180);\n                    ctx.translate(-pivot.x, -pivot.y);\n                }\n                ctx.strokeStyle = this.store.styles.activeColor;\n                ctx.globalAlpha = this.store.options.activeGlobalAlpha === undefined ? 0.3 : this.store.options.activeGlobalAlpha;\n                ctx.beginPath();\n                ctx.lineWidth = this.store.options.activeLineWidth || 1;\n                ctx.setLineDash(this.store.options.activeLineDash || []);\n                ctx.strokeRect(this.activeRect.x, this.activeRect.y, this.activeRect.width, this.activeRect.height);\n                ctx.setLineDash([]);\n                ctx.lineWidth = 1;\n                ctx.globalAlpha = 1;\n                if (getPensLock(this.store.active) ||\n                    getPensDisableRotate(this.store.active) ||\n                    this.store.options.disableRotate) {\n                    ctx.restore();\n                    return;\n                }\n                // Draw rotate control line.\n                ctx.beginPath();\n                ctx.moveTo(this.activeRect.center.x, this.activeRect.y);\n                ctx.lineTo(this.activeRect.center.x, this.activeRect.y - 30);\n                ctx.stroke();\n                // Draw rotate control points.\n                ctx.beginPath();\n                ctx.strokeStyle = this.store.styles.activeColor;\n                ctx.fillStyle = '#ffffff';\n                ctx.arc(this.activeRect.center.x, this.activeRect.y - 30, 5, 0, Math.PI * 2);\n                ctx.fill();\n                ctx.stroke();\n                ctx.restore();\n            }\n        }\n    };\n    renderHoverPoint = () => {\n        if (this.store.data.locked) {\n            return;\n        }\n        const ctx = this.offscreen.getContext('2d');\n        ctx.save();\n        ctx.translate(0.5, 0.5);\n        if (!this.store.options.disableAnchor &&\n            this.store.hover &&\n            !this.store.hover.disableAnchor &&\n            (this.hotkeyType !== HotkeyType.Resize ||\n                this.store.active.length !== 1 ||\n                this.store.active[0] !== this.store.hover)) {\n            const anchors = [...this.store.hover.calculative.worldAnchors];\n            if (this.store.pointAt && this.hotkeyType === HotkeyType.AddAnchor) {\n                anchors.push(this.store.pointAt);\n            }\n            if (anchors) {\n                ctx.strokeStyle =\n                    this.store.hover.anchorColor || this.store.styles.anchorColor;\n                ctx.fillStyle =\n                    this.store.hover.anchorBackground ||\n                        this.store.options.anchorBackground;\n                anchors.forEach((anchor) => {\n                    if (anchor.hidden && anchor.locked > LockState.DisableEdit) {\n                        return;\n                    }\n                    if (anchor === this.store.hoverAnchor) {\n                        ctx.save();\n                        const hoverAnchorColor = this.store.hover.hoverAnchorColor ||\n                            this.store.options.hoverAnchorColor;\n                        ctx.strokeStyle = hoverAnchorColor;\n                        ctx.fillStyle = hoverAnchorColor;\n                    }\n                    ctx.beginPath();\n                    let size = anchor.radius ||\n                        this.store.hover.anchorRadius ||\n                        this.store.options.anchorRadius;\n                    if (this.store.hover.type &&\n                        !anchor.radius &&\n                        !this.store.hover.anchorRadius) {\n                        size = 3;\n                        if (this.store.hover.calculative.lineWidth > 3) {\n                            size = this.store.hover.calculative.lineWidth;\n                        }\n                    }\n                    if (anchor.type === PointType.Line) {\n                        //旋转的情况\n                        let _rotate = this.store.pens[anchor.penId].rotate || 0;\n                        if (this.store.pens[anchor.penId].calculative.flipX) {\n                            _rotate *= -1;\n                        }\n                        if (this.store.pens[anchor.penId].calculative.flipY) {\n                            _rotate *= -1;\n                        }\n                        let rotate = anchor.rotate + _rotate;\n                        if (this.store.pens[anchor.penId].calculative.flipX) {\n                            rotate *= -1;\n                        }\n                        if (this.store.pens[anchor.penId].calculative.flipY) {\n                            rotate *= -1;\n                        }\n                        ctx.save();\n                        ctx.translate(anchor.x, anchor.y);\n                        ctx.rotate((rotate * Math.PI) / 180);\n                        ctx.translate(-anchor.x, -anchor.y);\n                        ctx.rect(anchor.x - (anchor.length * this.store.data.scale) / 2, anchor.y - size, anchor.length * this.store.data.scale, size * 2);\n                        ctx.restore();\n                    }\n                    else {\n                        ctx.arc(anchor.x, anchor.y, size, 0, Math.PI * 2);\n                    }\n                    if (this.store.hover.type && this.store.hoverAnchor === anchor) {\n                        ctx.save();\n                        ctx.strokeStyle =\n                            this.store.hover.activeColor || this.store.styles.activeColor;\n                        ctx.fillStyle = ctx.strokeStyle;\n                    }\n                    else if (anchor.color || anchor.background) {\n                        ctx.save();\n                        ctx.strokeStyle = anchor.color;\n                        ctx.fillStyle = anchor.background;\n                    }\n                    ctx.fill();\n                    ctx.stroke();\n                    if (anchor === this.store.hoverAnchor) {\n                        ctx.restore();\n                    }\n                    if (this.store.hover.type && this.store.hoverAnchor === anchor) {\n                        ctx.restore();\n                    }\n                    else if (anchor.color || anchor.background) {\n                        ctx.restore();\n                    }\n                    //根父节点\n                    if (!this.store.hover.parentId &&\n                        this.store.hover.children &&\n                        this.store.hover.children.length > 0) {\n                        if (anchor === this.store.hoverAnchor) {\n                            ctx.save();\n                            ctx.beginPath();\n                            ctx.lineWidth = 3;\n                            const hoverAnchorColor = this.store.hover.hoverAnchorColor ||\n                                this.store.options.hoverAnchorColor;\n                            if (globalThis.pSBC) {\n                                ctx.strokeStyle = globalThis.pSBC(0.5, hoverAnchorColor);\n                            }\n                            ctx.arc(anchor.x, anchor.y, size + 1.5, 0, Math.PI * 2);\n                            ctx.stroke();\n                            ctx.restore();\n                        }\n                    }\n                });\n            }\n        }\n        // Draw size control points.\n        if (this.hotkeyType !== HotkeyType.AddAnchor &&\n            !this.movingPens && // 不在移动中\n            this.activeRect &&\n            !(this.store.active.length === 1 && this.store.active[0].type)) {\n            if (!getPensLock(this.store.active) &&\n                !getPensDisableResize(this.store.active) &&\n                !this.store.options.disableSize) {\n                ctx.strokeStyle = this.store.styles.activeColor;\n                ctx.fillStyle = '#ffffff';\n                this.sizeCPs.forEach((pt, i) => {\n                    if (this.activeRect.rotate) {\n                        ctx.save();\n                        ctx.translate(pt.x, pt.y);\n                        ctx.rotate((this.activeRect.rotate * Math.PI) / 180);\n                        ctx.translate(-pt.x, -pt.y);\n                    }\n                    if (i < 4 || this.hotkeyType === HotkeyType.Resize) {\n                        ctx.beginPath();\n                        ctx.fillRect(pt.x - 4.5, pt.y - 4.5, 8, 8);\n                        ctx.strokeRect(pt.x - 5.5, pt.y - 5.5, 10, 10);\n                    }\n                    if (this.activeRect.rotate) {\n                        ctx.restore();\n                    }\n                });\n            }\n        }\n        if (!this.store.data.locked && this.dragRect) {\n            ctx.save();\n            ctx.fillStyle = rgba(this.store.options.dragColor, 0.2);\n            ctx.strokeStyle = this.store.options.dragColor;\n            ctx.beginPath();\n            ctx.strokeRect(this.dragRect.x, this.dragRect.y, this.dragRect.width, this.dragRect.height);\n            ctx.fillRect(this.dragRect.x, this.dragRect.y, this.dragRect.width, this.dragRect.height);\n            ctx.restore();\n        }\n        if (this.dock) {\n            ctx.strokeStyle = this.store.options.dockColor;\n            if (this.dock.xDock) {\n                ctx.beginPath();\n                ctx.moveTo(this.dock.xDock.x, this.dock.xDock.y);\n                ctx.lineTo(this.dock.xDock.x, this.dock.xDock.prev.y);\n                ctx.stroke();\n            }\n            if (this.dock.yDock) {\n                ctx.beginPath();\n                ctx.moveTo(this.dock.yDock.x, this.dock.yDock.y);\n                ctx.lineTo(this.dock.yDock.prev.x, this.dock.yDock.y);\n                ctx.stroke();\n            }\n        }\n        ctx.restore();\n    };\n    transTimeout;\n    translate(x = 0, y = 0) {\n        this.store.data.x += x * this.store.data.scale;\n        this.store.data.y += y * this.store.data.scale;\n        this.store.data.x = Math.round(this.store.data.x);\n        this.store.data.y = Math.round(this.store.data.y);\n        if (this.store.options.padding) {\n            let p = formatPadding(this.store.options.padding);\n            const width = this.store.data.width || this.store.options.width;\n            const height = this.store.data.height || this.store.options.height;\n            if (this.width < (width + p[1] + p[3]) * this.store.data.scale) {\n                if (this.store.data.x + this.store.data.origin.x >\n                    p[3] * this.store.data.scale) {\n                    this.store.data.x =\n                        p[3] * this.store.data.scale - this.store.data.origin.x;\n                }\n                if (this.store.data.x +\n                    this.store.data.origin.x +\n                    width * this.store.data.scale <\n                    this.width - p[1] * this.store.data.scale) {\n                    this.store.data.x =\n                        this.width -\n                            p[1] * this.store.data.scale -\n                            (this.store.data.origin.x + width * this.store.data.scale);\n                }\n            }\n            if (this.height < (height + p[0] + p[2]) * this.store.data.scale) {\n                if (this.store.data.y + this.store.data.origin.y >\n                    p[0] * this.store.data.scale) {\n                    this.store.data.y =\n                        p[0] * this.store.data.scale - this.store.data.origin.y;\n                }\n                if (this.store.data.y +\n                    this.store.data.origin.y +\n                    height * this.store.data.scale <\n                    this.height - p[2] * this.store.data.scale) {\n                    this.store.data.y =\n                        this.height -\n                            p[2] * this.store.data.scale -\n                            (this.store.data.origin.y + height * this.store.data.scale);\n                }\n            }\n        }\n        //TODO 当初为什么加异步\n        // setTimeout(() => {\n        if (this.store.data.asyncTranslate) {\n            clearTimeout(this.transTimeout);\n            this.transTimeout = setTimeout(() => {\n                this.canvasTemplate.init();\n                this.canvasImage.init();\n                this.canvasImageBottom.init();\n                this.render();\n            }, 300);\n        }\n        else {\n            this.canvasTemplate.init();\n            this.canvasImage.init();\n            this.canvasImageBottom.init();\n            this.render();\n        }\n        // });\n        this.store.emitter.emit('translate', {\n            x: this.store.data.x,\n            y: this.store.data.y,\n        });\n        this.tooltip.translate(x, y);\n        if (this.scroll && this.scroll.isShow) {\n            this.scroll.translate(x, y);\n        }\n        this.onMovePens();\n    }\n    onMovePens() {\n        const map = this.parent.map;\n        if (map && map.isShow) {\n            map.setView();\n        }\n        // 有移动操作的 画笔 需要执行移动\n        for (const pen of this.store.data.pens) {\n            calcInView(pen);\n            pen.onMove?.(pen);\n            if (pen.isRuleLine) {\n                if (!pen.width) {\n                    // 垂直线，移动 y 即可\n                    pen.y = -this.store.data.y;\n                }\n                else if (!pen.height) {\n                    // 水平线\n                    pen.x = -this.store.data.x;\n                }\n                this.updatePenRect(pen);\n            }\n        }\n    }\n    /**\n     * 缩放整个画布\n     * @param scale 缩放比例，最终的 data.scale\n     * @param center 中心点，引用类型，存在副作用，会更改原值\n     */\n    scale(scale, center = { x: 0, y: 0 }) {\n        const minScale = this.store.data.minScale || this.store.options.minScale;\n        const maxScale = this.store.data.maxScale || this.store.options.maxScale;\n        if (!(scale >= minScale && scale <= maxScale)) {\n            return;\n        }\n        this.calibrateMouse(center);\n        const s = scale / this.store.data.scale;\n        this.store.data.scale = scale;\n        this.store.data.center = center;\n        if (this.store.clipboard?.pos) {\n            scalePoint(this.store.clipboard.pos, s, center);\n        }\n        scalePoint(this.store.data.origin, s, center);\n        this.store.data.pens.forEach((pen) => {\n            if (pen.parentId) {\n                return;\n            }\n            scalePen(pen, s, center);\n            pen.onScale && pen.onScale(pen);\n            if (pen.isRuleLine) {\n                // 扩大线的比例，若是放大，即不缩小，若是缩小，会放大\n                const lineScale = 1 / s; //s > 1 ? 1 : 1 / s / s;\n                // 中心点即为线的中心\n                const lineCenter = pen.calculative.worldRect.center;\n                if (!pen.width) {\n                    // 垂直线\n                    scalePen(pen, lineScale, lineCenter);\n                }\n                else if (!pen.height) {\n                    // 水平线\n                    scalePen(pen, lineScale, lineCenter);\n                }\n            }\n            this.updatePenRect(pen, { worldRectIsReady: true });\n            this.execPenResize(pen);\n        });\n        this.onMovePens();\n        this.calcActiveRect();\n        // setTimeout(() => {\n        this.canvasTemplate.init();\n        this.canvasImage.init();\n        this.canvasImageBottom.init();\n        const map = this.parent.map;\n        if (map && map.isShow) {\n            map.setView();\n        }\n        this.render();\n        this.store.emitter.emit('scale', this.store.data.scale);\n        // });\n    }\n    templateScale(scale, center = { x: 0, y: 0 }) {\n        const { minScale, maxScale } = this.store.options;\n        if (!(scale >= minScale && scale <= maxScale)) {\n            return;\n        }\n        const s = scale / this.store.data.scale;\n        this.store.data.scale = scale;\n        this.store.data.center = { x: 0, y: 0 };\n        this.store.data.origin = { x: 0, y: 0 };\n        this.store.data.pens.forEach((pen) => {\n            if (pen.parentId) {\n                return;\n            }\n            scalePen(pen, s, center);\n            pen.onScale && pen.onScale(pen);\n            if (pen.isRuleLine) {\n                // 扩大线的比例，若是放大，即不缩小，若是缩小，会放大\n                const lineScale = s > 1 ? 1 : 1 / s / s;\n                // 中心点即为线的中心\n                const lineCenter = pen.calculative.worldRect.center;\n                if (!pen.width) {\n                    // 垂直线\n                    scalePen(pen, lineScale, lineCenter);\n                }\n                else if (!pen.height) {\n                    // 水平线\n                    scalePen(pen, lineScale, lineCenter);\n                }\n            }\n            // this.updatePenRect(pen, { worldRectIsReady: true });\n            this.execPenResize(pen);\n        });\n        this.calcActiveRect();\n    }\n    rotatePens(e) {\n        if (!this.initPens) {\n            this.initPens = deepClone(this.getAllByPens(this.store.active));\n        }\n        this.activeRect.rotate = calcRotate(e, this.activeRect.center);\n        if (this.activeRect.rotate % 90 < 10) {\n            this.activeRect.rotate -= this.activeRect.rotate % 90;\n        }\n        if (this.activeRect.rotate % 90 > 80) {\n            this.activeRect.rotate += 90 - (this.activeRect.rotate % 90);\n        }\n        if (this.store.active.length === 1) {\n            this.lastRotate = this.store.active[0].rotate || 0;\n        }\n        const angle = this.activeRect.rotate - this.lastRotate;\n        for (const pen of this.store.active) {\n            if (pen.parentId) {\n                return;\n            }\n            this.rotatePen(pen, angle, this.activeRect);\n            pen.onRotate && pen.onRotate(pen);\n            this.updateLines(pen);\n        }\n        this.lastRotate = this.activeRect.rotate;\n        this.getSizeCPs();\n        this.initImageCanvas(this.store.active);\n        this.initTemplateCanvas(this.store.active);\n        this.render();\n        this.store.emitter.emit('rotatePens', this.store.active);\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n        this.timer = setTimeout(() => {\n            this.timer = undefined;\n            this.pushHistory({\n                type: EditType.Update,\n                pens: deepClone(this.getAllByPens(this.store.active)),\n                initPens: this.initPens,\n            });\n            this.initPens = undefined;\n        }, 200);\n    }\n    resizePens(e) {\n        if (!this.initPens) {\n            this.initPens = deepClone(this.store.active, true);\n        }\n        if (!this.initActiveRect) {\n            this.initActiveRect = deepClone(this.activeRect);\n            return;\n        }\n        const p1 = { x: this.mouseDown.x, y: this.mouseDown.y };\n        const p2 = { x: e.x, y: e.y };\n        // rotatePoint(p1, -this.activeRect.rotate, this.activeRect.center);\n        // rotatePoint(p2, -this.activeRect.rotate, this.activeRect.center);\n        let x = p2.x - p1.x;\n        let y = p2.y - p1.y;\n        const rect = deepClone(this.initActiveRect);\n        // 得到最准确的 rect 即 resize 后的\n        resizeRect(rect, x, y, this.resizeIndex);\n        calcCenter(rect);\n        if (!this.store.options.disableDock) {\n            this.clearDock();\n            const resizeDock = this.customResizeDock || calcResizeDock;\n            this.dock = resizeDock(this.store, rect, this.store.active, this.resizeIndex);\n            const { xDock, yDock } = this.dock;\n            if (xDock) {\n                x += xDock.step;\n                const dockPen = this.store.pens[xDock.penId];\n                dockPen.calculative.isDock = true;\n            }\n            if (yDock) {\n                y += yDock.step;\n                const dockPen = this.store.pens[yDock.penId];\n                dockPen.calculative.isDock = true;\n            }\n        }\n        const w = this.activeRect.width;\n        const h = this.activeRect.height;\n        let offsetX = x - this.lastOffsetX;\n        let offsetY = y - this.lastOffsetY;\n        this.lastOffsetX = x;\n        this.lastOffsetY = y;\n        if (e.ctrlKey ||\n            (this.initPens.length === 1 && this.initPens[0].ratio)) {\n            // 1，3 是右上角和左上角的点，此时的 offsetY 符号与 offsetX 是相反的\n            const sign = [1, 3].includes(this.resizeIndex) ? -1 : 1;\n            offsetY = (sign * (offsetX * h)) / w;\n        }\n        this.activeRect.ratio = this.initPens[0].ratio;\n        resizeRect(this.activeRect, offsetX, offsetY, this.resizeIndex);\n        //大屏区域\n        if (this.store.options.strictScope) {\n            const width = this.store.data.width || this.store.options.width;\n            const height = this.store.data.height || this.store.options.height;\n            if (width && height) {\n                let vRect = {\n                    x: this.store.data.origin.x,\n                    y: this.store.data.origin.y,\n                    width: width * this.store.data.scale,\n                    height: height * this.store.data.scale,\n                };\n                if (this.activeRect.x < vRect.x) {\n                    this.activeRect.width =\n                        this.activeRect.width - (vRect.x - this.activeRect.x);\n                    this.activeRect.x = vRect.x;\n                }\n                if (this.activeRect.y < vRect.y) {\n                    this.activeRect.height =\n                        this.activeRect.height - (vRect.y - this.activeRect.y);\n                    this.activeRect.y = vRect.y;\n                }\n                if (this.activeRect.x + this.activeRect.width > vRect.x + vRect.width) {\n                    this.activeRect.width =\n                        this.activeRect.width -\n                            (this.activeRect.x +\n                                this.activeRect.width -\n                                (vRect.x + vRect.width));\n                    this.activeRect.x = vRect.x + vRect.width - this.activeRect.width;\n                    this.activeRect.ex = this.activeRect.x + this.activeRect.width;\n                }\n                if (this.activeRect.y + this.activeRect.height >\n                    vRect.y + vRect.height) {\n                    this.activeRect.height =\n                        this.activeRect.height -\n                            (this.activeRect.y +\n                                this.activeRect.height -\n                                (vRect.y + vRect.height));\n                    this.activeRect.y = vRect.y + vRect.height - this.activeRect.height;\n                    this.activeRect.ey = this.activeRect.y + this.activeRect.height;\n                }\n            }\n        }\n        calcCenter(this.activeRect);\n        const scaleX = this.activeRect.width / w;\n        const scaleY = this.activeRect.height / h;\n        this.store.active.forEach((pen, i) => {\n            pen.calculative.worldRect.x =\n                this.activeInitPos[i].x * this.activeRect.width + this.activeRect.x;\n            pen.calculative.worldRect.y =\n                this.activeInitPos[i].y * this.activeRect.height + this.activeRect.y;\n            pen.calculative.worldRect.width *= scaleX;\n            pen.calculative.iconWidth && (pen.calculative.iconWidth *= scaleX);\n            pen.calculative.worldRect.height *= scaleY;\n            pen.calculative.iconHeight && (pen.calculative.iconHeight *= scaleY);\n            calcRightBottom(pen.calculative.worldRect);\n            calcCenter(pen.calculative.worldRect);\n            this.updatePenRect(pen, { worldRectIsReady: true });\n            this.execPenResize(pen);\n            this.updateLines(pen);\n        });\n        this.getSizeCPs();\n        this.initImageCanvas(this.store.active);\n        this.initTemplateCanvas(this.store.active);\n        this.render();\n        this.store.emitter.emit('resizePens', this.store.active);\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n        this.timer = setTimeout(() => {\n            this.timer = undefined;\n            this.pushHistory({\n                type: EditType.Update,\n                pens: deepClone(this.store.active, true),\n                initPens: this.initPens,\n            });\n            this.initPens = undefined;\n        }, 200);\n    }\n    movePens(e) {\n        if (!this.activeRect || this.store.data.locked) {\n            return;\n        }\n        if (!this.initActiveRect) {\n            this.initActiveRect = deepClone(this.activeRect);\n            return;\n        }\n        if (!this.store.options.moveConnectedLine &&\n            !this.canMoveLine &&\n            this.store.active.length === 1 &&\n            (this.store.active[0].anchors[0]?.connectTo ||\n                this.store.active[0].anchors[this.store.active[0].anchors.length - 1]\n                    ?.connectTo)) {\n            return;\n        }\n        if (!this.movingPens) {\n            this.initMovingPens();\n            this.store.active.forEach((pen) => {\n                setHover(pen, false);\n            });\n            this.store.hover = undefined;\n        }\n        if (!this.mouseDown) {\n            return;\n        }\n        let x = e.x - this.mouseDown.x;\n        let y = e.y - this.mouseDown.y;\n        e.shiftKey && !e.ctrlKey && (y = 0);\n        e.ctrlKey && (x = 0);\n        const rect = deepClone(this.initActiveRect);\n        translateRect(rect, x, y);\n        let vFlag = false;\n        if (this.store.options.strictScope) {\n            const width = this.store.data.width || this.store.options.width;\n            const height = this.store.data.height || this.store.options.height;\n            if (width && height) {\n                let vRect = {\n                    x: this.store.data.origin.x,\n                    y: this.store.data.origin.y,\n                    width: width * this.store.data.scale,\n                    height: height * this.store.data.scale,\n                };\n                if (rect.x < vRect.x) {\n                    rect.x = vRect.x;\n                    vFlag = true;\n                }\n                if (rect.y < vRect.y) {\n                    rect.y = vRect.y;\n                    vFlag = true;\n                }\n                if (rect.x + rect.width > vRect.x + vRect.width) {\n                    rect.x = vRect.x + vRect.width - rect.width;\n                    vFlag = true;\n                }\n                if (rect.y + rect.height > vRect.y + vRect.height) {\n                    rect.y = vRect.y + vRect.height - rect.height;\n                    vFlag = true;\n                }\n            }\n        }\n        const offset = {\n            x: rect.x - this.activeRect.x,\n            y: rect.y - this.activeRect.y,\n        };\n        if (!this.store.options.disableDock && !vFlag) {\n            this.clearDock();\n            const moveDock = this.customMoveDock || calcMoveDock;\n            this.dock = moveDock(this.store, rect, this.movingPens, offset);\n            const { xDock, yDock } = this.dock;\n            let dockPen;\n            if (xDock) {\n                offset.x += xDock.step;\n                dockPen = this.store.pens[xDock.penId];\n                dockPen.calculative.isDock = true;\n            }\n            if (yDock) {\n                offset.y += yDock.step;\n                dockPen = this.store.pens[yDock.penId];\n                dockPen.calculative.isDock = true;\n            }\n        }\n        this.translatePens(this.movingPens, offset.x, offset.y, true);\n    }\n    /**\n     * 初始化移动，更改画笔的 id parentId 等关联关系\n     * @param pen 要修改的画笔\n     * @param pens 本次操作的画笔们，包含子画笔\n     */\n    changeIdsByMoving(pen, pens) {\n        pen.id += movingSuffix;\n        if (pen.parentId && pens.find((p) => p.id === pen.parentId)) {\n            pen.parentId += movingSuffix;\n        }\n        if (pen.children) {\n            pen.children = pen.children.map((child) => child + movingSuffix);\n        }\n        // 连接关系也需要变，用在 updateLines 中\n        if (pen.connectedLines) {\n            pen.connectedLines = pen.connectedLines.map((line) => {\n                if (pens.find((p) => p.id === line.lineId)) {\n                    line.lineId += movingSuffix;\n                }\n                return line;\n            });\n        }\n        if (pen.type && pen.calculative.worldAnchors) {\n            pen.calculative.worldAnchors = pen.calculative.worldAnchors.map((anchor) => {\n                if (anchor.connectTo && pens.find((p) => p.id === anchor.connectTo)) {\n                    anchor.connectTo += movingSuffix;\n                }\n                return anchor;\n            });\n        }\n    }\n    /**\n     * 初始化 this.movingPens\n     * 修改 ids （id parentId children 等）\n     * 半透明，去图片\n     */\n    initMovingPens() {\n        if (!this.store.options.moveConnectedLine && !this.canMoveLine) {\n            for (let i = 0; i < this.store.active.length; i++) {\n                const pen = this.store.active[i];\n                if (pen.anchors[0]?.connectTo ||\n                    pen.anchors[pen.anchors.length - 1]?.connectTo) {\n                    this.store.active.splice(i, 1);\n                    pen.calculative.active = undefined;\n                    --i;\n                }\n            }\n        }\n        this.movingPens = deepClone(this.store.active, true);\n        this.movingPens = this.getAllFollowersByPens(this.movingPens);\n        const containChildPens = this.getAllByPens(this.movingPens);\n        const copyContainChildPens = deepClone(containChildPens, true);\n        // 考虑父子关系，修改 id\n        containChildPens.forEach((pen) => {\n            this.changeIdsByMoving(pen, copyContainChildPens);\n            this.store.pens[pen.id] = pen; // updatePenRect 时需要计算\n            pen.calculative.canvas = this;\n            const value = {\n                globalAlpha: 0.5,\n            };\n            // 线宽为 0 ，看不到外边框，拖动过程中给个外边框\n            pen.lineWidth === 0 && (value.lineWidth = 1);\n            // TODO: 例如 pen.name = 'triangle' 的情况，但有图片，是否还需要变成矩形呢？\n            if (pen.name.endsWith('Dom') ||\n                isDomShapes.includes(pen.name) ||\n                this.store.options.domShapes.includes(pen.name) ||\n                pen.image) {\n                // 修改名称会执行 onDestroy ，清空它\n                value.name = 'rectangle';\n                value.onDestroy = undefined;\n            }\n            this.updateValue(pen, value);\n            pen.calculative.image = undefined;\n        });\n    }\n    moveLineAnchor(pt, keyOptions) {\n        if (!this.activeRect || this.store.data.locked) {\n            return;\n        }\n        if (!this.initPens) {\n            this.initPens = deepClone(this.store.active, true);\n        }\n        if (this.store.activeAnchor?.connectTo) {\n            const pen = this.store.pens[this.store.activeAnchor.connectTo];\n            disconnectLine(pen, getAnchor(pen, this.store.activeAnchor.anchorId), this.store.pens[this.store.activeAnchor.penId], this.store.activeAnchor);\n        }\n        let anchorId = this.store.activeAnchor?.id;\n        let connectedLine = this.store.pens[this.store.activeAnchor.penId]?.connectedLines?.filter((item) => item.anchor === anchorId);\n        if (connectedLine && connectedLine.length > 0) {\n            connectedLine.forEach((connected) => {\n                const pen = this.store.pens[connected.lineId];\n                disconnectLine(this.store.pens[this.store.activeAnchor.penId], this.store.activeAnchor, pen, getAnchor(pen, connected.lineAnchor));\n            });\n        }\n        const line = this.store.active[0];\n        const from = getFromAnchor(line);\n        const to = getToAnchor(line);\n        if (line.lineName === 'polyline' && !keyOptions.shiftKey) {\n            translatePolylineAnchor(line, this.store.activeAnchor, pt);\n        }\n        else {\n            let offsetX = 0;\n            let offsetY = 0;\n            if (line.lineName === 'line') {\n                let index = line.calculative.worldAnchors.findIndex((anchor) => anchor.id === this.store.activeAnchor.id);\n                if (index === 0) {\n                    index = 2;\n                }\n                let relativePt = line.calculative.worldAnchors[index - 1];\n                if (keyOptions.ctrlKey && keyOptions.shiftKey) {\n                    let _pt = deepClone(pt);\n                    this.getSpecialAngle(_pt, relativePt);\n                    offsetX = _pt.x - this.store.activeAnchor.x;\n                    offsetY = _pt.y - this.store.activeAnchor.y;\n                }\n                else if (!keyOptions.ctrlKey && keyOptions.shiftKey) {\n                    let _pt = {\n                        x: pt.x,\n                        y: relativePt.y,\n                    };\n                    offsetX = _pt.x - this.store.activeAnchor.x;\n                    offsetY = _pt.y - this.store.activeAnchor.y;\n                }\n                else if (keyOptions.ctrlKey && !keyOptions.shiftKey) {\n                    let _pt = {\n                        x: relativePt.x,\n                        y: pt.y,\n                    };\n                    offsetX = _pt.x - this.store.activeAnchor.x;\n                    offsetY = _pt.y - this.store.activeAnchor.y;\n                }\n                else {\n                    offsetX = pt.x - this.store.activeAnchor.x;\n                    offsetY = pt.y - this.store.activeAnchor.y;\n                }\n            }\n            else {\n                if (!keyOptions.ctrlKey && keyOptions.shiftKey) {\n                    offsetX = pt.x - this.store.activeAnchor.x;\n                    offsetY = 0;\n                }\n                else if (keyOptions.ctrlKey && !keyOptions.shiftKey) {\n                    offsetX = 0;\n                    offsetY = pt.y - this.store.activeAnchor.y;\n                }\n                else {\n                    offsetX = pt.x - this.store.activeAnchor.x;\n                    offsetY = pt.y - this.store.activeAnchor.y;\n                }\n            }\n            translatePoint(this.store.activeAnchor, offsetX, offsetY);\n            if (this.store.hover &&\n                this.store.hoverAnchor &&\n                this.store.hoverAnchor.penId !== this.store.activeAnchor.penId) {\n                if (this.store.hoverAnchor.type === PointType.Line) {\n                    offsetX = pt.x - this.store.activeAnchor.x;\n                    offsetY = pt.y - this.store.activeAnchor.y;\n                    getDistance(this.store.activeAnchor, this.store.hoverAnchor, this.store);\n                }\n                else {\n                    offsetX = this.store.hoverAnchor.x - this.store.activeAnchor.x;\n                    offsetY = this.store.hoverAnchor.y - this.store.activeAnchor.y;\n                }\n                translatePoint(this.store.activeAnchor, offsetX, offsetY);\n                to.prev = undefined;\n                // 重新自动计算连线\n                if (line.lineName !== 'polyline') {\n                    this[line.lineName]?.(this.store, line);\n                }\n            }\n        }\n        this.patchFlagsLines.add(line);\n        this.store.path2dMap.set(line, globalStore.path2dDraws[line.name](line));\n        this.render();\n        this.store.active[0].calculative &&\n            (this.store.active[0].calculative.gradientAnimatePath = undefined);\n        this.store.emitter.emit('moveLineAnchor', {\n            pen: this.store.active[0],\n            anchor: this.store.activeAnchor,\n        });\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n        this.timer = setTimeout(() => {\n            this.timer = undefined;\n            this.pushHistory({\n                type: EditType.Update,\n                pens: deepClone(this.store.active, true),\n                initPens: this.initPens,\n            });\n            this.initPens = undefined;\n        }, 500);\n    }\n    moveLineAnchorPrev(e) {\n        if (!this.activeRect ||\n            this.store.data.locked ||\n            !this.store.activeAnchor) {\n            return;\n        }\n        if (!this.initPens) {\n            this.initPens = deepClone(this.store.active, true);\n        }\n        this.store.activeAnchor.prev.x = e.x;\n        this.store.activeAnchor.prev.y = e.y;\n        if (this.store.activeAnchor.next) {\n            if (!this.store.activeAnchor.prevNextType) {\n                this.store.activeAnchor.next.x = e.x;\n                this.store.activeAnchor.next.y = e.y;\n                rotatePoint(this.store.activeAnchor.next, 180, this.store.activeAnchor);\n            }\n            else if (this.store.activeAnchor.prevNextType === PrevNextType.Bilateral &&\n                this.prevAnchor) {\n                const rotate = calcRotate(e, this.store.activeAnchor);\n                const prevRotate = calcRotate(this.prevAnchor, this.store.activeAnchor);\n                this.store.activeAnchor.next.x = this.nextAnchor.x;\n                this.store.activeAnchor.next.y = this.nextAnchor.y;\n                rotatePoint(this.store.activeAnchor.next, rotate - prevRotate, this.store.activeAnchor);\n            }\n        }\n        const line = this.store.active[0];\n        this.patchFlagsLines.add(line);\n        this.store.path2dMap.set(line, globalStore.path2dDraws[line.name](line));\n        this.render();\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n        this.timer = setTimeout(() => {\n            this.timer = undefined;\n            this.pushHistory({\n                type: EditType.Update,\n                pens: deepClone(this.store.active, true),\n                initPens: this.initPens,\n            });\n            this.initPens = undefined;\n        }, 200);\n    }\n    moveLineAnchorNext(e) {\n        if (!this.activeRect ||\n            this.store.data.locked ||\n            !this.store.activeAnchor) {\n            return;\n        }\n        if (!this.initPens) {\n            this.initPens = deepClone(this.store.active, true);\n        }\n        this.store.activeAnchor.next.x = e.x;\n        this.store.activeAnchor.next.y = e.y;\n        if (this.store.activeAnchor.prev) {\n            if (!this.store.activeAnchor.prevNextType) {\n                this.store.activeAnchor.prev.x = e.x;\n                this.store.activeAnchor.prev.y = e.y;\n                rotatePoint(this.store.activeAnchor.prev, 180, this.store.activeAnchor);\n            }\n            else if (this.store.activeAnchor.prevNextType === PrevNextType.Bilateral &&\n                this.nextAnchor) {\n                const rotate = calcRotate(e, this.store.activeAnchor);\n                const nextRotate = calcRotate(this.nextAnchor, this.store.activeAnchor);\n                this.store.activeAnchor.prev.x = this.prevAnchor.x;\n                this.store.activeAnchor.prev.y = this.prevAnchor.y;\n                rotatePoint(this.store.activeAnchor.prev, rotate - nextRotate, this.store.activeAnchor);\n            }\n        }\n        const line = this.store.active[0];\n        this.patchFlagsLines.add(line);\n        this.store.path2dMap.set(line, globalStore.path2dDraws[line.name](line));\n        this.render();\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n        this.timer = setTimeout(() => {\n            this.timer = undefined;\n            this.pushHistory({\n                type: EditType.Update,\n                pens: deepClone(this.store.active, true),\n                initPens: this.initPens,\n            });\n            this.initPens = undefined;\n        }, 200);\n    }\n    async setAnchor(e) {\n        const initPens = [deepClone(this.store.hover, true)];\n        const hoverPen = this.store.hover;\n        if (this.store.hoverAnchor) {\n            if (this.beforeRemoveAnchor &&\n                !(await this.beforeRemoveAnchor(hoverPen, this.store.hoverAnchor))) {\n                return;\n            }\n            if (hoverPen.type === PenType.Line &&\n                hoverPen.calculative.worldAnchors?.length <= 2) {\n                this.delete([hoverPen]);\n            }\n            else {\n                removePenAnchor(hoverPen, this.store.hoverAnchor);\n                if (hoverPen.type === PenType.Line) {\n                    this.initLineRect(hoverPen);\n                }\n            }\n            this.store.hoverAnchor = undefined;\n            this.store.activeAnchor = undefined;\n            this.externalElements.style.cursor = 'default';\n        }\n        else if (hoverPen) {\n            if (this.beforeAddAnchor &&\n                !(await this.beforeAddAnchor(hoverPen, this.store.pointAt))) {\n                return;\n            }\n            if (hoverPen.type === PenType.Line) {\n                this.store.activeAnchor = addLineAnchor(hoverPen, this.store.pointAt, this.store.pointAtIndex);\n                this.initLineRect(hoverPen);\n                const pt = { x: e.x, y: e.y };\n                this.getHover(pt);\n            }\n            else {\n                const pt = { id: s8(), x: e.x, y: e.y };\n                this.store.activeAnchor = pushPenAnchor(hoverPen, pt);\n            }\n        }\n        this.hotkeyType = HotkeyType.None;\n        this.render();\n        if (hoverPen) {\n            this.pushHistory({\n                type: EditType.Update,\n                pens: [deepClone(hoverPen, true)],\n                initPens,\n            });\n        }\n    }\n    /**\n     * 连线允许移动，若与其它图形有连接，但其它图形不在此次移动中，会断开连接\n     * @param line 连线\n     * @param pens 本次移动的全部图形，包含子节点\n     */\n    checkDisconnect(line, pens) {\n        if (line.id.indexOf(movingSuffix) > 0) {\n            const id = line.id;\n            line = this.store.pens[id.replace(movingSuffix, '')];\n        }\n        // 连接\n        line.anchors.forEach((anchor) => {\n            if (anchor.connectTo &&\n                !pens.find((p) => p.id === anchor.connectTo ||\n                    p.id === anchor.connectTo + movingSuffix)) {\n                const pen = this.store.pens[anchor.connectTo];\n                if (!pen || pen.type) {\n                    return;\n                }\n                disconnectLine(pen, getAnchor(pen, anchor.anchorId), line, anchor);\n            }\n        });\n    }\n    /**\n     * 移动 画笔们\n     * @param pens 画笔们，不包含子节点\n     * @param x 偏移 x\n     * @param y 偏移 y\n     * @param doing 是否持续移动\n     */\n    translatePens(pens = this.store.active, x, y, doing) {\n        if (!pens || !pens.length) {\n            return;\n        }\n        let hasLocked = pens.some((item) => {\n            if (item.locked >= LockState.DisableMove)\n                return true;\n        });\n        if (hasLocked) {\n            return;\n        }\n        const initPens = !doing && deepClone(pens, true);\n        this.activeRect && translateRect(this.activeRect, x, y);\n        const containChildPens = this.getAllByPens(pens);\n        pens.forEach((pen) => {\n            if (pen.locked >= LockState.DisableMove) {\n                return;\n            }\n            if (pen.type === PenType.Line) {\n                if (!this.store.options.moveConnectedLine && !this.canMoveLine) {\n                    return;\n                }\n                if (pen.isRuleLine) {\n                    return;\n                }\n                translateLine(pen, x, y);\n                this.checkDisconnect(pen, containChildPens);\n                this.store.path2dMap.set(pen, globalStore.path2dDraws[pen.name](pen));\n                if (!doing) {\n                    this.initLineRect(pen);\n                    pen.connectedLines?.forEach((item) => {\n                        const line = this.store.pens[item.lineId];\n                        this.initLineRect(line);\n                    });\n                }\n            }\n            else {\n                translateRect(pen.calculative.worldRect, x, y);\n                this.updatePenRect(pen, { worldRectIsReady: true });\n                pen.calculative.x = pen.x;\n                pen.calculative.y = pen.y;\n                if (pen.calculative.initRect) {\n                    pen.calculative.initRect.x = pen.calculative.x;\n                    pen.calculative.initRect.y = pen.calculative.y;\n                    pen.calculative.initRect.ex =\n                        pen.calculative.x + pen.calculative.width;\n                    pen.calculative.initRect.ey =\n                        pen.calculative.y + pen.calculative.height;\n                }\n            }\n            this.updateLines(pen);\n            pen.onMove?.(pen);\n        });\n        this.activeRect && this.getSizeCPs();\n        this.render();\n        this.tooltip.translate(x, y);\n        if (!doing) {\n            // 单次的移动需要记历史记录\n            this.pushHistory({\n                type: EditType.Update,\n                pens: deepClone(pens, true),\n                initPens,\n            });\n            this.initImageCanvas(pens);\n            this.initTemplateCanvas(pens);\n            this.store.emitter.emit('translatePens', pens);\n        }\n        this.store.emitter.emit('translatingPens', pens);\n    }\n    /**\n     * 移动 画笔们\n     * @param pens 画笔们，不包含子节点\n     * @param x 偏移 x\n     * @param y 偏移 y\n     * @param doing 是否持续移动\n     */\n    templateTranslatePens(pens = this.store.active, x, y) {\n        if (!pens || !pens.length) {\n            return;\n        }\n        const containChildPens = this.getAllByPens(pens);\n        pens.forEach((pen) => {\n            if (pen.type === PenType.Line) {\n                if (!this.store.options.moveConnectedLine && !this.canMoveLine) {\n                    return;\n                }\n                translateLine(pen, x, y);\n                this.checkDisconnect(pen, containChildPens);\n                this.store.path2dMap.set(pen, globalStore.path2dDraws[pen.name](pen));\n            }\n            else {\n                translateRect(pen.calculative.worldRect, x, y);\n                this.updatePenRect(pen, { worldRectIsReady: true });\n                pen.calculative.x = pen.x;\n                pen.calculative.y = pen.y;\n                if (pen.calculative.initRect) {\n                    pen.calculative.initRect.x = pen.calculative.x;\n                    pen.calculative.initRect.y = pen.calculative.y;\n                    pen.calculative.initRect.ex =\n                        pen.calculative.x + pen.calculative.width;\n                    pen.calculative.initRect.ey =\n                        pen.calculative.y + pen.calculative.height;\n                }\n            }\n            pen.onMove?.(pen);\n        });\n    }\n    calcAutoAnchor(line, lineAnchor, pen, penConnection) {\n        const from = getFromAnchor(line);\n        const to = getToAnchor(line);\n        const newAnchor = nearestAnchor(pen, lineAnchor === from ? to : from);\n        if (!newAnchor) {\n            return;\n        }\n        lineAnchor.x = newAnchor.x;\n        lineAnchor.y = newAnchor.y;\n        lineAnchor.prev = undefined;\n        lineAnchor.next = undefined;\n        if (penConnection) {\n            penConnection.anchor = newAnchor.id;\n        }\n        else {\n            connectLine(pen, newAnchor, line, lineAnchor);\n        }\n        if (this[line.lineName]) {\n            this[line.lineName](this.store, line);\n        }\n        this.store.path2dMap.set(line, globalStore.path2dDraws.line(line));\n        this.initLineRect(line);\n    }\n    restoreNodeAnimate(pen) {\n        if (pen.calculative.initRect) {\n            if (pen.keepAnimateState) {\n                for (const k in pen) {\n                    if (pen.calculative[k] === undefined) {\n                        continue;\n                    }\n                    if (k !== 'x' &&\n                        k !== 'y' &&\n                        k !== 'width' &&\n                        k !== 'height' &&\n                        k !== 'initRect' &&\n                        (typeof pen[k] !== 'object' || k === 'lineDash')) {\n                        if (k === 'fontSize' || k === 'lineWidth') {\n                            pen[k] =\n                                pen.calculative[k] / pen.calculative.canvas.store.data.scale;\n                        }\n                        else {\n                            pen[k] = pen.calculative[k];\n                        }\n                    }\n                }\n            }\n            else {\n                const rotate = pen.calculative.initRect.rotate - pen.calculative.rotate;\n                for (const k in pen) {\n                    if (k !== 'x' &&\n                        k !== 'y' &&\n                        k !== 'width' &&\n                        k !== 'height' &&\n                        k !== 'initRect' &&\n                        k !== 'rotate' &&\n                        (typeof pen[k] !== 'object' || k === 'lineDash')) {\n                        pen.calculative[k] = pen[k];\n                    }\n                }\n                if (pen.children?.length) {\n                    if (rotate) {\n                        rotatePen(pen, rotate, pen.calculative.worldRect);\n                    }\n                }\n                else {\n                    pen.calculative.rotate = pen.rotate;\n                }\n                //其他回到最初始状态\n                const originStatus = deepClone(this.store.animateMap.get(pen));\n                if (originStatus) {\n                    originStatus.id = pen.id;\n                    this.parent.setValue(originStatus, {\n                        doEvent: false,\n                        render: true,\n                        history: false,\n                    });\n                }\n                pen.calculative.worldRect = pen.calculative.initRect;\n            }\n            this.updatePenRect(pen, { worldRectIsReady: true });\n            this.updateLines(pen);\n            if (pen.image && pen.name !== 'gif') {\n                this.canvasImage.init();\n                this.canvasImageBottom.init();\n            }\n            if (pen.calculative.text !== pen.text) {\n                pen.calculative.text = pen.text;\n                calcTextLines(pen);\n            }\n            if (this.store.active?.length) {\n                this.calcActiveRect();\n            }\n            pen.calculative.initRect = undefined;\n        }\n    }\n    updateLines(pen, change) {\n        pen.children?.forEach((child) => {\n            const childPen = this.store.pens[child];\n            if (childPen) {\n                // 每个子节点都会更新 line，包括子节点是 type 1 的情况\n                this.updateLines(childPen, change);\n            }\n        });\n        if (!pen.connectedLines) {\n            return;\n        }\n        pen.connectedLines.forEach((item, index) => {\n            const line = this.store.pens[item.lineId];\n            // 活动层的线不需要更新，会在活动层处理\n            if (!line || line.calculative.active) {\n                return;\n            }\n            const lineAnchor = getAnchor(line, item.lineAnchor);\n            if (!lineAnchor) {\n                return;\n            }\n            if (!lineAnchor.connectTo) {\n                // 如果pen有连接关系但连线中没有连接关系，删除pen的连接关系\n                pen.connectedLines.splice(index, 1);\n                return;\n            }\n            if (line.autoFrom) {\n                const from = getFromAnchor(line);\n                if (from.id === lineAnchor.id) {\n                    this.calcAutoAnchor(line, from, pen, item);\n                }\n            }\n            if (line.autoTo) {\n                const to = getToAnchor(line);\n                if (to.id === lineAnchor.id) {\n                    this.calcAutoAnchor(line, to, pen, item);\n                }\n            }\n            const penAnchor = getAnchor(pen, item.anchor);\n            if (!penAnchor) {\n                return;\n            }\n            let rotate = pen.rotate;\n            if (pen.flipX) {\n                rotate *= -1;\n            }\n            if (pen.flipY) {\n                rotate *= -1;\n            }\n            let offsetX = lineAnchor.distance *\n                this.store.data.scale *\n                Math.cos(((rotate + penAnchor.rotate) / 180) * Math.PI) || 0;\n            let offsetY = lineAnchor.distance *\n                this.store.data.scale *\n                Math.sin(((rotate + penAnchor.rotate) / 180) * Math.PI) || 0;\n            if (pen.flipX) {\n                offsetX = -offsetX;\n            }\n            if (pen.flipY) {\n                offsetY = -offsetY;\n            }\n            translatePoint(lineAnchor, penAnchor.x - lineAnchor.x + offsetX, penAnchor.y - lineAnchor.y + offsetY);\n            if (this.store.options.autoPolyline &&\n                !this.autoPolylineFlag &&\n                line.autoPolyline !== false &&\n                line.lineName === 'polyline') {\n                let from = getFromAnchor(line);\n                let to = getToAnchor(line);\n                let found = false;\n                if (from.id === lineAnchor.id) {\n                    from = lineAnchor;\n                    found = true;\n                }\n                else if (to.id === lineAnchor.id) {\n                    to = lineAnchor;\n                    found = true;\n                }\n                if (found) {\n                    line.calculative.worldAnchors = [from, to];\n                    line.calculative.activeAnchor = from;\n                    this.polyline(this.store, line, to);\n                    this.initLineRect(line);\n                }\n            }\n            this.store.path2dMap.set(line, globalStore.path2dDraws[line.name](line));\n            this.patchFlagsLines.add(line);\n            if (line.calculative.gradientSmooth) {\n                line.calculative.gradientAnimatePath = getGradientAnimatePath(line);\n            }\n            change && getLineLength(line);\n        });\n    }\n    calcActiveRect() {\n        // TODO: visible 不可见， 目前只是不计算 activeRect，考虑它是否进入活动层 store.active\n        const canMovePens = this.store.active.filter((pen) => (!pen.locked || pen.locked < LockState.DisableMove) &&\n            pen.visible != false);\n        if (!canMovePens.length) {\n            return;\n        }\n        else if (canMovePens.length === 1) {\n            this.activeRect = deepClone(canMovePens[0].calculative.worldRect);\n            this.activeRect.rotate = canMovePens[0].calculative.rotate || 0;\n            calcCenter(this.activeRect);\n        }\n        else {\n            this.activeRect = getRect(canMovePens);\n            this.activeRect.rotate = 0;\n        }\n        this.lastRotate = 0;\n        this.getSizeCPs();\n    }\n    /**\n     * 旋转当前画笔包括子节点\n     * @param pen 旋转的画笔\n     * @param angle 本次的旋转值，加到 pen.calculative.rotate 上\n     */\n    rotatePen(pen, angle, rect) {\n        if (pen.type) {\n            pen.calculative.worldAnchors.forEach((anchor) => {\n                rotatePoint(anchor, angle, rect.center);\n            });\n            this.initLineRect(pen);\n            calcPenRect(pen);\n        }\n        else {\n            if (pen.calculative.rotate) {\n                pen.calculative.rotate += angle;\n            }\n            else {\n                pen.calculative.rotate = angle;\n            }\n            rotatePoint(pen.calculative.worldRect.center, angle, rect.center);\n            if (pen.parentId) {\n                pen.calculative.worldRect.x =\n                    pen.calculative.worldRect.center.x -\n                        pen.calculative.worldRect.width / 2;\n                pen.calculative.worldRect.y =\n                    pen.calculative.worldRect.center.y -\n                        pen.calculative.worldRect.height / 2;\n                pen.x = (pen.calculative.worldRect.x - rect.x) / rect.width;\n                pen.y = (pen.calculative.worldRect.y - rect.y) / rect.height;\n            }\n            else {\n                pen.x = pen.calculative.worldRect.center.x - pen.width / 2;\n                pen.y = pen.calculative.worldRect.center.y - pen.height / 2;\n            }\n            pen.rotate = pen.calculative.rotate;\n            this.updatePenRect(pen);\n            if (pen.children) {\n                pen.children.forEach((id) => {\n                    const child = this.store.pens[id];\n                    this.rotatePen(child, angle, pen.calculative.worldRect);\n                });\n            }\n        }\n    }\n    nextAnimate(pen) {\n        if (!pen) {\n            return;\n        }\n        this.store.emitter.emit('animateEnd', pen);\n        let pens;\n        if (pen.nextAnimate) {\n            pens = this.store.data.pens.filter((p) => {\n                return (p.id === pen.nextAnimate ||\n                    (p.tags && p.tags.indexOf(pen.nextAnimate) > -1));\n            });\n        }\n        if (!pens) {\n            return;\n        }\n        pens.forEach((pen) => {\n            if (pen.calculative.pause) {\n                const d = Date.now() - pen.calculative.pause;\n                pen.calculative.pause = undefined;\n                pen.calculative.frameStart += d;\n                pen.calculative.frameEnd += d;\n            }\n            else {\n                if (pen.name === 'video') {\n                    pen.calculative.media.currentTime = 0;\n                    pen.calculative.media?.play();\n                    pen.onStartVideo?.(pen);\n                }\n                else if (pen.type ||\n                    pen.frames?.length ||\n                    (pen.animations && pen.animations.length)) {\n                    //存储动画初始状态\n                    if (!pen.type) {\n                        if (!pen.frames && pen.animations && pen.animations.length) {\n                            //无活动动画\n                            let autoIndex = pen.animations?.findIndex((i) => i.autoPlay);\n                            let index = autoIndex === -1 ? 0 : autoIndex;\n                            const animate = deepClone(pen.animations[index]);\n                            delete animate.name;\n                            animate.currentAnimation = index;\n                            if (!pen.type && animate.frames) {\n                                animate.showDuration = this.parent.calcAnimateDuration(animate);\n                            }\n                            this.parent.setValue({\n                                id: pen.id,\n                                ...animate,\n                            }, {\n                                doEvent: false,\n                                history: false,\n                            });\n                        }\n                        this.store.animateMap.set(pen, this.getFrameProps(pen));\n                    }\n                    else {\n                        if (pen.animations?.length) {\n                            //默认执行line的第一个动画\n                            const animate = deepClone(pen.animations[0]);\n                            delete animate.name;\n                            animate.currentAnimation = 0;\n                            this.parent.setValue({\n                                id: pen.id,\n                                ...animate,\n                            }, {\n                                doEvent: false,\n                                history: false,\n                            });\n                        }\n                    }\n                    this.store.animates.add(pen);\n                }\n            }\n        });\n        this.animate();\n    }\n    getFrameProps(pen) {\n        let initProps = {};\n        pen.frames &&\n            pen.frames.forEach((frame) => {\n                for (let key in frame) {\n                    if (!['duration', 'x', 'y', 'width', 'height', 'rotate'].includes(key) &&\n                        !initProps[key]) {\n                        initProps[key] = pen[key];\n                    }\n                }\n            });\n        return initProps;\n    }\n    animate() {\n        if (this.animateRendering) {\n            return;\n        }\n        requestAnimationFrame(() => {\n            const now = Date.now();\n            if (now - this.lastAnimateRender < this.store.options.animateInterval) {\n                if (this.store.animates.size > 0) {\n                    this.animate();\n                }\n                return;\n            }\n            this.lastAnimateRender = now;\n            this.animateRendering = true;\n            const dels = [];\n            let active = false;\n            for (const pen of this.store.animates) {\n                if (pen.calculative.pause) {\n                    continue;\n                }\n                if (pen.calculative.active && !pen.type && !this.movingPens) {\n                    // 存在节点在活动层，并且不在移动中\n                    active = true;\n                }\n                if (!pen.type) {\n                    if (setNodeAnimate(pen, now)) {\n                        if (pen.calculative.patchFlags) {\n                            calcCenter(pen.calculative.worldRect);\n                            this.updatePenRect(pen, {\n                                worldRectIsReady: true,\n                                playingAnimate: true,\n                            });\n                        }\n                    }\n                    else {\n                        // 避免未到绘画帧，用户点击了停止动画，产生了时间差数据\n                        requestAnimationFrame(() => {\n                            this.restoreNodeAnimate(pen);\n                        });\n                        dels.push(pen);\n                        this.nextAnimate(pen);\n                    }\n                    this.updateLines(pen, true);\n                }\n                else {\n                    if (!setLineAnimate(pen, now)) {\n                        if (pen.keepAnimateState) {\n                            for (const k in pen) {\n                                if (pen.calculative[k] === undefined) {\n                                    continue;\n                                }\n                                if (k === 'length') {\n                                    continue;\n                                }\n                                if (typeof pen[k] !== 'object' || k === 'lineDash') {\n                                    if (k === 'lineWidth') {\n                                        pen[k] =\n                                            pen.calculative[k] /\n                                                pen.calculative.canvas.store.data.scale;\n                                    }\n                                    else {\n                                        pen[k] = pen.calculative[k];\n                                    }\n                                }\n                            }\n                            calcPenRect(pen);\n                        }\n                        else {\n                            for (const k in pen) {\n                                if (typeof pen[k] !== 'object' || k === 'lineDash') {\n                                    if (k === 'lineWidth') {\n                                        pen.calculative[k] =\n                                            pen[k] * pen.calculative.canvas.store.data.scale;\n                                    }\n                                    else {\n                                        pen.calculative[k] = pen[k];\n                                    }\n                                }\n                            }\n                        }\n                        dels.push(pen);\n                        this.nextAnimate(pen);\n                    }\n                }\n                this.patchFlags = true;\n            }\n            if (active) {\n                this.calcActiveRect();\n            }\n            dels.forEach((pen) => {\n                this.store.animates.delete(pen);\n            });\n            this.render(false);\n            this.animateRendering = false;\n            this.animate();\n        });\n    }\n    get clipboardName() {\n        return 'meta2d-clipboard';\n    }\n    async copy(pens, emit = true) {\n        const page = s8();\n        // 得到当前活动层的，包括子节点\n        const { origin, scale } = this.store.data;\n        this.store.clipboard = undefined;\n        localStorage.removeItem(this.clipboardName);\n        sessionStorage.setItem('page', page);\n        let copyPens = this.getAllByPens(deepClone(pens || this.store.active, true));\n        //根据pens顺序复制\n        copyPens.forEach((activePen) => {\n            activePen.copyIndex = this.store.data.pens.findIndex((pen) => pen.id === activePen.id);\n            if (activePen.pathId) {\n                //复制svgpath\n                activePen.path = this.store.data.paths[activePen.pathId];\n            }\n        });\n        copyPens.sort((a, b) => {\n            return a.copyIndex - b.copyIndex;\n        });\n        // copyPens.forEach((activePen: any) => {\n        //   delete activePen.copyIndex;\n        // });\n        const clipboard = {\n            meta2d: true,\n            pens: copyPens,\n            origin: deepClone(origin),\n            scale,\n            page,\n            initRect: deepClone(this.activeRect),\n            offset: 10,\n            mousePos: deepClone(this.mousePos),\n        };\n        if (navigator.clipboard &&\n            !this.store.options.disableClipboard &&\n            !navigator.userAgent.includes('Firefox')) {\n            try {\n                await navigator.clipboard.writeText(JSON.stringify(clipboard));\n            }\n            catch {\n                localStorage.setItem(this.clipboardName, JSON.stringify(clipboard));\n            }\n        }\n        else {\n            localStorage.setItem(this.clipboardName, JSON.stringify(clipboard));\n        }\n        emit && this.store.emitter.emit('copy', clipboard.pens);\n    }\n    cut(pens) {\n        this.copy(pens, false);\n        this.delete(pens);\n        this.store.emitter.emit('cut', pens);\n    }\n    async paste() {\n        let clipboardText;\n        let clipboard;\n        if (navigator.clipboard &&\n            !this.store.options.disableClipboard &&\n            !navigator.userAgent.includes('Firefox')) {\n            try {\n                clipboardText = await navigator.clipboard?.readText();\n            }\n            catch {\n                clipboardText = localStorage.getItem(this.clipboardName);\n            }\n        }\n        else {\n            clipboardText = localStorage.getItem(this.clipboardName);\n        }\n        if (clipboardText) {\n            try {\n                clipboard = JSON.parse(clipboardText);\n            }\n            catch (e) {\n                console.warn('剪切板数据不是json', e.message);\n                return;\n            }\n            if (!clipboard || !clipboard.meta2d) {\n                return;\n            }\n        }\n        else {\n            return;\n        }\n        if (this.beforeAddPens &&\n            (await this.beforeAddPens(clipboard.pens)) != true) {\n            return;\n        }\n        let offset;\n        let pos;\n        if (this.store.clipboard) {\n            offset = this.store.clipboard.offset + 10;\n            pos = this.store.clipboard.pos;\n        }\n        this.store.clipboard = deepClone(clipboard);\n        const curPage = sessionStorage.getItem('page');\n        const scale = this.store.data.scale;\n        if (this.store.clipboard.mousePos && (Math.abs(this.store.clipboard.mousePos.x - this.mousePos.x) > 100 * scale || Math.abs(this.store.clipboard.mousePos.y - this.mousePos.y) > 100 * scale)) {\n            let _x = -this.store.clipboard.initRect.width / this.store.clipboard.scale / 10 / (scale);\n            let _y = -this.store.clipboard.initRect.height / this.store.clipboard.scale / 10 / (scale);\n            let offsetX = (scale - this.store.clipboard.scale) * this.store.clipboard.initRect.width / 2 + _x;\n            let offsetY = (scale - this.store.clipboard.scale) * this.store.clipboard.initRect.height / 2 + _y;\n            if (this.store.clipboard.pens.length > 1) {\n                offsetX = (scale - 1) * this.store.clipboard.initRect.width / this.store.clipboard.scale / 2;\n                offsetY = (scale - 1) * this.store.clipboard.initRect.height / this.store.clipboard.scale / 2;\n            }\n            this.store.clipboard.pos = { x: this.mousePos.x - offsetX, y: this.mousePos.y - offsetY };\n            this.store.clipboard.offset = 0;\n        }\n        else if (curPage !== clipboard.page) {\n            this.store.clipboard.pos = { x: this.mousePos.x, y: this.mousePos.y };\n            this.store.clipboard.offset = 0;\n        }\n        else if (!this.pasteOffset) {\n            this.store.clipboard.offset = 0;\n            this.pasteOffset = true;\n        }\n        else {\n            offset && (this.store.clipboard.offset = offset);\n            pos && (this.store.clipboard.pos = pos);\n        }\n        if (!this.keyOptions?.F) {\n            this.store.clipboard.pens.forEach((pen) => {\n                delete pen.copyIndex;\n            });\n        }\n        const rootPens = this.store.clipboard.pens.filter((pen) => !pen.parentId);\n        for (const pen of rootPens) {\n            this.pastePen(pen, undefined);\n        }\n        sessionStorage.setItem('page', clipboard.page);\n        this.active(rootPens);\n        this.pushHistory({ type: EditType.Add, pens: this.store.clipboard.pens });\n        this.render();\n        this.store.emitter.emit('add', this.store.clipboard.pens);\n        this.store.emitter.emit('paste', this.store.clipboard.pens);\n    }\n    /**\n     * 获取 pens 列表中的所有节点（包含子节点）\n     * @param pens 不包含子节点\n     */\n    getAllByPens(pens) {\n        const retPens = [];\n        for (const pen of pens) {\n            retPens.push(...deepClone(getAllChildren(pen, this.store), true));\n        }\n        return retPens.concat(pens);\n    }\n    getAllFollowersByPens(pens, deep = true) {\n        const retPens = pens;\n        for (const pen of pens) {\n            let followers = getAllFollowers(pen, this.store);\n            if (deep) {\n                followers = deepClone(followers, true);\n            }\n            for (const follower of followers) {\n                if (!retPens.find(p => p.id === follower.id)) {\n                    retPens.push(follower);\n                }\n            }\n        }\n        return retPens;\n    }\n    setFollowers(pens = this.store.active) {\n        if (!pens) {\n            return;\n        }\n        if (pens.length < 2) {\n            pens[0].followers = [];\n        }\n        else {\n            //以最后一个\n            let ids = pens.map((pen) => pen.id);\n            ids.pop();\n            const lastPen = pens[pens.length - 1];\n            if (!lastPen.followers) {\n                lastPen.followers = ids;\n            }\n            else {\n                ids.forEach((id) => {\n                    if (!lastPen.followers.includes(id)) {\n                        lastPen.followers.push(id);\n                    }\n                });\n            }\n        }\n    }\n    /**\n     *\n     * @param pen 当前复制的画笔\n     * @param parentId 父节点 id\n     * @param clipboard 本次复制的全部画笔，包含子节点, 以及 origin 和 scale\n     * @returns 复制后的画笔\n     */\n    pastePen = (pen, parentId) => {\n        const oldId = pen.id;\n        randomId(pen);\n        pen.parentId = parentId;\n        if (pen.type === PenType.Line) {\n            this.changeNodeConnectedLine(oldId, pen, this.store.clipboard.pens);\n        }\n        else {\n            this.changeLineAnchors(oldId, pen, this.store.clipboard.pens);\n        }\n        if (!pen.parentId) {\n            const rect = this.getPenRect(pen, this.store.clipboard.origin, this.store.clipboard.scale);\n            const initRect = this.getPenRect(this.store.clipboard.initRect, this.store.clipboard.origin, this.store.clipboard.scale);\n            const { origin, scale } = this.store.data;\n            pen.x = origin.x + rect.x * scale;\n            pen.y = origin.y + rect.y * scale;\n            pen.width = rect.width * scale;\n            pen.height = rect.height * scale;\n            initRect.x = origin.x + initRect.x * scale;\n            initRect.y = origin.y + initRect.y * scale;\n            calcCenter(initRect);\n            if (this.store.clipboard.pos) {\n                pen.x -= initRect.center.x - this.store.clipboard.pos.x;\n                pen.y -= initRect.center.y - this.store.clipboard.pos.y;\n            }\n            if (this.keyOptions && this.keyOptions.altKey && (this.keyOptions.ctrlKey || this.keyOptions.metaKey)) {\n                pen.x = -this.store.data.x + this.width / 2 - pen.width / 2;\n                pen.y = -this.store.data.y + this.height / 2 - pen.height / 2;\n            }\n            else if (this.keyOptions && this.keyOptions.shiftKey && (this.keyOptions.ctrlKey || this.keyOptions.metaKey || this.keyOptions.F)) {\n            }\n            else {\n                pen.x += this.store.clipboard.offset * this.store.data.scale;\n                pen.y += this.store.clipboard.offset * this.store.data.scale;\n            }\n        }\n        this.makePen(pen);\n        const newChildren = [];\n        if (Array.isArray(pen.children)) {\n            for (const childId of pen.children) {\n                const childPen = this.store.clipboard.pens.find((pen) => pen.id === childId);\n                childPen && newChildren.push(this.pastePen(childPen, pen.id).id);\n            }\n        }\n        pen.children = newChildren;\n        calcInView(pen, true);\n        return pen;\n    };\n    /**\n     * 修改对应连线的 anchors\n     * @param oldId 老 id\n     * @param pen 节点\n     * @param pastePens 本次复制的 pens 包含子节点\n     */\n    changeLineAnchors(oldId, pen, pastePens) {\n        if (!Array.isArray(pen.connectedLines)) {\n            return;\n        }\n        for (let index = 0; index < pen.connectedLines.length; index++) {\n            const { lineId } = pen.connectedLines[index];\n            const line = pastePens.find((pen) => pen.id === lineId);\n            if (line) {\n                const from = line.anchors[0];\n                const to = line.anchors[line.anchors.length - 1];\n                from.connectTo === oldId && (from.connectTo = pen.id);\n                to.connectTo === oldId && (to.connectTo = pen.id);\n            }\n            else {\n                // 说明它的连接线不在本次复制的范围内\n                pen.connectedLines.splice(index, 1);\n                index--;\n            }\n        }\n    }\n    /**\n     * 复制连线的过程，修改 与 此线连接 node 的 connectedLines\n     * @param oldId 线原 id\n     * @param line 线\n     * @param pastePens 此处复制的全部 pens (包含子节点)\n     */\n    changeNodeConnectedLine(oldId, line, pastePens) {\n        const from = line.anchors[0];\n        const to = line.anchors[line.anchors.length - 1];\n        // 修改对应节点的 connectedLines\n        const anchors = [from, to];\n        for (const anchor of anchors) {\n            const nodeId = anchor.connectTo;\n            if (nodeId) {\n                const node = pastePens.find((pen) => pen.id === nodeId);\n                if (node) {\n                    node.connectedLines?.forEach((cl) => {\n                        if (cl.lineId === oldId) {\n                            cl.lineId = line.id;\n                            cl.lineAnchor = anchor.id;\n                        }\n                    });\n                }\n                else {\n                    // 节点不在本次复制的范围内\n                    anchor.connectTo = undefined;\n                    if (anchor.prev) {\n                        anchor.prev.connectTo = undefined;\n                    }\n                    if (anchor.next) {\n                        anchor.next.connectTo = undefined;\n                    }\n                }\n            }\n        }\n    }\n    async delete(pens = this.store.active, canDelLocked = false, history = true) {\n        if (!pens || !pens.length) {\n            return;\n        }\n        if (this.beforeRemovePens && (await this.beforeRemovePens(pens)) != true) {\n            return;\n        }\n        if (!canDelLocked) {\n            pens = pens.filter((pen) => !pen.locked);\n        }\n        if (!pens || !pens.length) {\n            return;\n        }\n        const deletePens = [];\n        this._del(pens, deletePens, canDelLocked);\n        this.initImageCanvas(deletePens);\n        this.initTemplateCanvas(deletePens);\n        this.inactive();\n        this.clearHover();\n        this.render();\n        // TODO: 连线的删除 ，连接的 node 的 connectLines 会变化（删除 node ，line 的 anchors 类似），未记历史记录\n        if (history) {\n            if (deletePens.length === 0)\n                return;\n            this.pushHistory({ type: EditType.Delete, pens: deletePens });\n        }\n        this.store.emitter.emit('delete', pens);\n    }\n    _del(pens, delPens, canDelLocked) {\n        if (!pens) {\n            return;\n        }\n        pens.forEach((pen) => {\n            if (pen.type) {\n                pen.lastConnected = {};\n            }\n            if (!pen.parentId) {\n                if (!canDelLocked && pen.locked) {\n                    return;\n                }\n                else {\n                    if (delPens) {\n                        this.getDelPens(pen, delPens);\n                    }\n                    this.delForce(pen);\n                }\n            }\n            else {\n                const lockedParent = this.getLockedParent(pen);\n                if (lockedParent) {\n                    console.warn('父节点锁定');\n                    return;\n                }\n                else {\n                    const parentPen = getParent(pen);\n                    const _index = parentPen.children.indexOf(pen.id);\n                    parentPen.children.splice(_index, 1);\n                    if (delPens) {\n                        this.getDelPens(pen, delPens);\n                    }\n                    this.delForce(pen);\n                }\n            }\n        });\n    }\n    getDelPens(pen, delPens) {\n        if (!pen) {\n            return;\n        }\n        const i = this.store.data.pens.findIndex((item) => item.id === pen.id);\n        if (i > -1) {\n            const delPen = this.store.pens[pen.id];\n            if (delPen && delPen.calculative) {\n                delPen.calculative.active = undefined;\n            }\n            delPens.push(delPen);\n        }\n        if (pen.children) {\n            pen.children.forEach((id) => {\n                this.getDelPens(this.store.pens[id], delPens);\n            });\n        }\n    }\n    getLockedParent(pen) {\n        if (!pen.parentId) {\n            return false;\n        }\n        const parentPen = getParent(pen);\n        if (parentPen.locked) {\n            return parentPen;\n        }\n        else {\n            this.getLockedParent(parentPen);\n        }\n    }\n    delForce(pen) {\n        if (!pen) {\n            return;\n        }\n        const i = this.store.data.pens.findIndex((item) => item.id === pen.id);\n        if (i > -1) {\n            this.delConnectedLines(this.store.data.pens[i]);\n            this.store.data.pens.splice(i, 1);\n            this.store.pens[pen.id] = undefined;\n            delete this.store.pens[pen.id];\n            // 删除svgpath的数据\n            if (pen.pathId) {\n                delete this.store.data.paths[pen.pathId];\n            }\n        }\n        this.store.animates.delete(pen);\n        this.store.animateMap.delete(pen);\n        if (pen.children) {\n            pen.children.forEach((id) => {\n                this.delForce(this.store.pens[id]);\n            });\n        }\n        pen.onDestroy?.(pen);\n    }\n    delConnectedLines(pen) {\n        if (pen.connectedLines) {\n            for (let i = 0; i < pen.connectedLines.length; i++) {\n                const { lineId, lineAnchor } = pen.connectedLines[i];\n                const line = this.store.pens[lineId];\n                if (line) {\n                    let anchor = line.anchors.find((anchor) => anchor.id === lineAnchor);\n                    if (anchor?.connectTo === pen.id) {\n                        anchor.connectTo = undefined;\n                        anchor.anchorId = undefined;\n                        anchor.prev && (anchor.prev.connectTo = undefined);\n                        anchor.next && (anchor.next.connectTo = undefined);\n                    }\n                    anchor = getAnchor(line, lineAnchor);\n                    if (anchor) {\n                        anchor.connectTo = undefined;\n                        anchor.anchorId = undefined;\n                        anchor.prev && (anchor.prev.connectTo = undefined);\n                        anchor.next && (anchor.next.connectTo = undefined);\n                    }\n                }\n            }\n        }\n        if (!pen.type) {\n            return;\n        }\n        pen.calculative.worldAnchors?.forEach((lineAnchor, index) => {\n            if (!lineAnchor.connectTo) {\n                return;\n            }\n            const connectTo = this.store.pens[lineAnchor.connectTo];\n            if (connectTo) {\n                connectTo.calculative.worldAnchors?.forEach((anchor) => {\n                    disconnectLine(connectTo, anchor, pen, lineAnchor);\n                });\n            }\n        });\n    }\n    ondblclick = (e) => {\n        if (this.store.hover &&\n            (!this.store.data.locked || this.store.hover.dbInput) &&\n            !this.store.options.disableInput) {\n            if (this.store.hover.onShowInput) {\n                this.store.hover.onShowInput(this.store.hover, e);\n            }\n            else {\n                if (this.store.hover && this.store.hover.parentId) {\n                    if (this.store.active?.length === 1 && this.store.active[0].id === this.store.hover.id) {\n                        this.showInput(this.store.hover);\n                    }\n                    else {\n                        this.store.pens[this.store.hover.parentId].children.forEach((id) => {\n                            this.store.pens[id].calculative.active = false;\n                            this.store.pens[id].calculative.hover = false;\n                        });\n                        if (this.store.hover.parentId) {\n                            //组合图元 找命中率高的子图元\n                            let id = this.store.hover.id;\n                            const pt = this.calibrateMouse({ x: e.offsetX, y: e.offsetY });\n                            let distance = Infinity;\n                            this.store.pens[this.store.hover.parentId]?.children?.forEach((_id) => {\n                                const pen = this.store.pens[_id];\n                                if (pointInRect(pt, pen.calculative.worldRect)) {\n                                    const dis = Math.sqrt((pt.x - pen.calculative.worldRect.center.x) ** 2 + (pt.y - pen.calculative.worldRect.center.y) ** 2);\n                                    if (dis < distance) {\n                                        distance = dis;\n                                        id = _id;\n                                    }\n                                }\n                            });\n                            this.store.hover = this.store.pens[id];\n                            this.store.pens[id].calculative.hover = true;\n                        }\n                        this.active([this.store.hover]);\n                    }\n                }\n                else {\n                    this.showInput(this.store.hover);\n                }\n            }\n        }\n        this.store.emitter.emit('dblclick', {\n            x: e.x,\n            y: e.y,\n            pen: this.store.hover,\n        });\n    };\n    showInput = (pen, rect, background = 'transparent') => {\n        if (!window ||\n            !this.store.hover ||\n            this.store.hover.locked ||\n            this.store.hover.externElement ||\n            this.store.hover.disableInput ||\n            this.store.hover.disabled) {\n            return;\n        }\n        if (this.inputDiv.dataset.penId === pen.id) {\n            this.inputDiv.dataset.isInput = 'true';\n            this.inputDiv.contentEditable = 'true';\n            this.inputDiv.focus();\n            const range = window.getSelection(); //创建range\n            range.selectAllChildren(this.inputDiv); //range 选择obj下所有子内容\n            range.collapseToEnd(); //光标移至最后\n            this.inputDiv.scrollTop = this.inputDiv.scrollHeight;\n            this.inputDiv.scrollLeft = this.inputDiv.scrollWidth;\n            return;\n        }\n        //过滤table2图元\n        if (!rect && !pen.dbInput) {\n            this.setInputStyle(pen);\n        }\n        else {\n            this.inputDiv.style.width = '100%';\n            this.inputDiv.style.height = '100%';\n        }\n        const textRect = rect || pen.calculative.worldTextRect;\n        //value和innerText问题\n        const preInputText = pen.calculative.tempText === undefined ? (pen.text + '' || '') : pen.calculative.tempText;\n        const textArr = preInputText.replace(/\\x20/g, '&nbsp;').split(/[\\s\\n]/);\n        const finalText = `${textArr.join('</div><div>')}</div>`\n            .replace('</div>', '')\n            .replace(/\\<div\\>\\<\\/div\\>/g, '<div><br></div>');\n        this.inputDiv.innerHTML = finalText;\n        // this.inputDiv.style.fontSize = pen.calculative.fontSize + 'px';\n        // this.inputDiv.style.color = getTextColor(pen, this.store);\n        this.inputParent.style.left =\n            textRect.x + this.store.data.x - (pen.calculative.textLeft || 0) + 'px'; //+ 5\n        this.inputParent.style.top =\n            textRect.y + this.store.data.y - (pen.calculative.textTop || 0) + 'px'; //+ 5\n        let _width = textRect.width; //+ (pen.textLeft || 0);\n        this.inputParent.style.width = (_width < 0 ? 12 : _width) + 'px'; //(textRect.width < pen.width ? 0 : 10)\n        this.inputParent.style.height = textRect.height + (pen.textTop || 0) + 'px'; //   (textRect.height < pen.height ? 0 : 10)\n        this.inputParent.style.zIndex = '9999';\n        this.inputParent.style.background = background;\n        if (pen.rotate % 360) {\n            this.inputParent.style.transform = `rotate(${pen.rotate}deg)`;\n        }\n        else {\n            this.inputParent.style.transform = null;\n        }\n        this.inputParent.style.display = 'flex';\n        this.inputDiv.dataset.penId = pen.id;\n        this.inputDiv.contentEditable =\n            pen.disableInput == undefined ? 'true' : pen.disableInput.toString();\n        if (pen.dropdownList && this.dropdown.style.display !== 'block') {\n            // if (!this.store.data.locked) {\n            //   this.inputRight.style.display = 'none';\n            // }\n            this.dropdown.style.background = pen.dropdownBackground || this.store.styles[\"popContentBg\"] || '#fff';\n            this.dropdown.style.color = pen.dropdownColor || '#bdc7db';\n            this.dropdown.style.width = this.inputParent.style.width;\n            this.dropdown.style.fontSize = (pen.fontSize || 12) + 'px';\n            this.setDropdownList();\n            this.externalElements.style.zIndex = '9999';\n        }\n        else {\n            // this.inputRight.style.display = 'none';\n        }\n        this.inputDiv.contentEditable = 'true';\n        this.inputDiv.focus();\n        const range = window.getSelection(); //创建range\n        range.selectAllChildren(this.inputDiv); //range 选择obj下所有子内容\n        range.collapseToEnd(); //光标移至最后\n        this.inputDiv.scrollTop = this.inputDiv.scrollHeight;\n        this.inputDiv.scrollLeft = this.inputDiv.scrollWidth;\n        pen.calculative.text = undefined;\n        this.initTemplateCanvas([pen]);\n        this.render();\n    };\n    setInputStyle = (pen) => {\n        if (!pen.text) {\n            pen.text = '';\n        }\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le.com') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        let style = 'overflow: scroll;';\n        let div_style = '';\n        let font_scale = 1;\n        const { scale } = this.store.data;\n        if (pen.fontSize < 12) {\n            font_scale = 12 / pen.fontSize;\n        }\n        if (pen.textAlign) {\n            style += `text-align: ${pen.textAlign};`;\n        }\n        else {\n            style += 'text-align: center;';\n        }\n        if (pen.textAlign && pen.whiteSpace === 'pre-line') {\n            let textAlign = {\n                left: 'start',\n                center: 'center',\n                right: 'end',\n            };\n            style += `align-items: ${textAlign[pen.textAlign]};`;\n        }\n        if (pen.textBaseline) {\n            let baseLine = {\n                top: 'start',\n                middle: 'center',\n                bottom: 'end',\n            };\n            style += `justify-content: ${baseLine[pen.textBaseline]};`;\n        }\n        else {\n            // if (pen.textWidth < pen.calculative.) {\n            //   style += 'justify-content: start;';\n            // } else {\n            //文字高度超出整个rect高度时\n            style += 'justify-content: center;';\n            // }\n        }\n        if (pen.fontFamily) {\n            style += `font-family: ${pen.fontFamily};`;\n        }\n        if (pen.fontSize) {\n            if (pen.fontSize * scale < 12) {\n                style += `font-size:${pen.fontSize}px;`;\n                style += `zoom:${(pen.fontSize / 12) * scale};`;\n            }\n            else {\n                style += `font-size:${pen.fontSize * scale}px;`;\n            }\n        }\n        style += `color:${getTextColor(pen, this.store)};`;\n        if (pen.fontStyle) {\n            style += `font-style: ${pen.fontStyle};`;\n        }\n        if (pen.fontWeight) {\n            style += `font-weight: ${pen.fontWeight};`;\n        }\n        if (pen.textLeft) {\n            style += `margin-left:${scale > 1\n                ? pen.textLeft * font_scale\n                : (pen.textLeft * font_scale) / scale}px;`;\n        }\n        if (pen.textTop) {\n            style += `margin-top:${scale > 1\n                ? pen.textTop * font_scale\n                : (pen.textTop * font_scale) / scale}px;`;\n        }\n        if (pen.lineHeight) {\n            style += `line-height:${scale > 1\n                ? pen.fontSize * pen.lineHeight * scale\n                : pen.fontSize * pen.lineHeight * font_scale}px;`;\n        }\n        if (pen.textHeight) {\n            style += `height:${scale > 1\n                ? pen.textHeight * font_scale * scale\n                : pen.textHeight * font_scale}px;`;\n        }\n        else {\n            let tem = pen.calculative.worldRect.height / scale;\n            if (tem < 0) {\n                tem = 0;\n            }\n            let height = pen.fontSize * scale < 12 ? tem * font_scale : tem * scale * font_scale;\n            if (height < pen.fontSize * pen.lineHeight * scale) {\n                height = pen.fontSize * pen.lineHeight * scale;\n                style += `top:-${height / 2}px;`;\n            }\n            style += `height:${height}px;`;\n        }\n        let _textWidth = null;\n        if (pen.textWidth) {\n            _textWidth =\n                pen.textWidth < 1 && pen.textWidth > -1\n                    ? pen.textWidth * pen.calculative.worldRect.width\n                    : pen.textWidth;\n            if (pen.whiteSpace !== 'pre-line') {\n                if (_textWidth < pen.fontSize) {\n                    style += `width:${pen.fontSize * 1.2 * font_scale}px;`;\n                }\n                else {\n                    style += `width:${scale > 1\n                        ? _textWidth * font_scale * scale\n                        : _textWidth * font_scale}px;`;\n                }\n            }\n        }\n        else {\n            if (pen.whiteSpace === undefined || pen.whiteSpace === 'break-all') {\n                let tem = (pen.calculative.worldTextRect.width || 12) / scale; //pen.width / scale - ( pen.textLeft || 0);\n                if (tem < 0) {\n                    tem = 0;\n                }\n                style += `width:${pen.fontSize * scale < 12 ? tem * font_scale : tem * scale}px;`;\n            }\n            // if (pen.whiteSpace === 'pre-line') {\n            //   //回车换行\n            //   style += `overflow: visible;`;\n            // }\n        }\n        if (pen.whiteSpace) {\n            if (pen.whiteSpace === 'pre-line') {\n                style += `white-space:pre;`;\n                // if (!pen.textAlign) {\n                //   style += `align-items: center;`;\n                // }\n            }\n            else {\n                style += `white-space:${pen.whiteSpace};`;\n                if (pen.whiteSpace === 'nowrap') {\n                    div_style += 'display:contents;';\n                }\n            }\n        }\n        if (pen.whiteSpace !== 'nowrap') {\n            let textWidth = pen.fontSize * 1.2 * pen.text.length;\n            let contentWidth = (_textWidth || pen.calculative.worldRect.width / scale) *\n                Math.floor(pen.calculative.worldRect.height /\n                    scale /\n                    (pen.lineHeight * pen.fontSize));\n            if (textWidth > contentWidth) {\n                style += 'justify-content: start;';\n            }\n        }\n        sheet.deleteRule(0);\n        sheet.deleteRule(0);\n        sheet.insertRule(`.meta2d-input\n      .input-div{\n        resize:none;border:none;outline:none;background:transparent;position:absolute;flex-grow:1;height:100%;width: 100%;position:absolute;left:0;top:0;display:flex;flex-direction: column;cursor: text;${style}}`);\n        sheet.insertRule(`.input-div div{${div_style}}`);\n        // sheet.insertRule(`.meta2d-input .input-div-font{${style_font}}`);\n    };\n    convertSpecialCharacter(str) {\n        var arrEntities = { lt: '<', gt: '>', nbsp: ' ', amp: '&', quot: '\"' };\n        return str.replace(/&(lt|gt|nbsp|amp|quot);/gi, function (all, t) {\n            return arrEntities[t];\n        });\n    }\n    hideInput = () => {\n        this.externalElements.style.zIndex = '5';\n        if (this.inputParent.style.display === 'flex') {\n            this.inputParent.style.display = 'none';\n            const pen = this.store.pens[this.inputDiv.dataset.penId];\n            if (!pen) {\n                return;\n            }\n            pen.calculative.text = pen.text;\n            this.inputDiv.dataset.value = this.inputDiv.innerHTML\n                .replace(/\\<div\\>/g, '\\n')\n                .replace(/\\<\\/div\\>/g, '')\n                .replace(/\\<br\\>/g, '')\n                .replace(/&nbsp;/g, ' ')\n                .replace(/(<([^>]+)>)/gi, '');\n            this.inputDiv.dataset.value = this.convertSpecialCharacter(this.inputDiv.dataset.value);\n            if (pen.onInput) {\n                pen.onInput(pen, this.inputDiv.dataset.value);\n            }\n            else if (pen.text !== this.inputDiv.dataset.value) {\n                const initPens = [deepClone(pen, true)];\n                pen.text = this.inputDiv.dataset.value;\n                pen.calculative.text = pen.text;\n                this.inputDiv.dataset.penId = undefined;\n                if (pen.text && pen.textAutoAdjust && !pen.parentId) {\n                    calcTextAutoWidth(pen);\n                }\n                calcTextRect(pen);\n                this.patchFlags = true;\n                this.pushHistory({\n                    type: EditType.Update,\n                    pens: [deepClone(pen, true)],\n                    initPens,\n                });\n                this.store.emitter.emit('change', pen);\n                this.store.emitter.emit('valueUpdate', pen);\n            }\n            else if (pen.text === this.inputDiv.dataset.value && pen.calculative.textLines.length == 0) {\n                calcTextRect(pen);\n            }\n            this.initTemplateCanvas([pen]);\n        }\n        this.inputDiv.dataset.penId = undefined;\n        this.dropdown.style.display = 'none';\n        this.inputDiv.dataset.isInput = 'false';\n        this.inputDiv.contentEditable = 'false';\n        this.render();\n    };\n    createInput() {\n        this.inputParent.classList.add('meta2d-input');\n        // this.inputRight.classList.add('right');\n        this.inputDiv.classList.add('input-div');\n        this.inputParent.appendChild(this.inputDiv);\n        // this.inputParent.appendChild(this.inputRight);\n        this.dropdown.onmouseleave = () => {\n            this.store.hover = null;\n        };\n        this.inputParent.appendChild(this.dropdown);\n        this.externalElements.appendChild(this.inputParent);\n        this.inputParent.onmousedown = this.stopPropagation;\n        this.inputDiv.onmousedown = this.stopPropagation;\n        this.inputDiv.contentEditable = 'false';\n        // this.inputRight.onmousedown = this.stopPropagation;\n        this.dropdown.onmousedown = this.stopPropagation;\n        // this.inputRight.style.transform = 'rotate(135deg)';\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le.com') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        if (!sheet) {\n            const style = document.createElement('style');\n            style.title = 'le5le.com';\n            document.head.appendChild(style);\n            sheet = style.sheet;\n            sheet.insertRule('.meta2d-input{display:none;position:absolute;outline:none;align-items: center;}');\n            sheet.insertRule('.meta2d-input textarea{resize:none;border:none;outline:none;background:transparent;flex-grow:1;height:100%;left:0;top:0}');\n            sheet.insertRule('.meta2d-input .right{width:10px;height:10px;flex-shrink:0;border-top: 1px solid;border-right: 1px solid;margin-right: 5px;transition: all .3s cubic-bezier(.645,.045,.355,1);position:absolute;right:1px;}');\n            sheet.insertRule('.meta2d-input ul{position:absolute;top:100%;margin-top:4px; width:calc(100% + 10px);min-height:30px;border-radius: 2px;box-shadow: 0 2px 8px #00000026;list-style-type: none;background-color: #fff;padding: 4px 0;max-height: 105px;overflow-y: auto;}');\n            sheet.insertRule('.meta2d-input ul li{padding: 5px 12px;line-height: 22px;white-space: nowrap;cursor: pointer;}');\n            sheet.insertRule('.meta2d-input ul li:hover{background: #eeeeee;}');\n            sheet.insertRule(`.input-div::-webkit-scrollbar {display:none}`);\n            sheet.insertRule(`.input-div{scrollbar-width: none;}`);\n            sheet.insertRule('.meta2d-input .input-div{resize:none;border:none;outline:none;background:transparent;flex-grow:1;height:100%;width: 100%;left:0;top:0;display:flex;text-align: center;justify-content: center;flex-direction: column;}');\n            sheet.insertRule(`.input-div div{}`);\n        }\n        this.inputDiv.onfocus = (e) => {\n            if (navigator.userAgent.includes('Firefox')) {\n                if (!e.target.innerText) {\n                    let left = this.inputDiv.offsetWidth / 2;\n                    let inputDivStyle = window.getComputedStyle(this.inputDiv, null);\n                    if (inputDivStyle.textAlign !== 'center') {\n                        left = 0;\n                    }\n                    this.inputDiv.innerHTML = `<br style=\"margin-left:${left}px;margin-top:4px;\" />`;\n                }\n            }\n            else {\n                //无文本时，光标确保居中\n                if (!e.target.innerText) {\n                    let inputDivStyle = window.getComputedStyle(this.inputDiv, null);\n                    if (inputDivStyle.justifyContent === 'center') {\n                        this.inputDiv.style.paddingTop = ` ${this.inputDiv.offsetHeight / 2 -\n                            parseFloat(inputDivStyle.lineHeight) / 2}px`;\n                    }\n                }\n                else {\n                    this.inputDiv.style.paddingTop = '';\n                }\n            }\n        };\n        this.inputDiv.onblur = () => {\n            setTimeout(() => {\n                this.hideInput();\n            }, 300);\n        };\n        this.inputDiv.oninput = (e) => {\n            const pen = this.store.pens[this.inputDiv.dataset.penId];\n            if (pen && pen.inputType === 'number') {\n                const value = e.target.innerText;\n                const numericValue = value.replace(/[^0-9]/g, ''); // 移除非数字字符\n                // 如果输入的值不是纯数字，则替换为纯数字\n                if (value !== numericValue) {\n                    e.preventDefault();\n                    e.target.innerText = numericValue;\n                }\n            }\n            // //无文本时，光标确保居中\n            if (navigator.userAgent.includes('Firefox')) {\n                if (!e.target.innerText.trim()) {\n                    let left = this.inputDiv.offsetWidth / 2;\n                    let inputDivStyle = window.getComputedStyle(this.inputDiv, null);\n                    if (inputDivStyle.textAlign !== 'center') {\n                        left = 0;\n                    }\n                    this.inputDiv.innerHTML = `<br style=\"margin-left:${left}px;margin-top:4px;\" />`;\n                }\n            }\n            else {\n                if (!e.target.innerText) {\n                    let inputDivStyle = window.getComputedStyle(this.inputDiv, null);\n                    if (inputDivStyle.justifyContent === 'center') {\n                        this.inputDiv.style.paddingTop = ` ${this.inputDiv.offsetHeight / 2 -\n                            parseFloat(inputDivStyle.lineHeight) / 2}px`;\n                    }\n                }\n                else {\n                    this.inputDiv.style.paddingTop = '';\n                }\n            }\n            this.store.emitter.emit('input', pen);\n        };\n        this.inputDiv.onclick = (e) => {\n            e.stopPropagation();\n            const pen = this.store.pens[this.inputDiv.dataset.penId];\n            if (this.dropdown.style.display === 'block') {\n                this.dropdown.style.display = 'none';\n                // this.inputRight.style.transform = 'rotate(135deg)';\n            }\n            else if (pen?.dropdownList && this.store.data.locked) {\n                this.dropdown.style.display = 'block';\n                // this.inputRight.style.transform = 'rotate(315deg)';\n            }\n            this.store.emitter.emit('clickInput', pen);\n        };\n        this.inputDiv.onkeyup = (e) => {\n            this.setDropdownList(true);\n            const pen = this.store.pens[this.inputDiv.dataset.penId];\n            this.store.emitter.emit('input', { pen, text: e.key });\n            e.stopPropagation();\n        };\n        this.inputDiv.onkeydown = (e) => {\n            e.stopPropagation();\n        };\n        this.inputDiv.onmousedown = this.stopPropagation;\n        this.inputDiv.onwheel = (e) => {\n            e.stopPropagation();\n        };\n        this.inputDiv.onpaste = (e) => {\n            e.preventDefault();\n            let text = '';\n            if (e.clipboardData && e.clipboardData.getData) {\n                text = e.clipboardData.getData('text/plain');\n            }\n            document.execCommand('insertHTML', false, text);\n        };\n    }\n    clearDropdownList() {\n        if (this.dropdown.hasChildNodes()) {\n            for (let i = 0; i < this.dropdown.childNodes.length; i++) {\n                this.dropdown.childNodes[i].remove();\n                --i;\n            }\n        }\n    }\n    setDropdownList = (search) => {\n        this.clearDropdownList();\n        const pen = this.store.pens[this.inputDiv.dataset.penId];\n        if (!this.store.data.locked && !['tablePlus'].includes(pen.name)) {\n            return;\n        }\n        this.dropdown.style.display = 'block';\n        // this.inputRight.style.display = 'block';\n        // setTimeout(() => {\n        //   this.inputRight.style.transform = 'rotate(315deg)';\n        //   (this.inputRight.style as any).zoom = this.store.data.scale;\n        // });\n        if (!pen || !pen.dropdownList) {\n            this.dropdown.style.display = 'none';\n            // this.inputRight.style.display = 'none';\n            // this.inputRight.style.transform = 'rotate(135deg)';\n            return;\n        }\n        if (!pen.dropdownList.length) {\n            const none = document.createElement('div');\n            none.innerText = 'None';\n            none.style.padding = '5px 12px';\n            none.style.color = '#ddd';\n            this.dropdown.appendChild(none);\n            return;\n        }\n        const text = this.inputDiv.innerHTML\n            .replace(/\\<div\\>/g, '\\n')\n            .replace(/\\<\\/div\\>/g, '')\n            .replace(/\\<br\\>/g, '');\n        let i = 0;\n        for (const item of pen.dropdownList) {\n            const t = typeof item === 'string' ? item : item.text;\n            if (search && text) {\n                if (t.includes(text)) {\n                    // 过滤\n                    this.dropdownAppendOption(t, i);\n                }\n            }\n            else {\n                this.dropdownAppendOption(t, i);\n            }\n            ++i;\n        }\n        if (!this.dropdown.hasChildNodes()) {\n            const none = document.createElement('div');\n            none.innerText = 'None';\n            none.style.padding = '5px 12px';\n            none.style.color = '#ddd';\n            this.dropdown.appendChild(none);\n        }\n    };\n    /**\n     * 添加一个选项到 dropdown dom 中\n     * @param text 选项文字\n     * @param index 选项索引\n     */\n    dropdownAppendOption(text, index) {\n        const li = document.createElement('li');\n        li.onwheel = this.stopPropagation;\n        li.innerText = text;\n        li.style.overflow = 'hidden';\n        li.style.textOverflow = 'ellipsis';\n        li.title = text;\n        li.style.zoom = this.store.data.scale;\n        li.onmousedown = this.stopPropagation;\n        li.dataset.i = index + '';\n        li.onclick = this.selectDropdown;\n        const pen = this.store.pens[this.inputDiv.dataset.penId];\n        li.onmouseenter = () => {\n            li.style.background = pen.dropdownHoverBackground || this.store.styles[\"activeBg\"] || '#eee';\n            li.style.color = pen.dropdownHoverColor || '#bdc7db';\n        };\n        li.onmouseleave = () => {\n            li.style.background = pen.dropdownBackground || this.store.styles[\"popContentBg\"] || '#fff';\n            li.style.color = pen.dropdownColor || '#bdc7db';\n        };\n        this.dropdown.appendChild(li);\n    }\n    selectDropdown = (e) => {\n        const li = e.target;\n        const pen = this.store.pens[this.inputDiv.dataset.penId];\n        if (!li || !pen || !pen.dropdownList) {\n            return;\n        }\n        const index = +li.dataset.i;\n        const dropdown = pen.dropdownList[index];\n        if (!dropdown) {\n            return;\n        }\n        const initPens = [deepClone(pen, true)];\n        if (typeof dropdown === 'object') {\n            this.updateValue(pen, { ...dropdown });\n            pen.calculative.text = undefined;\n            this.calcActiveRect();\n        }\n        else {\n            pen.text = dropdown + '';\n        }\n        this.inputDiv.innerText = pen.text;\n        // this.dropdown.style.display = 'none';\n        // this.inputRight.style.transform = 'rotate(135deg)';\n        this.hideInput();\n        this.pushHistory({\n            type: EditType.Update,\n            pens: [deepClone(pen, true)],\n            initPens,\n        });\n        this.render();\n        this.store.emitter.emit('change', pen);\n        this.store.emitter.emit('valueUpdate', pen);\n    };\n    find(idOrTag) {\n        return this.store.data.pens.filter((pen) => {\n            return pen.id == idOrTag || (pen.tags && pen.tags.indexOf(idOrTag) > -1);\n        });\n    }\n    findOne(idOrTag) {\n        return this.store.data.pens.find((pen) => {\n            return pen.id == idOrTag || (pen.tags && pen.tags.indexOf(idOrTag) > -1);\n        });\n    }\n    changePenId(oldId, newId) {\n        if (oldId === newId) {\n            return;\n        }\n        const pen = this.store.pens[oldId];\n        if (!pen) {\n            return;\n        }\n        if (this.store.pens[newId]) {\n            return;\n        }\n        // 若新画笔不存在\n        pen.id = newId;\n        this.store.pens[newId] = this.store.pens[oldId];\n        // dom 节点，需要更改 id\n        pen.onChangeId?.(pen, oldId, newId);\n        delete this.store.pens[oldId];\n        // 父子\n        if (pen.parentId) {\n            const parent = this.store.pens[pen.parentId];\n            const index = parent.children?.findIndex((id) => id === oldId);\n            index !== -1 && parent.children?.splice(index, 1, newId);\n        }\n        pen.children?.forEach((childId) => {\n            const child = this.store.pens[childId];\n            child.parentId = newId;\n        });\n        //form表单关系\n        if (pen.formId) {\n            pen.followers.forEach((id) => {\n                const followerPen = this.store.pens[id];\n                followerPen.formId = newId;\n            });\n        }\n        // 连接关系\n        if (pen.type === PenType.Line) {\n            // TODO: 仍然存在 节点类型的 连线，此处判断需要更改\n            this.changeNodeConnectedLine(oldId, pen, this.store.data.pens);\n        }\n        else {\n            this.changeLineAnchors(oldId, pen, this.store.data.pens);\n            pen.connectedLines?.forEach(({ lineId }) => {\n                const line = this.store.pens[lineId];\n                calcWorldAnchors(line);\n            });\n        }\n        //锚点\n        pen.anchors?.forEach((anchor) => anchor.penId = newId);\n        pen.calculative.worldAnchors?.forEach((anchor) => anchor.penId = newId);\n    }\n    updateValue(pen, data) {\n        const penRect = this.getPenRect(pen);\n        const oldName = pen.name;\n        Object.assign(pen, data);\n        // data 可能没有 name 属性\n        const isChangedName = oldName !== pen.name; // name changed\n        data.newId && this.changePenId(pen.id, data.newId);\n        let willUpdatePath = false;\n        let willCalcTextRect = false;\n        let willPatchFlagsPenRect = false; // 是否需要重新计算世界坐标\n        let willCalcIconRect = false; // 是否需要重现计算 icon 区域\n        let willSetPenRect = false; // 是否重新 setPenRect\n        let containIsBottom = false; // 是否包含 isBottom 属性修改\n        let oldRotate = undefined;\n        let willRenderImage = false; // 是否需要重新渲染图片\n        for (const k in data) {\n            // 单属性\n            if (k.indexOf('.') === -1) {\n                if (k === 'rotate') {\n                    if (pen.disableRotate) { //当图元禁止旋转时不重新设置旋转角度\n                        pen.rotate = pen.calculative.rotate || 0;\n                    }\n                    else {\n                        oldRotate = pen.calculative.rotate || 0;\n                    }\n                }\n                else if (k === 'canvasLayer' || k === 'isBottom' || k === 'showChild') {\n                    containIsBottom = true;\n                }\n                else if (k === 'image') {\n                    willRenderImage = true;\n                }\n                if (typeof pen[k] !== 'object' || k === 'lineDash') {\n                    if (!pen.disableRotate || k !== 'rotate') { //当图元禁止旋转时不重新设置旋转角度\n                        pen.calculative[k] = data[k];\n                    }\n                }\n                if (needCalcTextRectProps.includes(k)) {\n                    willCalcTextRect = true;\n                }\n                if (['name', 'borderRadius', 'lineSmooth', 'close'].includes(k)) {\n                    willUpdatePath = true;\n                }\n                if (needSetPenProps.includes(k)) {\n                    willSetPenRect = true;\n                }\n                if (needPatchFlagsPenRectProps.includes(k)) {\n                    willPatchFlagsPenRect = true;\n                }\n                if (needCalcIconRectProps.includes(k)) {\n                    willCalcIconRect = true;\n                }\n                if (pen.image && pen.name !== 'gif' && ['globalAlpha', 'flipY', 'flipX', 'x', 'y', 'width', 'height', 'iconWidth', 'iconHeight', 'imageRatio', 'iconLeft', 'iconTop', 'iconAlign', 'rotate', 'visible'].includes(k)) {\n                    willRenderImage = true;\n                }\n            }\n            else {\n                // 复合属性，如abc.def.ghi\n                delete pen[k];\n                setter(pen, k, data[k]);\n            }\n            // anchors 或者 anchors.x都去执行\n            if (k.split('.')[0] === 'anchors') {\n                calcWorldAnchors(pen);\n            }\n        }\n        this.setCalculativeByScale(pen); // 该方法计算量并不大，所以每次修改都计算一次\n        if (isChangedName) {\n            pen.onDestroy?.(pen);\n            clearLifeCycle(pen);\n            // 后续代码会重算 path2D\n        }\n        if (willSetPenRect) {\n            const rect = {\n                x: data.x ?? penRect.x,\n                y: data.y ?? penRect.y,\n                width: data.width ?? penRect.width,\n                height: data.height ?? penRect.height,\n            };\n            this.setPenRect(pen, rect, false);\n            this.updateLines(pen, true);\n            if (this.store.active &&\n                this.store.active.length &&\n                pen.id === this.store.active[0].id) {\n                this.calcActiveRect();\n            }\n        }\n        else if (willPatchFlagsPenRect) {\n            this.updatePenRect(pen);\n        }\n        else {\n            willCalcTextRect && calcTextRect(pen);\n            willCalcIconRect && calcIconRect(this.store.pens, pen);\n            if (willUpdatePath) {\n                globalStore.path2dDraws[pen.name] &&\n                    this.store.path2dMap.set(pen, globalStore.path2dDraws[pen.name](pen));\n            }\n        }\n        // 若同时设置 x,y,width,height 与 rotate ，先 setPenRect ，再计算 rotate\n        if (oldRotate !== undefined) {\n            const currentRotate = pen.calculative.rotate;\n            pen.calculative.rotate = oldRotate;\n            // TODO: rotatePen 会执行 updatePenRect ，上面已经执行 updatePenRect\n            this.rotatePen(pen, currentRotate - oldRotate, pen.calculative.worldRect);\n        }\n        if (data.image || data.backgroundImage || data.strokeImage) {\n            pen.calculative.image = undefined;\n            pen.calculative.backgroundImage = undefined;\n            pen.calculative.strokeImage = undefined;\n            this.loadImage(pen);\n        }\n        if (data.lineGradientColors) {\n            pen.calculative.lineGradient = undefined;\n            pen.calculative.gradientColorStop = undefined;\n        }\n        if (data.gradientColors) {\n            pen.calculative.gradient = undefined;\n            pen.calculative.radialGradient = undefined;\n        }\n        if (data.gradientRadius) {\n            pen.calculative.gradient = undefined;\n            pen.calculative.radialGradient = undefined;\n        }\n        if (data.animateLineWidth) {\n            pen.calculative.gradientAnimatePath = undefined;\n        }\n        if (data.gradientSmooth) {\n            pen.calculative.gradientAnimatePath = undefined;\n        }\n        if (containIsBottom) {\n            this.canvasImage.init();\n            this.canvasImageBottom.init();\n        }\n        else if (willRenderImage) {\n            // 存在先有 image 后无 image 的情况\n            // if (pen.isBottom) {\n            //   this.canvasImageBottom.init();\n            // } else {\n            //   this.canvasImage.init();\n            // }\n            if (pen.canvasLayer === undefined) {\n                pen.canvasLayer = CanvasLayer.CanvasImageBottom;\n                pen.calculative.canvasLayer = CanvasLayer.CanvasImageBottom;\n            }\n            if (pen.canvasLayer === CanvasLayer.CanvasImageBottom) {\n                this.canvasImageBottom.init();\n            }\n            else if (pen.canvasLayer === CanvasLayer.CanvasImage) {\n                this.canvasImage.init();\n            }\n        }\n        // else {\n        //   this.initImageCanvas([pen]);\n        // }\n        // if (data.template !== undefined || pen.template) {\n        //   this.initTemplateCanvas([pen]);\n        // }\n        if (data.canvasLayer !== undefined ||\n            pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n            this.initTemplateCanvas([pen]);\n        }\n        if (data.zIndex !== undefined) {\n            pen.calculative.singleton?.div &&\n                setElemPosition(pen, pen.calculative.singleton.div);\n        }\n    }\n    /**\n     * 执行 pen ，以及 pen 的子孙节点的 onResize 生命周期函数\n     */\n    execPenResize(pen) {\n        pen.onResize?.(pen);\n        pen.children?.forEach((chlidId) => {\n            const child = this.store.pens[chlidId];\n            child && this.execPenResize(child);\n        });\n    }\n    setPenRect(pen, rect, render = true) {\n        if (pen.parentId) {\n            // 子节点的 rect 值，一定得是比例值\n            Object.assign(pen, rect);\n        }\n        else {\n            const { origin, scale } = this.store.data;\n            pen.x = origin.x + rect.x * scale;\n            pen.y = origin.y + rect.y * scale;\n            pen.width = rect.width * scale;\n            pen.height = rect.height * scale;\n        }\n        this.updatePenRect(pen);\n        this.execPenResize(pen);\n        render && this.render();\n    }\n    getPenRect(pen, origin = this.store.data.origin, scale = this.store.data.scale) {\n        if (!pen) {\n            return;\n        }\n        if (pen.parentId) {\n            // 子节点的 rect 只与父节点 rect 有关\n            return {\n                x: pen.x,\n                y: pen.y,\n                width: pen.width,\n                height: pen.height,\n            };\n        }\n        return {\n            x: (pen.x - origin.x) / scale,\n            y: (pen.y - origin.y) / scale,\n            width: pen.width / scale,\n            height: pen.height / scale,\n        };\n    }\n    toPng(padding = 2, callback, containBkImg = false, maxWidth) {\n        const rect = getRect(this.store.data.pens);\n        const _scale = this.store.data.scale;\n        if (!isFinite(rect.width)) {\n            throw new Error('can not to png, because width is not finite');\n        }\n        const oldRect = deepClone(rect);\n        const storeData = this.store.data;\n        // TODO: 目前背景颜色优先级更高\n        const isDrawBkImg = containBkImg && this.store.bkImg;\n        // 主体在背景的右侧，下侧\n        let isRight = false, isBottom = false;\n        if (isDrawBkImg) {\n            rect.x += storeData.x;\n            rect.y += storeData.y;\n            calcRightBottom(rect);\n            if (rectInRect(rect, this.canvasRect, true)) {\n                // 全部在区域内，那么 rect 就是 canvasRect\n                Object.assign(rect, this.canvasRect);\n            }\n            else {\n                // 合并区域\n                const mergeArea = getRectOfPoints([\n                    ...rectToPoints(rect),\n                    ...rectToPoints(this.canvasRect),\n                ]);\n                Object.assign(rect, mergeArea);\n            }\n            isRight = rect.x === 0;\n            isBottom = rect.y === 0;\n        }\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        //大屏\n        let isV = false;\n        if (width && height && !this.store.data.component) {\n            isV = true;\n        }\n        if (isV) {\n            rect.x = this.store.data.origin.x;\n            rect.y = this.store.data.origin.y;\n            rect.width = width * this.store.data.scale;\n            rect.height = height * this.store.data.scale;\n        }\n        const vRect = deepClone(rect);\n        // 有背景图，也添加 padding\n        const p = formatPadding(padding);\n        rect.x -= p[3] * _scale;\n        rect.y -= p[0] * _scale;\n        rect.width += (p[3] + p[1]) * _scale;\n        rect.height += (p[0] + p[2]) * _scale;\n        // 扩大图\n        // const scale =\n        //   rect.width > rect.height ? longSide / rect.width : longSide / rect.height;\n        const scale = (maxWidth || 1920) / rect.width;\n        rect.width *= scale;\n        rect.height *= scale;\n        calcRightBottom(rect);\n        const canvas = document.createElement('canvas');\n        canvas.width = rect.width;\n        canvas.height = rect.height;\n        if (canvas.width > 32767 ||\n            canvas.height > 32767 ||\n            (!navigator.userAgent.includes('Firefox') &&\n                canvas.height * canvas.width > 268435456) ||\n            (navigator.userAgent.includes('Firefox') &&\n                canvas.height * canvas.width > 472907776)) {\n            throw new Error('can not to png, because the size exceeds the browser limit');\n        }\n        const ctx = canvas.getContext('2d');\n        // if (window.devicePixelRatio > 1) {\n        //   canvas.width *= window.devicePixelRatio;\n        //   canvas.height *= window.devicePixelRatio;\n        //   canvas.style.width = `${canvas.width / window.devicePixelRatio}`;\n        //   canvas.style.height = `${canvas.height / window.devicePixelRatio}`;\n        //   ctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n        // }\n        ctx.textBaseline = 'middle'; // 默认垂直居中\n        ctx.scale(scale, scale);\n        const background = this.store.data.background || this.store.styles.background;\n        // this.store.data.background || this.store.options.background;\n        if (background && isV) {\n            // 绘制背景颜色\n            ctx.save();\n            ctx.fillStyle = background;\n            ctx.fillRect(0, 0, vRect.width + (p[1] + p[3]) * _scale, vRect.height + (p[0] + p[2]) * _scale);\n            ctx.restore();\n        }\n        if (isDrawBkImg) {\n            if (isV) {\n                ctx.drawImage(this.store.bkImg, p[3] * _scale || 0, p[0] * _scale || 0, vRect.width, vRect.height);\n            }\n            else {\n                const x = rect.x < 0 ? -rect.x : 0;\n                const y = rect.y < 0 ? -rect.y : 0;\n                ctx.drawImage(this.store.bkImg, x, y, this.canvasRect.width, this.canvasRect.height);\n            }\n        }\n        if (background && !isV) {\n            // 绘制背景颜色\n            if (isDrawBkImg) {\n                const x = rect.x < 0 ? -rect.x : 0;\n                const y = rect.y < 0 ? -rect.y : 0;\n                ctx.save();\n                ctx.fillStyle = background;\n                ctx.fillRect(x, y, this.canvasRect.width, this.canvasRect.height);\n                ctx.restore();\n            }\n            else {\n                ctx.save();\n                ctx.fillStyle = background;\n                ctx.fillRect(0, 0, oldRect.width + (p[3] + p[1]) * _scale, oldRect.height + (p[0] + p[2]) * _scale);\n                ctx.restore();\n            }\n        }\n        if (!isDrawBkImg) {\n            ctx.translate(-rect.x, -rect.y);\n        }\n        else {\n            // 平移画布，画笔的 worldRect 不变化\n            if (isV) {\n                // ctx.translate(\n                //   -oldRect.x + p[3] * _scale || 0,\n                //   -oldRect.y + p[0] * _scale || 0\n                // );\n                ctx.translate(-rect.x, -rect.y);\n            }\n            else {\n                ctx.translate((isRight ? storeData.x : -oldRect.x) + p[3] * _scale || 0, (isBottom ? storeData.y : -oldRect.y) + p[0] * _scale || 0);\n            }\n        }\n        for (const pen of this.store.data.pens) {\n            // 不使用 calculative.inView 的原因是，如果 pen 在 view 之外，那么它的 calculative.inView 为 false，但是它的绘制还是需要的\n            if (!isShowChild(pen, this.store) || pen.visible == false) {\n                continue;\n            }\n            if (pen.name === 'combine' && !pen.draw) {\n                continue;\n            }\n            // TODO: hover 待考虑，若出现再补上\n            const { active } = pen.calculative;\n            pen.calculative.active = false;\n            if (pen.calculative.img) {\n                renderPenRaw(ctx, pen);\n            }\n            else {\n                renderPen(ctx, pen, true);\n            }\n            pen.calculative.active = active;\n        }\n        if (callback) {\n            canvas.toBlob(callback);\n            return;\n        }\n        return canvas.toDataURL();\n    }\n    activeToPng(padding = 2, maxWidth) {\n        return this.pensToPng(this.store.active, padding, maxWidth);\n    }\n    pensToPng(pens = this.store.active, padding = 2, maxWidth) {\n        if (pens.length === 0) {\n            return;\n        }\n        const allPens = this.getAllByPens(pens);\n        let ids = allPens.map((pen) => pen.id);\n        const rect = getRect(allPens);\n        if (!isFinite(rect.width)) {\n            throw new Error('can not to png, because width is not finite');\n        }\n        const oldRect = deepClone(rect);\n        const p = formatPadding(padding);\n        rect.x -= p[3];\n        rect.y -= p[0];\n        rect.width += p[3] + p[1];\n        rect.height += p[0] + p[2];\n        calcRightBottom(rect);\n        const scale = (maxWidth || rect.width) / rect.width;\n        rect.width *= scale;\n        rect.height *= scale;\n        const canvas = document.createElement('canvas');\n        canvas.width = rect.width;\n        canvas.height = rect.height;\n        if (canvas.width > 32767 ||\n            canvas.height > 32767 ||\n            (!navigator.userAgent.includes('Firefox') &&\n                canvas.height * canvas.width > 268435456) ||\n            (navigator.userAgent.includes('Firefox') &&\n                canvas.height * canvas.width > 472907776)) {\n            throw new Error('can not to png, because the size exceeds the browser limit');\n        }\n        const ctx = canvas.getContext('2d');\n        ctx.textBaseline = 'middle'; // 默认垂直居中\n        ctx.scale(scale, scale);\n        const background = this.store.data.background || this.store.styles.background;\n        // this.store.data.background || this.store.options.background;\n        if (background) {\n            // 绘制背景颜色\n            ctx.save();\n            ctx.fillStyle = background;\n            ctx.fillRect(0, 0, oldRect.width + (p[3] + p[1]), oldRect.height + (p[0] + p[2]));\n            ctx.restore();\n        }\n        // // 平移画布，画笔的 worldRect 不变化\n        ctx.translate(-oldRect.x + p[3], -oldRect.y + p[0]);\n        for (const pen of this.store.data.pens) {\n            if (ids.includes(pen.id)) {\n                // 不使用 calculative.inView 的原因是，如果 pen 在 view 之外，那么它的 calculative.inView 为 false，但是它的绘制还是需要的\n                if (!isShowChild(pen, this.store) || pen.visible == false) {\n                    continue;\n                }\n                if (pen.name === 'combine' && !pen.draw) {\n                    continue;\n                }\n                const { active } = pen.calculative;\n                pen.calculative.active = false;\n                if (pen.calculative.img) {\n                    renderPenRaw(ctx, pen);\n                }\n                else {\n                    renderPen(ctx, pen);\n                }\n                pen.calculative.active = active;\n            }\n        }\n        return canvas.toDataURL();\n    }\n    toggleAnchorMode() {\n        if (!this.hotkeyType) {\n            if (this.store.options.disableAnchor || this.store.hover?.disableAnchor) {\n                return;\n            }\n            this.hotkeyType = HotkeyType.AddAnchor;\n            if (this.store.hover) {\n                this.externalElements.style.cursor = 'pointer';\n            }\n        }\n        else if (this.hotkeyType === HotkeyType.AddAnchor) {\n            this.hotkeyType = HotkeyType.None;\n            if (this.store.hoverAnchor) {\n                this.externalElements.style.cursor = 'vertical-text';\n            }\n            else if (this.store.hover) {\n                this.externalElements.style.cursor = 'move';\n            }\n        }\n        this.patchFlags = true;\n    }\n    addAnchorHand() {\n        if (this.store.activeAnchor &&\n            this.store.active &&\n            this.store.active.length === 1 &&\n            this.store.active[0].type) {\n            const initPens = [deepClone(this.store.active[0], true)];\n            if (!this.store.activeAnchor.prev) {\n                if (!this.store.activeAnchor.next) {\n                    this.store.activeAnchor.next = {\n                        penId: this.store.activeAnchor.penId,\n                        x: this.store.activeAnchor.x + 50,\n                        y: this.store.activeAnchor.y,\n                    };\n                }\n                this.store.activeAnchor.prev = { ...this.store.activeAnchor.next };\n                rotatePoint(this.store.activeAnchor.prev, 180, this.store.activeAnchor);\n                this.initLineRect(this.store.active[0]);\n                this.patchFlags = true;\n            }\n            else if (!this.store.activeAnchor.next) {\n                this.store.activeAnchor.next = { ...this.store.activeAnchor.prev };\n                rotatePoint(this.store.activeAnchor.next, 180, this.store.activeAnchor);\n                this.initLineRect(this.store.active[0]);\n                this.patchFlags = true;\n            }\n            this.pushHistory({\n                type: EditType.Update,\n                pens: [deepClone(this.store.active[0], true)],\n                initPens,\n            });\n        }\n    }\n    removeAnchorHand() {\n        if (this.store.activeAnchor &&\n            this.store.active &&\n            this.store.active.length === 1 &&\n            this.store.active[0].type) {\n            const initPens = [deepClone(this.store.active[0], true)];\n            if (this.hoverType === HoverType.LineAnchorPrev) {\n                this.store.activeAnchor.prev = undefined;\n                this.initLineRect(this.store.active[0]);\n                this.patchFlags = true;\n            }\n            else if (this.hoverType === HoverType.LineAnchorNext) {\n                this.store.activeAnchor.next = undefined;\n                this.initLineRect(this.store.active[0]);\n                this.patchFlags = true;\n            }\n            else {\n                this.store.activeAnchor.prev = undefined;\n                this.store.activeAnchor.next = undefined;\n                this.initLineRect(this.store.active[0]);\n                this.patchFlags = true;\n            }\n            this.pushHistory({\n                type: EditType.Update,\n                pens: [deepClone(this.store.active[0])],\n                initPens,\n            });\n        }\n    }\n    toggleAnchorHand() {\n        if (this.store.active.length === 1 &&\n            this.store.active[0].type &&\n            this.store.activeAnchor) {\n            if (!this.store.activeAnchor.prevNextType) {\n                this.store.activeAnchor.prevNextType = PrevNextType.Mirror;\n            }\n            this.store.activeAnchor.prevNextType =\n                (this.store.activeAnchor.prevNextType + 1) % 3;\n        }\n    }\n    gotoView(x, y) {\n        let rect = getRect(this.store.data.pens);\n        if (!isFinite(rect.width)) {\n            throw new Error('can not move view, because width is not finite');\n        }\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        if (width && height) {\n            //大屏\n            rect = {\n                x: this.store.data.origin.x,\n                y: this.store.data.origin.y,\n                width: width * this.store.data.scale,\n                height: height * this.store.data.scale,\n            };\n        }\n        this.store.data.x = this.canvas.clientWidth / 2 - x * rect.width - rect.x;\n        this.store.data.y = this.canvas.clientHeight / 2 - y * rect.height - rect.y;\n        this.onMovePens();\n        this.canvasTemplate.init();\n        this.canvasImage.init();\n        this.canvasImageBottom.init();\n        this.render();\n    }\n    showMagnifier() {\n        this.magnifierCanvas.canvas.style.zIndex = '100';\n        this.externalElements.style.zIndex = '101';\n        this.magnifierCanvas.magnifier = true;\n        this.magnifierCanvas.updateDomOffscreen();\n        this.externalElements.style.cursor = 'default';\n        this.render();\n    }\n    hideMagnifier() {\n        this.magnifierCanvas.canvas.style.zIndex = '5';\n        this.externalElements.style.zIndex = '5';\n        this.magnifierCanvas.magnifier = false;\n        this.externalElements.style.cursor = 'default';\n        this.magnifierCanvas.render();\n        this.render();\n    }\n    inFitBorder = (pt) => {\n        let current = undefined;\n        const width = (this.store.data.width || this.store.options.width);\n        const height = (this.store.data.height || this.store.options.height);\n        let point = {\n            x: (pt.x - this.store.data.origin.x) / this.store.data.scale,\n            y: (pt.y - this.store.data.origin.y) / this.store.data.scale,\n        };\n        const fit = this.canvasImage.activeFit;\n        // if (pointInRect(point, { x:fit.x-0.01, y:0, width, height })) {\n        this.externalElements.style.cursor = 'default';\n        if (point.y > height * fit.y - 10 && point.y < height * fit.y + 10) {\n            current = 'top';\n            this.externalElements.style.cursor = 'row-resize';\n        }\n        if (point.y > height * (fit.y + fit.height) - 10 && point.y < height * (fit.y + fit.height) + 10) {\n            current = 'bottom';\n            this.externalElements.style.cursor = 'row-resize';\n        }\n        if (point.x > width * fit.x - 10 && point.x < width * fit.x) {\n            current = 'left';\n            this.externalElements.style.cursor = 'col-resize';\n        }\n        if (point.x > width * (fit.x + fit.width) - 10 && point.x < width * (fit.x + fit.width) + 10) {\n            current = 'right';\n            this.externalElements.style.cursor = 'col-resize';\n        }\n        // }\n        this.canvasImage.currentFit = current;\n    };\n    showFit() {\n        this.store.data.locked = 0;\n        this.canvasImage.fitFlag = true;\n        this.canvasImage.activeFit = undefined;\n        this.canvasImage.currentFit = undefined;\n        if (!this.store.data.fits) {\n            this.store.data.fits = [];\n        }\n        this.store.data.fits.forEach((fit) => fit.active = false);\n        this.canvasImage.init();\n        this.canvasImage.render();\n    }\n    hideFit() {\n        this.canvasImage.fitFlag = false;\n        this.canvasImage.activeFit = undefined;\n        this.canvasImage.currentFit = undefined;\n        this.canvasImage.init();\n        this.canvasImage.render();\n    }\n    makeFit() {\n        if (this.dragRect.width < 100 && this.dragRect.height < 100) {\n            return;\n        }\n        //将所有当前框选的图元设置到该容器中\n        const pens = this.store.data.pens.filter((pen) => {\n            if (\n            // pen.locked >= LockState.DisableMove ||\n            pen.parentId || pen.isRuleLine) {\n                return false;\n            }\n            if (rectInRect(pen.calculative.worldRect, this.dragRect, true)) {\n                // 先判断在区域内，若不在区域内，则锚点肯定不在框选区域内，避免每条连线过度计算\n                if (pen.type === PenType.Line && !this.store.options.dragAllIn) {\n                    return lineInRect(pen, this.dragRect);\n                }\n                return true;\n            }\n        });\n        if (!pens.length) {\n            return;\n        }\n        const _rect = this.parent.getRect(pens);\n        const scale = this.store.data.scale;\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        let x = (Math.floor(_rect.x) - this.store.data.origin.x) / scale / width;\n        let y = (Math.floor(_rect.y) - this.store.data.origin.y) / scale / height;\n        let rect = {\n            x,\n            y,\n            width: (Math.ceil(_rect.width) + 1) / scale / width,\n            height: (Math.ceil(_rect.height) + 1) / scale / height,\n            children: pens.map(pen => pen.id),\n            id: s8(),\n            active: true\n        };\n        if (rect.x < -0.1) {\n            rect.x = -0.1;\n        }\n        if (rect.y < -0.1) {\n            rect.y = -0.1;\n        }\n        if (rect.width > 0.5) {\n            rect.left = true;\n            rect.right = true;\n            rect.leftValue = (rect.x - 0) * scale * width;\n            rect.rightValue = (1 - (rect.x + rect.width)) * scale * width;\n        }\n        else {\n            if (rect.x < 0.5) {\n                rect.left = true;\n                rect.leftValue = (rect.x - 0) * scale * width;\n            }\n            else {\n                rect.right = true;\n                rect.rightValue = (1 - (rect.x + rect.width)) * scale * width;\n            }\n        }\n        if (rect.leftValue < 1) {\n            rect.leftValue = 0;\n        }\n        if (rect.rightValue < 1) {\n            rect.rightValue = 0;\n        }\n        if (rect.height > 0.5) {\n            rect.top = true;\n            rect.bottom = true;\n            rect.topValue = (rect.y - 0) * scale * height;\n            rect.bottomValue = (1 - (rect.y + rect.height)) * scale * height;\n        }\n        else {\n            if (rect.y < 0.5) {\n                rect.top = true;\n                rect.topValue = (rect.y - 0) * scale * height;\n            }\n            else {\n                rect.bottom = true;\n                rect.bottomValue = (1 - (rect.y + rect.height)) * scale * height;\n            }\n        }\n        if (rect.topValue < 1) {\n            rect.topValue = 0;\n        }\n        if (rect.bottomValue < 1) {\n            rect.bottomValue = 0;\n        }\n        if (!this.store.data.fits) {\n            this.store.data.fits = [];\n        }\n        this.store.data.fits.forEach((fit) => { fit.active = false; });\n        this.store.data.fits.push(rect);\n        this.canvasImage.activeFit = rect;\n        this.store.emitter.emit('fit', rect);\n        this.canvasImage.init();\n        this.canvasImage.render();\n    }\n    updateFit(e) {\n        const scale = this.store.data.scale;\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        let x = (e.x - this.store.data.origin.x) / scale / width;\n        let y = (e.y - this.store.data.origin.y) / scale / height;\n        if (this.canvasImage.currentFit) {\n            const fit = this.canvasImage.activeFit;\n            if (this.canvasImage.currentFit === 'top') {\n                if (y < -0.1) {\n                    y = -0.1;\n                }\n                let gap = y - fit.y;\n                fit.height -= gap;\n                if (fit.height < 0.01) {\n                    fit.height = 0.01;\n                    return;\n                }\n                fit.y = y;\n            }\n            if (this.canvasImage.currentFit === 'bottom') {\n                if (y > 1.1) {\n                    y = 1.1;\n                }\n                fit.height = y - fit.y;\n                if (fit.height <= 0.01) {\n                    fit.height = 0.01;\n                }\n            }\n            if (this.canvasImage.currentFit === 'left') {\n                if (x < -0.1) {\n                    x = -0.1;\n                }\n                let gap = x - fit.x;\n                fit.width -= gap;\n                if (fit.width < 0.01) {\n                    fit.width = 0.01;\n                    return;\n                }\n                fit.x = x;\n            }\n            if (this.canvasImage.currentFit === 'right') {\n                if (x > 1.1) {\n                    x = 1.1;\n                }\n                fit.width = x - fit.x;\n                if (fit.width <= 0.01) {\n                    fit.width = 0.01;\n                }\n            }\n            let rect = {\n                x: fit.x * width * scale + this.store.data.origin.x,\n                y: fit.y * height * scale + this.store.data.origin.y,\n                width: fit.width * width * scale,\n                height: fit.height * height * scale,\n            };\n            calcRightBottom(rect);\n            const pens = this.store.data.pens.filter((pen) => {\n                if (\n                // pen.locked >= LockState.DisableMove ||\n                pen.parentId || pen.isRuleLine) {\n                    return false;\n                }\n                if (rectInRect(pen.calculative.worldRect, rect, true)) {\n                    if (pen.type === PenType.Line && !this.store.options.dragAllIn) {\n                        return lineInRect(pen, rect);\n                    }\n                    return true;\n                }\n            });\n            fit.left = undefined;\n            fit.leftValue = undefined;\n            fit.right = undefined;\n            fit.rightValue = undefined;\n            fit.top = undefined;\n            fit.topValue = undefined;\n            fit.bottom = undefined;\n            fit.bottomValue = undefined;\n            if (fit.width > 0.5) {\n                fit.left = true;\n                fit.right = true;\n                fit.leftValue = (fit.x - 0) * scale * width;\n                fit.rightValue = ((1 - (fit.x + fit.width)) * scale * width);\n            }\n            else {\n                if (fit.x < 0.5) {\n                    fit.left = true;\n                    fit.leftValue = (fit.x - 0) * scale * width;\n                }\n                else {\n                    fit.right = true;\n                    fit.rightValue = ((1 - (fit.x + fit.width)) * scale * width);\n                }\n            }\n            if (Math.abs(fit.leftValue) < 1) {\n                fit.leftValue = 0;\n            }\n            if (Math.abs(fit.rightValue) < 1) {\n                fit.rightValue = 0;\n            }\n            if (fit.height > 0.5) {\n                fit.top = true;\n                fit.bottom = true;\n                fit.topValue = (fit.y - 0) * scale * height;\n                fit.bottomValue = (1 - (fit.y + fit.height)) * scale * height;\n            }\n            else {\n                if (fit.y < 0.5) {\n                    fit.top = true;\n                    fit.topValue = (fit.y - 0) * scale * height;\n                }\n                else {\n                    fit.bottom = true;\n                    fit.bottomValue = (1 - (fit.y + fit.height)) * scale * height;\n                }\n            }\n            if (Math.abs(fit.topValue) < 1) {\n                fit.topValue = 0;\n            }\n            if (Math.abs(fit.bottomValue) < 1) {\n                fit.bottomValue = 0;\n            }\n            fit.children = pens.map(pen => pen.id);\n            this.store.emitter.emit('fit', fit);\n            this.mouseDown.x = e.x;\n            this.mouseDown.y = e.y;\n            this.canvasImage.init();\n            this.canvasImage.render();\n        }\n    }\n    updateFitRect(fit = this.canvasImage.activeFit) {\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        if (fit.left) {\n            if (fit.leftValue) {\n                fit.x = Math.abs(fit.leftValue) < 1 ? fit.leftValue : fit.leftValue / width;\n            }\n            else {\n                fit.x = 0;\n            }\n        }\n        if (fit.right) {\n            if (fit.rightValue) {\n                fit.width = 1 - (Math.abs(fit.rightValue) < 1 ? fit.rightValue : fit.rightValue / width) - fit.x;\n            }\n            else {\n                fit.width = 1 - fit.x;\n            }\n        }\n        if (fit.top) {\n            if (fit.topValue) {\n                fit.y = Math.abs(fit.topValue) < 1 ? fit.topValue : fit.topValue / height;\n            }\n            else {\n                fit.y = 0;\n            }\n        }\n        if (fit.bottom) {\n            if (fit.bottomValue) {\n                fit.height = 1 - (Math.abs(fit.bottomValue) < 1 ? fit.bottomValue : fit.bottomValue / height) - fit.y;\n            }\n            else {\n                fit.height = 1 - fit.y;\n            }\n        }\n        this.canvasImage.init();\n        this.canvasImage.render();\n    }\n    deleteFit(fit = this.canvasImage.activeFit) {\n        if (!fit) {\n            return;\n        }\n        const index = this.store.data.fits.findIndex(item => item.id === fit.id);\n        this.store.data.fits.splice(index, 1);\n        this.canvasImage.activeFit = undefined;\n        this.canvasImage.init();\n        this.canvasImage.render();\n        this.store.emitter.emit('fit', undefined);\n    }\n    calcuActiveFit() {\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        let downX = (this.mouseDown.x - this.store.data.origin.x) / this.store.data.scale / width;\n        let downY = (this.mouseDown.y - this.store.data.origin.y) / this.store.data.scale / height;\n        let idx = -1;\n        let lastActiveIdx = -1;\n        this.store.data.fits?.forEach((fit, index) => {\n            fit.ex = null;\n            fit.ey = null;\n            if (pointInRect({ x: downX, y: downY }, fit)) {\n                idx = index;\n            }\n            ;\n            if (fit.active) {\n                lastActiveIdx = index;\n            }\n        });\n        if (idx !== -1 && idx !== lastActiveIdx) {\n            this.canvasImage.activeFit = this.store.data.fits[idx];\n            this.store.data.fits[idx].active = true;\n            if (lastActiveIdx !== -1) {\n                this.store.data.fits[lastActiveIdx].active = false;\n            }\n            this.store.emitter.emit('fit', this.store.data.fits[idx]);\n        }\n        else if (idx === -1 && lastActiveIdx !== -1) {\n            this.store.data.fits[lastActiveIdx].active = false;\n            this.store.emitter.emit('fit', undefined);\n            this.canvasImage.activeFit = null;\n        }\n        this.inactive();\n        this.canvasImage.init();\n        this.canvasImage.render();\n    }\n    toggleMagnifier() {\n        this.magnifierCanvas.magnifier = !this.magnifierCanvas.magnifier;\n        if (this.magnifierCanvas.magnifier) {\n            this.externalElements.style.cursor = 'default';\n        }\n        this.render();\n    }\n    destroy() {\n        this.scroll && this.scroll.destroy();\n        this.tooltip?.destroy();\n        this.dialog?.destroy();\n        this.title?.destroy();\n        this.popconfirm?.destroy();\n        // ios\n        this.externalElements.removeEventListener('gesturestart', this.onGesturestart);\n        this.externalElements.ondragover = (e) => e.preventDefault();\n        this.externalElements.ondrop = undefined;\n        this.externalElements.ontouchstart = undefined;\n        this.externalElements.ontouchmove = undefined;\n        this.externalElements.ontouchend = undefined;\n        this.externalElements.onmousedown = undefined;\n        this.externalElements.onmousemove = undefined;\n        this.externalElements.onmouseup = undefined;\n        this.externalElements.onmouseleave = undefined;\n        this.externalElements.ondblclick = undefined;\n        switch (this.store.options.keydown) {\n            case KeydownType.Document:\n                document.removeEventListener('keydown', this.onkeydown);\n                document.removeEventListener('keyup', this.onkeyup);\n                break;\n            case KeydownType.Canvas:\n                this.externalElements.removeEventListener('keydown', this.onkeydown);\n                this.externalElements.removeEventListener('keyup', this.onkeyup);\n                break;\n        }\n        document.removeEventListener('copy', this.onCopy);\n        document.removeEventListener('cut', this.onCut);\n        document.removeEventListener('paste', this.onPaste);\n        window && window.removeEventListener('message', this.onMessage);\n        window && window.removeEventListener('resize', this.onResize);\n        window && window.removeEventListener('scroll', this.onScroll);\n        this.parentElement.innerHTML = '';\n    }\n}\n//# sourceMappingURL=canvas.js.map","import { movingSuffix } from '../canvas';\nimport { rectInRect } from '../rect';\nimport { deepClone } from '../utils';\nexport function form(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    if (!pen.onDestroy) {\n        pen.onDestroy = destory;\n        pen.onMove = move;\n        pen.onRotate = move;\n        pen.onMouseEnter = mouseEnter;\n        pen.onMouseLeave = mouseLeave;\n        pen.onMouseMove = mouseMove;\n        pen.onMouseUp = mouseUp;\n        pen.onInput = input;\n    }\n    pen.formId = pen.id;\n    let wr = pen.calculative.borderRadius || 0, hr = wr;\n    const { x, y, width, height, ex, ey } = pen.calculative.worldRect;\n    const { x: textX } = pen.calculative.worldTextRect;\n    if (wr < 1) {\n        wr = width * wr;\n        hr = height * hr;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (height < 2 * r) {\n        r = height / 2;\n    }\n    // let textWidth = -5;\n    // if(pen.text){\n    //   textWidth = getTextWidth(pen.text, pen.calculative.fontSize);\n    // }\n    path.moveTo(x + r, y);\n    // path.lineTo(textX - 5, y);\n    // path.moveTo(textX + textWidth + 5, y);\n    // path.lineTo(textX + textWidth + 5, y);\n    path.arcTo(ex, y, ex, ey, r);\n    path.arcTo(ex, ey, x, ey, r);\n    path.arcTo(x, ey, x, y, r);\n    path.arcTo(x, y, ex, y, r);\n    if (path instanceof Path2D) {\n        return path;\n    }\n}\nfunction getTextWidth(text, fontSize) {\n    // 近似计算\n    const chinese = text.match(/[^\\x00-\\xff]/g) || '';\n    const chineseWidth = chinese.length * fontSize; // 中文占用的宽度\n    const spaces = text.match(/\\s/g) || '';\n    const spaceWidth = spaces.length * fontSize * 0.3; // 空格占用的宽度\n    const otherWidth = (text.length - chinese.length - spaces.length) * fontSize * 0.6; // 其他字符占用的宽度\n    const currentWidth = chineseWidth + spaceWidth + otherWidth;\n    return currentWidth;\n}\nfunction input(pen, text) {\n    pen.text = text;\n    pen.calculative.text = pen.text;\n    // this.inputDiv.dataset.penId = undefined;\n    pen.calculative.canvas.updatePenRect(pen);\n    // this.patchFlags = true;\n    // this.store.emitter.emit('valueUpdate', pen);\n}\nfunction destory(pen) { }\nfunction move(pen) { }\nfunction mouseEnter(pen) {\n    // const activePens = pen.calculative.canvas.store.active;\n    // if(activePens&&activePens.length){\n    //   activePens.forEach((activePen:Pen)=>{\n    //     if(rectInRect(activePen.calculative.worldRect,pen.calculative.worldRect,true)){\n    //       if(!pen.followers){\n    //         pen.followers =[];\n    //       }\n    //       if(!pen.followers.includes(activePen.id)){\n    //         pen.followers.push(activePen.id);\n    //       }\n    //     }\n    //   })\n    // }\n}\nfunction mouseLeave(pen) {\n    const activePens = pen.calculative.canvas.store.active;\n    if (activePens && activePens.length) {\n        activePens.forEach((activePen) => {\n            // if(!rectInRect(activePen.calculative.worldRect,pen.calculative.worldRect,true)){\n            //   if(!pen.followers){\n            //     pen.followers =[];\n            //   }\n            //   if(!pen.followers.includes(activePen.id)){\n            //     pen.followers.push(activePen.id);\n            //   }\n            // }\n            if (pen.followers) {\n                let idx = pen.followers.findIndex((id) => id === activePen.id);\n                if (idx !== -1) {\n                    const movingPen = pen.calculative.canvas.store.pens[activePen.id + movingSuffix];\n                    if (movingPen && movingPen.calculative) {\n                        let isIn = rectInRect(movingPen.calculative.worldRect, pen.calculative.worldRect, true);\n                        if (!isIn) {\n                            pen.followers.splice(idx, 1);\n                            delete activePen.formId;\n                        }\n                    }\n                }\n            }\n        });\n    }\n}\nfunction mouseUp(pen) {\n    const activePens = pen.calculative.canvas.store.active;\n    if (activePens && activePens.length) {\n        activePens.forEach((activePen) => {\n            const movingPen = pen.calculative.canvas.store.pens[activePen.id + movingSuffix];\n            if (movingPen && movingPen.calculative) {\n                let inRect = deepClone(pen.calculative.worldRect);\n                inRect.x -= 1;\n                inRect.y -= 1;\n                inRect.width += 2;\n                inRect.height += 2;\n                if (rectInRect(movingPen.calculative.worldRect, inRect, true)) {\n                    if (!pen.followers) {\n                        pen.followers = [];\n                    }\n                    if (!pen.followers.includes(activePen.id)) {\n                        pen.followers.push(activePen.id);\n                    }\n                    activePen.formId = pen.id;\n                }\n            }\n        });\n    }\n}\nfunction mouseMove(pen, e) {\n    //  console.log(e,pen.calculative.canvas.store.active);\n}\n//更新表单数据\nexport function updateFormData(pen, key) {\n    if (pen.formId && pen.formKey && pen.formValue) {\n        //表单图元更新值\n        const leaderPen = pen.calculative.canvas.store.pens[pen.formId];\n        if (leaderPen) {\n            if (!leaderPen.formData) {\n                leaderPen.formData = {};\n            }\n            leaderPen.formData[pen.formKey] = pen[pen.formValue];\n        }\n    }\n}\n//提交表单\nexport function submit(pen) {\n}\n//重置表单\nexport function reset(pen) {\n    const formPen = pen.calculative.canvas.store.pens[pen.formId];\n    formPen.followers.forEach((id) => {\n        const follower = pen.calculative.canvas.store.pens[id];\n        if (follower.formId && follower.formKey && formPen.formData[follower.formKey]) {\n            const value = follower[follower.formValue];\n            let data = '';\n            if (Array.isArray(value)) {\n                data = [];\n            }\n            // follower[follower.formValue] = data;\n            // follower.calculative[follower.formValue] = data;\n            pen.calculative.canvas.parent.setValue({ id: follower.id, [follower.formValue]: data }, { render: false, doEvent: false, history: false });\n        }\n    });\n    formPen.formData = {};\n    pen.calculative.canvas.parent.render();\n}\n//# sourceMappingURL=form.js.map","import { setElemPosition } from '../pen';\nexport const gifsList = {};\nexport function gif(pen) {\n    if (!pen.onDestroy) {\n        pen.onDestroy = destory;\n        pen.onMove = move;\n        pen.onResize = resize;\n        pen.onRotate = move;\n        pen.onValue = value;\n        pen.onChangeId = changeId;\n    }\n    const path = new Path2D();\n    if (!pen.image) {\n        return;\n    }\n    const meta2dId = pen.calculative.canvas.store.id;\n    const id = meta2dId + '-' + pen.id;\n    if (!gifsList[id]) {\n        const img = new Image();\n        img.crossOrigin = 'anonymous';\n        img.src = pen.image;\n        if (pen.calculative.canvas.parent.store.options.cdn &&\n            !(pen.image.startsWith('http') ||\n                pen.image.startsWith('//') ||\n                pen.image.startsWith('data:image'))) {\n            img.src = pen.calculative.canvas.parent.store.options.cdn + pen.image;\n        }\n        gifsList[id] = img; // 提前赋值，避免重复创建\n        img.onload = () => {\n            if (gifsList[id] !== img) {\n                return;\n            }\n            pen.calculative.img = img;\n            pen.calculative.imgNaturalWidth = img.naturalWidth || pen.iconWidth;\n            pen.calculative.imgNaturalHeight = img.naturalHeight || pen.iconHeight;\n            // pen.calculative.canvas.externalElements?.appendChild(img);\n            pen.calculative.canvas.externalElements?.parentElement.appendChild(img);\n            setImagePosition(pen, img);\n        };\n    }\n    if (pen.calculative.patchFlags && gifsList[id]) {\n        setImagePosition(pen, gifsList[id]);\n    }\n    return path;\n}\nfunction destory(pen) {\n    const meta2dId = pen.calculative.canvas.store.id;\n    const id = meta2dId + '-' + pen.id;\n    if (gifsList[id]) {\n        gifsList[id].remove();\n        gifsList[id] = undefined;\n    }\n}\nfunction move(pen) {\n    const meta2dId = pen.calculative.canvas.store.id;\n    const id = meta2dId + '-' + pen.id;\n    if (!gifsList[id]) {\n        return;\n    }\n    setImagePosition(pen, gifsList[id]);\n}\nfunction resize(pen) {\n    const meta2dId = pen.calculative.canvas.store.id;\n    const id = meta2dId + '-' + pen.id;\n    if (!gifsList[id]) {\n        return;\n    }\n    setImagePosition(pen, gifsList[id]);\n}\nfunction value(pen) {\n    const meta2dId = pen.calculative.canvas.store.id;\n    const id = meta2dId + '-' + pen.id;\n    if (!gifsList[id]) {\n        return;\n    }\n    setImagePosition(pen, gifsList[id]);\n    if (gifsList[id].getAttribute('src') !== pen.image) {\n        gifsList[id].src = pen.image;\n    }\n}\nfunction changeId(pen, oldId, newId) {\n    const meta2dId = pen.calculative.canvas.store.id;\n    if (!gifsList[meta2dId + '-' + oldId]) {\n        return;\n    }\n    gifsList[meta2dId + '-' + newId] = gifsList[meta2dId + '-' + oldId];\n    delete gifsList[meta2dId + '-' + oldId];\n}\n/**\n * gif 保持比例，除了更改 position ，还需要是否可保持比例\n * @param pen 画笔\n * @param elem 图片 dom\n */\nfunction setImagePosition(pen, elem) {\n    // meta2d canvas 绘制图片 drawImage 保持比例，是短边填充\n    elem.style.objectFit = pen.imageRatio ? 'contain' : 'fill';\n    // elem.style.opacity = pen.globalAlpha + '';\n    setElemPosition(pen, elem);\n}\n//# sourceMappingURL=gif.js.map","import { calcWorldAnchors } from '../pen';\nimport { rectangle } from '.';\nexport function mindNode(pen, ctx) {\n    if (!pen.onResize) {\n        pen.onResize = resize;\n        pen.onValue = value;\n    }\n    return rectangle(pen, ctx);\n}\nfunction resize(pen) {\n    // 过滤出非默认锚点，即自定义锚点\n    const manualPoints = pen.anchors.filter((point) => point.flag !== 1);\n    mindNodeAnchors(pen);\n    pen.anchors = pen.anchors.concat(...manualPoints);\n}\nfunction value(pen) {\n    resize(pen);\n    calcWorldAnchors(pen);\n}\nexport function mindNodeAnchors(pen) {\n    // TODO: 组合状态下的 width height 成了固定的百分比\n    const anchors = [];\n    const { x: rectX, y: rectY, width, height } = pen;\n    const r = borderRadius(pen);\n    // 上四\n    const topN = 5; // 上方节点个数，控制位置，实际节点数依然是 4 个\n    for (let i = 0; i < topN; i++) {\n        if (i === 2) {\n            continue;\n        }\n        let x = rectX + (width * (i + 1)) / (topN + 1);\n        let y = rectY;\n        if (x < rectX + r) {\n            // 在左侧圆角\n            y = getYByCircle(rectX + r, y + r, x, r, -1);\n        }\n        else if (x > rectX + width - r) {\n            // 在右侧圆角\n            y = getYByCircle(rectX + width - r, y + r, x, r, -1);\n        }\n        anchors.push({\n            id: String(anchors.length),\n            flag: 1,\n            penId: pen.id,\n            x: (x - rectX) / width,\n            y: (y - rectY) / height,\n        });\n    }\n    // 右三\n    const rightN = 3; // 右侧节点数\n    for (let i = 0; i < rightN; i++) {\n        let y = rectY + (height * (i + 1)) / (rightN + 1);\n        let x = rectX + width;\n        if (y < rectY + r) {\n            // 在上侧圆角以内\n            x = getXByCircle(x - r, rectY + r, y, r);\n        }\n        else if (y > rectY + height - r) {\n            // 下侧圆角\n            x = getXByCircle(x - r, rectY + height - r, y, r);\n        }\n        anchors.push({\n            id: String(anchors.length),\n            flag: 1,\n            penId: pen.id,\n            x: (x - rectX) / width,\n            y: (y - rectY) / height,\n        });\n    }\n    // 下四\n    const bottomN = 5; // 下侧节点数\n    for (let i = 0; i < bottomN; i++) {\n        if (i === 2) {\n            continue;\n        }\n        let x = rectX + (width * (i + 1)) / (bottomN + 1);\n        let y = rectY + height;\n        if (x < rectX + r) {\n            // 在左侧圆角\n            y = getYByCircle(rectX + r, y - r, x, r);\n        }\n        else if (x > rectX + width - r) {\n            // 在右侧圆角\n            y = getYByCircle(rectX + width - r, y - r, x, r);\n        }\n        anchors.push({\n            id: String(anchors.length),\n            flag: 1,\n            penId: pen.id,\n            x: (x - rectX) / width,\n            y: (y - rectY) / height,\n        });\n    }\n    // 左三\n    const leftN = 3; // 左侧节点数\n    for (let i = 0; i < leftN; i++) {\n        let y = rectY + (height * (i + 1)) / (leftN + 1);\n        let x = rectX;\n        if (y < rectY + r) {\n            // 在上侧圆角以内\n            x = getXByCircle(x + r, rectY + r, y, r, -1);\n        }\n        else if (y > rectY + height - r) {\n            // 下侧圆角\n            x = getXByCircle(x + r, rectY + height - r, y, r, -1);\n        }\n        anchors.push({\n            id: String(anchors.length),\n            flag: 1,\n            penId: pen.id,\n            x: (x - rectX) / width,\n            y: (y - rectY) / height,\n        });\n    }\n    pen.anchors = anchors;\n}\n/**\n * 得到元素实际计算半径\n * @param node 元素\n * @returns 元素实际半径\n */\nfunction borderRadius(pen) {\n    let wr = pen.calculative.borderRadius || 0;\n    let hr = pen.calculative.borderRadius || 0;\n    const { width, height } = pen;\n    if (pen.calculative.borderRadius < 1) {\n        wr = width * pen.calculative.borderRadius;\n        hr = height * pen.calculative.borderRadius;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (height < 2 * r) {\n        r = height / 2;\n    }\n    return r;\n}\n/**\n * 获取圆的 x 坐标\n * @param ox 圆心x\n * @param oy 圆心y\n * @param y y\n * @param r 半径\n * @param sqrt 点可能在左侧，左侧填-1，右侧1（默认值）\n */\nfunction getXByCircle(ox, oy, y, r, sqrt = 1) {\n    return sqrt * Math.sqrt(r ** 2 - (y - oy) ** 2) + ox;\n}\n/**\n * 获取圆的 y 坐标\n * @param ox 圆心x\n * @param oy 圆心y\n * @param y y\n * @param r 半径\n * @param sqrt 点可以在上侧，也可能在下侧，上侧-1，下侧1（默认）\n */\nfunction getYByCircle(ox, oy, x, r, sqrt = 1) {\n    return sqrt * Math.sqrt(r ** 2 - (x - ox) ** 2) + oy;\n}\n//# sourceMappingURL=mindNode.js.map","export function mindLine(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.moveTo(x, y + height);\n    path.lineTo(x + width, y + height);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function mindLineAnchors(pen) {\n    const points = [\n        {\n            x: 0,\n            y: 1,\n        },\n        {\n            x: 1,\n            y: 1,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: index + '',\n            x,\n            y,\n            penId: pen.id,\n        };\n    });\n}\n//# sourceMappingURL=mindLine.js.map","export * from './rectangle';\nexport * from './circle';\nexport * from './svgPath';\nexport * from './diamond';\nexport * from './triangle';\nexport * from './pentagon';\nexport * from './pentagram';\nexport * from './hexagon';\nexport * from './arrow';\nexport * from './message';\nexport * from './cloud';\nexport * from './file';\nexport * from './cube';\nexport * from './people';\nexport * from './line';\nexport * from './iframe';\nexport * from './video';\nexport * from './form';\nimport { rectangle, square } from './rectangle';\nimport { circle } from './circle';\nimport { svgPath } from './svgPath';\nimport { diamond } from './diamond';\nimport { triangle, triangleAnchors } from './triangle';\nimport { pentagon, pentagonAnchors } from './pentagon';\nimport { pentagram, pentagramAnchors } from './pentagram';\nimport { hexagon } from './hexagon';\nimport { leftArrow, rightArrow, twowayArrow } from './arrow';\nimport { message } from './message';\nimport { cloud } from './cloud';\nimport { file } from './file';\n// import { cube } from './cube';\nimport { people } from './people';\nimport { line } from './line';\nimport { iframe } from './iframe';\nimport { video } from './video';\nimport { gif } from './gif';\nimport { mindNode, mindNodeAnchors } from './mindNode';\nimport { mindLine, mindLineAnchors } from './mindLine';\nimport { form } from './form';\nexport function commonPens() {\n    return {\n        rectangle,\n        square,\n        circle,\n        svgPath,\n        diamond,\n        triangle,\n        pentagon,\n        pentagram,\n        hexagon,\n        leftArrow,\n        rightArrow,\n        twowayArrow,\n        message,\n        cloud,\n        file,\n        people,\n        line,\n        iframe,\n        video,\n        gif,\n        mindNode,\n        mindLine,\n        mindNode2: rectangle,\n        form,\n        combine: rectangle,\n    };\n}\nexport function commonAnchors() {\n    return {\n        triangle: triangleAnchors,\n        pentagon: pentagonAnchors,\n        pentagram: pentagramAnchors,\n        mindNode: mindNodeAnchors,\n        mindLine: mindLineAnchors,\n    };\n}\n//# sourceMappingURL=index.js.map","export var EventAction;\n(function (EventAction) {\n    EventAction[EventAction[\"Link\"] = 0] = \"Link\";\n    EventAction[EventAction[\"SetProps\"] = 1] = \"SetProps\";\n    EventAction[EventAction[\"StartAnimate\"] = 2] = \"StartAnimate\";\n    EventAction[EventAction[\"PauseAnimate\"] = 3] = \"PauseAnimate\";\n    EventAction[EventAction[\"StopAnimate\"] = 4] = \"StopAnimate\";\n    EventAction[EventAction[\"JS\"] = 5] = \"JS\";\n    EventAction[EventAction[\"GlobalFn\"] = 6] = \"GlobalFn\";\n    EventAction[EventAction[\"Emit\"] = 7] = \"Emit\";\n    EventAction[EventAction[\"StartVideo\"] = 8] = \"StartVideo\";\n    EventAction[EventAction[\"PauseVideo\"] = 9] = \"PauseVideo\";\n    EventAction[EventAction[\"StopVideo\"] = 10] = \"StopVideo\";\n    EventAction[EventAction[\"SendPropData\"] = 11] = \"SendPropData\";\n    EventAction[EventAction[\"SendVarData\"] = 12] = \"SendVarData\";\n    EventAction[EventAction[\"Navigator\"] = 13] = \"Navigator\";\n    EventAction[EventAction[\"Dialog\"] = 14] = \"Dialog\";\n    EventAction[EventAction[\"SendData\"] = 15] = \"SendData\";\n    EventAction[EventAction[\"PostMessage\"] = 16] = \"PostMessage\";\n    EventAction[EventAction[\"PostMessageToParent\"] = 17] = \"PostMessageToParent\";\n    EventAction[EventAction[\"Message\"] = 18] = \"Message\";\n})(EventAction || (EventAction = {}));\n//# sourceMappingURL=event.js.map","import { calcRightBottom, getRect, translateRect } from '../rect';\nexport class ViewMap {\n    parent;\n    box;\n    boxWidth = 320;\n    boxHeight = 180;\n    ratio = this.boxWidth / this.boxHeight;\n    padding = 5;\n    img;\n    isShow;\n    isDown;\n    view; // 可视区域外框\n    timer;\n    constructor(parent) {\n        this.parent = parent;\n        this.box = document.createElement('div');\n        this.img = new Image();\n        this.view = document.createElement('div');\n        this.box.appendChild(this.img);\n        this.box.appendChild(this.view);\n        this.parent.externalElements?.parentElement.appendChild(this.box);\n        this.box.className = 'meta2d-map';\n        this.box.onmousedown = this.onMouseDown;\n        this.box.onmousemove = this.onMouseMove;\n        this.box.onmouseup = this.onMouseUp;\n        this.box.onwheel = this.onWheel;\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le/map') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        if (!sheet) {\n            let style = document.createElement('style');\n            style.type = 'text/css';\n            style.title = 'le5le.com/map';\n            document.head.appendChild(style);\n            style = document.createElement('style');\n            style.type = 'text/css';\n            document.head.appendChild(style);\n            sheet = style.sheet;\n            sheet.insertRule(`.meta2d-map{display:flex;width:${this.boxWidth + 2 * this.padding}px;height:${this.boxHeight + 2 * this.padding}px;padding:${this.padding}px;background:#f4f4f4;border:1px solid #ffffff;box-shadow: 0px 0px 14px 0px rgba(0,10,38,0.30);border-radius:8px;position:absolute;z-index:9999;right:0;bottom:0;justify-content:center;align-items:center;cursor:default;user-select:none;overflow: hidden;}`);\n            sheet.insertRule('.meta2d-map img{max-width:100%;max-height:100%;pointer-events: none;}');\n            sheet.insertRule('.meta2d-map div{pointer-events: none;border:1px solid #1890ff;position:absolute}');\n        }\n    }\n    show() {\n        this.box.style.display = 'flex';\n        const data = this.parent.store.data;\n        if (data.pens.length) {\n            this.img.style.display = 'block';\n            this.img.src = this.parent.toPng(0, undefined, true);\n            this.setView();\n        }\n        else {\n            this.img.style.display = 'none';\n        }\n        this.isShow = true;\n    }\n    hide() {\n        this.box.style.display = 'none';\n        this.isShow = false;\n    }\n    setView() {\n        const data = this.parent.store.data;\n        if (data.pens.length) {\n            let rect = getRect(data.pens);\n            const vW = this.parent.store.data.width || this.parent.store.options.width;\n            const vH = this.parent.store.data.height || this.parent.store.options.height;\n            if (vW && vH) {\n                //大屏\n                rect = {\n                    x: this.parent.store.data.origin.x,\n                    y: this.parent.store.data.origin.y,\n                    width: vW * this.parent.store.data.scale,\n                    height: vH * this.parent.store.data.scale,\n                };\n            }\n            else {\n                clearTimeout(this.timer);\n                this.timer = setTimeout(() => {\n                    if (this.parent.store.bkImg) {\n                        this.img.src = this.parent.toPng(0, undefined, true);\n                    }\n                }, 300);\n            }\n            // rect += data.x y 得到相对坐标\n            translateRect(rect, data.x, data.y);\n            const rectRatio = rect.width / rect.height;\n            if (rectRatio > this.ratio) {\n                // 上下留白，扩大高度\n                const height = rect.width / this.ratio;\n                rect.y -= (height - rect.height) / 2;\n                rect.height = height;\n                calcRightBottom(rect);\n            }\n            else {\n                // 左右留白，扩大宽度\n                const width = rect.height * this.ratio;\n                rect.x -= (width - rect.width) / 2;\n                rect.width = width;\n                calcRightBottom(rect);\n            }\n            const canvasRect = this.parent.canvasRect;\n            let left = 0, top = 0;\n            if (rect.x < 0) {\n                left = -rect.x / rect.width;\n            }\n            else if (rect.x + rect.width > canvasRect.width) {\n                let space = 0;\n                if (canvasRect.width > rect.width) {\n                    // 均已左上角为起点，这种场景需要剪掉一个留白\n                    space = canvasRect.width - rect.width;\n                }\n                left = (-rect.x + space) / rect.width;\n            }\n            if (rect.y < 0) {\n                top = -rect.y / rect.height;\n            }\n            else if (rect.y + rect.height > canvasRect.height) {\n                let space = 0;\n                if (canvasRect.height > rect.height) {\n                    space = canvasRect.height - rect.height;\n                }\n                top = (-rect.y + space) / rect.height;\n            }\n            const width = canvasRect.width > rect.width ? 1 : canvasRect.width / rect.width;\n            const height = canvasRect.height > rect.height ? 1 : canvasRect.height / rect.height;\n            this.view.style.left = this.padding + left * this.boxWidth + 'px';\n            this.view.style.width = width * this.boxWidth + 'px';\n            this.view.style.top = this.padding + top * this.boxHeight + 'px';\n            this.view.style.height = height * this.boxHeight + 'px';\n        }\n    }\n    onMouseDown = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.isDown = true;\n    };\n    onMouseMove = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (this.isDown) {\n            try {\n                this.parent.gotoView(e.offsetX / this.box.clientWidth, e.offsetY / this.box.clientHeight);\n            }\n            catch (e) {\n                console.warn(e.message);\n                this.isDown = false;\n            }\n        }\n    };\n    onMouseUp = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        try {\n            this.parent.gotoView(e.offsetX / this.box.clientWidth, e.offsetY / this.box.clientHeight);\n        }\n        catch (e) {\n            console.warn(e.message);\n        }\n        finally {\n            this.isDown = false;\n        }\n    };\n    onWheel = (e) => {\n        //放大镜缩放\n        let scaleOff = 0.015;\n        if (this.parent.store.options.scaleOff) {\n            scaleOff = this.parent.store.options.scaleOff;\n            if (e.deltaY > 0) {\n                scaleOff = -this.parent.store.options.scaleOff;\n            }\n        }\n        else {\n            let isMac = /mac os /i.test(navigator.userAgent);\n            if (isMac) {\n                if (!e.ctrlKey) {\n                    scaleOff *= e.wheelDeltaY / 240;\n                }\n                else if (e.deltaY > 0) {\n                    scaleOff *= -1;\n                }\n            }\n            else {\n                let offset = 0.2;\n                if (e.deltaY.toString().indexOf('.') !== -1) {\n                    offset = 0.01;\n                }\n                if (e.deltaY > 0) {\n                    scaleOff = -offset;\n                }\n                else {\n                    scaleOff = offset;\n                }\n            }\n        }\n        let { offsetX: x, offsetY: y } = e;\n        const width = this.parent.store.data.width || this.parent.store.options.width;\n        const height = this.parent.store.data.height || this.parent.store.options.height;\n        if (width && height) {\n            //大屏\n            x =\n                (x / this.boxWidth) * width * this.parent.store.data.scale +\n                    this.parent.store.data.origin.x +\n                    this.parent.store.data.x;\n            y =\n                (y / this.boxHeight) * height * this.parent.store.data.scale +\n                    this.parent.store.data.origin.y +\n                    this.parent.store.data.y;\n        }\n        else {\n            const rect = this.parent.parent.getRect();\n            x = (x / this.boxWidth) * rect.width + rect.x + this.parent.store.data.x;\n            y =\n                (y / this.boxHeight) * rect.height + rect.y + this.parent.store.data.y;\n        }\n        this.parent.scale(this.parent.store.data.scale + scaleOff, { x, y });\n    };\n}\n//# sourceMappingURL=map.js.map","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).mqtt=e()}}(function(){return function(){return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var l=\"function\"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error(\"Cannot find module '\"+s+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){return i(t[s][1][e]||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o=\"function\"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(e,t,r){(function(r,n){(function(){\"use strict\";const i=e(\"events\").EventEmitter,o=e(\"./store\"),s=e(\"./topic-alias-recv\"),a=e(\"./topic-alias-send\"),l=e(\"mqtt-packet\"),u=e(\"./default-message-id-provider\"),c=e(\"readable-stream\").Writable,h=e(\"inherits\"),f=e(\"reinterval\"),p=e(\"rfdc/default\"),d=e(\"./validations\"),g=e(\"xtend\"),y=e(\"debug\")(\"mqttjs:client\"),b=r?r.nextTick:function(e){setTimeout(e,0)},m=n.setImmediate||function(e){b(e)},v={keepalive:60,reschedulePings:!0,protocolId:\"MQTT\",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},w={0:\"\",1:\"Unacceptable protocol version\",2:\"Identifier rejected\",3:\"Server unavailable\",4:\"Bad username or password\",5:\"Not authorized\",16:\"No matching subscribers\",17:\"No subscription existed\",128:\"Unspecified error\",129:\"Malformed Packet\",130:\"Protocol Error\",131:\"Implementation specific error\",132:\"Unsupported Protocol Version\",133:\"Client Identifier not valid\",134:\"Bad User Name or Password\",135:\"Not authorized\",136:\"Server unavailable\",137:\"Server busy\",138:\"Banned\",139:\"Server shutting down\",140:\"Bad authentication method\",141:\"Keep Alive timeout\",142:\"Session taken over\",143:\"Topic Filter invalid\",144:\"Topic Name invalid\",145:\"Packet identifier in use\",146:\"Packet Identifier not found\",147:\"Receive Maximum exceeded\",148:\"Topic Alias invalid\",149:\"Packet too large\",150:\"Message rate too high\",151:\"Quota exceeded\",152:\"Administrative action\",153:\"Payload format invalid\",154:\"Retain not supported\",155:\"QoS not supported\",156:\"Use another server\",157:\"Server moved\",158:\"Shared Subscriptions not supported\",159:\"Connection rate exceeded\",160:\"Maximum connect time\",161:\"Subscription Identifiers not supported\",162:\"Wildcard Subscriptions not supported\"};function _(e,t){let r;t.properties&&(r=t.properties.topicAlias);let n=t.topic.toString();if(0===n.length){if(void 0===r)return new Error(\"Unregistered Topic Alias\");if(void 0===(n=e.topicAliasSend.getTopicByAlias(r)))return new Error(\"Unregistered Topic Alias\");t.topic=n}r&&delete t.properties.topicAlias}function k(e,t,r){y(\"sendPacket :: packet: %O\",t),y(\"sendPacket :: emitting `packetsend`\"),e.emit(\"packetsend\",t),y(\"sendPacket :: writing to stream\");const n=l.writeToStream(t,e.stream,e.options);y(\"sendPacket :: writeToStream result %s\",n),!n&&r&&r!==E?(y(\"sendPacket :: handle events on `drain` once through callback.\"),e.stream.once(\"drain\",r)):r&&(y(\"sendPacket :: invoking cb\"),r())}function S(e,t,r,n){y(\"storeAndSend :: store packet with cmd %s to outgoingStore\",t.cmd);let i,o=t;if(\"publish\"===o.cmd&&(o=p(t),i=_(e,o)))return r&&r(i);e.outgoingStore.put(o,function(i){if(i)return r&&r(i);n(),k(e,t,r)})}function E(e){y(\"nop ::\",e)}function C(e,t){let r;const n=this;if(!(this instanceof C))return new C(e,t);for(r in this.options=t||{},v)void 0===this.options[r]?this.options[r]=v[r]:this.options[r]=t[r];y(\"MqttClient :: options.protocol\",t.protocol),y(\"MqttClient :: options.protocolVersion\",t.protocolVersion),y(\"MqttClient :: options.username\",t.username),y(\"MqttClient :: options.keepalive\",t.keepalive),y(\"MqttClient :: options.reconnectPeriod\",t.reconnectPeriod),y(\"MqttClient :: options.rejectUnauthorized\",t.rejectUnauthorized),y(\"MqttClient :: options.topicAliasMaximum\",t.topicAliasMaximum),this.options.clientId=\"string\"==typeof t.clientId?t.clientId:\"mqttjs_\"+Math.random().toString(16).substr(2,8),y(\"MqttClient :: clientId\",this.options.clientId),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.messageIdProvider=void 0===this.options.messageIdProvider?new u:this.options.messageIdProvider,this.outgoingStore=t.outgoingStore||new o,this.incomingStore=t.incomingStore||new o,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,t.topicAliasMaximum>0&&(t.topicAliasMaximum>65535?y(\"MqttClient :: options.topicAliasMaximum is out of range\"):this.topicAliasRecv=new s(t.topicAliasMaximum)),this.on(\"connect\",function(){const e=this.queue;y(\"connect :: sending queued packets\"),function t(){const r=e.shift();y(\"deliver :: entry %o\",r);let i=null;if(!r)return void n._resubscribe();i=r.packet,y(\"deliver :: call _sendPacket for %o\",i);let o=!0;i.messageId&&0!==i.messageId&&(n.messageIdProvider.register(i.messageId)||(o=!1)),o?n._sendPacket(i,function(e){r.cb&&r.cb(e),t()}):(y(\"messageId: %d has already used. The message is skipped and removed.\",i.messageId),t())}()}),this.on(\"close\",function(){y(\"close :: connected set to `false`\"),this.connected=!1,y(\"close :: clearing connackTimer\"),clearTimeout(this.connackTimer),y(\"close :: clearing ping timer\"),null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),y(\"close :: calling _setupReconnect\"),this._setupReconnect()}),i.call(this),y(\"MqttClient :: setting up stream\"),this._setupStream()}h(C,i),C.prototype._setupStream=function(){const e=this,t=new c,r=l.parser(this.options);let n=null;const i=[];function o(){if(i.length)b(s);else{const e=n;n=null,e()}}function s(){y(\"work :: getting next packet in queue\");const t=i.shift();if(t)y(\"work :: packet pulled from queue\"),e._handlePacket(t,o);else{y(\"work :: no packets in queue\");const e=n;n=null,y(\"work :: done flag is %s\",!!e),e&&e()}}y(\"_setupStream :: calling method to clear reconnect\"),this._clearReconnect(),y(\"_setupStream :: using streamBuilder provided to client to create stream\"),this.stream=this.streamBuilder(this),r.on(\"packet\",function(e){y(\"parser :: on packet push to packets array.\"),i.push(e)}),t._write=function(e,t,i){n=i,y(\"writable stream :: parsing buffer\"),r.parse(e),s()},y(\"_setupStream :: pipe stream to writable stream\"),this.stream.pipe(t),this.stream.on(\"error\",function(t){y(\"streamErrorHandler :: error\",t.message),t.code?(y(\"streamErrorHandler :: emitting error\"),e.emit(\"error\",t)):E(t)}),this.stream.on(\"close\",function(){var t;y(\"(%s)stream :: on close\",e.options.clientId),(t=e.outgoing)&&(y(\"flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function\"),Object.keys(t).forEach(function(e){t[e].volatile&&\"function\"==typeof t[e].cb&&(t[e].cb(new Error(\"Connection closed\")),delete t[e])})),y(\"stream: emit close to MqttClient\"),e.emit(\"close\")}),y(\"_setupStream: sending packet `connect`\");const a=Object.create(this.options);if(a.cmd=\"connect\",this.topicAliasRecv&&(a.properties||(a.properties={}),this.topicAliasRecv&&(a.properties.topicAliasMaximum=this.topicAliasRecv.max)),k(this,a),r.on(\"error\",this.emit.bind(this,\"error\")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return e.end(()=>this.emit(\"error\",new Error(\"Packet has no Authentication Method\"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&\"object\"==typeof this.options.authPacket){k(this,g({cmd:\"auth\",reasonCode:0},this.options.authPacket))}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){y(\"!!connectTimeout hit!! Calling _cleanUp with force `true`\"),e._cleanUp(!0)},this.options.connectTimeout)},C.prototype._handlePacket=function(e,t){const r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<e.length)return this.emit(\"error\",new Error(\"exceeding packets size \"+e.cmd)),this.end({reasonCode:149,properties:{reasonString:\"Maximum packet size was exceeded\"}}),this;switch(y(\"_handlePacket :: emitting packetreceive\"),this.emit(\"packetreceive\",e),e.cmd){case\"publish\":this._handlePublish(e,t);break;case\"puback\":case\"pubrec\":case\"pubcomp\":case\"suback\":case\"unsuback\":this._handleAck(e),t();break;case\"pubrel\":this._handlePubrel(e,t);break;case\"connack\":this._handleConnack(e),t();break;case\"auth\":this._handleAuth(e),t();break;case\"pingresp\":this._handlePingresp(e),t();break;case\"disconnect\":this._handleDisconnect(e),t()}},C.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e&&e!==E?e(new Error(\"client disconnecting\")):this.emit(\"error\",new Error(\"client disconnecting\"))),this.disconnecting},C.prototype.publish=function(e,t,r,n){y(\"publish :: message `%s` to topic `%s`\",t,e);const i=this.options;\"function\"==typeof r&&(n=r,r=null);if(r=g({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;const o=this,s=function(){let s=0;if((1===r.qos||2===r.qos)&&null===(s=o._nextId()))return y(\"No messageId left\"),!1;const a={cmd:\"publish\",topic:e,payload:t,qos:r.qos,retain:r.retain,messageId:s,dup:r.dup};switch(5===i.protocolVersion&&(a.properties=r.properties),y(\"publish :: qos\",r.qos),r.qos){case 1:case 2:o.outgoing[a.messageId]={volatile:!1,cb:n||E},y(\"MqttClient:publish: packet cmd: %s\",a.cmd),o._sendPacket(a,void 0,r.cbStorePut);break;default:y(\"MqttClient:publish: packet cmd: %s\",a.cmd),o._sendPacket(a,n,r.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,cbStorePut:r.cbStorePut,callback:n}),this},C.prototype.subscribe=function(){const e=this,t=new Array(arguments.length);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];const r=[];let n=t.shift();const i=n.resubscribe;let o=t.pop()||E,s=t.pop();const a=this.options.protocolVersion;delete n.resubscribe,\"string\"==typeof n&&(n=[n]),\"function\"!=typeof o&&(s=o,o=E);const l=d.validateTopics(n);if(null!==l)return m(o,new Error(\"Invalid topic \"+l)),this;if(this._checkDisconnecting(o))return y(\"subscribe: discconecting true\"),this;const u={qos:0};if(5===a&&(u.nl=!1,u.rap=!1,u.rh=0),s=g(u,s),Array.isArray(n)?n.forEach(function(t){if(y(\"subscribe: array topic %s\",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<s.qos||i){const e={topic:t,qos:s.qos};5===a&&(e.nl=s.nl,e.rap=s.rap,e.rh=s.rh,e.properties=s.properties),y(\"subscribe: pushing topic `%s` and qos `%s` to subs list\",e.topic,e.qos),r.push(e)}}):Object.keys(n).forEach(function(t){if(y(\"subscribe: object topic %s\",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<n[t].qos||i){const e={topic:t,qos:n[t].qos};5===a&&(e.nl=n[t].nl,e.rap=n[t].rap,e.rh=n[t].rh,e.properties=s.properties),y(\"subscribe: pushing `%s` to subs list\",e),r.push(e)}}),!r.length)return o(null,[]),this;const c=function(){const t=e._nextId();if(null===t)return y(\"No messageId left\"),!1;const n={cmd:\"subscribe\",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:t};if(s.properties&&(n.properties=s.properties),e.options.resubscribe){y(\"subscribe :: resubscribe true\");const t=[];r.forEach(function(r){if(e.options.reconnectPeriod>0){const n={qos:r.qos};5===a&&(n.nl=r.nl||!1,n.rap=r.rap||!1,n.rh=r.rh||0,n.properties=r.properties),e._resubscribeTopics[r.topic]=n,t.push(r.topic)}}),e.messageIdToTopic[n.messageId]=t}return e.outgoing[n.messageId]={volatile:!0,cb:function(e,t){if(!e){const e=t.granted;for(let t=0;t<e.length;t+=1)r[t].qos=e[t]}o(e,r)}},y(\"subscribe :: call _sendPacket\"),e._sendPacket(n),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!c())&&this._storeProcessingQueue.push({invoke:c,callback:o}),this},C.prototype.unsubscribe=function(){const e=this,t=new Array(arguments.length);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];let r=t.shift(),n=t.pop()||E,i=t.pop();\"string\"==typeof r&&(r=[r]),\"function\"!=typeof n&&(i=n,n=E);const o=d.validateTopics(r);if(null!==o)return m(n,new Error(\"Invalid topic \"+o)),this;if(e._checkDisconnecting(n))return this;const s=function(){const t=e._nextId();if(null===t)return y(\"No messageId left\"),!1;const o={cmd:\"unsubscribe\",qos:1,messageId:t};return\"string\"==typeof r?o.unsubscriptions=[r]:Array.isArray(r)&&(o.unsubscriptions=r),e.options.resubscribe&&o.unsubscriptions.forEach(function(t){delete e._resubscribeTopics[t]}),\"object\"==typeof i&&i.properties&&(o.properties=i.properties),e.outgoing[o.messageId]={volatile:!0,cb:n},y(\"unsubscribe: call _sendPacket\"),e._sendPacket(o),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,callback:n}),this},C.prototype.end=function(e,t,r){const n=this;function i(){y(\"end :: (%s) :: finish :: calling _cleanUp with force %s\",n.options.clientId,e),n._cleanUp(e,()=>{y(\"end :: finish :: calling process.nextTick on closeStores\"),b(function(){y(\"end :: closeStores: closing incoming and outgoing stores\"),n.disconnected=!0,n.incomingStore.close(function(e){n.outgoingStore.close(function(t){if(y(\"end :: closeStores: emitting end\"),n.emit(\"end\"),r){const n=e||t;y(\"end :: closeStores: invoking callback with args\"),r(n)}})}),n._deferredReconnect&&n._deferredReconnect()}.bind(n))},t)}return y(\"end :: (%s)\",this.options.clientId),null!=e&&\"boolean\"==typeof e||(r=t||E,t=e,e=!1,\"object\"!=typeof t&&(r=t,t=null,\"function\"!=typeof r&&(r=E))),\"object\"!=typeof t&&(r=t,t=null),y(\"end :: cb? %s\",!!r),r=r||E,this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(y(\"end :: (%s) :: calling finish in 10ms once outgoing is empty\",n.options.clientId),this.once(\"outgoingEmpty\",setTimeout.bind(null,i,10))):(y(\"end :: (%s) :: immediately calling finish\",n.options.clientId),i()),this)},C.prototype.removeOutgoingMessage=function(e){const t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},function(){t(new Error(\"Message removed\"))}),this},C.prototype.reconnect=function(e){y(\"client reconnect\");const t=this,r=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new o,t.outgoingStore=t.options.outgoingStore||new o,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},C.prototype._reconnect=function(){y(\"_reconnect: emitting reconnect to client\"),this.emit(\"reconnect\"),this.connected?(this.end(()=>{this._setupStream()}),y(\"client already connected. disconnecting first.\")):(y(\"_reconnect: calling _setupStream\"),this._setupStream())},C.prototype._setupReconnect=function(){const e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0?(this.reconnecting||(y(\"_setupReconnect :: emit `offline` state\"),this.emit(\"offline\"),y(\"_setupReconnect :: set `reconnecting` to `true`\"),this.reconnecting=!0),y(\"_setupReconnect :: setting reconnectTimer for %d ms\",e.options.reconnectPeriod),e.reconnectTimer=setInterval(function(){y(\"reconnectTimer :: reconnect triggered!\"),e._reconnect()},e.options.reconnectPeriod)):y(\"_setupReconnect :: doing nothing...\")},C.prototype._clearReconnect=function(){y(\"_clearReconnect : clearing reconnect timer\"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},C.prototype._cleanUp=function(e,t){const r=arguments[2];if(t&&(y(\"_cleanUp :: done callback provided for on stream close\"),this.stream.on(\"close\",t)),y(\"_cleanUp :: forced? %s\",e),e)0===this.options.reconnectPeriod&&this.options.clean&&(n=this.outgoing)&&(y(\"flush: queue exists? %b\",!!n),Object.keys(n).forEach(function(e){\"function\"==typeof n[e].cb&&(n[e].cb(new Error(\"Connection closed\")),delete n[e])})),y(\"_cleanUp :: (%s) :: destroying stream\",this.options.clientId),this.stream.destroy();else{const e=g({cmd:\"disconnect\"},r);y(\"_cleanUp :: (%s) :: call _sendPacket with disconnect packet\",this.options.clientId),this._sendPacket(e,m.bind(null,this.stream.end.bind(this.stream)))}var n;this.disconnecting||(y(\"_cleanUp :: client not disconnecting. Clearing and resetting reconnect.\"),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(y(\"_cleanUp :: clearing pingTimer\"),this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(y(\"_cleanUp :: (%s) :: removing stream `done` callback `close` listener\",this.options.clientId),this.stream.removeListener(\"close\",t),t())},C.prototype._sendPacket=function(e,t,r){y(\"_sendPacket :: (%s) ::  start\",this.options.clientId),r=r||E,t=t||E;const n=function(e,t){if(5===e.options.protocolVersion&&\"publish\"===t.cmd){let r;t.properties&&(r=t.properties.topicAlias);const n=t.topic.toString();if(e.topicAliasSend)if(r){if(0!==n.length&&(y(\"applyTopicAlias :: register topic: %s - alias: %d\",n,r),!e.topicAliasSend.put(n,r)))return y(\"applyTopicAlias :: error out of range. topic: %s - alias: %d\",n,r),new Error(\"Sending Topic Alias out of range\")}else 0!==n.length&&(e.options.autoAssignTopicAlias?(r=e.topicAliasSend.getAliasByTopic(n))?(t.topic=\"\",t.properties={...t.properties,topicAlias:r},y(\"applyTopicAlias :: auto assign(use) topic: %s - alias: %d\",n,r)):(r=e.topicAliasSend.getLruAlias(),e.topicAliasSend.put(n,r),t.properties={...t.properties,topicAlias:r},y(\"applyTopicAlias :: auto assign topic: %s - alias: %d\",n,r)):e.options.autoUseTopicAlias&&(r=e.topicAliasSend.getAliasByTopic(n))&&(t.topic=\"\",t.properties={...t.properties,topicAlias:r},y(\"applyTopicAlias :: auto use topic: %s - alias: %d\",n,r)));else if(r)return y(\"applyTopicAlias :: error out of range. topic: %s - alias: %d\",n,r),new Error(\"Sending Topic Alias out of range\")}}(this,e);if(n)t(n);else{if(!this.connected)return\"auth\"===e.cmd?(this._shiftPingInterval(),void k(this,e,t)):(y(\"_sendPacket :: client not connected. Storing packet offline.\"),void this._storePacket(e,t,r));switch(this._shiftPingInterval(),e.cmd){case\"publish\":break;case\"pubrel\":return void S(this,e,t,r);default:return void k(this,e,t)}switch(e.qos){case 2:case 1:S(this,e,t,r);break;case 0:default:k(this,e,t)}y(\"_sendPacket :: (%s) ::  end\",this.options.clientId)}},C.prototype._storePacket=function(e,t,r){y(\"_storePacket :: packet: %o\",e),y(\"_storePacket :: cb? %s\",!!t),r=r||E;let n=e;if(\"publish\"===n.cmd){const r=_(this,n=p(e));if(r)return t&&t(r)}0===(n.qos||0)&&this.queueQoSZero||\"publish\"!==n.cmd?this.queue.push({packet:n,cb:t}):n.qos>0?(t=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,function(e){if(e)return t&&t(e);r()})):t&&t(new Error(\"No connection to broker\"))},C.prototype._setupPingTimer=function(){y(\"_setupPingTimer :: keepalive %d (seconds)\",this.options.keepalive);const e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=f(function(){e._checkPing()},1e3*this.options.keepalive))},C.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},C.prototype._checkPing=function(){y(\"_checkPing :: checking ping...\"),this.pingResp?(y(\"_checkPing :: ping response received. Clearing flag and sending `pingreq`\"),this.pingResp=!1,this._sendPacket({cmd:\"pingreq\"})):(y(\"_checkPing :: calling _cleanUp with force true\"),this._cleanUp(!0))},C.prototype._handlePingresp=function(){this.pingResp=!0},C.prototype._handleConnack=function(e){y(\"_handleConnack\");const t=this.options,r=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,e.properties){if(e.properties.topicAliasMaximum){if(e.properties.topicAliasMaximum>65535)return void this.emit(\"error\",new Error(\"topicAliasMaximum from broker is out of range\"));e.properties.topicAliasMaximum>0&&(this.topicAliasSend=new a(e.properties.topicAliasMaximum))}e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)}if(0===r)this.reconnecting=!1,this._onConnect(e);else if(r>0){const e=new Error(\"Connection refused: \"+w[r]);e.code=r,this.emit(\"error\",e)}},C.prototype._handleAuth=function(e){const t=this.options.protocolVersion,r=5===t?e.reasonCode:e.returnCode;if(5!==t){const e=new Error(\"Protocol error: Auth packets are only supported in MQTT 5. Your version:\"+t);return e.code=r,void this.emit(\"error\",e)}const n=this;this.handleAuth(e,function(e,t){if(e)n.emit(\"error\",e);else if(24===r)n.reconnecting=!1,n._sendPacket(t);else{const t=new Error(\"Connection refused: \"+w[r]);e.code=r,n.emit(\"error\",t)}})},C.prototype.handleAuth=function(e,t){t()},C.prototype._handlePublish=function(e,t){y(\"_handlePublish: packet %o\",e),t=void 0!==t?t:E;let r=e.topic.toString();const n=e.payload,i=e.qos,o=e.messageId,s=this,a=this.options,l=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let t;if(e.properties&&(t=e.properties.topicAlias),void 0!==t)if(0===r.length){if(!(t>0&&t<=65535))return y(\"_handlePublish :: topic alias out of range. alias: %d\",t),void this.emit(\"error\",new Error(\"Received Topic Alias is out of range\"));{const e=this.topicAliasRecv.getTopicByAlias(t);if(!e)return y(\"_handlePublish :: unregistered topic alias. alias: %d\",t),void this.emit(\"error\",new Error(\"Received unregistered Topic Alias\"));y(\"_handlePublish :: topic complemented by alias. topic: %s - alias: %d\",r=e,t)}}else{if(!this.topicAliasRecv.put(r,t))return y(\"_handlePublish :: topic alias out of range. alias: %d\",t),void this.emit(\"error\",new Error(\"Received Topic Alias is out of range\"));y(\"_handlePublish :: registered topic: %s - alias: %d\",r,t)}}switch(y(\"_handlePublish: qos %d\",i),i){case 2:a.customHandleAcks(r,n,e,function(r,n){return r instanceof Error||(n=r,r=null),r?s.emit(\"error\",r):-1===l.indexOf(n)?s.emit(\"error\",new Error(\"Wrong reason code for pubrec\")):void(n?s._sendPacket({cmd:\"pubrec\",messageId:o,reasonCode:n},t):s.incomingStore.put(e,function(){s._sendPacket({cmd:\"pubrec\",messageId:o},t)}))});break;case 1:a.customHandleAcks(r,n,e,function(i,a){return i instanceof Error||(a=i,i=null),i?s.emit(\"error\",i):-1===l.indexOf(a)?s.emit(\"error\",new Error(\"Wrong reason code for puback\")):(a||s.emit(\"message\",r,n,e),void s.handleMessage(e,function(e){if(e)return t&&t(e);s._sendPacket({cmd:\"puback\",messageId:o,reasonCode:a},t)}))});break;case 0:this.emit(\"message\",r,n,e),this.handleMessage(e,t);break;default:y(\"_handlePublish: unknown QoS. Doing nothing.\")}},C.prototype.handleMessage=function(e,t){t()},C.prototype._handleAck=function(e){const t=e.messageId,r=e.cmd;let n=null;const i=this.outgoing[t]?this.outgoing[t].cb:null,o=this;let s;if(i){switch(y(\"_handleAck :: packet type\",r),r){case\"pubcomp\":case\"puback\":{const r=e.reasonCode;r&&r>0&&16!==r&&((s=new Error(\"Publish error: \"+w[r])).code=r,i(s,e)),delete this.outgoing[t],this.outgoingStore.del(e,i),this.messageIdProvider.deallocate(t),this._invokeStoreProcessingQueue();break}case\"pubrec\":{n={cmd:\"pubrel\",qos:2,messageId:t};const r=e.reasonCode;r&&r>0&&16!==r?((s=new Error(\"Publish error: \"+w[r])).code=r,i(s,e)):this._sendPacket(n);break}case\"suback\":delete this.outgoing[t],this.messageIdProvider.deallocate(t);for(let r=0;r<e.granted.length;r++)if(0!=(128&e.granted[r])){const e=this.messageIdToTopic[t];e&&e.forEach(function(e){delete o._resubscribeTopics[e]})}this._invokeStoreProcessingQueue(),i(null,e);break;case\"unsuback\":delete this.outgoing[t],this.messageIdProvider.deallocate(t),this._invokeStoreProcessingQueue(),i(null);break;default:o.emit(\"error\",new Error(\"unrecognized packet type\"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit(\"outgoingEmpty\")}else y(\"_handleAck :: Server sent an ack in error. Ignoring.\")},C.prototype._handlePubrel=function(e,t){y(\"handling pubrel packet\"),t=void 0!==t?t:E;const r=this,n={cmd:\"pubcomp\",messageId:e.messageId};r.incomingStore.get(e,function(e,i){e?r._sendPacket(n,t):(r.emit(\"message\",i.topic,i.payload,i),r.handleMessage(i,function(e){if(e)return t(e);r.incomingStore.del(i,E),r._sendPacket(n,t)}))})},C.prototype._handleDisconnect=function(e){this.emit(\"disconnect\",e)},C.prototype._nextId=function(){return this.messageIdProvider.allocate()},C.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},C.prototype._resubscribe=function(){y(\"_resubscribe\");const e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){y(\"_resubscribe: protocolVersion 5\");for(let t=0;t<e.length;t++){const r={};r[e[t]]=this._resubscribeTopics[e[t]],r.resubscribe=!0,this.subscribe(r,{properties:r[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},C.prototype._onConnect=function(e){if(this.disconnected)return void this.emit(\"connect\",e);const t=this;this.connackPacket=e,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function r(){let n=t.outgoingStore.createStream();function i(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function o(){n.destroy(),n=null,t._flushStoreProcessingQueue(),i()}t.once(\"close\",o),n.on(\"error\",function(e){i(),t._flushStoreProcessingQueue(),t.removeListener(\"close\",o),t.emit(\"error\",e)}),n.on(\"end\",function(){let n=!0;for(const e in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[e]){n=!1;break}n?(i(),t.removeListener(\"close\",o),t._invokeAllStoreProcessingQueue(),t.emit(\"connect\",e)):r()}),function e(){if(!n)return;t._storeProcessing=!0;const r=n.read(1);let i;r?t._packetIdsDuringStoreProcessing[r.messageId]?e():t.disconnecting||t.reconnectTimer?n.destroy&&n.destroy():(i=t.outgoing[r.messageId]?t.outgoing[r.messageId].cb:null,t.outgoing[r.messageId]={volatile:!1,cb:function(t,r){i&&i(t,r),e()}},t._packetIdsDuringStoreProcessing[r.messageId]=!0,t.messageIdProvider.register(r.messageId)?t._sendPacket(r):y(\"messageId: %d has already used.\",r.messageId)):n.once(\"readable\",e)}()}()},C.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1},C.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},C.prototype._flushStoreProcessingQueue=function(){for(const e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error(\"Connection closed\")),e.callback&&e.callback(new Error(\"Connection closed\"));this._storeProcessingQueue.splice(0)},t.exports=C}).call(this)}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./default-message-id-provider\":7,\"./store\":8,\"./topic-alias-recv\":9,\"./topic-alias-send\":10,\"./validations\":11,_process:50,debug:18,events:22,inherits:24,\"mqtt-packet\":40,\"readable-stream\":69,reinterval:70,\"rfdc/default\":71,xtend:81}],2:[function(e,t,r){\"use strict\";const{Buffer:n}=e(\"buffer\"),i=e(\"readable-stream\").Transform,o=e(\"duplexify\");let s,a,l,u=!1;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error(\"Could not determine host. Specify host manually.\");const r=\"MQIsdp\"===t.protocolId&&3===t.protocolVersion?\"mqttv3.1\":\"mqtt\";!function(e){e.hostname||(e.hostname=\"localhost\"),e.path||(e.path=\"/\"),e.wsOptions||(e.wsOptions={})}(t);const c=function(e,t){const r=\"alis\"===e.protocol?\"wss\":\"ws\";let n=r+\"://\"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+\"://\"+e.hostname+\":\"+e.port+e.path),\"function\"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(t,e);return(s=t.my).connectSocket({url:c,protocols:r}),a=function(){const e=new i;return e._write=function(e,t,r){s.sendSocketMessage({data:e.buffer,success:function(){r()},fail:function(){r(new Error)}})},e._flush=function(e){s.closeSocket({success:function(){e()}})},e}(),l=o.obj(),u||(u=!0,s.onSocketOpen(function(){l.setReadable(a),l.setWritable(a),l.emit(\"connect\")}),s.onSocketMessage(function(e){if(\"string\"==typeof e.data){const t=n.from(e.data,\"base64\");a.push(t)}else{const t=new FileReader;t.addEventListener(\"load\",function(){let e=t.result;e=e instanceof ArrayBuffer?n.from(e):n.from(e,\"utf8\"),a.push(e)}),t.readAsArrayBuffer(e.data)}}),s.onSocketClose(function(){l.end(),l.destroy()}),s.onSocketError(function(e){l.destroy(e)})),l}},{buffer:17,duplexify:20,\"readable-stream\":69}],3:[function(e,t,r){\"use strict\";const n=e(\"net\"),i=e(\"debug\")(\"mqttjs:tcp\");t.exports=function(e,t){t.port=t.port||1883,t.hostname=t.hostname||t.host||\"localhost\";const r=t.port,o=t.hostname;return i(\"port %d and host %s\",r,o),n.createConnection(r,o)}},{debug:18,net:16}],4:[function(e,t,r){\"use strict\";const n=e(\"tls\"),i=e(\"net\"),o=e(\"debug\")(\"mqttjs:tls\");t.exports=function(e,t){t.port=t.port||8883,t.host=t.hostname||t.host||\"localhost\",0===i.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,o(\"port %d host %s rejectUnauthorized %b\",t.port,t.host,t.rejectUnauthorized);const r=n.connect(t);function s(n){t.rejectUnauthorized&&e.emit(\"error\",n),r.end()}return r.on(\"secureConnect\",function(){t.rejectUnauthorized&&!r.authorized?r.emit(\"error\",new Error(\"TLS not authorized\")):r.removeListener(\"error\",s)}),r.on(\"error\",s),r}},{debug:18,net:16,tls:16}],5:[function(e,t,r){(function(r){(function(){\"use strict\";const{Buffer:n}=e(\"buffer\"),i=e(\"ws\"),o=e(\"debug\")(\"mqttjs:ws\"),s=e(\"duplexify\"),a=e(\"readable-stream\").Transform,l=[\"rejectUnauthorized\",\"ca\",\"cert\",\"key\",\"pfx\",\"passphrase\"],u=void 0!==r&&\"browser\"===r.title||\"function\"==typeof __webpack_require__;function c(e,t){let r=e.protocol+\"://\"+e.hostname+\":\"+e.port+e.path;return\"function\"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function h(e){const t=e;return e.hostname||(t.hostname=\"localhost\"),e.port||(\"wss\"===e.protocol?t.port=443:t.port=80),e.path||(t.path=\"/\"),e.wsOptions||(t.wsOptions={}),u||\"wss\"!==e.protocol||l.forEach(function(r){Object.prototype.hasOwnProperty.call(e,r)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,r)&&(t.wsOptions[r]=e[r])}),t}t.exports=u?function(e,t){let r;o(\"browserStreamBuilder\");const i=function(e){const t=h(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if(\"undefined\"==typeof document)throw new Error(\"Could not determine host. Specify host manually.\");const e=new URL(document.URL);t.hostname=e.hostname,t.port||(t.port=e.port)}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,l=t.browserBufferTimeout||1e3,u=!t.objectMode,f=function(e,t){const r=\"MQIsdp\"===t.protocolId&&3===t.protocolVersion?\"mqttv3.1\":\"mqtt\",n=c(t,e),i=new WebSocket(n,[r]);return i.binaryType=\"arraybuffer\",i}(e,t),p=function(e,t,r){const n=new a({objectModeMode:e.objectMode});return n._write=t,n._flush=r,n}(t,function e(t,r,o){f.bufferedAmount>i&&setTimeout(e,l,t,r,o),u&&\"string\"==typeof t&&(t=n.from(t,\"utf8\"));try{f.send(t)}catch(e){return o(e)}o()},function(e){f.close(),e()});t.objectMode||(p._writev=v),p.on(\"close\",()=>{f.close()});const d=void 0!==f.addEventListener;function g(){r.setReadable(p),r.setWritable(p),r.emit(\"connect\")}function y(){r.end(),r.destroy()}function b(e){r.destroy(e)}function m(e){let t=e.data;t=t instanceof ArrayBuffer?n.from(t):n.from(t,\"utf8\"),p.push(t)}function v(e,t){const r=new Array(e.length);for(let t=0;t<e.length;t++)\"string\"==typeof e[t].chunk?r[t]=n.from(e[t],\"utf8\"):r[t]=e[t].chunk;this._write(n.concat(r),\"binary\",t)}return f.readyState===f.OPEN?r=p:(r=r=s(void 0,void 0,t),t.objectMode||(r._writev=v),d?f.addEventListener(\"open\",g):f.onopen=g),r.socket=f,d?(f.addEventListener(\"close\",y),f.addEventListener(\"error\",b),f.addEventListener(\"message\",m)):(f.onclose=y,f.onerror=b,f.onmessage=m),r}:function(e,t){o(\"streamBuilder\");const r=h(t),n=c(r,e),s=function(e,t,r){o(\"createWebSocket\"),o(\"protocol: \"+r.protocolId+\" \"+r.protocolVersion);const n=\"MQIsdp\"===r.protocolId&&3===r.protocolVersion?\"mqttv3.1\":\"mqtt\";return o(\"creating new Websocket for url: \"+t+\" and protocol: \"+n),new i(t,[n],r.wsOptions)}(0,n,r),a=i.createWebSocketStream(s,r.wsOptions);return a.url=n,s.on(\"close\",()=>{a.destroy()}),a}}).call(this)}).call(this,e(\"_process\"))},{_process:50,buffer:17,debug:18,duplexify:20,\"readable-stream\":69,ws:80}],6:[function(e,t,r){\"use strict\";const{Buffer:n}=e(\"buffer\"),i=e(\"readable-stream\").Transform,o=e(\"duplexify\");let s,a,l;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error(\"Could not determine host. Specify host manually.\");const r=\"MQIsdp\"===t.protocolId&&3===t.protocolVersion?\"mqttv3.1\":\"mqtt\";!function(e){e.hostname||(e.hostname=\"localhost\"),e.path||(e.path=\"/\"),e.wsOptions||(e.wsOptions={})}(t);const u=function(e,t){const r=\"wxs\"===e.protocol?\"wss\":\"ws\";let n=r+\"://\"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+\"://\"+e.hostname+\":\"+e.port+e.path),\"function\"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(t,e);s=wx.connectSocket({url:u,protocols:[r]}),a=function(){const e=new i;return e._write=function(e,t,r){s.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){s.close({success:function(){e()}})},e}(),(l=o.obj())._destroy=function(e,t){s.close({success:function(){t&&t(e)}})};const c=l.destroy;return l.destroy=function(){l.destroy=c;const e=this;setTimeout(function(){s.close({fail:function(){e._destroy(new Error)}})},0)}.bind(l),s.onOpen(function(){l.setReadable(a),l.setWritable(a),l.emit(\"connect\")}),s.onMessage(function(e){let t=e.data;t=t instanceof ArrayBuffer?n.from(t):n.from(t,\"utf8\"),a.push(t)}),s.onClose(function(){l.end(),l.destroy()}),s.onError(function(e){l.destroy(new Error(e.errMsg))}),l}},{buffer:17,duplexify:20,\"readable-stream\":69}],7:[function(e,t,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}n.prototype.allocate=function(){const e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},n.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},n.prototype.register=function(e){return!0},n.prototype.deallocate=function(e){},n.prototype.clear=function(){},t.exports=n},{}],8:[function(e,t,r){\"use strict\";const n=e(\"xtend\"),i=e(\"readable-stream\").Readable,o={objectMode:!0},s={clean:!0};function a(e){if(!(this instanceof a))return new a(e);this.options=e||{},this.options=n(s,e),this._inflights=new Map}a.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},a.prototype.createStream=function(){const e=new i(o),t=[];let r=!1,n=0;return this._inflights.forEach(function(e,r){t.push(e)}),e._read=function(){!r&&n<t.length?this.push(t[n++]):this.push(null)},e.destroy=function(){if(r)return;const e=this;r=!0,setTimeout(function(){e.emit(\"close\")},0)},e},a.prototype.del=function(e,t){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error(\"missing packet\")),this},a.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error(\"missing packet\")),this},a.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},t.exports=a},{\"readable-stream\":69,xtend:81}],9:[function(e,t,r){\"use strict\";function n(e){if(!(this instanceof n))return new n(e);this.aliasToTopic={},this.max=e}n.prototype.put=function(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)},n.prototype.getTopicByAlias=function(e){return this.aliasToTopic[e]},n.prototype.clear=function(){this.aliasToTopic={}},t.exports=n},{}],10:[function(e,t,r){\"use strict\";const n=e(\"lru-cache\"),i=e(\"number-allocator\").NumberAllocator;function o(e){if(!(this instanceof o))return new o(e);e>0&&(this.aliasToTopic=new n({max:e}),this.topicToAlias={},this.numberAllocator=new i(1,e),this.max=e,this.length=0)}o.prototype.put=function(e,t){if(0===t||t>this.max)return!1;const r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.length,!0},o.prototype.getTopicByAlias=function(e){return this.aliasToTopic.get(e)},o.prototype.getAliasByTopic=function(e){const t=this.topicToAlias[e];return void 0!==t&&this.aliasToTopic.get(t),t},o.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},o.prototype.getLruAlias=function(){const e=this.numberAllocator.firstVacant();return e||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=o},{\"lru-cache\":37,\"number-allocator\":46}],11:[function(e,t,r){\"use strict\";function n(e){const t=e.split(\"/\");for(let e=0;e<t.length;e++)if(\"+\"!==t[e]){if(\"#\"===t[e])return e===t.length-1;if(-1!==t[e].indexOf(\"+\")||-1!==t[e].indexOf(\"#\"))return!1}return!0}t.exports={validateTopics:function(e){if(0===e.length)return\"empty_topic_list\";for(let t=0;t<e.length;t++)if(!n(e[t]))return e[t];return null}}},{}],12:[function(e,t,r){(function(r){(function(){\"use strict\";const n=e(\"../client\"),i=e(\"../store\"),o=e(\"url\"),s=e(\"xtend\"),a=e(\"debug\")(\"mqttjs\"),l={};function u(e,t){if(a(\"connecting to an MQTT broker...\"),\"object\"!=typeof e||t||(t=e,e=null),t=t||{},e){const r=o.parse(e,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(t=s(r,t)).protocol)throw new Error(\"Missing protocol\");t.protocol=t.protocol.replace(/:$/,\"\")}if(function(e){let t;e.auth&&((t=e.auth.match(/^(.+):(.+)$/))?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&\"string\"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error(\"Missing secure protocol key\");if(-1===[\"mqtts\",\"wss\",\"wxs\",\"alis\"].indexOf(t.protocol))switch(t.protocol){case\"mqtt\":t.protocol=\"mqtts\";break;case\"ws\":t.protocol=\"wss\";break;case\"wx\":t.protocol=\"wxs\";break;case\"ali\":t.protocol=\"alis\";break;default:throw new Error('Unknown protocol for secure connection: \"'+t.protocol+'\"!')}}if(!l[t.protocol]){const e=-1!==[\"mqtts\",\"wss\"].indexOf(t.protocol);t.protocol=[\"mqtt\",\"mqtts\",\"ws\",\"wss\",\"wx\",\"wxs\",\"ali\",\"alis\"].filter(function(t,r){return(!e||r%2!=0)&&\"function\"==typeof l[t]})[0]}if(!1===t.clean&&!t.clientId)throw new Error(\"Missing clientId for unclean clients\");t.protocol&&(t.defaultProtocol=t.protocol);const r=new n(function(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),a(\"calling streambuilder for\",t.protocol),l[t.protocol](e,t)},t);return r.on(\"error\",function(){}),r}void 0!==r&&\"browser\"!==r.title||\"function\"!=typeof __webpack_require__?(l.mqtt=e(\"./tcp\"),l.tcp=e(\"./tcp\"),l.ssl=e(\"./tls\"),l.tls=e(\"./tls\"),l.mqtts=e(\"./tls\")):(l.wx=e(\"./wx\"),l.wxs=e(\"./wx\"),l.ali=e(\"./ali\"),l.alis=e(\"./ali\")),l.ws=e(\"./ws\"),l.wss=e(\"./ws\"),t.exports=u,t.exports.connect=u,t.exports.MqttClient=n,t.exports.Store=i}).call(this)}).call(this,e(\"_process\"))},{\"../client\":1,\"../store\":8,\"./ali\":2,\"./tcp\":3,\"./tls\":4,\"./ws\":5,\"./wx\":6,_process:50,debug:18,url:76,xtend:81}],13:[function(e,t,r){\"use strict\";r.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=u(e),s=n[0],a=n[1],l=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),c=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+\"==\")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+\"=\"));return o.join(\"\")};for(var n=[],i=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,l=s.length;a<l;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=e.indexOf(\"=\");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},{}],14:[function(e,t,r){\"use strict\";const{Buffer:n}=e(\"buffer\"),i=Symbol.for(\"BufferList\");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return\"number\"==typeof e&&e<0&&(e+=this.length),\"number\"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if((\"number\"!=typeof r||r<0)&&(r=0),(\"number\"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||n.alloc(0);if(i<=0)return e||n.alloc(0);const o=!!e,s=this._offset(r),a=i-r;let l=a,u=o&&t||0,c=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(l<=this._bufs[s[0]].length-c)return o?this._bufs[s[0]].copy(e,t,c,c+l):this._bufs[s[0]].slice(c,c+l);o||(e=n.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const r=this._bufs[t].length-c;if(!(l>r)){this._bufs[t].copy(e,u,c,c+l),u+=r;break}this._bufs[t].copy(e,u,c),u+=r,l-=r,c&&(c=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t=\"number\"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else\"number\"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&\"string\"==typeof t&&(r=t,t=void 0),\"function\"==typeof e||Array.isArray(e))throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(\"number\"==typeof e?e=n.from([e]):\"string\"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},t.exports=o},{buffer:17}],15:[function(e,t,r){\"use strict\";const n=e(\"readable-stream\").Duplex,i=e(\"inherits\"),o=e(\"./BufferList\");function s(e){if(!(this instanceof s))return new s(e);if(\"function\"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on(\"pipe\",function(e){e.on(\"error\",t)}),this.on(\"unpipe\",function(e){e.removeListener(\"error\",t)}),e=null}o._init.call(this,e),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,r){this._appendBuffer(e),\"function\"==typeof r&&r()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=o},{\"./BufferList\":14,inherits:24,\"readable-stream\":69}],16:[function(e,t,r){},{}],17:[function(e,t,r){(function(t){(function(){\"use strict\";var t=e(\"base64-js\"),n=e(\"ieee754\");r.Buffer=s,r.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,r){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new TypeError('The \"string\" argument must be of type string. Received type number');return u(e)}return a(e,t,r)}function a(e,t,r){if(\"string\"==typeof e)return function(e,t){\"string\"==typeof t&&\"\"!==t||(t=\"utf8\");if(!s.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);var r=0|f(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('\"length\" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=s.prototype,n}(e,t,r);if(\"number\"==typeof e)throw new TypeError('The \"value\" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);var i=function(e){if(s.isBuffer(e)){var t=0|h(e.length),r=o(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(void 0!==e.length)return\"number\"!=typeof e.length||D(e.length)?o(0):c(e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive](\"string\"),t,r);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e)}function l(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}function u(e){return l(e),o(e<0?0:0|h(e))}function c(e){for(var t=e.length<0?0:0|h(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e){if(e>=i)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+i.toString(16)+\" bytes\");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if(\"string\"!=typeof e)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":return L(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return j(e).length;default:if(i)return n?-1:L(e).length;t=(\"\"+t).toLowerCase(),i=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function d(e,t,r,n,i){if(0===e.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),D(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if(\"number\"==typeof t)return t&=255,\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function g(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){h=!1;break}if(h)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(D(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return U(L(t,e.length-r),e,r,n)}function m(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function v(e,t,r,n){return m(e,t,r,n)}function w(e,t,r,n){return U(j(t),e,r,n)}function _(e,t,r,n){return U(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function k(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var r=\"\",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=E));return r}(n)}r.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(s.prototype,\"parent\",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,\"offset\",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),\"undefined\"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,r){return a(e,t,r)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?o(e):void 0!==t?\"string\"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(q(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(q(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('\"list\" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?\"\":0===arguments.length?S(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return x(this,t,r);case\"utf8\":case\"utf-8\":return S(this,t,r);case\"ascii\":return C(this,t,r);case\"latin1\":case\"binary\":return T(this,t,r);case\"base64\":return k(this,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return A(this,t,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),n=!0}}.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e=\"\",t=r.INSPECT_MAX_BYTES;return e=this.toString(\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim(),this.length>t&&(e+=\" ... \"),\"<Buffer \"+e+\">\"},s.prototype.compare=function(e,t,r,n,i){if(q(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,l=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return d(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return d(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n=\"utf8\",r=this.length,t=0;else if(void 0===r&&\"string\"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var o=!1;;)switch(n){case\"hex\":return y(this,e,t,r);case\"utf8\":case\"utf-8\":return b(this,e,t,r);case\"ascii\":return m(this,e,t,r);case\"latin1\":case\"binary\":return v(this,e,t,r);case\"base64\":return w(this,e,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return _(this,e,t,r);default:if(o)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function C(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=t;o<r;++o)i+=N(e[o]);return i}function A(e,t,r){for(var n=e.slice(t,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>r)throw new RangeError(\"Trying to access beyond buffer length\")}function P(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>e.length)throw new RangeError(\"Index out of range\")}function O(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function B(e,t,r,i,o){return t=+t,r>>>=0,o||O(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function R(e,t,r,i,o){return t=+t,r>>>=0,o||O(e,0,r,8),n.write(e,t,r,i,52,8),r+8}s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=s.prototype,n},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),n.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),n.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),n.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),n.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return R(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return R(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},s.prototype.fill=function(e,t,r,n){if(\"string\"==typeof e){if(\"string\"==typeof t?(n=t,t=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!s.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n);if(1===e.length){var i=e.charCodeAt(0);(\"utf8\"===n&&i<128||\"latin1\"===n)&&(e=i)}}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError(\"Out of range index\");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),l=a.length;if(0===l)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(o=0;o<r-t;++o)this[o+t]=a[o%l]}return this};var M=/[^+/0-9A-Za-z-_]/g;function N(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function L(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(e){return t.toByteArray(function(e){if((e=(e=e.split(\"=\")[0]).trim().replace(M,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function D(e){return e!=e}}).call(this)}).call(this,e(\"buffer\").Buffer)},{\"base64-js\":13,buffer:17,ieee754:23}],18:[function(e,t,r){(function(n){(function(){r.formatArgs=function(e){if(e[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+e[0]+(this.useColors?\"%c \":\" \")+\"+\"+t.exports.humanize(this.diff),!this.useColors)return;const r=\"color: \"+this.color;e.splice(1,0,r,\"color: inherit\");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,e=>{\"%%\"!==e&&\"%c\"===e&&(i=++n)}),e.splice(i,0,r)},r.save=function(e){try{e?r.storage.setItem(\"debug\",e):r.storage.removeItem(\"debug\")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem(\"debug\")}catch(e){}!e&&void 0!==n&&\"env\"in n&&(e=n.env.DEBUG);return e},r.useColors=function(){if(\"undefined\"!=typeof window&&window.process&&(\"renderer\"===window.process.type||window.process.__nwjs))return!0;if(\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))return!1;return\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),r.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],r.log=console.debug||console.log||(()=>{}),t.exports=e(\"./common\")(r);const{formatters:i}=t.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}}}).call(this)}).call(this,e(\"_process\"))},{\"./common\":19,_process:50}],19:[function(e,t,r){t.exports=function(t){function r(e){let t,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(t||i);n.diff=o,n.prev=t,n.curr=i,t=i,e[0]=r.coerce(e[0]),\"string\"!=typeof e[0]&&e.unshift(\"%O\");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if(\"%%\"===t)return\"%\";s++;const o=r.formatters[i];if(\"function\"==typeof o){const r=e[s];t=o.call(n,r),e.splice(s,1),s--}return t}),r.formatArgs.call(n,e),(n.log||r.log).apply(n,e)}return a.namespace=e,a.useColors=r.useColors(),a.color=r.selectColor(e),a.extend=n,a.destroy=r.destroy,Object.defineProperty(a,\"enabled\",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==r.namespaces&&(i=r.namespaces,o=r.enabled(e)),o),set:e=>{s=e}}),\"function\"==typeof r.init&&r.init(a),a}function n(e,t){const n=r(this.namespace+(void 0===t?\":\":t)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(i),...r.skips.map(i).map(e=>\"-\"+e)].join(\",\");return r.enable(\"\"),e},r.enable=function(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(\"-\"===(e=n[t].replace(/\\*/g,\".*?\"))[0]?r.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):r.names.push(new RegExp(\"^\"+e+\"$\")))},r.enabled=function(e){if(\"*\"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e(\"ms\"),r.destroy=function(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")},Object.keys(t).forEach(e=>{r[e]=t[e]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return r.colors[Math.abs(t)%r.colors.length]},r.enable(r.load()),r}},{ms:45}],20:[function(e,t,r){(function(r,n){(function(){var i=e(\"readable-stream\"),o=e(\"end-of-stream\"),s=e(\"inherits\"),a=e(\"stream-shift\"),l=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),u=function(e,t){e._corked?e.once(\"uncork\",t):t()},c=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,\"premature close\"===r.message?null:r):t&&!e._ended&&e.end()}},h=function(){},f=function(e,t,r){if(!(this instanceof f))return new f(e,t,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};s(f,i.Duplex),f.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new f(e,t,r)},f.prototype.cork=function(){1==++this._corked&&this.emit(\"cork\")},f.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit(\"uncork\")},f.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,n=o(e,{writable:!0,readable:!1},c(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on(\"drain\",i),this._unwrite=function(){t._writable.removeListener(\"drain\",i),n()},this.uncork()}else this.end()},f.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=o(e,{writable:!1,readable:!0},c(this)),s=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on(\"readable\",s),this._readable2.on(\"end\",a),this._unread=function(){r._readable2.removeListener(\"readable\",s),r._readable2.removeListener(\"end\",a),n()},this._forward()}},f.prototype._read=function(){this._drained=!0,this._forward()},f.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},f.prototype.destroy=function(e,t){if(t||(t=h),this.destroyed)return t(null);this.destroyed=!0;var n=this;r.nextTick(function(){n._destroy(e),t(null)})},f.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit(\"error\",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit(\"close\")},f.prototype._write=function(e,t,r){if(!this.destroyed)return this._corked?u(this,this._write.bind(this,e,t,r)):e===l?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:this.destroyed||r()):r()},f.prototype._finish=function(e){var t=this;this.emit(\"preend\"),u(this,function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit(\"prefinish\"),u(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()})},f.prototype.end=function(e,t,r){return\"function\"==typeof e?this.end(null,null,e):\"function\"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this._writableState.destroyed||this.write(l),i.Writable.prototype.end.call(this,r))},t.exports=f}).call(this)}).call(this,e(\"_process\"),e(\"buffer\").Buffer)},{_process:50,buffer:17,\"end-of-stream\":21,inherits:24,\"readable-stream\":69,\"stream-shift\":74}],21:[function(e,t,r){(function(r){(function(){var n=e(\"once\"),i=function(){},o=function(e,t,s){if(\"function\"==typeof t)return o(e,null,t);t||(t={}),s=n(s||i);var a=e._writableState,l=e._readableState,u=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,h=!1,f=function(){e.writable||p()},p=function(){c=!1,u||s.call(e)},d=function(){u=!1,c||s.call(e)},g=function(t){s.call(e,t?new Error(\"exited with error code: \"+t):null)},y=function(t){s.call(e,t)},b=function(){r.nextTick(m)},m=function(){if(!h)return(!u||l&&l.ended&&!l.destroyed)&&(!c||a&&a.ended&&!a.destroyed)?void 0:s.call(e,new Error(\"premature close\"))},v=function(){e.req.on(\"finish\",p)};return!function(e){return e.setHeader&&\"function\"==typeof e.abort}(e)?c&&!a&&(e.on(\"end\",f),e.on(\"close\",f)):(e.on(\"complete\",p),e.on(\"abort\",b),e.req?v():e.on(\"request\",v)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on(\"exit\",g),e.on(\"end\",d),e.on(\"finish\",p),!1!==t.error&&e.on(\"error\",y),e.on(\"close\",b),function(){h=!0,e.removeListener(\"complete\",p),e.removeListener(\"abort\",b),e.removeListener(\"request\",v),e.req&&e.req.removeListener(\"finish\",p),e.removeListener(\"end\",f),e.removeListener(\"close\",f),e.removeListener(\"finish\",p),e.removeListener(\"exit\",g),e.removeListener(\"end\",d),e.removeListener(\"error\",y),e.removeListener(\"close\",b)}};t.exports=o}).call(this)}).call(this,e(\"_process\"))},{_process:50,once:48}],22:[function(e,t,r){var n=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,\"_events\")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,\"x\",{value:0}),a=0===u.x}catch(e){a=!1}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,r,i){var o,s,a;if(\"function\"!=typeof r)throw new TypeError('\"listener\" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit(\"newListener\",t,r.listener?r.listener:r),s=e._events),a=s[t]):(s=e._events=n(null),e._eventsCount=0),a){if(\"function\"==typeof a?a=s[t]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),!a.warned&&(o=c(e))&&o>0&&a.length>o){a.warned=!0;var l=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+' \"'+String(t)+'\" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name=\"MaxListenersExceededWarning\",l.emitter=e,l.type=t,l.count=a.length,\"object\"==typeof console&&console.warn&&console.warn(\"%s: %s\",l.name,l.message)}}else a=s[t]=r,++e._eventsCount;return e}function f(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=o.call(f,n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(!n)return[];var i=n[t];return i?\"function\"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length):[]}function g(e){var t=this._events;if(t){var r=t[e];if(\"function\"==typeof r)return 1;if(r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}a?Object.defineProperty(s,\"defaultMaxListeners\",{enumerable:!0,get:function(){return l},set:function(e){if(\"number\"!=typeof e||e<0||e!=e)throw new TypeError('\"defaultMaxListeners\" must be a positive number');l=e}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||isNaN(e))throw new TypeError('\"n\" argument must be a positive number');return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){var t,r,n,i,o,s,a=\"error\"===e;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled \"error\" event. ('+t+\")\");throw l.context=t,l}if(!(r=s[e]))return!1;var u=\"function\"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=y(e,n),o=0;o<n;++o)i[o].call(r)}(r,u,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=y(e,i),s=0;s<i;++s)o[s].call(r,n)}(r,u,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,s=y(e,o),a=0;a<o;++a)s[a].call(r,n,i)}(r,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var s=e.length,a=y(e,s),l=0;l<s;++l)a[l].call(r,n,i,o)}(r,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=y(e,i),s=0;s<i;++s)o[s].apply(r,n)}(r,u,this,i)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){if(\"function\"!=typeof t)throw new TypeError('\"listener\" argument must be a function');return this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if(\"function\"!=typeof t)throw new TypeError('\"listener\" argument must be a function');return this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,i,o,s,a;if(\"function\"!=typeof t)throw new TypeError('\"listener\" argument must be a function');if(!(i=this._events))return this;if(!(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=n(null):(delete i[e],i.removeListener&&this.emit(\"removeListener\",e,r.listener||t));else if(\"function\"!=typeof r){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,o=s;break}if(o<0)return this;0===o?r.shift():function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,o),1===r.length&&(i[e]=r[0]),i.removeListener&&this.emit(\"removeListener\",e,a||t)}return this},s.prototype.removeAllListeners=function(e){var t,r,o;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=n(null):delete r[e]),this;if(0===arguments.length){var s,a=i(r);for(o=0;o<a.length;++o)\"removeListener\"!==(s=a[o])&&this.removeAllListeners(s);return this.removeAllListeners(\"removeListener\"),this._events=n(null),this._eventsCount=0,this}if(\"function\"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],23:[function(e,t,r){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,f=r?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+p]=255&s,p+=d,s/=256,u-=8);e[r+p-d]|=128*g}},{}],24:[function(e,t,r){\"function\"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],25:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var n=function(){function e(e,t){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=e,this.value=t}return e.prototype.rotateLeft=function(){var e=this.parent,t=this.brother,r=this.leftChild,n=this.rightChild;if(!n)throw new Error(\"unknown error\");var i=n.leftChild,o=n.rightChild;return e&&(e.leftChild===this?e.leftChild=n:e.rightChild===this&&(e.rightChild=n)),n.parent=e,n.brother=t,n.leftChild=this,n.rightChild=o,t&&(t.brother=n),this.parent=n,this.brother=o,this.leftChild=r,this.rightChild=i,o&&(o.parent=n,o.brother=this),r&&(r.parent=this,r.brother=i),i&&(i.parent=this,i.brother=r),n},e.prototype.rotateRight=function(){var e=this.parent,t=this.brother,r=this.leftChild;if(!r)throw new Error(\"unknown error\");var n=this.rightChild,i=r.leftChild,o=r.rightChild;return e&&(e.leftChild===this?e.leftChild=r:e.rightChild===this&&(e.rightChild=r)),r.parent=e,r.brother=t,r.leftChild=i,r.rightChild=this,t&&(t.brother=r),i&&(i.parent=r,i.brother=this),this.parent=r,this.brother=i,this.leftChild=o,this.rightChild=n,o&&(o.parent=this,o.brother=n),n&&(n.parent=this,n.brother=o),r},e.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error(\"can only remove leaf node\");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},e.TreeNodeColorType={red:!0,black:!1},e}();Object.freeze(n),r.default=n},{}],26:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function i(e){var t=this;void 0===e&&(e=[]);var r=[],o=0,s=0,a=0,l=0,u=0,c=0;this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){o=a=s=l=u=c=0,f.call(this,i.bucketSize),c=0},this.front=function(){return r[o][s]},this.back=function(){return r[a][l]},this.forEach=function(e){if(!this.empty()){var t=0;if(o!==a){for(u=s;u<i.bucketSize;++u)e(r[o][u],t++);for(u=o+1;u<a;++u)for(var n=0;n<i.bucketSize;++n)e(r[u][n],t++);for(u=0;u<=l;++u)e(r[a][u],t++)}else for(var u=s;u<=l;++u)e(r[o][u],t++)}};var h=function(e){var t=o*i.bucketSize+s,r=t+e,n=a*i.bucketSize+l;if(r<t||r>n)throw new Error(\"pos should more than 0 and less than queue's size\");return{curNodeBucketIndex:Math.floor(r/i.bucketSize),curNodePointerIndex:r%i.bucketSize}};this.getElementByPos=function(e){var t=h(e),n=t.curNodeBucketIndex,i=t.curNodePointerIndex;return r[n][i]},this.eraseElementByPos=function(e){var t=this;if(e<0||e>c)throw new Error(\"pos should more than 0 and less than queue's size\");if(0===e)this.popFront();else if(e===this.size())this.popBack();else{for(var r=[],n=e+1;n<c;++n)r.push(this.getElementByPos(n));this.cut(e),this.popBack(),r.forEach(function(e){return t.pushBack(e)})}},this.eraseElementByValue=function(e){if(!this.empty()){var t=[];this.forEach(function(r){r!==e&&t.push(r)});for(var r=t.length,n=0;n<r;++n)this.setElementByPos(n,t[n]);this.cut(r-1)}};var f=function(e){for(var t=[],n=e*i.sigma,h=Math.max(Math.ceil(n/i.bucketSize),2),f=0;f<h;++f)t.push(new Array(i.bucketSize));var p=Math.ceil(e/i.bucketSize),d=Math.floor(h/2)-Math.floor(p/2),g=d,y=0;if(this.size())for(f=0;f<p;++f){for(var b=0;b<i.bucketSize;++b)if(t[d+f][b]=this.front(),this.popFront(),this.empty()){g=d+f,y=b;break}if(this.empty())break}r=t,o=d,s=0,a=g,l=y,u=h,c=e};this.pushBack=function(e){this.empty()||(a===u-1&&l===i.bucketSize-1&&f.call(this,this.size()),l<i.bucketSize-1?++l:a<u-1&&(++a,l=0)),++c,r[a][l]=e},this.popBack=function(){this.empty()||(1!==this.size()&&(l>0?--l:o<a&&(--a,l=i.bucketSize-1)),c>0&&--c)},this.setElementByPos=function(e,t){var n=h(e),i=n.curNodeBucketIndex,o=n.curNodePointerIndex;r[i][o]=t},this.insert=function(e,t,r){var n=this;if(void 0===r&&(r=1),0===e)for(;r--;)this.pushFront(t);else if(e===this.size())for(;r--;)this.pushBack(t);else{for(var i=[],o=e;o<c;++o)i.push(this.getElementByPos(o));this.cut(e-1);for(o=0;o<r;++o)this.pushBack(t);i.forEach(function(e){return n.pushBack(e)})}},this.find=function(e){if(o===a){for(var t=s;t<=l;++t)if(r[o][t]===e)return!0;return!1}for(t=s;t<i.bucketSize;++t)if(r[o][t]===e)return!0;for(t=o+1;t<a;++t)for(var n=0;n<i.bucketSize;++n)if(r[t][n]===e)return!0;for(t=0;t<=l;++t)if(r[a][t]===e)return!0;return!1},this.reverse=function(){for(var e=0,t=c-1;e<t;){var r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),++e,--t}},this.unique=function(){if(!this.empty()){var e=[],t=this.front();this.forEach(function(r,n){0!==n&&r===t||(e.push(r),t=r)});for(var r=0;r<c;++r)this.setElementByPos(r,e[r]);this.cut(e.length-1)}},this.sort=function(e){var t=[];this.forEach(function(e){t.push(e)}),t.sort(e);for(var r=0;r<c;++r)this.setElementByPos(r,t[r])},this.pushFront=function(e){this.empty()||(0===o&&0===s&&f.call(this,this.size()),s>0?--s:o>0&&(--o,s=i.bucketSize-1)),++c,r[o][s]=e},this.popFront=function(){this.empty()||(1!==this.size()&&(s<i.bucketSize-1?++s:o<a&&(++o,s=0)),c>0&&--c)},this.shrinkToFit=function(){var e=this,t=[];this.forEach(function(e){t.push(e)});var n=t.length;r=[];for(var o=Math.ceil(n/i.bucketSize),s=0;s<o;++s)r.push(new Array(i.bucketSize));this.clear(),t.forEach(function(t){return e.pushBack(t)})},this.cut=function(e){if(e<0)this.clear();else{var t=h(e),r=t.curNodeBucketIndex,n=t.curNodePointerIndex;a=r,l=n,c=e+1}},this[Symbol.iterator]=function(){return function(){var e,t;return n(this,function(n){switch(n.label){case 0:if(0===c)return[2];if(o!==a)return[3,5];t=s,n.label=1;case 1:return t<=l?[4,r[o][t]]:[3,4];case 2:n.sent(),n.label=3;case 3:return++t,[3,1];case 4:return[2];case 5:t=s,n.label=6;case 6:return t<i.bucketSize?[4,r[o][t]]:[3,9];case 7:n.sent(),n.label=8;case 8:return++t,[3,6];case 9:t=o+1,n.label=10;case 10:if(!(t<a))return[3,15];e=0,n.label=11;case 11:return e<i.bucketSize?[4,r[t][e]]:[3,14];case 12:n.sent(),n.label=13;case 13:return++e,[3,11];case 14:return++t,[3,10];case 15:t=0,n.label=16;case 16:return t<=l?[4,r[a][t]]:[3,19];case 17:n.sent(),n.label=18;case 18:return++t,[3,16];case 19:return[2]}})}()},function(){var n=i.bucketSize;e.size?n=e.size():e.length&&(n=e.length);var s=n*i.sigma;u=Math.ceil(s/i.bucketSize),u=Math.max(u,3);for(var l=0;l<u;++l)r.push(new Array(i.bucketSize));var c=Math.ceil(n/i.bucketSize);o=Math.floor(u/2)-Math.floor(c/2),a=o,e.forEach(function(e){return t.pushBack(e)})}(),Object.freeze(this)}Object.defineProperty(r,\"__esModule\",{value:!0}),i.sigma=3,i.bucketSize=5e3,Object.freeze(i),r.default=i},{}],27:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(r,\"__esModule\",{value:!0});var o=e(\"../LinkList/LinkList\"),s=e(\"../Map/Map\");function a(e,t,r){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=a.initSize),r=r||function(e){var t,r,n=0,o=\"\";if(\"number\"==typeof e)n=((n=Math.floor(e))<<5)-n,n&=n;else{o=\"string\"!=typeof e?JSON.stringify(e):e;try{for(var s=i(o),a=s.next();!a.done;a=s.next()){n=(n<<5)-n+a.value.charCodeAt(0),n&=n}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}return n^=n>>>16},0!=(t&t-1))throw new Error(\"initBucketNum must be 2 to the power of n\");var u=0,c=[],h=Math.max(a.initSize,Math.min(a.maxSize,t));this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){u=0,h=t,c=[]},this.forEach=function(e){var t=0;c.forEach(function(r){r.forEach(function(r){e(r,t++)})})};this.setElement=function(e,t){var n,l;if(null===e||void 0===e)throw new Error(\"to avoid some unnecessary errors, we don't suggest you insert null or undefined here\");if(null!==t&&void 0!==t){var f=r(e)&h-1;if(c[f]){var p=c[f].size();if(c[f]instanceof o.default){try{for(var d=i(c[f]),g=d.next();!g.done;g=d.next()){var y=g.value;if(y.key===e)return void(y.value=t)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(l=d.return)&&l.call(d)}finally{if(n)throw n.error}}c[f].pushBack({key:e,value:t}),c[f].size()>=a.treeifyThreshold&&(c[f]=new s.default(c[f]))}else c[f].setElement(e,t);var b=c[f].size();u+=b-p}else++u,c[f]=new o.default([{key:e,value:t}]);u>h*a.sigma&&function(e){if(!(e>=a.maxSize)){h=2*e;var t=[];c.forEach(function(n,i){if(!n.empty()){if(n instanceof o.default&&1===n.size()){var l=n.front(),u=l.key,f=l.value;t[r(u)&h-1]=new o.default([{key:u,value:f}])}else if(n instanceof s.default){var p=new o.default,d=new o.default;n.forEach(function(t){0==(r(t.key)&e)?p.pushBack(t):d.pushBack(t)}),p.size()>a.untreeifyThreshold?t[i]=new s.default(p):p.size()&&(t[i]=p),d.size()>a.untreeifyThreshold?t[i+e]=new s.default(d):d.size()&&(t[i+e]=d)}else{var g=new o.default,y=new o.default;n.forEach(function(t){0==(r(t.key)&e)?g.pushBack(t):y.pushBack(t)}),g.size()&&(t[i]=g),y.size()&&(t[i+e]=y)}c[i].clear()}}),c=t}}.call(this,h)}else this.eraseElementByKey(e)},this.getElementByKey=function(e){var t,n,o=r(e)&h-1;if(c[o]){if(c[o]instanceof s.default)return c[o].getElementByKey(e);try{for(var a=i(c[o]),l=a.next();!l.done;l=a.next()){var u=l.value;if(u.key===e)return u.value}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},this.eraseElementByKey=function(e){var t,n,l=r(e)&h-1;if(c[l]){var f=c[l].size();if(c[l]instanceof s.default)c[l].eraseElementByKey(e),c[l].size()<=a.untreeifyThreshold&&(c[l]=new o.default(c[l]));else{var p=-1;try{for(var d=i(c[l]),g=d.next();!g.done;g=d.next()){if(++p,g.value.key===e){c[l].eraseElementByPos(p);break}}}catch(e){t={error:e}}finally{try{g&&!g.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}var y=c[l].size();u+=y-f}},this.find=function(e){var t,n,o=r(e)&h-1;if(!c[o])return!1;if(c[o]instanceof s.default)return c[o].find(e);try{for(var a=i(c[o]),l=a.next();!l.done;l=a.next()){if(l.value.key===e)return!0}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!1},this[Symbol.iterator]=function(){return function(){var e,t,r,o,s,a;return n(this,function(n){switch(n.label){case 0:e=0,n.label=1;case 1:if(!(e<h))return[3,10];for(;e<h&&!c[e];)++e;if(e>=h)return[3,10];n.label=2;case 2:n.trys.push([2,7,8,9]),s=void 0,t=i(c[e]),r=t.next(),n.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:n.sent(),n.label=5;case 5:return r=t.next(),[3,3];case 6:return[3,9];case 7:return o=n.sent(),s={error:o},[3,9];case 8:try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(s)throw s.error}return[7];case 9:return++e,[3,1];case 10:return[2]}})}()},e.forEach(function(e){var t=e.key,r=e.value;return l.setElement(t,r)}),Object.freeze(this)}a.initSize=16,a.maxSize=1<<30,a.sigma=.75,a.treeifyThreshold=8,a.untreeifyThreshold=6,a.minTreeifySize=64,Object.freeze(a),r.default=a},{\"../LinkList/LinkList\":29,\"../Map/Map\":30}],28:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(r,\"__esModule\",{value:!0});var o=e(\"../Set/Set\"),s=e(\"../LinkList/LinkList\");function a(e,t,r){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=a.initSize),r=r||function(e){var t=0,r=\"\";if(\"number\"==typeof e)t=((t=Math.floor(e))<<5)-t,t&=t;else{r=\"string\"!=typeof e?JSON.stringify(e):e;for(var n=0;n<r.length;n++){t=(t<<5)-t+r.charCodeAt(n),t&=t}}return t^=t>>>16},0!=(t&t-1))throw new Error(\"initBucketNum must be 2 to the power of n\");var u=0,c=[],h=Math.max(a.initSize,Math.min(a.maxSize,t));this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){u=0,h=t,c=[]},this.forEach=function(e){var t=0;c.forEach(function(r){r.forEach(function(r){e(r,t++)})})};this.insert=function(e){if(null===e||void 0===e)throw new Error(\"to avoid some unnecessary errors, we don't suggest you insert null or undefined here\");var t=r(e)&h-1;if(c[t]){var n=c[t].size();if(c[t]instanceof s.default){if(c[t].find(e))return;c[t].pushBack(e),c[t].size()>=a.treeifyThreshold&&(c[t]=new o.default(c[t]))}else c[t].insert(e);var i=c[t].size();u+=i-n}else c[t]=new s.default([e]),++u;u>h*a.sigma&&function(e){if(!(e>=a.maxSize)){h=2*e;var t=[];c.forEach(function(n,i){if(!n.empty()){if(n instanceof s.default&&1===n.size()){var l=n.front();if(void 0===l)throw new Error(\"unknown error\");t[r(l)&h-1]=new s.default([l])}else if(n instanceof o.default){var u=new s.default,f=new s.default;n.forEach(function(t){0==(r(t)&e)?u.pushBack(t):f.pushBack(t)}),u.size()>a.untreeifyThreshold?t[i]=new o.default(u):u.size()&&(t[i]=u),f.size()>a.untreeifyThreshold?t[i+e]=new o.default(f):f.size()&&(t[i+e]=f)}else{var p=new s.default,d=new s.default;n.forEach(function(t){0==(r(t)&e)?p.pushBack(t):d.pushBack(t)}),p.size()&&(t[i]=p),d.size()&&(t[i+e]=d)}c[i].clear()}}),c=t}}.call(this,h)},this.eraseElementByValue=function(e){var t=r(e)&h-1;if(c[t]){var n=c[t].size();c[t].eraseElementByValue(e),c[t]instanceof o.default&&c[t].size()<=a.untreeifyThreshold&&(c[t]=new s.default(c[t]));var i=c[t].size();u+=i-n}},this.find=function(e){var t=r(e)&h-1;return!!c[t]&&c[t].find(e)},this[Symbol.iterator]=function(){return function(){var e,t,r,o,s,a;return n(this,function(n){switch(n.label){case 0:e=0,n.label=1;case 1:if(!(e<h))return[3,10];for(;e<h&&!c[e];)++e;if(e>=h)return[3,10];n.label=2;case 2:n.trys.push([2,7,8,9]),s=void 0,t=i(c[e]),r=t.next(),n.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:n.sent(),n.label=5;case 5:return r=t.next(),[3,3];case 6:return[3,9];case 7:return o=n.sent(),s={error:o},[3,9];case 8:try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(s)throw s.error}return[7];case 9:return++e,[3,1];case 10:return[2]}})}()},e.forEach(function(e){return l.insert(e)}),Object.freeze(this)}a.initSize=16,a.maxSize=1<<30,a.sigma=.75,a.treeifyThreshold=8,a.untreeifyThreshold=6,a.minTreeifySize=64,Object.freeze(a),r.default=a},{\"../LinkList/LinkList\":29,\"../Set/Set\":33}],29:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(r,\"__esModule\",{value:!0});var i=function(){return function(e){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=e}}();function o(e){var t=this;void 0===e&&(e=[]);var r=0,o=void 0,s=void 0;this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){o=s=void 0,r=0},this.front=function(){return null===o||void 0===o?void 0:o.value},this.back=function(){return null===s||void 0===s?void 0:s.value},this.forEach=function(e){for(var t=o,r=0;t;){if(void 0===t.value)throw new Error(\"unknown error\");e(t.value,r++),t=t.next}},this.getElementByPos=function(e){if(e<0||e>=r)throw new Error(\"pos must more then 0 and less then the list length\");for(var t=o;e--&&t;)t=t.next;if(!t||void 0===t.value)throw new Error(\"unknown error\");return t.value},this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error(\"erase pos must more then 0 and less then the list length\");if(0===e)this.popFront();else if(e===r-1)this.popBack();else{for(var t=o;e--;){if(!(null===t||void 0===t?void 0:t.next))throw new Error(\"unknown error\");t=t.next}if(!t||!t.pre||!t.next)throw new Error(\"unknown error\");var n=t.pre,i=t.next;i.pre=n,n.next=i,r>0&&--r}},this.eraseElementByValue=function(e){for(;o&&o.value===e;)this.popFront();for(;s&&s.value===e;)this.popBack();if(o)for(var t=o;t;){if(t.value===e){var n=t.pre,i=t.next;i&&(i.pre=n),n&&(n.next=i),r>0&&--r}t=t.next}},this.pushBack=function(e){if(null===e||void 0===e)throw new Error(\"you can't push null or undefined here\");++r;var t=new i(e);s?(s.next=t,t.pre=s,s=t):o=s=t},this.popBack=function(){s&&(r>0&&--r,s&&(o===s?o=s=void 0:(s=s.pre)&&(s.next=void 0)))},this.setElementByPos=function(e,t){if(null===t||void 0===t)throw new Error(\"you can't set null or undefined here\");if(e<0||e>=r)throw new Error(\"pos must more then 0 and less then the list length\");for(var n=o;e--;){if(!n)throw new Error(\"unknown error\");n=n.next}n&&(n.value=t)},this.insert=function(e,t,n){if(void 0===n&&(n=1),null===t||void 0===t)throw new Error(\"you can't insert null or undefined here\");if(e<0||e>r)throw new Error(\"insert pos must more then 0 and less then or equal to the list length\");if(n<0)throw new Error(\"insert size must more than 0\");if(0===e)for(;n--;)this.pushFront(t);else if(e===r)for(;n--;)this.pushBack(t);else{for(var s=o,a=1;a<e;++a){if(!(null===s||void 0===s?void 0:s.next))throw new Error(\"unknown error\");s=null===s||void 0===s?void 0:s.next}if(!s)throw new Error(\"unknown error\");var l=s.next;for(r+=n;n--;)s.next=new i(t),s.next.pre=s,s=s.next;s.next=l,l&&(l.pre=s)}},this.find=function(e){for(var t=o;t;){if(t.value===e)return!0;t=t.next}return!1},this.reverse=function(){for(var e=o,t=s,n=0;e&&t&&2*n<r;){var i=e.value;e.value=t.value,t.value=i,e=e.next,t=t.pre,++n}},this.unique=function(){for(var e=o;e;){for(var t=e;t&&t.next&&t.value===t.next.value;)t=t.next,r>0&&--r;e.next=t.next,e.next&&(e.next.pre=e),e=e.next}},this.sort=function(e){var t=[];this.forEach(function(e){t.push(e)}),t.sort(e);var r=o;t.forEach(function(e){r&&(r.value=e,r=r.next)})},this.pushFront=function(e){if(null===e||void 0===e)throw new Error(\"you can't push null or undefined here\");++r;var t=new i(e);o?(t.next=o,o.pre=t,o=t):o=s=t},this.popFront=function(){o&&(r>0&&--r,o&&(o===s?o=s=void 0:(o=o.next)&&(o.pre=void 0)))},this.merge=function(e){var t=this,n=o;e.forEach(function(e){for(;n&&void 0!==n.value&&n.value<=e;)n=n.next;if(void 0===n)t.pushBack(e),n=s;else if(n===o)t.pushFront(e),n=o;else{++r;var a=n.pre;a&&(a.next=new i(e),a.next.pre=a,a.next.next=n,n&&(n.pre=a.next))}})},this[Symbol.iterator]=function(){return function(){var e;return n(this,function(t){switch(t.label){case 0:e=o,t.label=1;case 1:if(void 0===e)return[3,3];if(!e.value)throw new Error(\"unknown error\");return[4,e.value];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}})}()},e.forEach(function(e){return t.pushBack(e)}),Object.freeze(this)}Object.freeze(o),r.default=o},{}],30:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(r,\"__esModule\",{value:!0});var o=e(\"../Base/TreeNode\");function s(e,t){var r=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var s=0,a=new o.default;a.color=o.default.TreeNodeColorType.black,this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){s=0,a.key=a.value=void 0,a.leftChild=a.rightChild=a.brother=void 0};var l=function(e){if(!e||void 0===e.key)throw new Error(\"unknown error\");return e.leftChild?l(e.leftChild):e},u=function(e){if(!e||void 0===e.key)throw new Error(\"unknown error\");return e.rightChild?u(e.rightChild):e};this.front=function(){if(!this.empty()){var e=l(a);if(void 0===e.key||void 0===e.value)throw new Error(\"unknown error\");return{key:e.key,value:e.value}}},this.back=function(){if(!this.empty()){var e=u(a);if(void 0===e.key||void 0===e.value)throw new Error(\"unknown error\");return{key:e.key,value:e.value}}},this.forEach=function(e){var t,r,n=0;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){e(s.value,n++)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,r;if(e<0||e>=this.size())throw new Error(\"pos must more than 0 and less than set's size\");var n=0;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(n===e)return a;++n}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}throw new Error(\"unknown Error\")};var c=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value){var n=t(e.key,r);return 0===n?{key:e.key,value:e.value}:n<0?c(e.rightChild,r):c(e.leftChild,r)||{key:e.key,value:e.value}}};this.lowerBound=function(e){return c(a,e)};var h=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value)return t(e.key,r)<=0?h(e.rightChild,r):h(e.leftChild,r)||{key:e.key,value:e.value}};this.upperBound=function(e){return h(a,e)};var f=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value){var n=t(e.key,r);return 0===n?{key:e.key,value:e.value}:n>0?f(e.leftChild,r):f(e.rightChild,r)||{key:e.key,value:e.value}}};this.reverseLowerBound=function(e){return f(a,e)};var p=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value)return t(e.key,r)>=0?p(e.leftChild,r):p(e.rightChild,r)||{key:e.key,value:e.value}};this.reverseUpperBound=function(e){return p(a,e)};var d=function(e){var t=e.parent;if(!t){if(e===a)return;throw new Error(\"unknown error\")}if(e.color!==o.default.TreeNodeColorType.red){var r=e.brother;if(!r)throw new Error(\"unknown error\");if(e===t.leftChild){if(r.color===o.default.TreeNodeColorType.red){r.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;var n=t.rotateLeft();a===t&&(a=n),d(e)}else if(r.color===o.default.TreeNodeColorType.black)if(r.rightChild&&r.rightChild.color===o.default.TreeNodeColorType.red){r.color=t.color,t.color=o.default.TreeNodeColorType.black,r.rightChild&&(r.rightChild.color=o.default.TreeNodeColorType.black);n=t.rotateLeft();a===t&&(a=n),e.color=o.default.TreeNodeColorType.black}else if(r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||!r.leftChild||r.leftChild.color!==o.default.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||(r.color=o.default.TreeNodeColorType.red,d(t));else{r.color=o.default.TreeNodeColorType.red,r.leftChild&&(r.leftChild.color=o.default.TreeNodeColorType.black);n=r.rotateRight();a===r&&(a=n),d(e)}}else if(e===t.rightChild)if(r.color===o.default.TreeNodeColorType.red){r.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;n=t.rotateRight();a===t&&(a=n),d(e)}else if(r.color===o.default.TreeNodeColorType.black)if(r.leftChild&&r.leftChild.color===o.default.TreeNodeColorType.red){r.color=t.color,t.color=o.default.TreeNodeColorType.black,r.leftChild&&(r.leftChild.color=o.default.TreeNodeColorType.black);n=t.rotateRight();a===t&&(a=n),e.color=o.default.TreeNodeColorType.black}else if(r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||!r.rightChild||r.rightChild.color!==o.default.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||(r.color=o.default.TreeNodeColorType.red,d(t));else{r.color=o.default.TreeNodeColorType.red,r.rightChild&&(r.rightChild.color=o.default.TreeNodeColorType.black);n=r.rotateLeft();a===r&&(a=n),d(e)}}else e.color=o.default.TreeNodeColorType.black},g=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var r=e.key;e.key=t.key,t.key=r;var n=e.value;e.value=t.value,t.value=n,e=t}if(t.leftChild){t=u(t.leftChild);r=e.key;e.key=t.key,t.key=r;n=e.value;e.value=t.value,t.value=n,e=t}}d(t),t&&t.remove(),--s,a.color=o.default.TreeNodeColorType.black},y=function(e,t){return!(!e||void 0===e.key)&&(!!y(e.leftChild,t)||(!!t(e)||y(e.rightChild,t)))};this.eraseElementByPos=function(e){if(e<0||e>=s)throw new Error(\"pos must more than 0 and less than set's size\");var t=0;y(a,function(r){return e===t?(g(r),!0):(++t,!1)})},this.eraseElementByKey=function(e){if(!this.empty()){var r=v(a,e);void 0!==r&&void 0!==r.key&&0===t(r.key,e)&&g(r)}};var b=function(e,r){if(!e||void 0===e.key)throw new Error(\"unknown error\");var n=t(r,e.key);return n<0?e.leftChild?b(e.leftChild,r):(e.leftChild=new o.default,e.leftChild.parent=e,e.leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):n>0?e.rightChild?b(e.rightChild,r):(e.rightChild=new o.default,e.rightChild.parent=e,e.rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},m=function(e){var t=e.parent;if(!t){if(e===a)return;throw new Error(\"unknown error\")}if(t.color!==o.default.TreeNodeColorType.black&&t.color===o.default.TreeNodeColorType.red){var r=t.brother,n=t.parent;if(!n)throw new Error(\"unknown error\");if(r&&r.color===o.default.TreeNodeColorType.red)r.color=t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red,m(n);else if(!r||r.color===o.default.TreeNodeColorType.black)if(t===n.leftChild){if(e===t.leftChild){t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red;var i=n.rotateRight();n===a&&(a=i)}else if(e===t.rightChild){i=t.rotateLeft();n===a&&(a=i),m(t)}}else if(t===n.rightChild)if(e===t.leftChild){i=t.rotateRight();n===a&&(a=i),m(t)}else if(e===t.rightChild){t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red;i=n.rotateLeft();n===a&&(a=i)}}};this.setElement=function(e,r){if(null===e||void 0===e)throw new Error(\"to avoid some unnecessary errors, we don't suggest you insert null or undefined here\");if(null!==r&&void 0!==r){if(this.empty())return++s,a.key=e,a.value=r,void(a.color=o.default.TreeNodeColorType.black);var n=b(a,e);void 0===n.key||0!==t(n.key,e)?(++s,n.key=e,n.value=r,m(n),a.color=o.default.TreeNodeColorType.black):n.value=r}else this.eraseElementByKey(e)};var v=function(e,r){if(e&&void 0!==e.key){var n=t(r,e.key);return n<0?v(e.leftChild,r):n>0?v(e.rightChild,r):e}};this.find=function(e){return!!v(a,e)},this.getElementByKey=function(e){var t=v(a,e);if(void 0===(null===t||void 0===t?void 0:t.key)||void 0===(null===t||void 0===t?void 0:t.value))throw new Error(\"unknown error\");return t.value},this.union=function(e){var t=this;e.forEach(function(e){var r=e.key,n=e.value;return t.setElement(r,n)})},this.getHeight=function(){if(this.empty())return 0;var e=function(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(a)};var w=function(e){return n(this,function(t){switch(t.label){case 0:return e&&void 0!==e.key&&void 0!==e.value?[5,i(w(e.leftChild))]:[2];case 1:return t.sent(),[4,{key:e.key,value:e.value}];case 2:return t.sent(),[5,i(w(e.rightChild))];case 3:return t.sent(),[2]}})};this[Symbol.iterator]=function(){return w(a)},e.forEach(function(e){var t=e.key,n=e.value;return r.setElement(t,n)}),Object.freeze(this)}Object.freeze(s),r.default=s},{\"../Base/TreeNode\":25}],31:[function(e,t,r){\"use strict\";function n(e,t){void 0===e&&(e=[]),t=t||function(e,t){return e>t?-1:e<t?1:0};var r=[];e.forEach(function(e){return r.push(e)});var n=r.length,i=function(e,t){if(e<0||e>=n)throw new Error(\"unknown error\");if(t<0||t>=n)throw new Error(\"unknown error\");var i=r[e];r[e]=r[t],r[t]=i},o=function(e){if(e<0||e>=n)throw new Error(\"unknown error\");var o=2*e+1,s=2*e+2;o<n&&t(r[e],r[o])>0&&i(e,o),s<n&&t(r[e],r[s])>0&&i(e,s)};!function(){for(var e=Math.floor((n-1)/2);e>=0;--e)for(var o=e,s=2*o+1;s<n;){var a=s+1,l=s;if(a<n&&t(r[s],r[a])>0&&(l=a),t(r[o],r[l])<=0)break;i(o,l),s=2*(o=l)+1}}(),this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,r.length=0},this.push=function(e){if(r.push(e),1!==++n)for(var i=n-1;i>0;){var s=Math.floor((i-1)/2);if(t(r[s],e)<=0)break;o(s),i=s}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=r[n-1];--n;for(var i=0;i<this.size();){var o=2*i+1,s=2*i+2;if(o>=this.size())break;var a=o;if(s<this.size()&&t(r[o],r[s])>0&&(a=s),t(r[a],e)>=0)break;r[i]=r[a],i=a}r[i]=e}else--n},this.top=function(){return r[0]},Object.freeze(this)}Object.defineProperty(r,\"__esModule\",{value:!0}),Object.freeze(n),r.default=n},{}],32:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var n=e(\"../LinkList/LinkList\");function i(e){void 0===e&&(e=[]);var t=new n.default(e);this.size=function(){return t.size()},this.empty=function(){return t.empty()},this.clear=function(){t.clear()},this.push=function(e){t.pushBack(e)},this.pop=function(){t.popFront()},this.front=function(){return t.front()},Object.freeze(this)}Object.freeze(i),r.default=i},{\"../LinkList/LinkList\":29}],33:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(r,\"__esModule\",{value:!0});var o=e(\"../Base/TreeNode\");function s(e,t){var r=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var s=0,a=new o.default;a.color=o.default.TreeNodeColorType.black,this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){s=0,a.key=void 0,a.leftChild=a.rightChild=a.brother=a.parent=void 0,a.color=o.default.TreeNodeColorType.black};var l=function(e){if(!e||void 0===e.key)throw new Error(\"unknown error\");return e.leftChild?l(e.leftChild):e},u=function(e){if(!e||void 0===e.key)throw new Error(\"unknown error\");return e.rightChild?u(e.rightChild):e};this.front=function(){if(!this.empty())return l(a).key},this.back=function(){if(!this.empty())return u(a).key},this.forEach=function(e){var t,r,n=0;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){e(s.value,n++)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,r;if(e<0||e>=this.size())throw new Error(\"pos must more than 0 and less than set's size\");var n=0;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(n===e)return a;++n}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}throw new Error(\"unknown error\")};var c=function(e){var t=e.parent;if(!t){if(e===a)return;throw new Error(\"unknown error\")}if(e.color!==o.default.TreeNodeColorType.red){var r=e.brother;if(!r)throw new Error(\"unknown error\");if(e===t.leftChild){if(r.color===o.default.TreeNodeColorType.red){r.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;var n=t.rotateLeft();a===t&&(a=n),c(e)}else if(r.color===o.default.TreeNodeColorType.black)if(r.rightChild&&r.rightChild.color===o.default.TreeNodeColorType.red){r.color=t.color,t.color=o.default.TreeNodeColorType.black,r.rightChild&&(r.rightChild.color=o.default.TreeNodeColorType.black);n=t.rotateLeft();a===t&&(a=n),e.color=o.default.TreeNodeColorType.black}else if(r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||!r.leftChild||r.leftChild.color!==o.default.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||(r.color=o.default.TreeNodeColorType.red,c(t));else{r.color=o.default.TreeNodeColorType.red,r.leftChild&&(r.leftChild.color=o.default.TreeNodeColorType.black);n=r.rotateRight();a===r&&(a=n),c(e)}}else if(e===t.rightChild)if(r.color===o.default.TreeNodeColorType.red){r.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;n=t.rotateRight();a===t&&(a=n),c(e)}else if(r.color===o.default.TreeNodeColorType.black)if(r.leftChild&&r.leftChild.color===o.default.TreeNodeColorType.red){r.color=t.color,t.color=o.default.TreeNodeColorType.black,r.leftChild&&(r.leftChild.color=o.default.TreeNodeColorType.black);n=t.rotateRight();a===t&&(a=n),e.color=o.default.TreeNodeColorType.black}else if(r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||!r.rightChild||r.rightChild.color!==o.default.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||(r.color=o.default.TreeNodeColorType.red,c(t));else{r.color=o.default.TreeNodeColorType.red,r.rightChild&&(r.rightChild.color=o.default.TreeNodeColorType.black);n=r.rotateLeft();a===r&&(a=n),c(e)}}else e.color=o.default.TreeNodeColorType.black},h=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var r=e.key;e.key=t.key,t.key=r,e=t}if(t.leftChild){t=u(t.leftChild);r=e.key;e.key=t.key,t.key=r,e=t}}c(t),t&&t.remove(),--s,a.color=o.default.TreeNodeColorType.black},f=function(e,t){return!(!e||void 0===e.key)&&(!!f(e.leftChild,t)||(!!t(e)||f(e.rightChild,t)))};this.eraseElementByPos=function(e){if(e<0||e>=s)throw new Error(\"pos must more than 0 and less than set's size\");var t=0;f(a,function(r){return e===t?(h(r),!0):(++t,!1)})},this.eraseElementByValue=function(e){if(!this.empty()){var r=g(a,e);void 0!==r&&void 0!==r.key&&0===t(r.key,e)&&h(r)}};var p=function(e,r){if(!e||void 0===e.key)throw new Error(\"unknown error\");var n=t(r,e.key);return n<0?e.leftChild?p(e.leftChild,r):(e.leftChild=new o.default,e.leftChild.parent=e,e.leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):n>0?e.rightChild?p(e.rightChild,r):(e.rightChild=new o.default,e.rightChild.parent=e,e.rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},d=function(e){var t=e.parent;if(!t){if(e===a)return;throw new Error(\"unknown error\")}if(t.color!==o.default.TreeNodeColorType.black&&t.color===o.default.TreeNodeColorType.red){var r=t.brother,n=t.parent;if(!n)throw new Error(\"unknown error\");if(r&&r.color===o.default.TreeNodeColorType.red)r.color=t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red,d(n);else if(!r||r.color===o.default.TreeNodeColorType.black)if(t===n.leftChild){if(e===t.leftChild){t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red;var i=n.rotateRight();n===a&&(a=i)}else if(e===t.rightChild){i=t.rotateLeft();n===a&&(a=i),d(t)}}else if(t===n.rightChild)if(e===t.leftChild){i=t.rotateRight();n===a&&(a=i),d(t)}else if(e===t.rightChild){t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red;i=n.rotateLeft();n===a&&(a=i)}}};this.insert=function(e){if(null===e||void 0===e)throw new Error(\"to avoid some unnecessary errors, we don't suggest you insert null or undefined here\");if(this.empty())return++s,a.key=e,void(a.color=o.default.TreeNodeColorType.black);var r=p(a,e);void 0!==r.key&&0===t(r.key,e)||(++s,r.key=e,d(r),a.color=o.default.TreeNodeColorType.black)};var g=function(e,r){if(e&&void 0!==e.key){var n=t(r,e.key);return n<0?g(e.leftChild,r):n>0?g(e.rightChild,r):e}};this.find=function(e){var r=g(a,e);return void 0!==r&&void 0!==r.key&&0===t(r.key,e)};var y=function(e,r){if(e&&void 0!==e.key){var n=t(e.key,r);if(0===n)return e.key;if(n<0)return y(e.rightChild,r);var i=y(e.leftChild,r);return void 0!==i?i:e.key}};this.lowerBound=function(e){return y(a,e)};var b=function(e,r){if(e&&void 0!==e.key){if(t(e.key,r)<=0)return b(e.rightChild,r);var n=b(e.leftChild,r);return void 0!==n?n:e.key}};this.upperBound=function(e){return b(a,e)};var m=function(e,r){if(e&&void 0!==e.key){var n=t(e.key,r);if(0===n)return e.key;if(n>0)return m(e.leftChild,r);var i=m(e.rightChild,r);return void 0!==i?i:e.key}};this.reverseLowerBound=function(e){return m(a,e)};var v=function(e,r){if(e&&void 0!==e.key){if(t(e.key,r)>=0)return v(e.leftChild,r);var n=v(e.rightChild,r);return void 0!==n?n:e.key}};this.reverseUpperBound=function(e){return v(a,e)},this.union=function(e){var t=this;e.forEach(function(e){return t.insert(e)})},this.getHeight=function(){if(this.empty())return 0;var e=function(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(a)};var w=function(e){return n(this,function(t){switch(t.label){case 0:return e&&void 0!==e.key?[5,i(w(e.leftChild))]:[2];case 1:return t.sent(),[4,e.key];case 2:return t.sent(),[5,i(w(e.rightChild))];case 3:return t.sent(),[2]}})};this[Symbol.iterator]=function(){return w(a)},e.forEach(function(e){return r.insert(e)}),Object.freeze(this)}Object.freeze(s),r.default=s},{\"../Base/TreeNode\":25}],34:[function(e,t,r){\"use strict\";function n(e){var t=this;void 0===e&&(e=[]);var r=0,n=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,n.length=0},this.push=function(e){n.push(e),++r},this.pop=function(){n.pop(),r>0&&--r},this.top=function(){return n[r-1]},e.forEach(function(e){return t.push(e)}),Object.freeze(this)}Object.defineProperty(r,\"__esModule\",{value:!0}),Object.freeze(n),r.default=n},{}],35:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};function a(e){var t=this;void 0===e&&(e=[]);var r=0,a=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,a.length=0},this.front=function(){if(!this.empty())return a[0]},this.back=function(){if(!this.empty())return a[r-1]},this.forEach=function(e){a.forEach(e)},this.getElementByPos=function(e){if(e<0||e>=r)throw new Error(\"pos must more than 0 and less than vector's size\");return a[e]},this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error(\"pos must more than 0 and less than vector's size\");for(var t=e;t<r-1;++t)a[t]=a[t+1];this.popBack()},this.eraseElementByValue=function(e){var t=[];this.forEach(function(r){r!==e&&t.push(r)}),t.forEach(function(e,t){a[t]=e});for(var n=t.length;r>n;)this.popBack()},this.pushBack=function(e){a.push(e),++r},this.popBack=function(){a.pop(),r>0&&--r},this.setElementByPos=function(e,t){if(e<0||e>=r)throw new Error(\"pos must more than 0 and less than vector's size\");a[e]=t},this.insert=function(e,t,n){if(void 0===n&&(n=1),e<0||e>r)throw new Error(\"pos must more than 0 and less than or equal to vector's size\");a.splice.apply(a,o([e,0],i(new Array(n).fill(t)),!1)),r+=n},this.find=function(e){return a.includes(e)},this.reverse=function(){a.reverse()},this.unique=function(){var e,t=[];this.forEach(function(r,n){0!==n&&r===e||(t.push(r),e=r)}),t.forEach(function(e,t){a[t]=e});for(var n=t.length;r>n;)this.popBack()},this.sort=function(e){a.sort(e)},this[Symbol.iterator]=function(){return function(){return n(this,function(e){switch(e.label){case 0:return[5,s(a)];case 1:return[2,e.sent()]}})}()},e.forEach(function(e){return t.pushBack(e)}),Object.freeze(this)}Object.defineProperty(r,\"__esModule\",{value:!0}),Object.freeze(a),r.default=a},{}],36:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.HashMap=r.HashSet=r.Map=r.Set=r.PriorityQueue=r.Deque=r.LinkList=r.Queue=r.Stack=r.Vector=void 0;var n=e(\"./Vector/Vector\");r.Vector=n.default;var i=e(\"./Stack/Stack\");r.Stack=i.default;var o=e(\"./Queue/Queue\");r.Queue=o.default;var s=e(\"./LinkList/LinkList\");r.LinkList=s.default;var a=e(\"./Deque/Deque\");r.Deque=a.default;var l=e(\"./PriorityQueue/PriorityQueue\");r.PriorityQueue=l.default;var u=e(\"./Set/Set\");r.Set=u.default;var c=e(\"./Map/Map\");r.Map=c.default;var h=e(\"./HashSet/HashSet\");r.HashSet=h.default;var f=e(\"./HashMap/HashMap\");r.HashMap=f.default},{\"./Deque/Deque\":26,\"./HashMap/HashMap\":27,\"./HashSet/HashSet\":28,\"./LinkList/LinkList\":29,\"./Map/Map\":30,\"./PriorityQueue/PriorityQueue\":31,\"./Queue/Queue\":32,\"./Set/Set\":33,\"./Stack/Stack\":34,\"./Vector/Vector\":35}],37:[function(e,t,r){\"use strict\";const n=e(\"yallist\"),i=Symbol(\"max\"),o=Symbol(\"length\"),s=Symbol(\"lengthCalculator\"),a=Symbol(\"allowStale\"),l=Symbol(\"maxAge\"),u=Symbol(\"dispose\"),c=Symbol(\"noDisposeOnSet\"),h=Symbol(\"lruList\"),f=Symbol(\"cache\"),p=Symbol(\"updateAgeOnGet\"),d=()=>1;const g=(e,t,r)=>{const n=e[f].get(t);if(n){const t=n.value;if(y(e,t)){if(m(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[h].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},b=e=>{if(e[o]>e[i])for(let t=e[h].tail;e[o]>e[i]&&null!==t;){const r=t.prev;m(e,t),t=r}},m=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[o]-=r.length,e[f].delete(r.key),e[h].removeNode(t)}};class v{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const w=(e,t,r,n)=>{let i=r.value;y(e,i)&&(m(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};t.exports=class{constructor(e){if(\"number\"==typeof e&&(e={max:e}),e||(e={}),e.max&&(\"number\"!=typeof e.max||e.max<0))throw new TypeError(\"max must be a non-negative number\");this[i]=e.max||1/0;const t=e.length||d;if(this[s]=\"function\"!=typeof t?d:t,this[a]=e.stale||!1,e.maxAge&&\"number\"!=typeof e.maxAge)throw new TypeError(\"maxAge must be a number\");this[l]=e.maxAge||0,this[u]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(\"number\"!=typeof e||e<0)throw new TypeError(\"max must be a non-negative number\");this[i]=e||1/0,b(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if(\"number\"!=typeof e)throw new TypeError(\"maxAge must be a non-negative number\");this[l]=e,b(this)}get maxAge(){return this[l]}set lengthCalculator(e){\"function\"!=typeof e&&(e=d),e!==this[s]&&(this[s]=e,this[o]=0,this[h].forEach(e=>{e.length=this[s](e.value,e.key),this[o]+=e.length})),b(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let r=this[h].tail;null!==r;){const n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[h].head;null!==r;){const n=r.next;w(this,e,r,t),r=n}}keys(){return this[h].toArray().map(e=>e.key)}values(){return this[h].toArray().map(e=>e.value)}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach(e=>this[u](e.key,e.value)),this[f]=new Map,this[h]=new n,this[o]=0}dump(){return this[h].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[h]}set(e,t,r){if((r=r||this[l])&&\"number\"!=typeof r)throw new TypeError(\"maxAge must be a number\");const n=r?Date.now():0,a=this[s](t,e);if(this[f].has(e)){if(a>this[i])return m(this,this[f].get(e)),!1;const s=this[f].get(e).value;return this[u]&&(this[c]||this[u](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),b(this),!0}const p=new v(e,t,a,n,r);return p.length>this[i]?(this[u]&&this[u](e,t),!1):(this[o]+=p.length,this[h].unshift(p),this[f].set(e,this[h].head),b(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!y(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[h].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[f].forEach((e,t)=>g(this,t,!1))}}},{yallist:83}],38:[function(e,t,r){(function(e){(function(){const r=t.exports;r.types={0:\"reserved\",1:\"connect\",2:\"connack\",3:\"publish\",4:\"puback\",5:\"pubrec\",6:\"pubrel\",7:\"pubcomp\",8:\"subscribe\",9:\"suback\",10:\"unsubscribe\",11:\"unsuback\",12:\"pingreq\",13:\"pingresp\",14:\"disconnect\",15:\"auth\"},r.codes={};for(const e in r.types){const t=r.types[e];r.codes[t]=e}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=e.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=e.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=e.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(const e in r.properties){const t=r.properties[e];r.propertiesCodes[t]=e}function n(t){return[0,1,2].map(n=>[0,1].map(i=>[0,1].map(o=>{const s=e.alloc(1);return s.writeUInt8(r.codes[t]<<r.CMD_SHIFT|(i?r.DUP_MASK:0)|n<<r.QOS_SHIFT|o,0,!0),s})))}r.propertiesTypes={sessionExpiryInterval:\"int32\",willDelayInterval:\"int32\",receiveMaximum:\"int16\",maximumPacketSize:\"int32\",topicAliasMaximum:\"int16\",requestResponseInformation:\"byte\",requestProblemInformation:\"byte\",userProperties:\"pair\",authenticationMethod:\"string\",authenticationData:\"binary\",payloadFormatIndicator:\"byte\",messageExpiryInterval:\"int32\",contentType:\"string\",responseTopic:\"string\",correlationData:\"binary\",maximumQoS:\"int8\",retainAvailable:\"byte\",assignedClientIdentifier:\"string\",reasonString:\"string\",wildcardSubscriptionAvailable:\"byte\",subscriptionIdentifiersAvailable:\"byte\",sharedSubscriptionAvailable:\"byte\",serverKeepAlive:\"int16\",responseInformation:\"string\",serverReference:\"string\",topicAlias:\"int16\",subscriptionIdentifier:\"var\"},r.PUBLISH_HEADER=n(\"publish\"),r.SUBSCRIBE_HEADER=n(\"subscribe\"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=n(\"unsubscribe\"),r.ACKS={unsuback:n(\"unsuback\"),puback:n(\"puback\"),pubcomp:n(\"pubcomp\"),pubrel:n(\"pubrel\"),pubrec:n(\"pubrec\")},r.SUBACK_HEADER=e.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=e.from([3]),r.VERSION4=e.from([4]),r.VERSION5=e.from([5]),r.VERSION131=e.from([131]),r.VERSION132=e.from([132]),r.QOS=[0,1,2].map(t=>e.from([t])),r.EMPTY={pingreq:e.from([r.codes.pingreq<<4,0]),pingresp:e.from([r.codes.pingresp<<4,0]),disconnect:e.from([r.codes.disconnect<<4,0])}}).call(this)}).call(this,e(\"buffer\").Buffer)},{buffer:17}],39:[function(e,t,r){(function(r){(function(){const n=e(\"./writeToStream\"),i=e(\"events\");class o extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e=0;const t=new Array(this._array.length),n=this._array;let i,o=0;for(i=0;i<n.length&&void 0!==n[i];i++)\"string\"!=typeof n[i]?t[i]=n[i].length:t[i]=r.byteLength(n[i]),e+=t[i];const s=r.allocUnsafe(e);for(i=0;i<n.length&&void 0!==n[i];i++)\"string\"!=typeof n[i]?(n[i].copy(s,o),o+=t[i]):(s.write(n[i],o),o+=t[i]);return s}}t.exports=function(e,t){const r=new o;return n(e,r,t),r.concat()}}).call(this)}).call(this,e(\"buffer\").Buffer)},{\"./writeToStream\":44,buffer:17,events:22}],40:[function(e,t,r){r.parser=e(\"./parser\").parser,r.generate=e(\"./generate\"),r.writeToStream=e(\"./writeToStream\")},{\"./generate\":39,\"./parser\":43,\"./writeToStream\":44}],41:[function(e,t,r){(function(e){(function(){const r=65536,n={},i=e.isBuffer(e.from([1,2]).subarray(0,1));function o(t){const r=e.allocUnsafe(2);return r.writeUInt8(t>>8,0),r.writeUInt8(255&t,1),r}t.exports={cache:n,generateCache:function(){for(let e=0;e<r;e++)n[e]=o(e)},generateNumber:o,genBufVariableByteInt:function(t){let r=0,n=0;const o=e.allocUnsafe(4);do{r=t%128|0,(t=t/128|0)>0&&(r|=128),o.writeUInt8(r,n++)}while(t>0&&n<4);return t>0&&(n=0),i?o.subarray(0,n):o.slice(0,n)},generate4ByteBuffer:function(t){const r=e.allocUnsafe(4);return r.writeUInt32BE(t,0),r}}}).call(this)}).call(this,e(\"buffer\").Buffer)},{buffer:17}],42:[function(e,t,r){t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},{}],43:[function(e,t,r){const n=e(\"bl\"),i=e(\"events\"),o=e(\"./packet\"),s=e(\"./constants\"),a=e(\"debug\")(\"mqtt-packet:parser\");class l extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof l?(this.settings=e||{},this._states=[\"_parseHeader\",\"_parseLength\",\"_parsePayload\",\"_newPacket\"],this._resetState(),this):(new l).parser(e)}_resetState(){a(\"_resetState: resetting packet, error, _list, and _stateCounter\"),this.packet=new o,this.error=null,this._list=n(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),a(\"parse: current state: %s\",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,a(\"parse: state complete. _stateCounter is now: %d\",this._stateCounter),a(\"parse: packet.length: %d, buffer list length: %d\",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a(\"parse: exited while loop. packet: %d, buffer list length: %d\",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=s.types[e>>s.CMD_SHIFT],this.packet.retain=0!=(e&s.RETAIN_MASK),this.packet.qos=e>>s.QOS_SHIFT&s.QOS_MASK,this.packet.dup=0!=(e&s.DUP_MASK),a(\"_parseHeader: packet: %o\",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),a(\"_parseLength %d\",e.value),!!e}_parsePayload(){a(\"_parsePayload: payload %O\",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case\"connect\":this._parseConnect();break;case\"connack\":this._parseConnack();break;case\"publish\":this._parsePublish();break;case\"puback\":case\"pubrec\":case\"pubrel\":case\"pubcomp\":this._parseConfirmation();break;case\"subscribe\":this._parseSubscribe();break;case\"suback\":this._parseSuback();break;case\"unsubscribe\":this._parseUnsubscribe();break;case\"unsuback\":this._parseUnsuback();break;case\"pingreq\":case\"pingresp\":break;case\"disconnect\":this._parseDisconnect();break;case\"auth\":this._parseAuth();break;default:this._emitError(new Error(\"Not supported\"))}e=!0}return a(\"_parsePayload complete result: %s\",e),e}_parseConnect(){let e,t,r,n;a(\"_parseConnect\");const i={},o=this.packet,l=this._parseString();if(null===l)return this._emitError(new Error(\"Cannot parse protocolId\"));if(\"MQTT\"!==l&&\"MQIsdp\"!==l)return this._emitError(new Error(\"Invalid protocolId\"));if(o.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error(\"Packet too short\"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error(\"Invalid protocol version\"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error(\"Packet too short\"));if(i.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK,i.will&&(o.will={},o.will.retain=0!=(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),o.will.qos=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT),o.clean=0!=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error(\"Packet too short\"));if(5===o.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(o.properties=e)}const u=this._parseString();if(null===u)return this._emitError(new Error(\"Packet too short\"));if(o.clientId=u,a(\"_parseConnect: packet.clientId: %s\",o.clientId),i.will){if(5===o.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(o.will.properties=e)}if(null===(e=this._parseString()))return this._emitError(new Error(\"Cannot parse will topic\"));if(o.will.topic=e,a(\"_parseConnect: packet.will.topic: %s\",o.will.topic),null===(t=this._parseBuffer()))return this._emitError(new Error(\"Cannot parse will payload\"));o.will.payload=t,a(\"_parseConnect: packet.will.paylaod: %s\",o.will.payload)}if(i.username){if(null===(n=this._parseString()))return this._emitError(new Error(\"Cannot parse username\"));o.username=n,a(\"_parseConnect: packet.username: %s\",o.username)}if(i.password){if(null===(r=this._parseBuffer()))return this._emitError(new Error(\"Cannot parse password\"));o.password=r}return this.settings=o,a(\"_parseConnect: complete\"),o}_parseConnack(){a(\"_parseConnack\");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&s.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error(\"Cannot parse return code\"));if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}a(\"_parseConnack: complete\")}_parsePublish(){a(\"_parsePublish\");const e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error(\"Cannot parse topic\"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),a(\"_parsePublish: payload from buffer list: %o\",e.payload)}}_parseSubscribe(){a(\"_parseSubscribe\");const e=this.packet;let t,r,n,i,o,l,u;if(1!==e.qos)return this._emitError(new Error(\"Wrong subscribe header\"));if(e.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){if(null===(t=this._parseString()))return this._emitError(new Error(\"Cannot parse topic\"));if(this._pos>=e.length)return this._emitError(new Error(\"Malformed Subscribe Payload\"));n=(r=this._parseByte())&s.SUBSCRIBE_OPTIONS_QOS_MASK,l=0!=(r>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK),o=0!=(r>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK),i=r>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,u={topic:t,qos:n},5===this.settings.protocolVersion?(u.nl=l,u.rap=o,u.rh=i):this.settings.bridgeMode&&(u.rh=0,u.rap=!0,u.nl=!0),a(\"_parseSubscribe: push subscription `%s` to subscription\",u),e.subscriptions.push(u)}}}_parseSuback(){a(\"_parseSuback\");const e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){a(\"_parseUnsubscribe\");const e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){const t=this._parseString();if(null===t)return this._emitError(new Error(\"Cannot parse topic\"));a(\"_parseUnsubscribe: push topic `%s` to unsubscriptions\",t),e.unsubscriptions.push(t)}}}_parseUnsuback(){a(\"_parseUnsuback\");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error(\"Cannot parse messageId\"));if(5===this.settings.protocolVersion){const t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){a(\"_parseConfirmation: packet.cmd: `%s`\",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),a(\"_parseConfirmation: packet.reasonCode `%d`\",e.reasonCode)):e.reasonCode=0,e.length>3)){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0}_parseDisconnect(){const e=this.packet;if(a(\"_parseDisconnect\"),5===this.settings.protocolVersion){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return a(\"_parseDisconnect result: true\"),!0}_parseAuth(){a(\"_parseAuth\");const e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error(\"Not supported auth packet for this version MQTT\"));e.reasonCode=this._parseByte();const t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),a(\"_parseAuth: result: true\"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error(\"Cannot parse messageId\")),!1):(a(\"_parseMessageId: packet.messageId %d\",e.messageId),!0)}_parseString(e){const t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;const n=this._list.toString(\"utf8\",this._pos,r);return this._pos+=t,a(\"_parseString: result: %s\",n),n}_parseStringPair(){return a(\"_parseStringPair\"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;const r=this._list.slice(this._pos,t);return this._pos+=e,a(\"_parseBuffer: result: %o\",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,a(\"_parseNum: result: %s\",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,a(\"_parse4ByteNum: result: %s\",e),e}_parseVarByteNum(e){a(\"_parseVarByteNum\");let t,r=0,n=1,i=0,o=!1;const l=this._pos?this._pos:0;for(;r<4&&l+r<this._list.length;){if(i+=n*((t=this._list.readUInt8(l+r++))&s.VARBYTEINT_MASK),n*=128,0==(t&s.VARBYTEINT_FIN_MASK)){o=!0;break}if(this._list.length<=r)break}return!o&&4===r&&this._list.length>=r&&this._emitError(new Error(\"Invalid variable byte integer\")),l&&(this._pos+=r),a(\"_parseVarByteNum: result: %o\",o=!!o&&(e?{bytes:r,value:i}:i)),o}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),a(\"_parseByte: result: %o\",e),e}_parseByType(e){switch(a(\"_parseByType: type: %s\",e),e){case\"byte\":return 0!==this._parseByte();case\"int8\":return this._parseByte();case\"int16\":return this._parseNum();case\"int32\":return this._parse4ByteNum();case\"var\":return this._parseVarByteNum();case\"string\":return this._parseString();case\"pair\":return this._parseStringPair();case\"binary\":return this._parseBuffer()}}_parseProperties(){a(\"_parseProperties\");const e=this._parseVarByteNum(),t=this._pos+e,r={};for(;this._pos<t;){const e=this._parseByte();if(!e)return this._emitError(new Error(\"Cannot parse property code type\")),!1;const t=s.propertiesCodes[e];if(!t)return this._emitError(new Error(\"Unknown property\")),!1;if(\"userProperties\"!==t)r[t]?Array.isArray(r[t])?r[t].push(this._parseByType(s.propertiesTypes[t])):(r[t]=[r[t]],r[t].push(this._parseByType(s.propertiesTypes[t]))):r[t]=this._parseByType(s.propertiesTypes[t]);else{r[t]||(r[t]=Object.create(null));const e=this._parseByType(s.propertiesTypes[t]);if(r[t][e.name])if(Array.isArray(r[t][e.name]))r[t][e.name].push(e.value);else{const n=r[t][e.name];r[t][e.name]=[n],r[t][e.name].push(e.value)}else r[t][e.name]=e.value}}return r}_newPacket(){return a(\"_newPacket\"),this.packet&&(this._list.consume(this.packet.length),a(\"_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d\",this.packet.cmd,this.packet.payload,this.packet.length),this.emit(\"packet\",this.packet)),a(\"_newPacket: new packet\"),this.packet=new o,this._pos=0,!0}_emitError(e){a(\"_emitError\"),this.error=e,this.emit(\"error\",e)}}t.exports=l},{\"./constants\":38,\"./packet\":42,bl:15,debug:18,events:22}],44:[function(e,t,r){(function(r){(function(){const n=e(\"./constants\"),i=r.allocUnsafe(0),o=r.from([0]),s=e(\"./numbers\"),a=e(\"process-nextick-args\").nextTick,l=e(\"debug\")(\"mqtt-packet:writeToStream\"),u=s.cache,c=s.generateNumber,h=s.generateCache,f=s.genBufVariableByteInt,p=s.generate4ByteBuffer;let d=k,g=!0;function y(e,t,s){switch(l(\"generate called\"),t.cork&&(t.cork(),a(b,t)),g&&(g=!1,h()),l(\"generate: packet.cmd: %s\",e.cmd),e.cmd){case\"connect\":return function(e,t,i){const o=e||{},s=o.protocolId||\"MQTT\";let a=o.protocolVersion||4;const l=o.will;let u=o.clean;const c=o.keepalive||0,h=o.clientId||\"\",f=o.username,p=o.password,g=o.properties;void 0===u&&(u=!0);let y=0;if(!s||\"string\"!=typeof s&&!r.isBuffer(s))return t.emit(\"error\",new Error(\"Invalid protocolId\")),!1;y+=s.length+2;if(3!==a&&4!==a&&5!==a)return t.emit(\"error\",new Error(\"Invalid protocol version\")),!1;y+=1;if((\"string\"==typeof h||r.isBuffer(h))&&(h||a>=4)&&(h||u))y+=r.byteLength(h)+2;else{if(a<4)return t.emit(\"error\",new Error(\"clientId must be supplied before 3.1.1\")),!1;if(1*u==0)return t.emit(\"error\",new Error(\"clientId must be given if cleanSession set to 0\")),!1}if(\"number\"!=typeof c||c<0||c>65535||c%1!=0)return t.emit(\"error\",new Error(\"Invalid keepalive\")),!1;y+=2;if(y+=1,5===a){var b=C(t,g);if(!b)return!1;y+=b.length}if(l){if(\"object\"!=typeof l)return t.emit(\"error\",new Error(\"Invalid will\")),!1;if(!l.topic||\"string\"!=typeof l.topic)return t.emit(\"error\",new Error(\"Invalid will topic\")),!1;if(y+=r.byteLength(l.topic)+2,y+=2,l.payload){if(!(l.payload.length>=0))return t.emit(\"error\",new Error(\"Invalid will payload\")),!1;\"string\"==typeof l.payload?y+=r.byteLength(l.payload):y+=l.payload.length}var m={};if(5===a){if(!(m=C(t,l.properties)))return!1;y+=m.length}}let _=!1;if(null!=f){if(!P(f))return t.emit(\"error\",new Error(\"Invalid username\")),!1;_=!0,y+=r.byteLength(f)+2}if(null!=p){if(!_)return t.emit(\"error\",new Error(\"Username is required to use password\")),!1;if(!P(p))return t.emit(\"error\",new Error(\"Invalid password\")),!1;y+=I(p)+2}t.write(n.CONNECT_HEADER),v(t,y),E(t,s),o.bridgeMode&&(a+=128);t.write(131===a?n.VERSION131:132===a?n.VERSION132:4===a?n.VERSION4:5===a?n.VERSION5:n.VERSION3);let k=0;k|=null!=f?n.USERNAME_MASK:0,k|=null!=p?n.PASSWORD_MASK:0,k|=l&&l.retain?n.WILL_RETAIN_MASK:0,k|=l&&l.qos?l.qos<<n.WILL_QOS_SHIFT:0,k|=l?n.WILL_FLAG_MASK:0,k|=u?n.CLEAN_SESSION_MASK:0,t.write(r.from([k])),d(t,c),5===a&&b.write();E(t,h),l&&(5===a&&m.write(),w(t,l.topic),E(t,l.payload));null!=f&&E(t,f);null!=p&&E(t,p);return!0}(e,t);case\"connack\":return function(e,t,i){const s=i?i.protocolVersion:4,a=e||{},l=5===s?a.reasonCode:a.returnCode,u=a.properties;let c=2;if(\"number\"!=typeof l)return t.emit(\"error\",new Error(\"Invalid return code\")),!1;let h=null;if(5===s){if(!(h=C(t,u)))return!1;c+=h.length}t.write(n.CONNACK_HEADER),v(t,c),t.write(a.sessionPresent?n.SESSIONPRESENT_HEADER:o),t.write(r.from([l])),null!=h&&h.write();return!0}(e,t,s);case\"publish\":return function(e,t,o){l(\"publish: packet: %o\",e);const s=o?o.protocolVersion:4,a=e||{},u=a.qos||0,c=a.retain?n.RETAIN_MASK:0,h=a.topic,f=a.payload||i,p=a.messageId,g=a.properties;let y=0;if(\"string\"==typeof h)y+=r.byteLength(h)+2;else{if(!r.isBuffer(h))return t.emit(\"error\",new Error(\"Invalid topic\")),!1;y+=h.length+2}r.isBuffer(f)?y+=f.length:y+=r.byteLength(f);if(u&&\"number\"!=typeof p)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;u&&(y+=2);let b=null;if(5===s){if(!(b=C(t,g)))return!1;y+=b.length}t.write(n.PUBLISH_HEADER[u][a.dup?1:0][c?1:0]),v(t,y),d(t,I(h)),t.write(h),u>0&&d(t,p);null!=b&&b.write();return l(\"publish: payload: %o\",f),t.write(f)}(e,t,s);case\"puback\":case\"pubrec\":case\"pubrel\":case\"pubcomp\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.cmd||\"puback\",l=s.messageId,u=s.dup&&\"pubrel\"===a?n.DUP_MASK:0;let c=0;const h=s.reasonCode,f=s.properties;let p=5===o?3:2;\"pubrel\"===a&&(c=1);if(\"number\"!=typeof l)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;let g=null;if(5===o&&\"object\"==typeof f){if(!(g=T(t,f,i,p)))return!1;p+=g.length}t.write(n.ACKS[a][c][u][0]),v(t,p),d(t,l),5===o&&t.write(r.from([h]));null!==g&&g.write();return!0}(e,t,s);case\"subscribe\":return function(e,t,i){l(\"subscribe: packet: \");const o=i?i.protocolVersion:4,s=e||{},a=s.dup?n.DUP_MASK:0,u=s.messageId,c=s.subscriptions,h=s.properties;let f=0;if(\"number\"!=typeof u)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;f+=2;let p=null;if(5===o){if(!(p=C(t,h)))return!1;f+=p.length}if(\"object\"!=typeof c||!c.length)return t.emit(\"error\",new Error(\"Invalid subscriptions\")),!1;for(let e=0;e<c.length;e+=1){const n=c[e].topic,i=c[e].qos;if(\"string\"!=typeof n)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid topic\")),!1;if(\"number\"!=typeof i)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid qos\")),!1;if(5===o){const r=c[e].nl||!1;if(\"boolean\"!=typeof r)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid No Local\")),!1;const n=c[e].rap||!1;if(\"boolean\"!=typeof n)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid Retain as Published\")),!1;const i=c[e].rh||0;if(\"number\"!=typeof i||i>2)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid Retain Handling\")),!1}f+=r.byteLength(n)+2+1}l(\"subscribe: writing to stream: %o\",n.SUBSCRIBE_HEADER),t.write(n.SUBSCRIBE_HEADER[1][a?1:0][0]),v(t,f),d(t,u),null!==p&&p.write();let g=!0;for(const e of c){const i=e.topic,s=e.qos,a=+e.nl,l=+e.rap,u=e.rh;let c;w(t,i),c=n.SUBSCRIBE_OPTIONS_QOS[s],5===o&&(c|=a?n.SUBSCRIBE_OPTIONS_NL:0,c|=l?n.SUBSCRIBE_OPTIONS_RAP:0,c|=u?n.SUBSCRIBE_OPTIONS_RH[u]:0),g=t.write(r.from([c]))}return g}(e,t,s);case\"suback\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.granted,u=s.properties;let c=0;if(\"number\"!=typeof a)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;c+=2;if(\"object\"!=typeof l||!l.length)return t.emit(\"error\",new Error(\"Invalid qos vector\")),!1;for(let e=0;e<l.length;e+=1){if(\"number\"!=typeof l[e])return t.emit(\"error\",new Error(\"Invalid qos vector\")),!1;c+=1}let h=null;if(5===o){if(!(h=T(t,u,i,c)))return!1;c+=h.length}t.write(n.SUBACK_HEADER),v(t,c),d(t,a),null!==h&&h.write();return t.write(r.from(l))}(e,t,s);case\"unsubscribe\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?n.DUP_MASK:0,u=s.unsubscriptions,c=s.properties;let h=0;if(\"number\"!=typeof a)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;h+=2;if(\"object\"!=typeof u||!u.length)return t.emit(\"error\",new Error(\"Invalid unsubscriptions\")),!1;for(let e=0;e<u.length;e+=1){if(\"string\"!=typeof u[e])return t.emit(\"error\",new Error(\"Invalid unsubscriptions\")),!1;h+=r.byteLength(u[e])+2}let f=null;if(5===o){if(!(f=C(t,c)))return!1;h+=f.length}t.write(n.UNSUBSCRIBE_HEADER[1][l?1:0][0]),v(t,h),d(t,a),null!==f&&f.write();let p=!0;for(let e=0;e<u.length;e++)p=w(t,u[e]);return p}(e,t,s);case\"unsuback\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?n.DUP_MASK:0,u=s.granted,c=s.properties,h=s.cmd;let f=2;if(\"number\"!=typeof a)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;if(5===o){if(\"object\"!=typeof u||!u.length)return t.emit(\"error\",new Error(\"Invalid qos vector\")),!1;for(let e=0;e<u.length;e+=1){if(\"number\"!=typeof u[e])return t.emit(\"error\",new Error(\"Invalid qos vector\")),!1;f+=1}}let p=null;if(5===o){if(!(p=T(t,c,i,f)))return!1;f+=p.length}t.write(n.ACKS[h][0][l][0]),v(t,f),d(t,a),null!==p&&p.write();5===o&&t.write(r.from(u));return!0}(e,t,s);case\"pingreq\":case\"pingresp\":return function(e,t,r){return t.write(n.EMPTY[e.cmd])}(e,t);case\"disconnect\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties;let u=5===o?1:0,c=null;if(5===o){if(!(c=T(t,l,i,u)))return!1;u+=c.length}t.write(r.from([n.codes.disconnect<<4])),v(t,u),5===o&&t.write(r.from([a]));null!==c&&c.write();return!0}(e,t,s);case\"auth\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties;let u=5===o?1:0;5!==o&&t.emit(\"error\",new Error(\"Invalid mqtt version for auth packet\"));const c=T(t,l,i,u);if(!c)return!1;u+=c.length,t.write(r.from([n.codes.auth<<4])),v(t,u),t.write(r.from([a])),null!==c&&c.write();return!0}(e,t,s);default:return t.emit(\"error\",new Error(\"Unknown command\")),!1}}function b(e){e.uncork()}Object.defineProperty(y,\"cacheNumbers\",{get:()=>d===k,set(e){e?(u&&0!==Object.keys(u).length||(g=!0),d=k):(g=!1,d=S)}});const m={};function v(e,t){if(t>n.VARBYTEINT_MAX)return e.emit(\"error\",new Error(`Invalid variable byte integer: ${t}`)),!1;let r=m[t];return r||(r=f(t),t<16384&&(m[t]=r)),l(\"writeVarByteInt: writing to stream: %o\",r),e.write(r)}function w(e,t){const n=r.byteLength(t);return d(e,n),l(\"writeString: %s\",t),e.write(t,\"utf8\")}function _(e,t,r){w(e,t),w(e,r)}function k(e,t){return l(\"writeNumberCached: number: %d\",t),l(\"writeNumberCached: %o\",u[t]),e.write(u[t])}function S(e,t){const r=c(t);return l(\"writeNumberGenerated: %o\",r),e.write(r)}function E(e,t){\"string\"==typeof t?w(e,t):t?(d(e,t.length),e.write(t)):d(e,0)}function C(e,t){if(\"object\"!=typeof t||null!=t.length)return{length:1,write(){A(e,{},0)}};let i=0;function o(t,i){let o=0;switch(n.propertiesTypes[t]){case\"byte\":if(\"boolean\"!=typeof i)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=2;break;case\"int8\":if(\"number\"!=typeof i||i<0||i>255)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=2;break;case\"binary\":if(i&&null===i)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=1+r.byteLength(i)+2;break;case\"int16\":if(\"number\"!=typeof i||i<0||i>65535)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=3;break;case\"int32\":if(\"number\"!=typeof i||i<0||i>4294967295)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=5;break;case\"var\":if(\"number\"!=typeof i||i<0||i>268435455)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=1+r.byteLength(f(i));break;case\"string\":if(\"string\"!=typeof i)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=3+r.byteLength(i.toString());break;case\"pair\":if(\"object\"!=typeof i)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=Object.getOwnPropertyNames(i).reduce((e,t)=>{const n=i[t];return Array.isArray(n)?e+=n.reduce((e,n)=>e+=3+r.byteLength(t.toString())+2+r.byteLength(n.toString()),0):e+=3+r.byteLength(t.toString())+2+r.byteLength(i[t].toString()),e},0);break;default:return e.emit(\"error\",new Error(`Invalid property ${t}: ${i}`)),!1}return o}if(t)for(const e in t){let r=0,n=0;const s=t[e];if(Array.isArray(s))for(let t=0;t<s.length;t++){if(!(n=o(e,s[t])))return!1;r+=n}else{if(!(n=o(e,s)))return!1;r=n}if(!r)return!1;i+=r}return{length:r.byteLength(f(i))+i,write(){A(e,t,i)}}}function T(e,t,r,n){const i=[\"reasonString\",\"userProperties\"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0;let s=C(e,t);if(o)for(;n+s.length>o;){const r=i.shift();if(!r||!t[r])return!1;delete t[r],s=C(e,t)}return s}function x(e,t,i){switch(n.propertiesTypes[t]){case\"byte\":e.write(r.from([n.properties[t]])),e.write(r.from([+i]));break;case\"int8\":e.write(r.from([n.properties[t]])),e.write(r.from([i]));break;case\"binary\":e.write(r.from([n.properties[t]])),E(e,i);break;case\"int16\":e.write(r.from([n.properties[t]])),d(e,i);break;case\"int32\":e.write(r.from([n.properties[t]])),function(e,t){const r=p(t);l(\"write4ByteNumber: %o\",r),e.write(r)}(e,i);break;case\"var\":e.write(r.from([n.properties[t]])),v(e,i);break;case\"string\":e.write(r.from([n.properties[t]])),w(e,i);break;case\"pair\":Object.getOwnPropertyNames(i).forEach(o=>{const s=i[o];Array.isArray(s)?s.forEach(i=>{e.write(r.from([n.properties[t]])),_(e,o.toString(),i.toString())}):(e.write(r.from([n.properties[t]])),_(e,o.toString(),s.toString()))});break;default:return e.emit(\"error\",new Error(`Invalid property ${t} value: ${i}`)),!1}}function A(e,t,r){v(e,r);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&null!==t[r]){const n=t[r];if(Array.isArray(n))for(let t=0;t<n.length;t++)x(e,r,n[t]);else x(e,r,n)}}function I(e){return e?e instanceof r?e.length:r.byteLength(e):0}function P(e){return\"string\"==typeof e||e instanceof r}t.exports=y}).call(this)}).call(this,e(\"buffer\").Buffer)},{\"./constants\":38,\"./numbers\":41,buffer:17,debug:18,\"process-nextick-args\":49}],45:[function(e,t,r){var n=1e3,i=60*n,o=60*i,s=24*o,a=7*s,l=365.25*s;function u(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+\" \"+n+(i?\"s\":\"\")}t.exports=function(e,t){t=t||{};var r=typeof e;if(\"string\"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return r*l;case\"weeks\":case\"week\":case\"w\":return r*a;case\"days\":case\"day\":case\"d\":return r*s;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return r*o;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return r*i;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return r*n;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return r;default:return}}(e);if(\"number\"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return u(e,t,s,\"day\");if(t>=o)return u(e,t,o,\"hour\");if(t>=i)return u(e,t,i,\"minute\");if(t>=n)return u(e,t,n,\"second\");return e+\" ms\"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+\"d\";if(t>=o)return Math.round(e/o)+\"h\";if(t>=i)return Math.round(e/i)+\"m\";if(t>=n)return Math.round(e/n)+\"s\";return e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},{}],46:[function(e,t,r){const n=e(\"./lib/number-allocator.js\");t.exports.NumberAllocator=n},{\"./lib/number-allocator.js\":47}],47:[function(e,t,r){\"use strict\";const n=e(\"js-sdsl\").Set,i=e(\"debug\")(\"number-allocator:trace\"),o=e(\"debug\")(\"number-allocator:error\");function s(e,t){this.low=e,this.high=t}function a(e,t){if(!(this instanceof a))return new a(e,t);this.min=e,this.max=t,this.ss=new n([],(e,t)=>e.compare(t)),i(\"Create\"),this.clear()}s.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},s.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},a.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},a.prototype.alloc=function(){if(0===this.ss.size())return i(\"alloc():empty\"),null;const e=this.ss.front(),t=e.low;return t+1<=e.high?++e.low:this.ss.eraseElementByPos(0),i(\"alloc():\"+t),t},a.prototype.use=function(e){const t=new s(e,e),r=this.ss.lowerBound(t);if(r){if(r.equals(t))return this.ss.eraseElementByValue(r),i(\"use():\"+e),!0;if(r.low>e)return!1;if(r.low===e)return++r.low,i(\"use():\"+e),!0;if(r.high===e)return--r.high,i(\"use():\"+e),!0;const n=r.low;return r.low=e+1,this.ss.insert(new s(n,e-1)),i(\"use():\"+e),!0}return i(\"use():failed\"),!1},a.prototype.free=function(e){if(e<this.min||e>this.max)return void o(\"free():\"+e+\" is out of range\");const t=new s(e,e),r=this.ss.lowerBound(t);if(r){if(r.low<=e&&e<=r.high)return void o(\"free():\"+e+\" has already been vacant\");if(r===this.ss.front())e+1===r.low?--r.low:this.ss.insert(t);else{const n=this.ss.reverseLowerBound(t);n.high+1===e?e+1===r.low?(this.ss.eraseElementByValue(n),r.low=n.low):n.high=e:e+1===r.low?r.low=e:this.ss.insert(t)}}else{if(r===this.ss.front())return void this.ss.insert(t);const n=this.ss.reverseLowerBound(t);n.high+1===e?n.high=e:this.ss.insert(t)}i(\"free():\"+e)},a.prototype.clear=function(){i(\"clear()\"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},a.prototype.intervalCount=function(){return this.ss.size()},a.prototype.dump=function(){console.log(\"length:\"+this.ss.size());for(const e of this.ss)console.log(e)},t.exports=a},{debug:18,\"js-sdsl\":36}],48:[function(e,t,r){var n=e(\"wrappy\");function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||\"Function wrapped with `once`\";return t.onceError=r+\" shouldn't be called more than once\",t.called=!1,t}t.exports=n(i),t.exports.strict=n(o),i.proto=i(function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return o(this)},configurable:!0})})},{wrappy:79}],49:[function(e,t,r){(function(e){(function(){\"use strict\";void 0===e||!e.version||0===e.version.indexOf(\"v0.\")||0===e.version.indexOf(\"v1.\")&&0!==e.version.indexOf(\"v1.8.\")?t.exports={nextTick:function(t,r,n,i){if(\"function\"!=typeof t)throw new TypeError('\"callback\" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this)}).call(this,e(\"_process\"))},{_process:50}],50:[function(e,t,r){var n,i,o=t.exports={};function s(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],h=!1,f=-1;function p(){h&&u&&(h=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!h){var e=l(p);h=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||h||l(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(e){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},{}],51:[function(e,t,r){(function(e){(function(){!function(n){var i=\"object\"==typeof r&&r&&!r.nodeType&&r,o=\"object\"==typeof t&&t&&!t.nodeType&&t,s=\"object\"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(n=s);var a,l,u=2147483647,c=36,h=1,f=26,p=38,d=700,g=72,y=128,b=\"-\",m=/^xn--/,v=/[^\\x20-\\x7E]/,w=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,_={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},k=c-h,S=Math.floor,E=String.fromCharCode;function C(e){throw new RangeError(_[e])}function T(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function x(e,t){var r=e.split(\"@\"),n=\"\";return r.length>1&&(n=r[0]+\"@\",e=r[1]),n+T((e=e.replace(w,\".\")).split(\".\"),t).join(\".\")}function A(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function I(e){return T(e,function(e){var t=\"\";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)}).join(\"\")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,r){var n=0;for(e=r?S(e/d):e>>1,e+=S(e/t);e>k*f>>1;n+=c)e=S(e/k);return S(n+(k+1)*e/(e+p))}function B(e){var t,r,n,i,o,s,a,l,p,d,m,v=[],w=e.length,_=0,k=y,E=g;for((r=e.lastIndexOf(b))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&C(\"not-basic\"),v.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=_,s=1,a=c;i>=w&&C(\"invalid-input\"),((l=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:c)>=c||l>S((u-_)/s))&&C(\"overflow\"),_+=l*s,!(l<(p=a<=E?h:a>=E+f?f:a-E));a+=c)s>S(u/(d=c-p))&&C(\"overflow\"),s*=d;E=O(_-o,t=v.length+1,0==o),S(_/t)>u-k&&C(\"overflow\"),k+=S(_/t),_%=t,v.splice(_++,0,k)}return I(v)}function R(e){var t,r,n,i,o,s,a,l,p,d,m,v,w,_,k,T=[];for(v=(e=A(e)).length,t=y,r=0,o=g,s=0;s<v;++s)(m=e[s])<128&&T.push(E(m));for(n=i=T.length,i&&T.push(b);n<v;){for(a=u,s=0;s<v;++s)(m=e[s])>=t&&m<a&&(a=m);for(a-t>S((u-r)/(w=n+1))&&C(\"overflow\"),r+=(a-t)*w,t=a,s=0;s<v;++s)if((m=e[s])<t&&++r>u&&C(\"overflow\"),m==t){for(l=r,p=c;!(l<(d=p<=o?h:p>=o+f?f:p-o));p+=c)k=l-d,_=c-d,T.push(E(P(d+k%_,0))),l=S(k/_);T.push(E(P(l,0))),o=O(r,w,n==i),r=0,++n}++r,++t}return T.join(\"\")}if(a={version:\"1.4.1\",ucs2:{decode:A,encode:I},decode:B,encode:R,toASCII:function(e){return x(e,function(e){return v.test(e)?\"xn--\"+R(e):e})},toUnicode:function(e){return x(e,function(e){return m.test(e)?B(e.slice(4).toLowerCase()):e})}},i&&o)if(t.exports==i)o.exports=a;else for(l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);else n.punycode=a}(this)}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],52:[function(e,t,r){\"use strict\";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||\"&\",r=r||\"=\";var s={};if(\"string\"!=typeof e||0===e.length)return s;var a=/\\+/g;e=e.split(t);var l=1e3;o&&\"number\"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,f,p,d,g=e[c].replace(a,\"%20\"),y=g.indexOf(r);y>=0?(h=g.substr(0,y),f=g.substr(y+1)):(h=g,f=\"\"),p=decodeURIComponent(h),d=decodeURIComponent(f),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)}},{}],53:[function(e,t,r){\"use strict\";var n=function(e){switch(typeof e){case\"string\":return e;case\"boolean\":return e?\"true\":\"false\";case\"number\":return isFinite(e)?e:\"\";default:return\"\"}};t.exports=function(e,t,r,a){return t=t||\"&\",r=r||\"=\",null===e&&(e=void 0),\"object\"==typeof e?o(s(e),function(s){var a=encodeURIComponent(n(s))+r;return i(e[s])?o(e[s],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[s]))}).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):\"\"};var i=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],54:[function(e,t,r){\"use strict\";r.decode=r.parse=e(\"./decode\"),r.encode=r.stringify=e(\"./encode\")},{\"./decode\":52,\"./encode\":53}],55:[function(e,t,r){\"use strict\";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return\"string\"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?\"one of \".concat(t,\" \").concat(e.slice(0,r-1).join(\", \"),\", or \")+e[r-1]:2===r?\"one of \".concat(t,\" \").concat(e[0],\" or \").concat(e[1]):\"of \".concat(t,\" \").concat(e[0])}return\"of \".concat(t,\" \").concat(String(e))}i(\"ERR_INVALID_OPT_VALUE\",function(e,t){return'The value \"'+t+'\" is invalid for option \"'+e+'\"'},TypeError),i(\"ERR_INVALID_ARG_TYPE\",function(e,t,r){var n,i,s,a;if(\"string\"==typeof t&&(i=\"not \",t.substr(!s||s<0?0:+s,i.length)===i)?(n=\"must not be\",t=t.replace(/^not /,\"\")):n=\"must be\",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e,\" argument\"))a=\"The \".concat(e,\" \").concat(n,\" \").concat(o(t,\"type\"));else{var l=function(e,t,r){return\"number\"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,\".\")?\"property\":\"argument\";a='The \"'.concat(e,'\" ').concat(l,\" \").concat(n,\" \").concat(o(t,\"type\"))}return a+=\". Received type \".concat(typeof r)},TypeError),i(\"ERR_STREAM_PUSH_AFTER_EOF\",\"stream.push() after EOF\"),i(\"ERR_METHOD_NOT_IMPLEMENTED\",function(e){return\"The \"+e+\" method is not implemented\"}),i(\"ERR_STREAM_PREMATURE_CLOSE\",\"Premature close\"),i(\"ERR_STREAM_DESTROYED\",function(e){return\"Cannot call \"+e+\" after a stream was destroyed\"}),i(\"ERR_MULTIPLE_CALLBACK\",\"Callback called multiple times\"),i(\"ERR_STREAM_CANNOT_PIPE\",\"Cannot pipe, not readable\"),i(\"ERR_STREAM_WRITE_AFTER_END\",\"write after end\"),i(\"ERR_STREAM_NULL_VALUES\",\"May not write null values to stream\",TypeError),i(\"ERR_UNKNOWN_ENCODING\",function(e){return\"Unknown encoding: \"+e},TypeError),i(\"ERR_STREAM_UNSHIFT_AFTER_END_EVENT\",\"stream.unshift() after end event\"),t.exports.codes=n},{}],56:[function(e,t,r){(function(r){(function(){\"use strict\";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e(\"./_stream_readable\"),o=e(\"./_stream_writable\");e(\"inherits\")(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var l=s[a];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once(\"end\",c)))}function c(){this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e(\"_process\"))},{\"./_stream_readable\":58,\"./_stream_writable\":60,_process:50,inherits:24}],57:[function(e,t,r){\"use strict\";t.exports=i;var n=e(\"./_stream_transform\");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e(\"inherits\")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{\"./_stream_transform\":59,inherits:24}],58:[function(e,t,r){(function(r,n){(function(){\"use strict\";var i;t.exports=C,C.ReadableState=E;e(\"events\").EventEmitter;var o=function(e,t){return e.listeners(t).length},s=e(\"./internal/streams/stream\"),a=e(\"buffer\").Buffer,l=n.Uint8Array||function(){};var u,c=e(\"util\");u=c&&c.debuglog?c.debuglog(\"stream\"):function(){};var h,f,p,d=e(\"./internal/streams/buffer_list\"),g=e(\"./internal/streams/destroy\"),y=e(\"./internal/streams/state\").getHighWaterMark,b=e(\"../errors\").codes,m=b.ERR_INVALID_ARG_TYPE,v=b.ERR_STREAM_PUSH_AFTER_EOF,w=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(\"inherits\")(C,s);var k=g.errorOrDestroy,S=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function E(t,r,n){i=i||e(\"./_stream_duplex\"),t=t||{},\"boolean\"!=typeof n&&(n=r instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,\"readableHighWaterMark\",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=e(\"string_decoder/\").StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function C(t){if(i=i||e(\"./_stream_duplex\"),!(this instanceof C))return new C(t);var r=this instanceof i;this._readableState=new E(t,this,r),this.readable=!0,t&&(\"function\"==typeof t.read&&(this._read=t.read),\"function\"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function T(e,t,r,n,i){u(\"readableAddChunk\",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(u(\"onEofChunk\"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}(e,s);else if(i||(o=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof l||\"string\"==typeof t||void 0===t||e.objectMode||(r=new m(\"chunk\",[\"string\",\"Buffer\",\"Uint8Array\"],t));var n;return r}(s,t)),o)k(e,o);else if(s.objectMode||t&&t.length>0)if(\"string\"==typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)s.endEmitted?k(e,new _):x(e,s,t,!0);else if(s.ended)k(e,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?x(e,s,t,!1):B(e,s)):x(e,s,t,!1)}else n||(s.reading=!1,B(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit(\"data\",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),B(e,t)}Object.defineProperty(C.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=g.destroy,C.prototype._undestroy=g.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:\"string\"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=\"\"),r=!0),T(this,e,t,!1,r)},C.prototype.unshift=function(e){return T(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){h||(h=e(\"string_decoder/\").StringDecoder);var r=new h(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i=\"\";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),\"\"!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;u(\"emitReadable\",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u(\"emitReadable\",t.flowing),t.emittedReadable=!0,r.nextTick(O,e))}function O(e){var t=e._readableState;u(\"emitReadable_\",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit(\"readable\"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function B(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u(\"maybeReadMore read 0\"),e.read(0),r===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount(\"readable\")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount(\"data\")>0&&e.resume()}function N(e){u(\"readable nexttick read 0\"),e.read(0)}function L(e,t){u(\"resume\",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit(\"resume\"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(u(\"flow\",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(\"\"):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function q(e){var t=e._readableState;u(\"endReadable\",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){if(u(\"endReadableNT\",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit(\"end\"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){u(\"read\",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u(\"read: emitReadable\",t.length,t.ended),0===t.length&&t.ended?q(this):P(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&q(this),null;var n,i=t.needReadable;return u(\"need readable\",i),(0===t.length||t.length-e<t.highWaterMark)&&u(\"length less than watermark\",i=!0),t.ended||t.reading?u(\"reading or ended\",i=!1):i&&(u(\"do read\"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&q(this)),null!==n&&this.emit(\"data\",n),n},C.prototype._read=function(e){k(this,new w(\"_read()\"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,u(\"pipe count=%d opts=%j\",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function a(t,r){u(\"onunpipe\"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u(\"cleanup\"),e.removeListener(\"close\",d),e.removeListener(\"finish\",g),e.removeListener(\"drain\",c),e.removeListener(\"error\",p),e.removeListener(\"unpipe\",a),n.removeListener(\"end\",l),n.removeListener(\"end\",y),n.removeListener(\"data\",f),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function l(){u(\"onend\"),e.end()}i.endEmitted?r.nextTick(s):n.once(\"end\",s),e.on(\"unpipe\",a);var c=function(e){return function(){var t=e._readableState;u(\"pipeOnDrain\",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,\"data\")&&(t.flowing=!0,j(e))}}(n);e.on(\"drain\",c);var h=!1;function f(t){u(\"ondata\");var r=e.write(t);u(\"dest.write\",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!h&&(u(\"false write response, pause\",i.awaitDrain),i.awaitDrain++),n.pause())}function p(t){u(\"onerror\",t),y(),e.removeListener(\"error\",p),0===o(e,\"error\")&&k(e,t)}function d(){e.removeListener(\"finish\",g),y()}function g(){u(\"onfinish\"),e.removeListener(\"close\",d),y()}function y(){u(\"unpipe\"),n.unpipe(e)}return n.on(\"data\",f),function(e,t,r){if(\"function\"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,\"error\",p),e.once(\"close\",d),e.once(\"finish\",g),e.emit(\"pipe\",n),i.flowing||(u(\"pipe resume\"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(\"unpipe\",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit(\"unpipe\",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit(\"unpipe\",this,r),this)},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return\"data\"===e?(i.readableListening=this.listenerCount(\"readable\")>0,!1!==i.flowing&&this.resume()):\"readable\"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u(\"on readable\",i.length,i.reading),i.length?P(this):i.reading||r.nextTick(N,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return\"readable\"===e&&r.nextTick(M,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return\"readable\"!==e&&void 0!==e||r.nextTick(M,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(u(\"resume\"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return u(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(u(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on(\"end\",function(){if(u(\"wrapped end\"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on(\"data\",function(i){(u(\"wrapped data\"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&\"function\"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){u(\"wrapped _read\",t),n&&(n=!1,e.resume())},this},\"function\"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=e(\"./internal/streams/async_iterator\")),f(this)}),Object.defineProperty(C.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,\"readableBuffer\",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,\"readableFlowing\",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=U,Object.defineProperty(C.prototype,\"readableLength\",{enumerable:!1,get:function(){return this._readableState.length}}),\"function\"==typeof Symbol&&(C.from=function(t,r){return void 0===p&&(p=e(\"./internal/streams/from\")),p(C,t,r)})}).call(this)}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../errors\":55,\"./_stream_duplex\":56,\"./internal/streams/async_iterator\":61,\"./internal/streams/buffer_list\":62,\"./internal/streams/destroy\":63,\"./internal/streams/from\":65,\"./internal/streams/state\":67,\"./internal/streams/stream\":68,_process:50,buffer:17,events:22,inherits:24,\"string_decoder/\":75,util:16}],59:[function(e,t,r){\"use strict\";t.exports=u;var n=e(\"../errors\").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,l=e(\"./_stream_duplex\");function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit(\"error\",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(\"function\"==typeof e.transform&&(this._transform=e.transform),\"function\"==typeof e.flush&&(this._flush=e.flush)),this.on(\"prefinish\",c)}function c(){var e=this;\"function\"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,r){h(e,t,r)})}function h(e,t,r){if(t)return e.emit(\"error\",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e(\"inherits\")(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i(\"_transform()\"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},{\"../errors\":55,\"./_stream_duplex\":56,inherits:24}],60:[function(e,t,r){(function(r,n){(function(){\"use strict\";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var o;t.exports=C,C.WritableState=E;var s={deprecate:e(\"util-deprecate\")},a=e(\"./internal/streams/stream\"),l=e(\"buffer\").Buffer,u=n.Uint8Array||function(){};var c,h=e(\"./internal/streams/destroy\"),f=e(\"./internal/streams/state\").getHighWaterMark,p=e(\"../errors\").codes,d=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_MULTIPLE_CALLBACK,b=p.ERR_STREAM_CANNOT_PIPE,m=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,_=p.ERR_UNKNOWN_ENCODING,k=h.errorOrDestroy;function S(){}function E(t,n,s){o=o||e(\"./_stream_duplex\"),t=t||{},\"boolean\"!=typeof s&&(s=n instanceof o),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,\"writableHighWaterMark\",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(\"function\"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(O,e,t),e._writableState.errorEmitted=!0,k(e,i)):(o(i),e._writableState.errorEmitted=!0,k(e,i),O(e,t))}(e,n,i,t,o);else{var s=I(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),i?r.nextTick(x,e,n,s,o):x(e,n,s,o)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(t){var r=this instanceof(o=o||e(\"./_stream_duplex\"));if(!r&&!c.call(C,this))return new C(t);this._writableState=new E(t,this,r),this.writable=!0,t&&(\"function\"==typeof t.write&&(this._write=t.write),\"function\"==typeof t.writev&&(this._writev=t.writev),\"function\"==typeof t.destroy&&(this._destroy=t.destroy),\"function\"==typeof t.final&&(this._final=t.final)),a.call(this)}function T(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m(\"write\")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit(\"drain\"))}(e,t),t.pendingcb--,n(),O(e,t)}function A(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,l=!0;r;)o[a]=r,r.isBuf||(l=!1),r=r.next,a+=1;o.allBuffers=l,T(e,t,!0,t.length,o,\"\",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,h=r.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,c,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final(function(r){t.pendingcb--,r&&k(e,r),t.prefinished=!0,e.emit(\"prefinish\"),O(e,t)})}function O(e,t){var n=I(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||(\"function\"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit(\"prefinish\")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit(\"finish\"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e(\"inherits\")(C,a),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,\"buffer\",{get:s.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(e){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===C&&(e&&e._writableState instanceof E)}})):c=function(e){return e instanceof this},C.prototype.pipe=function(){k(this,new b)},C.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,l.isBuffer(i)||i instanceof u);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),\"function\"==typeof t&&(n=t,t=null),a?t=\"buffer\":t||(t=o.defaultEncoding),\"function\"!=typeof n&&(n=S),o.ending?function(e,t){var n=new w;k(e,n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o;return null===n?o=new v:\"string\"==typeof n||t.objectMode||(o=new d(\"chunk\",[\"string\",\"Buffer\"],n)),!o||(k(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||\"string\"!=typeof t||(t=l.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i=\"buffer\",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,n,i,o);return u}(this,o,a,e,t,n)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},C.prototype.setDefaultEncoding=function(e){if(\"string\"==typeof e&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new g(\"_write()\"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?r.nextTick(n):e.once(\"finish\",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=h.destroy,C.prototype._undestroy=h.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../errors\":55,\"./_stream_duplex\":56,\"./internal/streams/destroy\":63,\"./internal/streams/state\":67,\"./internal/streams/stream\":68,_process:50,buffer:17,inherits:24,\"util-deprecate\":78}],61:[function(e,t,r){(function(r){(function(){\"use strict\";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e(\"./end-of-stream\"),s=Symbol(\"lastResolve\"),a=Symbol(\"lastReject\"),l=Symbol(\"error\"),u=Symbol(\"ended\"),c=Symbol(\"lastPromise\"),h=Symbol(\"handlePromise\"),f=Symbol(\"stream\");function p(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[c]=null,e[s]=null,e[a]=null,t(p(r,!1)))}}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(t,n){r.nextTick(function(){e[l]?n(e[l]):t(p(void 0,!0))})});var n,i=this[c];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[u]?r(p(void 0,!0)):t[h](r,n)},n)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[h])}return this[c]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,\"return\",function(){var e=this;return new Promise(function(t,r){e[f].destroy(null,function(e){e?r(e):t(p(void 0,!0))})})}),n),g);t.exports=function(e){var t,n=Object.create(y,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[f].read();r?(n[c]=null,n[s]=null,n[a]=null,e(p(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[c]=null,o(e,function(e){if(e&&\"ERR_STREAM_PREMATURE_CLOSE\"!==e.code){var t=n[a];return null!==t&&(n[c]=null,n[s]=null,n[a]=null,t(e)),void(n[l]=e)}var r=n[s];null!==r&&(n[c]=null,n[s]=null,n[a]=null,r(p(void 0,!0))),n[u]=!0}),e.on(\"readable\",function(e){r.nextTick(d,e)}.bind(null,n)),n}}).call(this)}).call(this,e(\"_process\"))},{\"./end-of-stream\":64,_process:50}],62:[function(e,t,r){\"use strict\";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=e(\"buffer\").Buffer,a=e(\"util\").inspect,l=a&&a.custom||\"inspect\";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,(r=[{key:\"push\",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:\"unshift\",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:\"shift\",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:\"clear\",value:function(){this.head=this.tail=null,this.length=0}},{key:\"join\",value:function(e){if(0===this.length)return\"\";for(var t=this.head,r=\"\"+t.data;t=t.next;)r+=e+t.data;return r}},{key:\"concat\",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:\"consume\",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:\"first\",value:function(){return this.head.data}},{key:\"_getString\",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:\"_getBuffer\",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),u&&o(t,u),e}()},{buffer:17,util:16}],63:[function(e,t,r){(function(e){(function(){\"use strict\";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit(\"close\")}function i(e,t){e.emit(\"error\",t)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(n,s):(s._writableState.errorEmitted=!0,e.nextTick(r,s,t)):e.nextTick(r,s,t):o?(e.nextTick(n,s),o(t)):e.nextTick(n,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit(\"error\",t)}}}).call(this)}).call(this,e(\"_process\"))},{_process:50}],64:[function(e,t,r){\"use strict\";var n=e(\"../../../errors\").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if(\"function\"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||c()},u=t._writableState&&t._writableState.finished,c=function(){a=!1,u=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},p=function(e){o.call(t,e)},d=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on(\"finish\",c)};return function(e){return e.setHeader&&\"function\"==typeof e.abort}(t)?(t.on(\"complete\",c),t.on(\"abort\",d),t.req?g():t.on(\"request\",g)):a&&!t._writableState&&(t.on(\"end\",l),t.on(\"close\",l)),t.on(\"end\",f),t.on(\"finish\",c),!1!==r.error&&t.on(\"error\",p),t.on(\"close\",d),function(){t.removeListener(\"complete\",c),t.removeListener(\"abort\",d),t.removeListener(\"request\",g),t.req&&t.req.removeListener(\"finish\",c),t.removeListener(\"end\",l),t.removeListener(\"close\",l),t.removeListener(\"finish\",c),t.removeListener(\"end\",f),t.removeListener(\"error\",p),t.removeListener(\"close\",d)}}},{\"../../../errors\":55}],65:[function(e,t,r){t.exports=function(){throw new Error(\"Readable.from is not available in the browser\")}},{}],66:[function(e,t,r){\"use strict\";var n;var i=e(\"../../../errors\").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(e){e()}function u(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var c,h=function(e){return e.length?\"function\"!=typeof e[e.length-1]?a:e.pop():a}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o(\"streams\");var f=r.map(function(t,i){var o=i<r.length-1;return function(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on(\"close\",function(){a=!0}),void 0===n&&(n=e(\"./end-of-stream\")),n(t,{readable:r,writable:i},function(e){if(e)return o(e);a=!0,o()});var l=!1;return function(e){if(!a&&!l)return l=!0,function(e){return e.setHeader&&\"function\"==typeof e.abort}(t)?t.abort():\"function\"==typeof t.destroy?t.destroy():void o(e||new s(\"pipe\"))}}(t,o,i>0,function(e){c||(c=e),e&&f.forEach(l),o||(f.forEach(l),h(c))})});return r.reduce(u)}},{\"../../../errors\":55,\"./end-of-stream\":64}],67:[function(e,t,r){\"use strict\";var n=e(\"../../../errors\").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:\"highWaterMark\",o);return Math.floor(o)}return e.objectMode?16:16384}}},{\"../../../errors\":55}],68:[function(e,t,r){t.exports=e(\"events\").EventEmitter},{events:22}],69:[function(e,t,r){(r=t.exports=e(\"./lib/_stream_readable.js\")).Stream=r,r.Readable=r,r.Writable=e(\"./lib/_stream_writable.js\"),r.Duplex=e(\"./lib/_stream_duplex.js\"),r.Transform=e(\"./lib/_stream_transform.js\"),r.PassThrough=e(\"./lib/_stream_passthrough.js\"),r.finished=e(\"./lib/internal/streams/end-of-stream.js\"),r.pipeline=e(\"./lib/internal/streams/pipeline.js\")},{\"./lib/_stream_duplex.js\":56,\"./lib/_stream_passthrough.js\":57,\"./lib/_stream_readable.js\":58,\"./lib/_stream_transform.js\":59,\"./lib/_stream_writable.js\":60,\"./lib/internal/streams/end-of-stream.js\":64,\"./lib/internal/streams/pipeline.js\":66}],70:[function(e,t,r){\"use strict\";t.exports=function(){if(\"function\"!=typeof arguments[0])throw new Error(\"callback needed\");if(\"number\"!=typeof arguments[1])throw new Error(\"interval needed\");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new function(e,t,r){var n=this;this._callback=e,this._args=r,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,e,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}(arguments[0],arguments[1],e)}},{}],71:[function(e,t,r){\"use strict\";t.exports=e(\"./index.js\")()},{\"./index.js\":72}],72:[function(e,t,r){(function(e){(function(){\"use strict\";function r(t){return t instanceof e?e.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(e){return(e=e||{}).circles?function(e){var t=[],n=[];return e.proto?function e(o){if(\"object\"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,e);if(o instanceof Map)return new Map(i(Array.from(o),e));if(o instanceof Set)return new Set(i(Array.from(o),e));var s={};for(var a in t.push(o),n.push(s),o){var l=o[a];if(\"object\"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(i(Array.from(l),e));else if(l instanceof Set)s[a]=new Set(i(Array.from(l),e));else if(ArrayBuffer.isView(l))s[a]=r(l);else{var u=t.indexOf(l);s[a]=-1!==u?n[u]:e(l)}}return t.pop(),n.pop(),s}:function e(o){if(\"object\"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,e);if(o instanceof Map)return new Map(i(Array.from(o),e));if(o instanceof Set)return new Set(i(Array.from(o),e));var s={};for(var a in t.push(o),n.push(s),o)if(!1!==Object.hasOwnProperty.call(o,a)){var l=o[a];if(\"object\"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(i(Array.from(l),e));else if(l instanceof Set)s[a]=new Set(i(Array.from(l),e));else if(ArrayBuffer.isView(l))s[a]=r(l);else{var u=t.indexOf(l);s[a]=-1!==u?n[u]:e(l)}}return t.pop(),n.pop(),s};function i(e,i){for(var o=Object.keys(e),s=new Array(o.length),a=0;a<o.length;a++){var l=o[a],u=e[l];if(\"object\"!=typeof u||null===u)s[l]=u;else if(u instanceof Date)s[l]=new Date(u);else if(ArrayBuffer.isView(u))s[l]=r(u);else{var c=t.indexOf(u);s[l]=-1!==c?n[c]:i(u)}}return s}}(e):e.proto?function e(n){if(\"object\"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var o in n){var s=n[o];\"object\"!=typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(t(Array.from(s),e)):s instanceof Set?i[o]=new Set(t(Array.from(s),e)):ArrayBuffer.isView(s)?i[o]=r(s):i[o]=e(s)}return i}:function e(n){if(\"object\"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var o in n)if(!1!==Object.hasOwnProperty.call(n,o)){var s=n[o];\"object\"!=typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(t(Array.from(s),e)):s instanceof Set?i[o]=new Set(t(Array.from(s),e)):ArrayBuffer.isView(s)?i[o]=r(s):i[o]=e(s)}return i};function t(e,t){for(var n=Object.keys(e),i=new Array(n.length),o=0;o<n.length;o++){var s=n[o],a=e[s];\"object\"!=typeof a||null===a?i[s]=a:a instanceof Date?i[s]=new Date(a):ArrayBuffer.isView(a)?i[s]=r(a):i[s]=t(a)}return i}}}).call(this)}).call(this,e(\"buffer\").Buffer)},{buffer:17}],73:[function(e,t,r){var n=e(\"buffer\"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if(\"number\"==typeof e)throw new TypeError(\"Argument must not be a number\");return i(e,t,r)},s.alloc=function(e,t,r){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");var n=i(e);return void 0!==t?\"string\"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return i(e)},s.allocUnsafeSlow=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return n.SlowBuffer(e)}},{buffer:17}],74:[function(e,t,r){t.exports=function(e){var t=e._readableState;return t?t.objectMode||\"number\"==typeof e._duplexState?e.read():e.read((r=t,r.buffer.length?r.buffer.head?r.buffer.head.data.length:r.buffer[0].length:r.length)):null;var r}},{}],75:[function(e,t,r){\"use strict\";var n=e(\"safe-buffer\").Buffer,i=n.isEncoding||function(e){switch((e=\"\"+e)&&e.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return\"utf8\";for(var t;;)switch(e){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return e;default:if(t)return;e=(\"\"+e).toLowerCase(),t=!0}}(e);if(\"string\"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error(\"Unknown encoding: \"+e);return t||e}(e),this.encoding){case\"utf16le\":this.text=l,this.end=u,t=4;break;case\"utf8\":this.fillLast=a,t=4;break;case\"base64\":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,\"�\";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,\"�\";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,\"�\"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString(\"utf16le\",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString(\"utf16le\",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):\"\";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString(\"utf16le\",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString(\"base64\",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString(\"base64\",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+this.lastChar.toString(\"base64\",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):\"\"}r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return\"\";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return\"\";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||\"\"},o.prototype.end=function(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+\"�\":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString(\"utf8\",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString(\"utf8\",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{\"safe-buffer\":73}],76:[function(e,t,r){\"use strict\";var n=e(\"punycode\"),i=e(\"./util\");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=v,r.resolve=function(e,t){return v(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},r.format=function(e){i.isString(e)&&(e=v(e));return e instanceof o?e.format():o.prototype.format.call(e)},r.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,u=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),c=[\"'\"].concat(u),h=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(c),f=[\"/\",\"?\",\"#\"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,\"javascript:\":!0},y={javascript:!0,\"javascript:\":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},m=e(\"querystring\");function v(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof e);var o=e.indexOf(\"?\"),a=-1!==o&&o<e.indexOf(\"#\")?\"?\":\"#\",u=e.split(a);u[0]=u[0].replace(/\\\\/g,\"/\");var v=e=u.join(a);if(v=v.trim(),!r&&1===e.split(\"#\").length){var w=l.exec(v);if(w)return this.path=v,this.href=v,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search=\"\",this.query={}),this}var _=s.exec(v);if(_){var k=(_=_[0]).toLowerCase();this.protocol=k,v=v.substr(_.length)}if(r||_||v.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var S=\"//\"===v.substr(0,2);!S||_&&y[_]||(v=v.substr(2),this.slashes=!0)}if(!y[_]&&(S||_&&!b[_])){for(var E,C,T=-1,x=0;x<f.length;x++){-1!==(A=v.indexOf(f[x]))&&(-1===T||A<T)&&(T=A)}-1!==(C=-1===T?v.lastIndexOf(\"@\"):v.lastIndexOf(\"@\",T))&&(E=v.slice(0,C),v=v.slice(C+1),this.auth=decodeURIComponent(E)),T=-1;for(x=0;x<h.length;x++){var A;-1!==(A=v.indexOf(h[x]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=v.length),this.host=v.slice(0,T),v=v.slice(T),this.parseHost(),this.hostname=this.hostname||\"\";var I=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\\./),O=(x=0,P.length);x<O;x++){var B=P[x];if(B&&!B.match(p)){for(var R=\"\",M=0,N=B.length;M<N;M++)B.charCodeAt(M)>127?R+=\"x\":R+=B[M];if(!R.match(p)){var L=P.slice(0,x),j=P.slice(x+1),U=B.match(d);U&&(L.push(U[1]),j.unshift(U[2])),j.length&&(v=\"/\"+j.join(\".\")+v),this.hostname=L.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var q=this.port?\":\"+this.port:\"\",D=this.hostname||\"\";this.host=D+q,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==v[0]&&(v=\"/\"+v))}if(!g[k])for(x=0,O=c.length;x<O;x++){var z=c[x];if(-1!==v.indexOf(z)){var F=encodeURIComponent(z);F===z&&(F=escape(z)),v=v.split(z).join(F)}}var V=v.indexOf(\"#\");-1!==V&&(this.hash=v.substr(V),v=v.slice(0,V));var H=v.indexOf(\"?\");if(-1!==H?(this.search=v.substr(H),this.query=v.substr(H+1),t&&(this.query=m.parse(this.query)),v=v.slice(0,H)):t&&(this.search=\"\",this.query={}),v&&(this.pathname=v),b[k]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){q=this.pathname||\"\";var W=this.search||\"\";this.path=q+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||\"\";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,\":\"),e+=\"@\");var t=this.protocol||\"\",r=this.pathname||\"\",n=this.hash||\"\",o=!1,s=\"\";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&\"?\"+s||\"\";return t&&\":\"!==t.substr(-1)&&(t+=\":\"),this.slashes||(!t||b[t])&&!1!==o?(o=\"//\"+(o||\"\"),r&&\"/\"!==r.charAt(0)&&(r=\"/\"+r)):o||(o=\"\"),n&&\"#\"!==n.charAt(0)&&(n=\"#\"+n),a&&\"?\"!==a.charAt(0)&&(a=\"?\"+a),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace(\"#\",\"%23\"))+n},o.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,\"\"===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];\"protocol\"!==c&&(r[c]=e[c])}return b[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname=\"/\"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!b[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var p=h[f];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||\"\").split(\"/\");d.length&&!(e.host=d.shift()););e.host||(e.host=\"\"),e.hostname||(e.hostname=\"\"),\"\"!==d[0]&&d.unshift(\"\"),d.length<2&&d.unshift(\"\"),r.pathname=d.join(\"/\")}if(r.search=e.search,r.query=e.query,r.host=e.host||\"\",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||\"\",m=r.search||\"\";r.path=g+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&\"/\"===r.pathname.charAt(0),w=e.host||e.pathname&&\"/\"===e.pathname.charAt(0),_=w||v||r.host&&e.pathname,k=_,S=r.pathname&&r.pathname.split(\"/\")||[],E=(d=e.pathname&&e.pathname.split(\"/\")||[],r.protocol&&!b[r.protocol]);if(E&&(r.hostname=\"\",r.port=null,r.host&&(\"\"===S[0]?S[0]=r.host:S.unshift(r.host)),r.host=\"\",e.protocol&&(e.hostname=null,e.port=null,e.host&&(\"\"===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(\"\"===d[0]||\"\"===S[0])),w)r.host=e.host||\"\"===e.host?e.host:r.host,r.hostname=e.hostname||\"\"===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(E)r.hostname=r.host=S.shift(),(I=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path=\"/\"+r.search:r.path=null,r.href=r.format(),r;for(var C=S.slice(-1)[0],T=(r.host||e.host||S.length>1)&&(\".\"===C||\"..\"===C)||\"\"===C,x=0,A=S.length;A>=0;A--)\".\"===(C=S[A])?S.splice(A,1):\"..\"===C?(S.splice(A,1),x++):x&&(S.splice(A,1),x--);if(!_&&!k)for(;x--;x)S.unshift(\"..\");!_||\"\"===S[0]||S[0]&&\"/\"===S[0].charAt(0)||S.unshift(\"\"),T&&\"/\"!==S.join(\"/\").substr(-1)&&S.push(\"\");var I,P=\"\"===S[0]||S[0]&&\"/\"===S[0].charAt(0);E&&(r.hostname=r.host=P?\"\":S.length?S.shift():\"\",(I=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(_=_||r.host&&S.length)&&!P&&S.unshift(\"\"),S.length?r.pathname=S.join(\"/\"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(\":\"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{\"./util\":77,punycode:51,querystring:54}],77:[function(e,t,r){\"use strict\";t.exports={isString:function(e){return\"string\"==typeof e},isObject:function(e){return\"object\"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],78:[function(e,t,r){(function(e){(function(){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&\"true\"===String(r).toLowerCase()}t.exports=function(e,t){if(r(\"noDeprecation\"))return e;var n=!1;return function(){if(!n){if(r(\"throwDeprecation\"))throw new Error(t);r(\"traceDeprecation\")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],79:[function(e,t,r){t.exports=function e(t,r){if(t&&r)return e(t)(r);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");Object.keys(t).forEach(function(e){n[e]=t[e]});return n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return\"function\"==typeof n&&n!==i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),n}}},{}],80:[function(e,t,r){\"use strict\";t.exports=function(){throw new Error(\"ws does not work in the browser. Browser clients must use the native WebSocket object\")}},{}],81:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},{}],82:[function(e,t,r){\"use strict\";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],83:[function(e,t,r){\"use strict\";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&\"function\"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error(\"removing node which does not belong to this list\");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError(\"Reduce of empty list with no initial value\");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError(\"Reduce of empty list with no initial value\");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var s=[];for(n=0;o&&n<t;n++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<r.length;n++)o=i(this,o,r[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{e(\"./iterator.js\")(n)}catch(e){}},{\"./iterator.js\":82}]},{},[12])(12)});","import { s8 } from '../utils';\nconst status = {\n    success: {\n        color: '#2ba471',\n        icon: '<svg fill=\"none\" viewBox=\"0 0 24 24\"><path d=\"M12 23a11 11 0 100-22 11 11 0 000 22zM7.5 10.59l3 3 6-6L17.91 9l-7.41 7.41L6.09 12l1.41-1.41z\"></path></svg>',\n    },\n    info: {\n        color: '#0052d9',\n        icon: '<svg fill=\"none\" viewBox=\"0 0 24 24\"><path d=\"M12 23a11 11 0 100-22 11 11 0 000 22zM11 8.5v-2h2v2h-2zm2 1.5v7.5h-2V10h2z\"></path></svg>',\n    },\n    warning: {\n        color: '#e37318',\n        icon: '<svg fill=\"none\" viewBox=\"0 0 24 24\"><path d=\"M12 1a11 11 0 110 22 11 11 0 010-22zm-1 13h2V6.5h-2V14zm2 1.5h-2v2h2v-2z\"></path></svg>',\n    },\n    error: {\n        color: '#d54941',\n        icon: '<svg fill=\"none\" viewBox=\"0 0 24 24\"><path d=\"M12 1a11 11 0 110 22 11 11 0 010-22zm-1 13h2V6.5h-2V14zm2 1.5h-2v2h2v-2z\"></path></svg>',\n    },\n    question: {\n        color: '#0052d9',\n        icon: '<svg fill=\"none\" viewBox=\"0 0 24 24\"><path d=\"M12 23a11 11 0 100-22 11 11 0 000 22zm-.17-11.11c.43-.53.97-.97 1.4-1.32A2 2 0 0012 7a2 2 0 00-1.89 1.33l-.33.95L7.9 8.6l.34-.94a4 4 0 116.24 4.47 7 7 0 00-1.1 1.01c-.27.34-.37.61-.37.85v1.25h-2V14c0-.87.39-1.57.83-2.11zM11 18.25v-2h2v2h-2z\"></path></svg>',\n    },\n};\nexport const messageList = {};\nexport class Message {\n    parentElement;\n    box;\n    icon;\n    text;\n    closeBtn;\n    duration; //定时销毁时间\n    content;\n    theme; //主题\n    placement; //位置\n    height;\n    id;\n    constructor(parentElement, options) {\n        this.parentElement = parentElement;\n        this.box = document.createElement('div');\n        this.icon = document.createElement('div');\n        this.text = document.createElement('div');\n        this.box.className = 'meta2d-message';\n        this.icon.className = 'icon';\n        this.text.className = 'text';\n        this.icon.innerHTML = status[options.theme || 'info'].icon;\n        this.text.innerHTML = options.content;\n        this.box.appendChild(this.icon);\n        this.box.appendChild(this.text);\n        if (options.closeBtn) {\n            this.closeBtn = document.createElement('div');\n            this.closeBtn.className = 'close';\n            this.closeBtn.innerHTML = 'x';\n            this.closeBtn.onclick = () => {\n                this.close();\n            };\n            this.box.appendChild(this.closeBtn);\n        }\n        parentElement.appendChild(this.box);\n        let sheet;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            if (document.styleSheets[i].title === 'le5le.com/message') {\n                sheet = document.styleSheets[i];\n            }\n        }\n        if (!sheet) {\n            let style = document.createElement('style');\n            style.type = 'text/css';\n            style.title = 'le5le.com/message';\n            document.head.appendChild(style);\n            style = document.createElement('style');\n            style.type = 'text/css';\n            document.head.appendChild(style);\n            sheet = style.sheet;\n            sheet.insertRule(`.meta2d-message{\n           position:absolute;\n           z-index:999;\n           transform: translateX(-50%); \n           padding:12px 16px;\n           max-width:400px;\n           background:#fff;\n           border-radius:6px;\n           box-shadow:0 3px 14px 2px rgba(0, 0, 0, .05),0 8px 10px 1px rgba(0, 0, 0, 6%),0 5px 5px -3px rgba(0, 0, 0, 10%);\n           display:flex;\n           animation: fadein .5s;}`);\n            sheet.insertRule(`\n        @keyframes fadein {\n          0% {\n              transform: translate(-50%, -100%);\n          }\n          100% {\n              transform: translate(-50%,0);\n          }\n      }`);\n            sheet.insertRule('.meta2d-message .icon{width:20px;height:20px;}');\n            sheet.insertRule('.meta2d-message .text{color:rgba(0, 0, 0, 0.9);font-size:12px;margin-left:8px;line-height:20px;}');\n            sheet.insertRule('.meta2d-message .close{width:20px;height:20px;padding-left: 16px; cursor: pointer;}');\n        }\n        this.id = options.id || s8();\n        this.duration = options.duration ?? 3000;\n        this.placement = options.placement || 'top';\n        this.theme = options.theme || 'info';\n        this.height = options.height;\n        // this.init();\n    }\n    init() {\n        messageList[this.id] = this;\n        if (this.duration) {\n            setTimeout(() => {\n                this.close();\n            }, this.duration);\n        }\n        let idx = -1;\n        Object.keys(messageList).forEach((key) => {\n            if (messageList[key]?.placement === this.placement) {\n                idx++;\n            }\n        });\n        this.setPosition(this.placement, idx);\n        this.icon.children[0].style.fill =\n            status[this.theme].color;\n    }\n    setPosition(placement, index = 0) {\n        switch (placement) {\n            case 'top':\n                this.box.style.top = `${30 + index * (this.height || 60)}px`;\n                this.box.style.left = '50%';\n                break;\n            case 'bottom':\n                this.box.style.bottom = `${30 + index * (this.height || 60)}px`;\n                this.box.style.left = '50%';\n                break;\n            case 'left':\n                this.box.style.top = `${30 + index * (this.height || 60)}px`;\n                this.box.style.left = '30px';\n                break;\n            case 'right':\n                this.box.style.top = `${30 + index * (this.height || 60)}px`;\n                this.box.style.right = '30px';\n                break;\n        }\n    }\n    close() {\n        Object.keys(messageList).forEach((key) => {\n            if (messageList[key]?.placement === this.placement) {\n                switch (this.placement) {\n                    case 'top':\n                    case 'left':\n                    case 'right':\n                        messageList[key].box.style.top =\n                            parseInt(messageList[key].box.style.top) - 60 + 'px';\n                        break;\n                    case 'bottom':\n                        messageList[key].box.style.bottom =\n                            parseInt(messageList[key].box.style.bottom) - 60 + 'px';\n                        break;\n                }\n            }\n        });\n        messageList[this.id] = null;\n        delete messageList[this.id];\n        this.box.remove();\n    }\n}\n//# sourceMappingURL=message.js.map","import { getCookie } from \"./url\";\nimport { s8 } from \"./uuid\";\nexport function connectJetLinks(meta2d, net) {\n    if (meta2d.jetLinksList.length) {\n        let url = net.url;\n        if (url.startsWith('/')) {\n            url = (location.protocol === 'https:' ? 'wss://' : 'ws://') + window.location.host + url;\n        }\n        meta2d.jetLinksClient = new WebSocket(`${url}/${localStorage.getItem('X-Access-Token') ||\n            getCookie('X-Access-Token') ||\n            new URLSearchParams(location.search).get('X-Access-Token') ||\n            ''}`);\n        //消息接收\n        meta2d.jetLinksClient.onmessage = (e) => {\n            const mess = JSON.parse(e.data);\n            if (!mess.payload) {\n                return;\n            }\n            if (\n            // mess.payload.success &&\n            mess.payload?.properties) {\n                const data = [];\n                for (let key in mess.payload.properties) {\n                    if (!key.startsWith('_')) {\n                        data.push({\n                            id: `${mess.payload.headers.productId}#${mess.payload.deviceId}#${key}`,\n                            value: mess.payload.properties[key],\n                        });\n                    }\n                }\n                meta2d.setDatas(data, { history: false });\n            }\n            else if (mess.topic.startsWith('/notifications')) {\n                doWarning(meta2d, mess);\n            }\n        };\n        meta2d.jetLinksClient.onopen = () => {\n            meta2d.jetLinksList.forEach((item) => {\n                meta2d.jetLinksClient.send(JSON.stringify({\n                    type: 'sub',\n                    topic: `/device${item.topic}/message/property/report`,\n                    parameter: {\n                        deviceId: item.deviceId,\n                        properties: item.properties,\n                        history: 1,\n                    },\n                    id: item.topic + '-' + s8(),\n                }));\n            });\n            if (net.notification) {\n                meta2d.jetLinksClient.send(JSON.stringify({\n                    type: 'sub',\n                    topic: '/notifications',\n                    id: 'notification',\n                    parameter: {}\n                }));\n            }\n        };\n    }\n}\nfunction doWarning(meta2d, mess) {\n    let topicName = mess.payload.topicName;\n    let message = mess.payload.message;\n    let notifyTime = mess.payload.notifyTime;\n    let content = `<div style=\"padding:0px 12px 0px 0px;width:300px;\">\n      <div style=\"display:flex;height: 20px;justify-content: space-between\">\n        <div style=\"color: #000000d9;\n      font-size: 14px;\n      font-weight: 700;\">${topicName}</div><div style=\"color: #00000073;\">${getTime(notifyTime)}</div>\n      </div>\n      <span>${message}</span>\n   </div>`;\n    meta2d.message({ content, duration: 0, closeBtn: true, placement: 'right', height: 75 });\n    if (mess.payload.detail?.alarmConfigId) {\n        playMp3(meta2d, mess.payload.detail?.alarmConfigId);\n    }\n}\nglobalThis.doWarning = doWarning;\nfunction getTime(timestamp) {\n    const now = new Date(timestamp);\n    const year = now.getFullYear();\n    const month = (now.getMonth() + 1 + '').padStart(2, '0');\n    const day = (now.getDate() + '').padStart(2, '0');\n    const hours = (now.getHours() + '').padStart(2, '0');\n    const minutes = (now.getMinutes() + '').padStart(2, '0');\n    const seconds = (now.getSeconds() + '').padStart(2, '0');\n    return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;\n}\nexport function closeJetLinks(meta2d) {\n    if (meta2d.jetLinksClient) {\n        meta2d.jetLinksClient.close();\n        meta2d.jetLinksClient = undefined;\n    }\n}\nexport function getSendData(meta2d, pen, e) {\n    const list = [];\n    e.list.forEach((item, index) => {\n        const _pen = item.params ? meta2d.findOne(item.params) : pen;\n        list[index] = {\n            deviceId: _pen.deviceId,\n            productId: _pen.productId,\n            properties: {},\n        };\n        for (let key in item.value) {\n            if (item.value[key] === undefined || item.value[key] === '') {\n                //找到绑定了这个设备属性的图元属性\n                const realTime = _pen.realTimes?.find((item) => item.propertyId === key);\n                if (realTime) {\n                    list[index].properties[key] = _pen[realTime.key];\n                }\n            }\n            else if (typeof item.value[key] === 'string' &&\n                item.value[key]?.indexOf('${') > -1) {\n                let keys = item.value[key].match(/(?<=\\$\\{).*?(?=\\})/g);\n                if (keys?.length) {\n                    list[index].properties[key] =\n                        _pen[keys[0]] ?? meta2d.getDynamicParam(keys[0]);\n                }\n            }\n            else {\n                list[index].properties[key] = item.value[key];\n            }\n        }\n    });\n    return list;\n}\nexport async function sendJetLinksData(meta2d, list) {\n    list.forEach(async (item) => {\n        let deviceId = item.deviceId;\n        if (deviceId && deviceId.indexOf('${') > -1) {\n            let keys = deviceId.match(/(?<=\\$\\{).*?(?=\\})/g);\n            if (keys?.length) {\n                deviceId = meta2d.getDynamicParam(keys[0]) || deviceId;\n            }\n        }\n        const res = await fetch(`/api/device-instance/${deviceId}/property`, {\n            headers: { 'X-Access-Token': localStorage.getItem('X-Access-Token') || new URLSearchParams(location.search).get('X-Access-Token') || '',\n                'Content-Type': 'application/json' },\n            method: 'put',\n            body: JSON.stringify(item.properties),\n        });\n        if (res.ok) {\n            console.info('发送成功');\n            meta2d.message({ theme: 'success', content: '下发成功' });\n        }\n        else {\n            meta2d.message({ theme: 'error', content: '下发失败' });\n        }\n    });\n}\n// if (this.jetLinksClient && list.length) {\n//   list.forEach((item) => {\n//     this.jetLinksClient.send(\n//       JSON.stringify({\n//         type: 'sub',\n//         topic: `/device-message-sender/${item.productId}/${item.deviceId}`,\n//         parameter: {\n//           messageType: 'WRITE_PROPERTY',\n//           properties: item.properties,\n//           headers: {\n//             async: false,\n//           },\n//         },\n//         id: item.productId + '/' + item.deviceId + '-' + s8(),\n//       })\n//     );\n//   });\n// }\nexport async function playMp3(meta2d, alarmConfigId) {\n    const res = await fetch(`/api/alarm/config/${alarmConfigId}`, {\n        headers: { 'X-Access-Token': localStorage.getItem('X-Access-Token') || new URLSearchParams(location.search).get('X-Access-Token') || '',\n            'Content-Type': 'application/json' },\n        method: 'GET'\n    });\n    if (res.ok) {\n        let data = res.json();\n        console.log(\"alarm\");\n        if (data.result.media) {\n            createAudio(meta2d, data.result.media, data.result.playTimes);\n        }\n    }\n}\nfunction createAudio(meta2d, media, playTimes) {\n    if (!meta2d.store.globalAudio) {\n        meta2d.store.globalAudio = document.createElement('audio');\n    }\n    meta2d.store.globalAudio.src = media;\n    meta2d.store.globalAudio.play();\n    if (playTimes === -1) {\n        meta2d.store.globalAudio.loop = true;\n    }\n    else {\n        meta2d.store.globalAudio.loop = false;\n        let time = 0;\n        meta2d.store.globalAudio.onended = () => {\n            time++;\n            if (time < playTimes) {\n                meta2d.store.globalAudio.play();\n            }\n        };\n    }\n}\nglobalThis.createAudio = createAudio;\n//# sourceMappingURL=jetLinks.js.map","import { commonAnchors, commonPens, cube, reset, updateFormData } from './diagrams';\nimport { Canvas } from './canvas';\nimport { calcInView, calcTextDrawRect, calcTextLines, calcTextRect, facePen, formatAttrs, getAllChildren, getFromAnchor, getParent, getToAnchor, getWords, LockState, PenType, renderPenRaw, setElemPosition, connectLine, nearestAnchor, setChildValue, isAncestor, isShowChild, CanvasLayer, validationPlugin, setLifeCycleFunc, getAllFollowers, isInteraction, calcWorldAnchors, isDomShapes, } from './pen';\nimport { rotatePoint } from './point';\nimport { clearStore, EditType, globalStore, register, registerAnchors, registerCanvasDraw, useStore, } from './store';\nimport { formatPadding, loadCss, s8, valueInArray, valueInRange, } from './utils';\nimport { calcCenter, calcRelativeRect, calcRightBottom, getRect, rectInRect, } from './rect';\nimport { deepClone } from './utils/clone';\nimport { EventAction } from './event';\nimport { ViewMap } from './map';\nimport * as mqtt from 'mqtt/dist/mqtt.min.js';\nimport pkg from '../package.json';\nimport { lockedError } from './utils/error';\nimport { Scroll } from './scroll';\nimport { getter } from './utils/object';\nimport { getCookie, getMeta2dData, getToken, queryURLParams } from './utils/url';\nimport { HotkeyType } from './data';\nimport { Message, messageList } from './message';\nimport { closeJetLinks, connectJetLinks, getSendData, sendJetLinksData } from './utils/jetLinks';\nimport { le5leTheme } from './theme';\nexport class Meta2d {\n    store;\n    canvas;\n    websocket;\n    mqttClient;\n    websockets;\n    mqttClients;\n    eventSources;\n    penPluginMap = new Map();\n    socketFn;\n    events = {};\n    map;\n    mapTimer;\n    constructor(parent, opts = {}) {\n        this.store = useStore(s8());\n        this.setOptions(opts);\n        this.setDatabyOptions(opts);\n        this.init(parent);\n        this.register(commonPens());\n        this.registerCanvasDraw({ cube });\n        this.registerAnchors(commonAnchors());\n        globalThis.meta2d = this;\n        this.initEventFns();\n        this.store.emitter.on('*', this.onEvent);\n    }\n    facePen = facePen;\n    getWords = getWords;\n    calcTextLines = calcTextLines;\n    calcTextRect = calcTextRect;\n    calcTextDrawRect = calcTextDrawRect;\n    /**\n     * @deprecated 改用 beforeAddPens\n     */\n    get beforeAddPen() {\n        return this.canvas.beforeAddPen;\n    }\n    /**\n     * @deprecated 改用 beforeAddPens\n     */\n    set beforeAddPen(fn) {\n        this.canvas.beforeAddPen = fn;\n    }\n    get beforeAddPens() {\n        return this.canvas.beforeAddPens;\n    }\n    set beforeAddPens(fn) {\n        this.canvas.beforeAddPens = fn;\n    }\n    get beforeAddAnchor() {\n        return this.canvas.beforeAddAnchor;\n    }\n    set beforeAddAnchor(fn) {\n        this.canvas.beforeAddAnchor = fn;\n    }\n    get beforeRemovePens() {\n        return this.canvas.beforeRemovePens;\n    }\n    set beforeRemovePens(fn) {\n        this.canvas.beforeRemovePens = fn;\n    }\n    get beforeRemoveAnchor() {\n        return this.canvas.beforeRemoveAnchor;\n    }\n    set beforeRemoveAnchor(fn) {\n        this.canvas.beforeRemoveAnchor = fn;\n    }\n    setOptions(opts = {}) {\n        if (opts.grid !== undefined ||\n            opts.gridColor !== undefined ||\n            opts.gridSize !== undefined) {\n            // this.setGrid({\n            //   grid: opts.grid,\n            //   gridColor: opts.gridColor,\n            //   gridSize: opts.gridSize,\n            // });\n            this.canvas && (this.canvas.canvasTemplate.bgPatchFlags = true);\n        }\n        if (opts.rule !== undefined ||\n            opts.ruleColor !== undefined ||\n            opts.ruleOptions !== undefined) {\n            // this.setRule({\n            //   rule: opts.rule,\n            //   ruleColor: opts.ruleColor,\n            // });\n            this.store.patchFlagsTop = true;\n            if (opts.ruleOptions) {\n                if (this.store.options?.ruleOptions) {\n                    Object.assign(this.store.options.ruleOptions, opts.ruleOptions);\n                    opts.ruleOptions = this.store.options.ruleOptions;\n                }\n            }\n        }\n        if (opts.background !== undefined) {\n            this.canvas && (this.canvas.canvasTemplate.bgPatchFlags = true);\n        }\n        if (opts.resizeMode !== undefined) {\n            if (!opts.resizeMode) {\n                this.canvas.hotkeyType = HotkeyType.None;\n            }\n        }\n        if (opts.width !== undefined || opts.height !== undefined) {\n            this.canvas && (this.canvas.canvasTemplate.bgPatchFlags = true);\n            if (this.canvas &&\n                this.canvas.canvasTemplate.canvas.style.backgroundImage) {\n                this.canvas.canvasTemplate.canvas.style.backgroundImage = '';\n            }\n        }\n        this.store.options = Object.assign(this.store.options, opts);\n        if (this.canvas && opts.scroll !== undefined) {\n            if (opts.scroll) {\n                !this.canvas.scroll && (this.canvas.scroll = new Scroll(this.canvas));\n                this.canvas.scroll.show();\n            }\n            else {\n                this.canvas.scroll && this.canvas.scroll.hide();\n            }\n        }\n        this.canvas?.initGlobalStyle();\n    }\n    getOptions() {\n        return this.store.options;\n    }\n    /**\n     * @description\n     * @author Joseph Ho\n     * @date 21/02/2025\n     * @param {string} themeName 主题名\n     * @param {object} theme 主题变量字符串数组\n     * @returns {*}\n     * @memberof Meta2d\n     */\n    registerTheme(themeName, theme) {\n        // 校验数据\n        if (!Array.isArray(theme)) {\n            return;\n        }\n        // 写一个正则，中间必须有且仅有1个冒号，结尾不能有分号，符合\"A:B\"的形式，冒号两边必须非空，允许有空格\n        const regex = /^\\s*\\S+\\s*:\\s*\\S+\\s*$/;\n        const ret = theme.every(el => regex.test(el));\n        if (!ret) {\n            return;\n        }\n        const obj = {}, newTheme = [];\n        for (let i = 0; i < theme.length; i++) {\n            const item = theme[i];\n            const kvs = item.split(\":\");\n            const kvs0 = kvs[0].trim();\n            const kvs1 = kvs[1].trim();\n            newTheme.push([kvs0, kvs1].join(\":\"));\n            obj[kvs0] = kvs1;\n        }\n        le5leTheme.addTheme(themeName, newTheme);\n        this.store.theme[themeName] = obj;\n    }\n    setTheme(theme) {\n        this.store.data.theme = theme;\n        this.setBackgroundColor(this.store.theme[theme].background);\n        this.canvas.parentElement.style.background =\n            this.store.theme[theme].parentBackground;\n        this.store.data.color = this.store.theme[theme].color;\n        this.setOptions({\n            ruleColor: this.store.theme[theme].ruleColor,\n            ruleOptions: this.store.theme[theme].ruleOptions,\n        });\n        // 更新全局的主题css变量\n        le5leTheme.updateCssRule(this.store.id, theme);\n        this.canvas.initGlobalStyle();\n        for (let i = 0; i < this.store.data.pens.length; i++) {\n            const pen = this.store.data.pens[i];\n            // 调用pen的主题设置函数,如果单个pen有主题的自定义设置的话\n            pen.setTheme && pen.setTheme(pen, this.store.styles);\n        }\n        this.render();\n    }\n    setDatabyOptions(options = {}) {\n        const { color, activeColor, activeBackground, grid, gridColor, gridSize, fromArrow, toArrow, rule, ruleColor, textColor, x = 0, y = 0, } = options;\n        this.setRule({ rule, ruleColor });\n        this.setGrid({\n            grid,\n            gridColor,\n            gridSize,\n        });\n        this.store.data = Object.assign(this.store.data, {\n            textColor,\n            color,\n            activeColor,\n            activeBackground,\n            fromArrow,\n            toArrow,\n            x,\n            y,\n        });\n    }\n    init(parent) {\n        if (typeof parent === 'string') {\n            this.canvas = new Canvas(this, document.getElementById(parent), this.store);\n        }\n        else {\n            this.canvas = new Canvas(this, parent, this.store);\n        }\n        this.canvas.initGlobalStyle();\n        this.resize();\n        this.canvas.listen();\n        // 创建主题样式表\n        // if(this.store.data.theme){\n        le5leTheme.createThemeSheet(this.store.data.theme, this.store.id);\n        // }\n    }\n    initEventFns() {\n        this.events[EventAction.Link] = (pen, e) => {\n            if (window && e.value && typeof e.value === 'string') {\n                let url = e.value;\n                if (url.includes('${')) {\n                    let keys = url.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                    if (keys) {\n                        keys?.forEach((key) => {\n                            url = url.replace(`\\${${key}}`, pen[key]);\n                        });\n                    }\n                }\n                window.open(url, e.params ?? '_blank');\n                return;\n            }\n            console.warn('[meta2d] Link param is not a string');\n        };\n        this.events[EventAction.SetProps] = (pen, e) => {\n            // TODO: 若频繁地触发，重复 render 可能带来性能问题，待考虑\n            const value = e.value;\n            if (value && typeof value === 'object') {\n                const pens = e.params ? this.find(e.params) : this.find(pen.id);\n                const _value = {};\n                for (let key in value) {\n                    if (value[key]?.id) {\n                        _value[key] = this.store.pens[value[key].id]?.[value[key].key];\n                    }\n                    else {\n                        if (typeof value[key] === 'string' && value[key].includes('${')) {\n                            let __value = value[key];\n                            let keys = __value.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                            if (keys) {\n                                keys.forEach((key) => {\n                                    __value = __value.replace(`\\${${key}}`, pen[key] || this.getDynamicParam(key));\n                                });\n                            }\n                            _value[key] = __value;\n                        }\n                        else {\n                            _value[key] = value[key];\n                        }\n                    }\n                }\n                pens.forEach((pen) => {\n                    if (_value.hasOwnProperty('visible')) {\n                        if (pen.visible !== _value.visible) {\n                            this.setVisible(pen, _value.visible);\n                        }\n                    }\n                    this.setValue({ id: pen.id, ..._value }, { render: false, doEvent: false });\n                });\n                this.render();\n                return;\n            }\n            console.warn('[meta2d] SetProps value is not an object');\n        };\n        this.events[EventAction.StartAnimate] = (pen, e) => {\n            let _pen = pen;\n            if (e.value) {\n                _pen = this.findOne(e.value);\n            }\n            if (this.store.animates.has(_pen) &&\n                !_pen.calculative.pause &&\n                _pen.animateName === e.params) {\n                return;\n            }\n            if (e.targetType && e.params) {\n                this.startAnimate(e.value || [pen], e.params);\n                return;\n            }\n            if (!e.value || typeof e.value === 'string') {\n                this.startAnimate(e.value || [pen]);\n                return;\n            }\n            console.warn('[meta2d] StartAnimate value is not a string');\n        };\n        this.events[EventAction.PauseAnimate] = (pen, e) => {\n            if (!e.value || typeof e.value === 'string') {\n                this.pauseAnimate(e.value || [pen]);\n                return;\n            }\n            console.warn('[meta2d] PauseAnimate value is not a string');\n        };\n        this.events[EventAction.StopAnimate] = (pen, e) => {\n            if (!e.value || typeof e.value === 'string') {\n                if (e.value) {\n                    let _pen = this.findOne(e.value);\n                    if (!this.store.animates.has(_pen)) {\n                        return;\n                    }\n                }\n                else {\n                    if (!this.store.animates.has(pen)) {\n                        return;\n                    }\n                }\n                this.stopAnimate(e.value || [pen]);\n                return;\n            }\n            console.warn('[meta2d] StopAnimate event value is not a string');\n        };\n        this.events[EventAction.StartVideo] = (pen, e) => {\n            if (!e.value || typeof e.value === 'string') {\n                this.startVideo(e.value || [pen]);\n                return;\n            }\n            console.warn('[meta2d] StartVideo value is not a string');\n        };\n        this.events[EventAction.PauseVideo] = (pen, e) => {\n            if (!e.value || typeof e.value === 'string') {\n                this.pauseVideo(e.value || [pen]);\n                return;\n            }\n            console.warn('[meta2d] PauseVideo value is not a string');\n        };\n        this.events[EventAction.StopVideo] = (pen, e) => {\n            if (!e.value || typeof e.value === 'string') {\n                this.stopVideo(e.value || [pen]);\n                return;\n            }\n            console.warn('[meta2d] StopVideo event value is not a string');\n        };\n        this.events[EventAction.JS] = (pen, e, params) => {\n            if (e.value && !e.fn) {\n                try {\n                    if (typeof e.value !== 'string') {\n                        throw new Error('[meta2d] Function value must be string');\n                    }\n                    const fnJs = e.value;\n                    e.fn = new Function('pen', 'params', 'context', fnJs);\n                }\n                catch (err) {\n                    console.error('[meta2d]: Error on make a function:', err);\n                }\n            }\n            e.fn?.(pen, params || e.params, { meta2d: this, eventName: e.name });\n        };\n        this.events[EventAction.GlobalFn] = (pen, e) => {\n            if (typeof e.value !== 'string') {\n                console.warn('[meta2d] GlobalFn value must be a string');\n                return;\n            }\n            if (globalThis[e.value]) {\n                globalThis[e.value](pen, e.params);\n            }\n        };\n        this.events[EventAction.Emit] = (pen, e) => {\n            if (typeof e.value !== 'string') {\n                console.warn('[meta2d] Emit value must be a string');\n                return;\n            }\n            this.store.emitter.emit(e.value, {\n                pen,\n                params: e.params,\n                eventName: e.name,\n            });\n        };\n        this.events[EventAction.SendPropData] = (pen, e) => {\n            const value = deepClone(e.value);\n            if (value && typeof value === 'object') {\n                const _pen = e.params ? this.findOne(e.params) : pen;\n                for (let key in value) {\n                    if (value[key] === undefined || value[key] === '') {\n                        value[key] = _pen[key];\n                    }\n                }\n                value.id = _pen.id;\n                this.doSendDataEvent(value, e.extend);\n                return;\n            }\n            console.warn('[meta2d] SendPropData value is not an object');\n        };\n        this.events[EventAction.SendVarData] = (pen, e) => {\n            const value = deepClone(e.value);\n            if (value && typeof value === 'object') {\n                const _pen = e.params ? this.findOne(e.params) : pen;\n                let array = [];\n                for (let key in value) {\n                    let obj = {\n                        dataId: key,\n                        value: value[key],\n                    };\n                    if (!obj.value) {\n                        let oneForm = _pen.form.find((_item) => _item.dataIds &&\n                            _item.dataIds.dataId === obj.dataId);\n                        if (oneForm) {\n                            obj.value = _pen[oneForm.key];\n                        }\n                    }\n                    array.push(obj);\n                }\n                this.doSendDataEvent(array, e.extend);\n                return;\n            }\n            console.warn('[meta2d] SendVarData value is not an object');\n        };\n        this.events[EventAction.Navigator] = (pen, e) => {\n            if (e.value && typeof e.value === 'string') {\n                this.navigatorTo(e.value);\n            }\n        };\n        this.events[EventAction.Dialog] = (pen, e) => {\n            if (e.params && typeof e.params === 'string') {\n                let url = e.params;\n                if (e.params.includes('${')) {\n                    let keys = e.params.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                    if (keys) {\n                        keys?.forEach((key) => {\n                            url = url.replace(`\\${${key}}`, pen[key]);\n                        });\n                    }\n                }\n                Object.keys(e.extend).forEach((key) => {\n                    if (!['x', 'y', 'width', 'height'].includes(key)) {\n                        if (url.indexOf('?') !== -1) {\n                            url += `&${key}=${e.extend[key]}`;\n                        }\n                        else {\n                            url += `?${key}=${e.extend[key]}`;\n                        }\n                    }\n                });\n                let data = this.getEventData(e.list, pen);\n                if (Object.keys(data).length) {\n                    data = null;\n                }\n                this.canvas.dialog.show(e.value, url, e.extend, data);\n            }\n        };\n        this.events[EventAction.SendData] = (pen, e) => {\n            if (e.data?.length) {\n                const value = this.getSendData(e.data);\n                if (pen.formId && pen.formData) {\n                    //表单数据\n                    Object.assign(value, pen.formData);\n                }\n                this.sendDataToNetWork(value, pen, e);\n                return;\n            }\n            if (e.list?.length) {\n                // if (e.targetType === 'id') {\n                if (e.network && e.network.protocol === 'ADIIOT') {\n                    const list = getSendData(this, pen, e);\n                    if (list.length) {\n                        sendJetLinksData(this, list);\n                    }\n                    return;\n                }\n                const value = this.getEventData(e.list, pen);\n                if (pen.deviceId) {\n                    value.deviceId = pen.deviceId;\n                }\n                if (pen.formId && pen.formData) {\n                    //表单数据\n                    Object.assign(value, pen.formData);\n                }\n                this.sendDataToNetWork(value, pen, e);\n                return;\n                // }\n            }\n            const value = deepClone(e.value);\n            if (value && typeof value === 'object') {\n                if (e.targetType === 'id') {\n                    const _pen = e.params ? this.findOne(e.params) : pen;\n                    for (let key in value) {\n                        if (value[key] === undefined || value[key] === '') {\n                            value[key] = _pen[key];\n                        }\n                        else if (typeof value[key] === 'string' &&\n                            value[key]?.indexOf('${') > -1) {\n                            let keys = value[key].match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                            if (keys?.length) {\n                                value[key] = _pen[keys[0]] ?? this.getDynamicParam(keys[0]);\n                            }\n                        }\n                    }\n                    // value.id = _pen.id;\n                    if (_pen.deviceId) {\n                        value.deviceId = _pen.deviceId;\n                    }\n                    this.sendDataToNetWork(value, pen, e);\n                    return;\n                }\n            }\n        };\n        this.events[EventAction.PostMessage] = (pen, e) => {\n            if (typeof e.value !== 'string') {\n                console.warn('[meta2d] Emit value must be a string');\n                return;\n            }\n            const _pen = e.params ? this.findOne(e.params) : pen;\n            if (_pen.name !== 'iframe' || !_pen.iframe) {\n                console.warn('不是嵌入页面');\n                return;\n            }\n            let params = queryURLParams(_pen.iframe.split('?')[1]);\n            const value = this.getEventData(e.list, _pen);\n            _pen.calculative.singleton.div.children[0].contentWindow.postMessage(JSON.stringify({\n                name: e.value,\n                id: params.id,\n                data: value,\n            }), '*');\n            return;\n        };\n        this.events[EventAction.PostMessageToParent] = (pen, e) => {\n            if (typeof e.value !== 'string') {\n                console.warn('[meta2d] Emit value must be a string');\n                return;\n            }\n            const value = this.getEventData(e.list, pen);\n            window.parent.postMessage(JSON.stringify({ name: e.value, data: value }), '*');\n            return;\n        };\n        this.events[EventAction.Message] = (pen, e) => {\n            this.message({\n                theme: e.params,\n                content: e.value,\n                ...e.extend,\n            });\n        };\n    }\n    getSendData(data) {\n        const value = {};\n        data.forEach((item) => {\n            if (item.prop) {\n                if (item.id && item.id !== '固定值') {\n                    const pen = this.findOne(item.id);\n                    value[item.prop] = pen[item.key];\n                }\n                else {\n                    if (typeof item.value === 'string' && item.value.includes('${')) {\n                        let _value = item.value;\n                        let keys = _value.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                        if (keys) {\n                            keys.forEach((key) => {\n                                _value = _value.replace(`\\${${key}}`, this.getDynamicParam(key));\n                            });\n                        }\n                        value[item.prop] = _value;\n                    }\n                    else {\n                        value[item.prop] = this.convertType(item.value, item.type);\n                    }\n                }\n            }\n        });\n        return value;\n    }\n    convertType(value, type) {\n        if (typeof value === 'string') {\n            if (['switch', 'bool', 'boolean'].includes(type)) {\n                if (value === 'false') {\n                    return false;\n                }\n                else if (value === 'true') {\n                    return true;\n                }\n            }\n            else if (['integer', 'number', 'int', 'enum', 'double', 'float'].includes(type)) {\n                if (!isNaN(Number(value))) {\n                    return Number(value);\n                }\n            }\n        }\n        return value;\n    }\n    getEventData(list, pen) {\n        const value = {};\n        if (list?.length) {\n            list.forEach((item) => {\n                const _pen = item.params ? this.findOne(item.params) : pen;\n                for (let key in item.value) {\n                    if (item.value[key] === undefined || item.value[key] === '') {\n                        value[key] = _pen[key];\n                    }\n                    else if (typeof item.value[key] === 'string' &&\n                        item.value[key]?.indexOf('${') > -1) {\n                        let keys = item.value[key].match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                        if (keys?.length) {\n                            value[key] = _pen[keys[0]] ?? this.getDynamicParam(keys[0]);\n                        }\n                    }\n                    else {\n                        value[key] = item.value[key];\n                    }\n                }\n            });\n        }\n        if (Object.keys(value).length) {\n            return value;\n        }\n        else\n            return {};\n    }\n    message(options) {\n        const message = new Message(this.canvas.parentElement, options);\n        message.init();\n    }\n    closeAll() {\n        for (let key in messageList) {\n            messageList[key].close();\n        }\n    }\n    async navigatorTo(id) {\n        if (!id) {\n            return;\n        }\n        // let href = window.location.href;\n        // let arr: string[] = href.split('id=');\n        // if (arr.length > 1) {\n        //   let idx = arr[1].indexOf('&');\n        //   if (idx === -1) {\n        //     window.location.href = arr[0] + 'id=' + id;\n        //   } else {\n        //     window.location.href = arr[0] + 'id=' + id + arr[1].slice(idx);\n        //   }\n        // }\n        //路径参数更新\n        let hasId = queryURLParams()?.id;\n        if (hasId) {\n            const url = new URL(window.location);\n            url.searchParams.set('id', id);\n            history.pushState({}, '', url);\n        }\n        //图纸更新\n        const data = await getMeta2dData(this.store, id);\n        if (data) {\n            this.open(data);\n            this.lock(1);\n            this.fitView(true, 10);\n        }\n    }\n    doSendDataEvent(value, topics) {\n        let data = JSON.stringify(value);\n        if (this.mqttClient && this.mqttClient.connected) {\n            if (topics) {\n                topics.split(',').forEach((topic) => {\n                    this.mqttClient.publish(topic, data);\n                });\n            }\n            else {\n                this.store.data.mqttTopics &&\n                    this.store.data.mqttTopics.split(',').forEach((topic) => {\n                        this.mqttClient.publish(topic, data);\n                    });\n            }\n        }\n        if (this.websocket && this.websocket.readyState === 1) {\n            this.websocket.send(data);\n        }\n        if (this.store.data.https || this.store.data.http) {\n            this.sendDatabyHttp(data);\n        }\n        this.store.emitter.emit('sendData', data);\n    }\n    async sendDataToNetWork(value, pen, e) {\n        const network = deepClone(e.network);\n        if (network.data) {\n            Object.assign(network, network.data);\n            delete network.data;\n        }\n        if (network.protocol === 'iot') {\n            this.iotMqttClient && this.iotMqttClient.publish(`le5le-iot/property/set/${this.store.data.iot?.token}`, JSON.stringify(value));\n            return;\n        }\n        if (!network.url) {\n            return;\n        }\n        if (network.protocol === 'http') {\n            if (typeof network.headers === 'object') {\n                for (let i in network.headers) {\n                    if (typeof network.headers[i] === 'string') {\n                        let keys = network.headers[i].match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                        if (keys) {\n                            network.headers[i] = network.headers[i].replace(`\\${${keys[0]}}`, this.getDynamicParam(keys[0]));\n                        }\n                    }\n                }\n            }\n            let params = undefined;\n            let url = network.url;\n            if (network.method === 'GET') {\n                params =\n                    '?' +\n                        Object.keys(value)\n                            .map((key) => key + '=' + value[key])\n                            .join('&');\n            }\n            if (network.method === 'POST') {\n                if (url.indexOf('${') > -1) {\n                    let keys = url.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                    if (keys) {\n                        keys.forEach((key) => {\n                            url = url.replace(`\\${${key}}`, getter(pen, key) || this.getDynamicParam(key));\n                        });\n                    }\n                }\n            }\n            const res = await fetch(url + (params ? params : ''), {\n                headers: network.headers || {},\n                method: network.method,\n                body: network.method === 'POST' ? JSON.stringify(value) : undefined,\n            });\n            if (res.ok) {\n                if (e.callback) {\n                    const data = await res.text();\n                    if (!e.fn) {\n                        try {\n                            if (typeof e.callback !== 'string') {\n                                throw new Error('[meta2d] Function callback must be string');\n                            }\n                            const fnJs = e.callback;\n                            e.fn = new Function('pen', 'data', 'context', fnJs);\n                        }\n                        catch (err) {\n                            console.error('[meta2d]: Error on make a function:', err);\n                        }\n                    }\n                    e.fn?.(pen, data, { meta2d: this, e });\n                }\n                console.info('http消息发送成功');\n            }\n        }\n        else if (network.protocol === 'mqtt') {\n            const clients = this.mqttClients?.filter((client) => client.options.href === network.url);\n            if (clients && clients.length) {\n                if (clients[0].connected) {\n                    network.topics.split(',').forEach((topic) => {\n                        clients[0].publish(topic, JSON.stringify(value));\n                    });\n                }\n            }\n            else {\n                //临时建立连接\n                let mqttClient = mqtt.connect(network.url, network.options);\n                mqttClient.on('connect', () => {\n                    console.info('mqtt连接成功');\n                    network.topics.split(',').forEach((topic) => {\n                        mqttClient.publish(topic, JSON.stringify(value));\n                        setTimeout(() => {\n                            mqttClient?.end();\n                        }, 1000);\n                    });\n                });\n            }\n        }\n        else if (network.protocol === 'websocket') {\n            const websockets = this.websockets?.filter((socket) => socket.url === network.url);\n            if (websockets && websockets.length) {\n                if (websockets[0].readyState === 1) {\n                    websockets[0].send(JSON.stringify(value));\n                }\n            }\n            else {\n                //临时建立连接\n                let websocket = new WebSocket(network.url, network.protocols || undefined);\n                websocket.onopen = function () {\n                    console.info('websocket连接成功');\n                    websocket.send(JSON.stringify(value));\n                    setTimeout(() => {\n                        websocket.close();\n                    }, 100);\n                };\n            }\n        }\n    }\n    resize(width, height) {\n        this.canvas.resize(width, height);\n        this.render();\n        this.store.emitter.emit('resize', { width, height });\n        if (this.canvas.scroll && this.canvas.scroll.isShow) {\n            this.canvas.scroll.init();\n        }\n    }\n    /**\n     *\n     * @param emit 是否发送消息\n     */\n    async addPen(pen, history, emit = true, abs = false) {\n        return await this.canvas.addPen(pen, history, emit, abs);\n    }\n    async addPens(pens, history, abs = false) {\n        return await this.canvas.addPens(pens, history, abs);\n    }\n    render(patchFlags) {\n        this.canvas?.render(patchFlags);\n    }\n    async setBackgroundImage(url, data) {\n        let that = this;\n        async function loadImage(url) {\n            return new Promise((resolve) => {\n                const img = new Image();\n                img.src = url;\n                if (that.store.options.cdn &&\n                    !(url.startsWith('http') ||\n                        url.startsWith('//') ||\n                        url.startsWith('data:image'))) {\n                    img.src = that.store.options.cdn + url;\n                }\n                img.crossOrigin = 'anonymous';\n                img.onload = () => {\n                    resolve(img);\n                };\n            });\n        }\n        this.store.data.bkImage = url;\n        const width = data?.width || this.store.data?.width || this.store.options?.width;\n        const height = data?.height || this.store.data?.height || this.store.options?.height;\n        if (width && height) {\n            this.canvas.canvasTemplate.canvas.style.backgroundImage = null;\n            this.canvas && (this.canvas.canvasTemplate.bgPatchFlags = true);\n        }\n        else {\n            this.canvas.canvasTemplate.canvas.style.backgroundImage = url\n                ? `url('${url}')`\n                : '';\n        }\n        if (url) {\n            const img = await loadImage(url);\n            // 用作 toPng 的绘制\n            this.store.bkImg = img;\n            if (width && height) {\n                if (this.canvas) {\n                    this.canvas.canvasTemplate.init();\n                    this.render();\n                }\n            }\n        }\n        else {\n            this.store.bkImg = null;\n        }\n    }\n    setBackgroundColor(color = this.store.data.background) {\n        this.store.data.background = color;\n        // this.store.patchFlagsBackground = true;\n        this.canvas && (this.canvas.canvasTemplate.bgPatchFlags = true);\n    }\n    setGrid({ grid = this.store.data.grid, gridColor = this.store.data.gridColor, gridSize = this.store.data.gridSize, gridRotate = this.store.data.gridRotate, } = {}) {\n        this.store.data.grid = grid;\n        this.store.data.gridColor = gridColor;\n        this.store.data.gridSize = gridSize < 0 ? 0 : gridSize;\n        this.store.data.gridRotate = gridRotate;\n        // this.store.patchFlagsBackground = true;\n        this.canvas && (this.canvas.canvasTemplate.bgPatchFlags = true);\n    }\n    setRule({ rule = this.store.data.rule, ruleColor = this.store.data.ruleColor, } = {}) {\n        this.store.data.rule = rule;\n        this.store.data.ruleColor = ruleColor;\n        this.store.patchFlagsTop = true;\n    }\n    open(data, render = true) {\n        this.clear(false, data?.template);\n        this.canvas.autoPolylineFlag = true;\n        if (data) {\n            // 根据图纸的主题设置主题\n            if (data.theme) {\n                this.setTheme(data.theme);\n            }\n            this.setBackgroundImage(data.bkImage, data);\n            Object.assign(this.store.data, data);\n            this.store.data.pens = [];\n            // 第一遍赋初值\n            for (const pen of data.pens) {\n                if (!pen.id) {\n                    pen.id = s8();\n                }\n                !pen.calculative && (pen.calculative = { canvas: this.canvas });\n                this.store.pens[pen.id] = pen;\n            }\n            for (const pen of data.pens) {\n                this.canvas.makePen(pen);\n            }\n            //首次计算连线bug\n            // for (const pen of data.pens) {\n            //   this.canvas.updateLines(pen);\n            // }\n        }\n        this.canvas.patchFlagsLines.forEach((pen) => {\n            if (pen.type) {\n                this.canvas.initLineRect(pen);\n            }\n        });\n        if (!this.store.data.template) {\n            this.store.data.template = s8();\n        }\n        if (!render) {\n            this.canvas.opening = true;\n        }\n        this.doInitJS();\n        this.initBindDatas();\n        this.initBinds();\n        this.doInitFn();\n        this.loadLineAnimateDraws();\n        this.initMessageEvents();\n        this.initGlobalTriggers();\n        this.startAnimate();\n        this.startVideo();\n        this.listenSocket();\n        this.connectSocket();\n        this.connectNetwork();\n        this.startDataMock();\n        this.canvas.initGlobalStyle();\n        this.render();\n        setTimeout(() => {\n            const pen = this.store.data.pens.find((pen) => pen.autofocus);\n            if (pen) {\n                this.focus(pen.id);\n            }\n        }, 100);\n        if (this.store.data.iconUrls) {\n            for (const item of this.store.data.iconUrls) {\n                loadCss(item, () => {\n                    this.render();\n                });\n            }\n        }\n        this.canvas.autoPolylineFlag = false;\n        this.store.emitter.emit('opened');\n        if (this.canvas.scroll && this.canvas.scroll.isShow) {\n            this.canvas.scroll.init();\n        }\n    }\n    cacheData(id) {\n        if (id && this.store.options.cacheLength) {\n            let index = this.store.cacheDatas.findIndex((item) => item.data && item.data._id === id);\n            if (index === -1) {\n                this.store.cacheDatas.push({\n                    data: deepClone(this.store.data, true),\n                    // offscreen: new Array(2),\n                    // flag: new Array(2)\n                });\n                if (this.store.cacheDatas.length > this.store.options.cacheLength) {\n                    this.store.cacheDatas.shift();\n                }\n            }\n            else {\n                let cacheDatas = this.store.cacheDatas.splice(index, 1)[0];\n                this.store.cacheDatas.push(cacheDatas);\n            }\n        }\n    }\n    loadCacheData(id) {\n        let index = this.store.cacheDatas.findIndex((item) => item.data && item.data._id === id);\n        if (index === -1) {\n            return;\n        }\n        // const ctx = this.canvas.canvas.getContext('2d');\n        // ctx.clearRect(0, 0, this.canvas.canvas.width, this.canvas.canvas.height);\n        // for (let offs of this.store.cacheDatas[index].offscreen) {\n        //   if (offs) {\n        //     ctx.drawImage(offs, 0, 0, this.canvas.width, this.canvas.height);\n        //   }\n        // }\n        // ctx.clearRect(0, 0, this.canvas.canvas.width, this.canvas.canvas.height);\n        this.store.data = this.store.cacheDatas[index].data;\n        this.setBackgroundImage(this.store.data.bkImage);\n        this.store.pens = {};\n        this.store.data.pens.forEach((pen) => {\n            pen.calculative.canvas = this.canvas;\n            this.store.pens[pen.id] = pen;\n            globalStore.path2dDraws[pen.name] &&\n                this.store.path2dMap.set(pen, globalStore.path2dDraws[pen.name](pen));\n            pen.type &&\n                this.store.path2dMap.set(pen, globalStore.path2dDraws[pen.name](pen));\n            if (pen.image) {\n                pen.calculative.imageDrawed = false;\n                this.canvas.loadImage(pen);\n            }\n        });\n        this.render();\n    }\n    loadLineAnimateDraws() {\n        globalStore.lineAnimateDraws = {};\n        Object.entries(this.store.data.lineAnimateDraws).forEach(([key, drawFunc]) => {\n            globalStore.lineAnimateDraws[key] = eval(drawFunc);\n        });\n    }\n    statistics() {\n        const num = this.store.data.pens.length;\n        const imgNum = this.store.data.pens.filter((pen) => pen.image).length;\n        const imgDrawNum = this.store.data.pens.filter((pen) => pen.image && pen.calculative.inView).length;\n        const domNum = this.store.data.pens.filter((pen) => pen.name.endsWith('Dom') ||\n            isDomShapes.includes(pen.name) ||\n            this.store.options.domShapes.includes(pen.name) ||\n            pen.externElement).length;\n        const aningNum = this.store.animates.size;\n        let dataPointsNum = 0;\n        Object.keys(this.store.bind).forEach((key) => {\n            dataPointsNum += this.store.bind[key].length;\n        });\n        Object.keys(this.store.bindDatas).forEach((key) => {\n            dataPointsNum += this.store.bindDatas[key].length;\n        });\n        return {\n            \"图元总数量\": num,\n            \"图片图元数量\": imgNum,\n            \"图片图元绘制数量\": imgDrawNum,\n            \"dom图元数量\": domNum,\n            \"正在执行的动画数量\": aningNum,\n            \"数据点数量\": dataPointsNum,\n        };\n    }\n    initBindDatas() {\n        this.store.bindDatas = {};\n        this.store.data.pens.forEach((pen) => {\n            pen.form?.forEach((formItem) => {\n                let dataIds;\n                if (formItem.dataIds) {\n                    if (Array.isArray(formItem.dataIds)) {\n                        dataIds = formItem.dataIds;\n                    }\n                    else {\n                        dataIds = [formItem.dataIds];\n                    }\n                }\n                dataIds?.forEach((item) => {\n                    if (!this.store.bindDatas[item.dataId]) {\n                        this.store.bindDatas[item.dataId] = [];\n                    }\n                    this.store.bindDatas[item.dataId].push({\n                        id: pen.id,\n                        formItem,\n                    });\n                });\n            });\n        });\n    }\n    jetLinksList = [];\n    jetLinksClient;\n    initBinds() {\n        this.jetLinksList = [];\n        this.store.bind = {};\n        const devices = [];\n        const properties = [];\n        this.store.data.pens.forEach((pen) => {\n            pen.realTimes?.forEach((realTime) => {\n                if (realTime.bind && realTime.bind.id) {\n                    // if (!this.store.bind[realTime.bind.id]) {\n                    //   this.store.bind[realTime.bind.id] = [];\n                    // }\n                    // this.store.bind[realTime.bind.id].push({\n                    //   id: pen.id,\n                    //   key: realTime.key,\n                    // });\n                    //JetLinks\n                    let productId = realTime.productId || pen.productId;\n                    let deviceId = realTime.deviceId || pen.deviceId;\n                    let propertyId = realTime.propertyId;\n                    let flag = false;\n                    if (productId && productId.indexOf('${') > -1) {\n                        let keys = productId.match(/(?<=\\$\\{).*?(?=\\})/g);\n                        if (keys?.length) {\n                            productId = this.getDynamicParam(keys[0]) || productId;\n                        }\n                        flag = true;\n                    }\n                    if (deviceId && deviceId.indexOf('${') > -1) {\n                        let keys = deviceId.match(/(?<=\\$\\{).*?(?=\\})/g);\n                        if (keys?.length) {\n                            deviceId = this.getDynamicParam(keys[0]) || deviceId;\n                        }\n                        flag = true;\n                    }\n                    if (propertyId && propertyId.indexOf('${') > -1) {\n                        let keys = propertyId.match(/(?<=\\$\\{).*?(?=\\})/g);\n                        if (keys?.length) {\n                            propertyId = this.getDynamicParam(keys[0]) || propertyId;\n                        }\n                        flag = true;\n                    }\n                    if (flag) {\n                        realTime.bind && (realTime.bind.id = productId + '#' + deviceId + '#' + propertyId);\n                    }\n                    if (!this.store.bind[realTime.bind.id]) {\n                        this.store.bind[realTime.bind.id] = [];\n                    }\n                    this.store.bind[realTime.bind.id].push({\n                        id: pen.id,\n                        key: realTime.key,\n                    });\n                    if (productId && deviceId && propertyId) {\n                        const index = this.jetLinksList.findIndex((item) => item.topic.startsWith(`/${productId}/${deviceId}`));\n                        if (index > -1) {\n                            const properties = this.jetLinksList[index].properties;\n                            if (!properties.includes(realTime.propertyId)) {\n                                this.jetLinksList[index].properties.push(realTime.propertyId);\n                            }\n                        }\n                        else {\n                            this.jetLinksList.push({\n                                topic: `/${productId}/${deviceId}`,\n                                deviceId,\n                                properties: [realTime.propertyId],\n                            });\n                        }\n                    }\n                    if (realTime.bind.class === 'iot') {\n                        let bind = realTime.bind.id.split('#');\n                        let idx = devices.findIndex((item) => item.deviceId === bind[0]);\n                        if (idx > -1) {\n                            if (!devices[idx].properties.includes(bind[1])) {\n                                devices[idx].properties.push(bind[1]);\n                            }\n                        }\n                        else {\n                            devices.push({\n                                deviceId: bind[0],\n                                properties: [bind[1]],\n                                token: realTime.bind.token\n                            });\n                        }\n                        let index = properties.findIndex((item) => item.key === realTime.bind.id);\n                        if (index === -1) {\n                            properties.push({\n                                key: realTime.bind.id,\n                                label: realTime.bind.label,\n                            });\n                        }\n                    }\n                    else if (realTime.bind.class === 'sql') {\n                        let bind = realTime.bind.id.split('#');\n                        const sql = this.store.data.sqls.find((item) => item.bindId === bind[0]);\n                        if (sql) {\n                            if (!sql.keys) {\n                                sql.keys = [];\n                            }\n                            bind.shift();\n                            const key = bind.join('#');\n                            if (!sql.keys.includes(key)) {\n                                sql.keys.push(key);\n                            }\n                        }\n                    }\n                }\n            });\n            pen.events?.forEach((event) => {\n                const actions = event.actions?.filter((item) => item.action === EventAction.SendData);\n                actions?.forEach((action) => {\n                    action.data?.forEach((item) => {\n                        if (item.class === 'iot') {\n                            let bind = item.prop.split('#');\n                            let idx = devices.findIndex((item) => item.deviceId === bind[0]);\n                            if (idx > -1) {\n                                if (!devices[idx].properties.includes(bind[1])) {\n                                    devices[idx].properties.push(bind[1]);\n                                }\n                            }\n                            else {\n                                devices.push({\n                                    deviceId: bind[0],\n                                    properties: [bind[1]],\n                                    token: item.token\n                                });\n                            }\n                        }\n                    });\n                });\n            });\n        });\n        if (devices.length) {\n            if (!this.store.data.iot) {\n                this.store.data.iot = {};\n            }\n            this.store.data.iot.devices = devices;\n        }\n        if (properties.length) {\n            this.store.data.iot.list = properties;\n        }\n    }\n    connectSocket() {\n        this.connectWebsocket();\n        this.connectMqtt();\n        this.connectHttp();\n    }\n    /**\n     * open 后执行初始化 Js ，每个图纸可配置一个初始化 js\n     */\n    doInitJS() {\n        const initJs = this.store.data.initJs;\n        if (initJs && initJs.trim()) {\n            try {\n                const fn = new Function('context', initJs);\n                fn({ meta2d: this });\n            }\n            catch (e) {\n                console.warn('initJs error', e);\n            }\n        }\n    }\n    doInitFn() {\n        let params = queryURLParams();\n        let binds = [];\n        for (let key in params) {\n            if (params.hasOwnProperty(key)) {\n                if (key.startsWith('bind-')) {\n                    binds.push({\n                        id: key.replace('bind-', ''),\n                        dataId: key.replace('bind-', ''),\n                        value: params[key],\n                    });\n                }\n            }\n        }\n        if (binds.length) {\n            this.setDatas(binds, { history: false });\n        }\n    }\n    drawLine(lineName) {\n        lineName && lockedError(this.store);\n        this.canvas.drawingLineName = lineName;\n    }\n    alignPenToGrid(pen) {\n        this.canvas.alignPenToGrid(pen);\n    }\n    drawingPencil() {\n        this.canvas.drawingPencil();\n    }\n    stopPencil() {\n        this.canvas.stopPencil();\n    }\n    lock(lock) {\n        this.store.data.locked = lock;\n        this.finishDrawLine(true);\n        this.canvas.drawingLineName = '';\n        this.stopPencil();\n        //恢复可选状态\n        this.store.data.pens.forEach((pen) => {\n            if (pen.externElement === true) {\n                // pen.onMove && pen.onMove(pen);\n                pen.calculative.singleton?.div &&\n                    setElemPosition(pen, pen.calculative.singleton.div);\n            }\n        });\n        if (lock > 0) {\n            this.initMessageEvents();\n        }\n    }\n    // end  - 当前鼠标位置，是否作为终点\n    async finishDrawLine(end) {\n        await this.canvas.finishDrawline(end);\n    }\n    async finishPencil() {\n        await this.canvas.finishPencil();\n    }\n    updateLineType(pen, lineName) {\n        if (!pen || pen.name != 'line' || !lineName || !this.canvas[lineName]) {\n            return;\n        }\n        pen.lineName = lineName;\n        const from = getFromAnchor(pen);\n        const to = getToAnchor(pen);\n        from.prev = undefined;\n        from.next = undefined;\n        to.prev = undefined;\n        to.next = undefined;\n        pen.calculative.worldAnchors = [from, to];\n        pen.calculative.activeAnchor = from;\n        this.canvas[lineName](this.store, pen, to);\n        if (pen.lineName === 'curve') {\n            from.prev = {\n                penId: from.penId,\n                x: from.x - 50,\n                y: from.y,\n            };\n            from.next = {\n                penId: from.penId,\n                x: from.x + 50,\n                y: from.y,\n            };\n            to.prev = {\n                penId: to.penId,\n                x: to.x - 50,\n                y: to.y,\n            };\n            to.next = {\n                penId: to.penId,\n                x: to.x + 50,\n                y: to.y,\n            };\n        }\n        pen.calculative.activeAnchor = undefined;\n        this.canvas.initLineRect(pen);\n        this.render();\n    }\n    addDrawLineFn(fnName, fn) {\n        this.canvas[fnName] = fn;\n        this.canvas.drawLineFns.push(fnName);\n    }\n    removeDrawLineFn(fnName) {\n        const index = this.canvas.drawLineFns.indexOf(fnName);\n        if (index > -1) {\n            this.canvas.drawLineFns.splice(index, 1);\n        }\n    }\n    showMagnifier() {\n        this.canvas.showMagnifier();\n    }\n    hideMagnifier() {\n        this.canvas.hideMagnifier();\n    }\n    toggleMagnifier() {\n        this.canvas.toggleMagnifier();\n    }\n    /**\n     * 擦除画布，释放 store 上的 pens\n     * @param render 是否重绘\n     */\n    clear(render = true, template) {\n        for (const pen of this.store.data.pens) {\n            pen.onDestroy?.(pen);\n        }\n        clearStore(this.store, template);\n        this.hideInput();\n        this.canvas.tooltip.hide();\n        if (this.map && this.map.isShow) {\n            this.map.show();\n            this.map.setView();\n        }\n        this.canvas.clearCanvas();\n        sessionStorage.removeItem('page');\n        this.store.clipboard = undefined;\n        if (!this.store.sameTemplate) {\n            this.canvas.canvasTemplate.bgPatchFlags = true;\n        }\n        this.store.patchFlagsBackground = true;\n        this.store.patchFlagsTop = true;\n        this.setBackgroundImage(undefined);\n        render && this.render();\n    }\n    emit(type, event) {\n        this.store.emitter.emit(type, event);\n    }\n    on(type, handler) {\n        this.store.emitter.on(type, handler);\n        return this;\n    }\n    off(type, handler) {\n        this.store.emitter.off(type, handler);\n        return this;\n    }\n    register = register;\n    registerCanvasDraw = registerCanvasDraw;\n    registerAnchors = registerAnchors;\n    registerLineAnimateDraws = (name, drawFunc) => {\n        drawFunc = typeof drawFunc === 'string' ? drawFunc : drawFunc.toString();\n        this.store.data.lineAnimateDraws[name] = drawFunc;\n        // 同步到store\n        globalStore.lineAnimateDraws[name] = eval(drawFunc);\n    };\n    updateLineAnimateDraws(name, option) {\n        if (!option)\n            return;\n        delete this.store.data.lineAnimateDraws[name];\n        delete globalStore.lineAnimateDraws[name];\n        if (option === -1) { // -1 表示删除\n            return;\n        }\n        this.registerLineAnimateDraws(option.name || name, option.code);\n    }\n    // customeDock = (store, rect, pens, offset) => {xDock, yDock}\n    // customDock return:\n    // {\n    //   xDock: {x, y, step, prev, penId},\n    //   yDock: {x, y, step, prev, penId},\n    // }\n    // xDock，yDock - 水平或垂直方向的参考线\n    // prev - 参考线的起点\n    // x,y - 参考线的终点\n    // step - 自动吸附需要的偏移量\n    // penId - 参考线的笔\n    registerMoveDock(dock) {\n        this.canvas.customMoveDock = dock;\n    }\n    /**\n     * 参数同方法 registerMoveDock ，最后一个参数由 offset 偏移修改成了当前 resize 的点\n     */\n    registerResizeDock(dock) {\n        this.canvas.customResizeDock = dock;\n    }\n    find(idOrTag) {\n        return this.canvas.find(idOrTag);\n    }\n    findOne(idOrTag) {\n        return this.canvas.findOne(idOrTag);\n    }\n    getPenRect(pen) {\n        return this.canvas.getPenRect(pen);\n    }\n    setPenRect(pen, rect, render = true) {\n        this.canvas.setPenRect(pen, rect, render);\n    }\n    startAnimate(idOrTagOrPens, params) {\n        this.stopAnimate(idOrTagOrPens);\n        let pens;\n        // 没有参数 则播放有自动播放属性的动画\n        if (!idOrTagOrPens) {\n            pens = this.store.data.pens.filter((pen) => {\n                return (((pen.type || pen.frames) && pen.autoPlay) ||\n                    (pen.animations &&\n                        pen.animations.length &&\n                        pen.animations.findIndex((i) => i.autoPlay) !== -1));\n            });\n        }\n        else if (typeof idOrTagOrPens === 'string') {\n            pens = this.find(idOrTagOrPens);\n        }\n        else {\n            pens = idOrTagOrPens;\n        }\n        if (!pens.length) {\n            return;\n        }\n        pens.forEach((pen) => {\n            if (pen.calculative.pause) {\n                const d = Date.now() - pen.calculative.pause;\n                pen.calculative.pause = undefined;\n                pen.calculative.frameStart += d;\n                pen.calculative.frameEnd += d;\n            }\n            else {\n                let index = -1;\n                if (params !== undefined && pen.animations) {\n                    if (typeof params === 'string') {\n                        index = pen.animations.findIndex((animation) => animation.name === params);\n                        if (index === -1) {\n                            return;\n                        }\n                    }\n                    else if (typeof params === 'number') {\n                        if (pen.animations.length > params) {\n                            index = params;\n                        }\n                        else {\n                            return;\n                        }\n                    }\n                }\n                else if (params === undefined) {\n                    index = pen.animations?.findIndex((i) => i.autoPlay);\n                    if (index === -1 && pen.animations?.length) {\n                        //默认执行第0个动画\n                        index = 0;\n                    }\n                }\n                if (index !== -1 && index !== undefined) {\n                    const animate = deepClone(pen.animations[index]);\n                    animate.animateName = animate.name;\n                    delete animate.name;\n                    animate.currentAnimation = index;\n                    if (!pen.type && animate.frames) {\n                        animate.showDuration = this.calcAnimateDuration(animate);\n                    }\n                    //animations成立\n                    this.setValue({\n                        id: pen.id,\n                        ...animate,\n                    }, {\n                        doEvent: false,\n                        history: false,\n                    });\n                }\n                this.store.animates.add(pen);\n                if (!pen.type) {\n                    this.store.animateMap.set(pen, pen.calculative.canvas.getFrameProps(pen));\n                }\n            }\n        });\n        // this.canvas.canvasImage.init();\n        // this.canvas.canvasImageBottom.init();\n        this.initImageCanvas(pens);\n        this.canvas.animate();\n    }\n    pauseAnimate(idOrTagOrPens) {\n        let pens = [];\n        if (!idOrTagOrPens) {\n            this.store.animates.forEach((pen) => {\n                pens.push(pen);\n            });\n        }\n        else if (typeof idOrTagOrPens === 'string') {\n            pens = this.find(idOrTagOrPens);\n        }\n        else {\n            pens = idOrTagOrPens;\n        }\n        pens.forEach((pen) => {\n            if (!pen.calculative.pause) {\n                pen.calculative.pause = Date.now();\n            }\n        });\n    }\n    stopAnimate(idOrTagOrPens) {\n        let pens = [];\n        if (!idOrTagOrPens) {\n            this.store.animates.forEach((pen) => {\n                pens.push(pen);\n            });\n        }\n        else if (typeof idOrTagOrPens === 'string') {\n            pens = this.find(idOrTagOrPens);\n        }\n        else {\n            pens = idOrTagOrPens;\n        }\n        pens.forEach((pen) => {\n            pen.currentAnimation = undefined;\n            pen.calculative.pause = undefined;\n            pen.calculative.start = undefined;\n            pen.calculative.cycleStart = undefined;\n            pen.calculative.duration = undefined;\n            pen.calculative.animatePos = 0;\n            this.store.animates.delete(pen);\n            this.canvas.restoreNodeAnimate(pen);\n            this.canvas.updateLines(pen);\n            this.store.animateMap.delete(pen);\n        });\n        this.initImageCanvas(pens);\n        setTimeout(() => {\n            this.canvas?.calcActiveRect();\n            this.render();\n        }, 20);\n    }\n    startVideo(idOrTagOrPens) {\n        let pens;\n        if (!idOrTagOrPens) {\n            pens = this.store.data.pens.filter((pen) => {\n                return (pen.video || pen.audio) && pen.autoPlay;\n            });\n        }\n        else if (typeof idOrTagOrPens === 'string') {\n            pens = this.find(idOrTagOrPens);\n        }\n        else {\n            pens = idOrTagOrPens;\n        }\n        pens.forEach((pen) => {\n            pen.calculative.media?.play();\n            pen.onStartVideo?.(pen);\n        });\n    }\n    pauseVideo(idOrTagOrPens) {\n        let pens = [];\n        if (!idOrTagOrPens) {\n            //TODO 寻找所有 而不是正在播放的\n            pens = this.store.data.pens.filter((pen) => {\n                return (pen.video || pen.audio) && pen.autoPlay;\n            });\n        }\n        else if (typeof idOrTagOrPens === 'string') {\n            pens = this.find(idOrTagOrPens);\n        }\n        else {\n            pens = idOrTagOrPens;\n        }\n        pens.forEach((pen) => {\n            pen.calculative.media?.pause();\n            pen.onPauseVideo?.(pen);\n        });\n    }\n    stopVideo(idOrTagOrPens) {\n        let pens = [];\n        if (!idOrTagOrPens) {\n            pens = this.store.data.pens.filter((pen) => {\n                return (pen.video || pen.audio) && pen.autoPlay;\n            });\n        }\n        else if (typeof idOrTagOrPens === 'string') {\n            pens = this.find(idOrTagOrPens);\n        }\n        else {\n            pens = idOrTagOrPens;\n        }\n        pens.forEach((pen) => {\n            if (pen.calculative.media) {\n                pen.calculative.media.currentTime = 0;\n                pen.calculative.media.pause();\n            }\n            pen.onStopVideo?.(pen);\n        });\n    }\n    calcAnimateDuration(pen) {\n        return pen.frames.reduce((prev, frame) => prev + frame.duration, 0);\n    }\n    /**\n     * 组合\n     * @param pens 组合的画笔们\n     * @param showChild 组合后展示第几个孩子\n     * @param active 是否激活组合后的画笔\n     */\n    combine(pens = this.store.active, showChild, active = true) {\n        if (!pens || !pens.length) {\n            return;\n        }\n        const initPens = deepClone(pens);\n        if (pens.length === 1 && pens[0].type) {\n            pens[0].type = PenType.Node;\n            this.canvas.active(pens);\n            this.pushHistory({\n                type: EditType.Update,\n                initPens,\n                pens: deepClone(pens, true),\n            });\n            this.render();\n            return;\n        }\n        const rect = getRect(pens);\n        let parent = {\n            id: s8(),\n            name: 'combine',\n            ...rect,\n            children: [],\n            showChild,\n        };\n        // const p = pens.find((pen) => {\n        //   // TODO: js 计算误差，可能导致包含着其它的 pens 的最大 pen 无法计算出来\n        //   return pen.width === rect.width && pen.height === rect.height;\n        // });\n        // // 其中一个认为是父节点\n        // const oneIsParent = p && showChild == undefined;\n        // if (oneIsParent) {\n        //   if (!p.children) {\n        //     p.children = [];\n        //   }\n        //   parent = p;\n        // } else {\n        // 若组合为状态，那么 parent 一定是 combine\n        this.canvas.makePen(parent);\n        // }\n        const initParent = deepClone(parent);\n        let minIndex = Infinity;\n        pens.forEach((pen) => {\n            const index = this.store.data.pens.findIndex((_pen) => _pen.id === pen.id);\n            if (index < minIndex) {\n                minIndex = index;\n            }\n            if (pen === parent ||\n                pen.parentId === parent.id ||\n                pen.id === parent.id) {\n                return;\n            }\n            // pen 来自于 store.active ，不存在有 parentId 的情况\n            parent.children.push(pen.id);\n            pen.parentId = parent.id;\n            const childRect = calcRelativeRect(pen.calculative.worldRect, rect);\n            Object.assign(pen, childRect);\n            pen.locked = pen.lockedOnCombine ?? LockState.None;\n            pen.locked =\n                pen.interaction || isInteraction.includes(pen.name) ? 0 : pen.locked;\n        });\n        //将组合后的父节点置底\n        this.store.data.pens.splice(minIndex, 0, parent);\n        this.store.data.pens.pop();\n        active && this.canvas.active([parent]);\n        let step = 1;\n        // if (!oneIsParent) {\n        //   step = 2;\n        //   this.pushHistory({\n        //     type: EditType.Add,\n        //     pens: [parent],\n        //     step,\n        //   });\n        //   this.store.emitter.emit('add', [parent]);\n        // }\n        this.pushHistory({\n            type: EditType.Add,\n            pens: [initParent],\n            step: 3,\n        });\n        this.pushHistory({\n            type: EditType.Update,\n            initPens: [initParent],\n            pens: [parent],\n            step: 3,\n        });\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n            step: 3,\n        });\n        if (showChild != undefined) {\n            pens.forEach((pen) => {\n                calcInView(pen, true);\n            });\n            this.initImageCanvas([parent]);\n        }\n        this.store.emitter.emit('combine', [parent]);\n        this.render();\n        return parent;\n    }\n    uncombine(pen) {\n        if (!pen && this.store.active) {\n            pen = this.store.active[0];\n        }\n        if (!pen || !pen.children) {\n            return;\n        }\n        const children = pen.children.map((childId) => this.store.pens[childId]);\n        let initPens = deepClone(children);\n        children.forEach((child) => {\n            child.parentId = undefined;\n            child.x = child.calculative.worldRect.x;\n            child.y = child.calculative.worldRect.y;\n            child.width = child.calculative.worldRect.width;\n            child.height = child.calculative.worldRect.height;\n            child.locked = LockState.None;\n            child.calculative.active = undefined;\n            child.calculative.hover = false;\n            this.setVisible(child, true); // 子节点的 visible 属性已经改变，需要恢复\n        });\n        const step = this.isCombine(pen) ? 3 : 2;\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens: children,\n            step,\n        });\n        initPens = [deepClone(pen)];\n        pen.children = undefined;\n        // 保存修改 children 的历史记录\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens: [pen],\n            step,\n        });\n        if (this.isCombine(pen)) {\n            this.delete([pen]);\n            // delete 会记录 history , 更改 step 即可\n            this.store.histories[this.store.histories.length - 1].step = step;\n        }\n        this.inactive();\n    }\n    clearCombine(pen) {\n        if (!pen && this.store.active) {\n            pen = this.store.active[0];\n        }\n        if (!pen || !pen.children) {\n            return;\n        }\n        const children = getAllChildren(pen, this.store);\n        children.forEach((child) => {\n            child.parentId = undefined;\n            child.x = child.calculative.worldRect.x;\n            child.y = child.calculative.worldRect.y;\n            child.width = child.calculative.worldRect.width;\n            child.height = child.calculative.worldRect.height;\n            child.locked = LockState.None;\n            child.calculative.active = undefined;\n            child.calculative.hover = false;\n            if (child.showChild !== undefined) {\n                this.setVisible(child, true);\n            }\n            child.children = undefined;\n        });\n        const combineArr = [];\n        children.forEach((child, index) => {\n            if (child.name === 'combine') {\n                child.children = undefined;\n                combineArr.push(child);\n            }\n        });\n        this.delete(combineArr, true, false);\n        pen.children = undefined;\n        if (this.isCombine(pen)) {\n            this.delete([pen], true, false);\n        }\n        //未考虑历史记录\n        this.inactive();\n    }\n    appendChild(pens = this.store.active) {\n        if (!pens) {\n            return;\n        }\n        if (pens.length < 2) {\n            return;\n        }\n        const pIdx = pens.findIndex((pen) => pen.name === 'combine' && pen.showChild !== undefined);\n        if (pIdx !== -1) {\n            let parent = pens[pIdx];\n            // this.pushChildren(parent,[...pens.slice(0, pIdx), ...pens.slice(pIdx + 1)]);\n            const rect = getRect(pens);\n            Object.assign(parent, rect);\n            Object.assign(parent.calculative.worldRect, rect);\n            calcWorldAnchors(parent);\n            parent.children.forEach((penId) => {\n                const pen = this.store.pens[penId];\n                const childRect = calcRelativeRect(pen.calculative.worldRect, rect);\n                Object.assign(pen, childRect);\n            });\n            pens.forEach((pen) => {\n                if (pen.id !== parent.id) {\n                    parent.children.push(pen.id);\n                    pen.parentId = parent.id;\n                    const childRect = calcRelativeRect(pen.calculative.worldRect, rect);\n                    Object.assign(pen, childRect);\n                    pen.locked = pen.lockedOnCombine ?? LockState.DisableMove;\n                    pen.locked =\n                        pen.interaction || isInteraction.includes(pen.name)\n                            ? 0\n                            : pen.locked;\n                    calcInView(pen, true);\n                }\n            });\n            this.initImageCanvas(pens);\n            this.render();\n        }\n        else {\n            console.warn('Invalid operation!');\n        }\n    }\n    /***\n     * 修改子图元大小，更新整个组合图元\n     * @param rect 新的大小 世界坐标\n     * @param child 待更新子图元\n     * @param parent 父图元\n     */\n    updateRectbyChild(rect, child, parent) {\n        calcRightBottom(rect);\n        calcCenter(rect);\n        child.calculative.worldRect = rect;\n        if (rectInRect(rect, parent.calculative.worldRect, true)) {\n            const childRect = calcRelativeRect(rect, parent.calculative.worldRect);\n            Object.assign(child, childRect);\n        }\n        else {\n            let x = Math.min(rect.x, parent.calculative.worldRect.x);\n            let y = Math.min(rect.y, parent.calculative.worldRect.y);\n            let ex = Math.max(rect.ex, parent.calculative.worldRect.ex);\n            let ey = Math.max(rect.ey, parent.calculative.worldRect.ey);\n            parent.calculative.worldRect = {\n                x: x,\n                y: y,\n                width: ex - x,\n                height: ey - y,\n                ex,\n                ey,\n            };\n            if (!parent.parentId) {\n                Object.assign(parent, parent.calculative.worldRect);\n            }\n            calcCenter(parent.calculative.worldRect);\n            parent.children.forEach((cid) => {\n                const cPen = this.store.pens[cid];\n                const childRect = calcRelativeRect(cPen.calculative.worldRect, parent.calculative.worldRect);\n                Object.assign(cPen, childRect);\n            });\n            if (parent.parentId) {\n                this.updateRectbyChild(parent.calculative.worldRect, parent, this.store.pens[parent.parentId]);\n            }\n        }\n        this.canvas.updatePenRect(parent);\n        this.render();\n    }\n    isCombine(pen) {\n        if (pen.name === 'combine') {\n            return true;\n        }\n        if (pen.children && pen.children.length > 0) {\n            return true;\n        }\n        return false;\n    }\n    active(pens, emit = true) {\n        this.canvas.active(pens, emit);\n    }\n    inactive() {\n        this.canvas.inactive();\n    }\n    activeAll() {\n        this.canvas.active(this.store.data.pens.filter((pen) => !pen.parentId && pen.locked !== LockState.Disable));\n        this.render();\n    }\n    focus(id) {\n        const pen = this.findOne(id);\n        if (pen) {\n            this.store.hover = pen;\n            this.store.hover.calculative.hover = true;\n            this.showInput(pen);\n        }\n    }\n    /**\n     * 删除画笔\n     * @param pens 需要删除的画笔们\n     * @param canDelLocked 是否删除已经锁住的画笔\n     */\n    delete(pens, canDelLocked = false, history = true) {\n        this.canvas.delete(pens, canDelLocked, history);\n    }\n    scale(scale, center = { x: 0, y: 0 }) {\n        this.canvas.scale(scale, center);\n    }\n    translate(x, y) {\n        this.canvas.translate(x, y);\n    }\n    translatePens(pens, x, y) {\n        this.canvas.translatePens(pens, x, y);\n    }\n    getParent(pen, root) {\n        return getParent(pen, root);\n    }\n    getAllChildren(pen) {\n        return getAllChildren(pen, this.store);\n    }\n    getAllFollowers(pen) {\n        return getAllFollowers(pen, this.store);\n    }\n    data() {\n        const data = deepClone(this.store.data);\n        const { pens, paths } = this.store.data;\n        data.version = pkg.version;\n        // TODO: 未在 delete 时清除，避免撤销等操作。\n        // 清除一些未使用到的 paths\n        data.paths = {};\n        for (const pathId in paths) {\n            if (Object.prototype.hasOwnProperty.call(paths, pathId)) {\n                if (pens.find((pen) => pen.pathId === pathId)) {\n                    data.paths[pathId] = paths[pathId];\n                }\n            }\n        }\n        data.dataPoints = [\n            ...Object.keys(this.store.bind),\n            ...Object.keys(this.store.bindDatas),\n        ];\n        Object.entries(globalStore.lineAnimateDraws).forEach(([key, drawFunc]) => {\n            data.lineAnimateDraws[key] = drawFunc.toString();\n        });\n        return data;\n    }\n    copy(pens) {\n        this.canvas.copy(pens);\n    }\n    cut(pens) {\n        this.canvas.cut(pens);\n    }\n    paste() {\n        this.canvas.paste();\n    }\n    undo() {\n        this.canvas.undo();\n    }\n    redo() {\n        this.canvas.redo();\n    }\n    listenSocket() {\n        try {\n            let socketFn;\n            const socketCbJs = this.store.data.socketCbJs;\n            if (socketCbJs) {\n                socketFn = new Function('e', 'context', socketCbJs);\n            }\n            if (!socketFn) {\n                this.socketFn = null;\n                return false;\n            }\n            this.socketFn = socketFn;\n        }\n        catch (e) {\n            console.error('Create the function for socket:', e);\n            return false;\n        }\n        return true;\n    }\n    websocketTimes = 0;\n    connectWebsocket(websocket) {\n        this.closeWebsocket();\n        if (websocket) {\n            this.store.data.websocket = websocket;\n        }\n        if (this.store.data.websocket) {\n            this.websocket = new WebSocket(this.store.data.websocket, this.store.data.websocketProtocols || undefined);\n            this.websocket.onmessage = (e) => {\n                this.socketCallback(e.data, {\n                    type: 'websocket',\n                    url: this.store.data.websocket,\n                });\n            };\n            this.websocket.onerror = (error) => {\n                this.store.emitter.emit('error', { type: 'websocket', error });\n            };\n            this.websocket.onclose = () => {\n                if (this.store.options.reconnetTimes) {\n                    this.websocketTimes++;\n                    if (this.websocketTimes >= this.store.options.reconnetTimes) {\n                        this.websocketTimes = 0;\n                        this.closeWebsocket();\n                        return;\n                    }\n                }\n                console.info('Canvas websocket closed and reconneting...');\n                this.connectWebsocket();\n            };\n        }\n    }\n    closeWebsocket() {\n        if (this.websocket) {\n            this.websocket.onclose = undefined;\n            this.websocket.close();\n            this.websocket = undefined;\n        }\n    }\n    mqttTimes = 0;\n    connectMqtt(params) {\n        this.closeMqtt();\n        if (params) {\n            this.store.data.mqtt = params.mqtt;\n            this.store.data.mqttTopics = params.mqttTopics;\n            this.store.data.mqttOptions = params.mqttOptions;\n        }\n        if (this.store.data.mqtt) {\n            if (this.store.data.mqttOptions.clientId &&\n                !this.store.data.mqttOptions.customClientId) {\n                this.store.data.mqttOptions.clientId = s8();\n            }\n            const mqttOptions = { ...this.store.data.mqttOptions };\n            // 如果没有username/password或为空字符串则删除username/password\n            if (!mqttOptions.username) {\n                delete mqttOptions.username;\n            }\n            if (!mqttOptions.password) {\n                delete mqttOptions.password;\n            }\n            const { username, password } = mqttOptions;\n            // username 和 password 必须同时存在或者同时不存在才去建立mqtt连接\n            if ((username && password) || (!username && !password)) {\n                this.mqttClient = mqtt.connect(this.store.data.mqtt, mqttOptions);\n                this.mqttClient.on('message', (topic, message) => {\n                    this.socketCallback(message.toString(), {\n                        topic,\n                        type: 'mqtt',\n                        url: this.store.data.mqtt,\n                    });\n                });\n                this.mqttClient.on('error', (error) => {\n                    this.store.emitter.emit('error', { type: 'mqtt', error });\n                });\n                this.mqttClient.on('close', () => {\n                    if (this.store.options.reconnetTimes) {\n                        this.mqttTimes++;\n                        if (this.mqttTimes >= this.store.options.reconnetTimes) {\n                            this.mqttTimes = 0;\n                            this.closeMqtt();\n                        }\n                    }\n                });\n                if (this.store.data.mqttTopics) {\n                    this.mqttClient.subscribe(this.store.data.mqttTopics.split(','));\n                }\n            }\n            else {\n                console.warn('缺少用户名或密码');\n            }\n        }\n    }\n    closeMqtt() {\n        this.mqttClient?.end();\n    }\n    httpTimer;\n    httpTimerList = [];\n    connectHttp() {\n        this.closeHttp();\n        const { https } = this.store.data;\n        if (https) {\n            if (!this.store.data.cancelFirstConnect) {\n                https.forEach(async (item) => {\n                    this.oldRequestHttp(item);\n                });\n            }\n            https.forEach((item, index) => {\n                if (item.http && item.httpTimeInterval !== 0) {\n                    item.times = 0;\n                    this.httpTimerList[index] = setInterval(async () => {\n                        // 默认每一秒请求一次\n                        this.oldRequestHttp(item);\n                        if (this.store.options.reconnetTimes) {\n                            // item.times++;\n                            if (item.times >= this.store.options.reconnetTimes) {\n                                item.times = 0;\n                                clearInterval(this.httpTimerList[index]);\n                                this.httpTimerList[index] = undefined;\n                            }\n                        }\n                    }, item.httpTimeInterval || 1000);\n                }\n            });\n        }\n        else {\n            const { http, httpTimeInterval, httpHeaders } = this.store.data;\n            if (http) {\n                this.httpTimer = setInterval(async () => {\n                    // 默认每一秒请求一次\n                    const res = await fetch(http, {\n                        headers: httpHeaders,\n                    });\n                    if (res.ok) {\n                        const data = await res.text();\n                        this.socketCallback(data, { type: 'http', url: http });\n                    }\n                }, httpTimeInterval || 1000);\n            }\n        }\n    }\n    async oldRequestHttp(_req) {\n        let req = deepClone(_req);\n        if (req.http) {\n            const res = await fetch(req.http, {\n                headers: req.httpHeaders,\n                method: req.method || 'GET',\n                body: req.method === 'POST' ? JSON.stringify(req.body) : undefined,\n            });\n            if (res.ok) {\n                const data = await res.text();\n                this.socketCallback(data, { type: 'http', url: req.http });\n            }\n            else {\n                _req.times++;\n                this.store.emitter.emit('error', { type: 'http', error: res });\n            }\n        }\n    }\n    async sendDatabyHttp(data) {\n        const { https } = this.store.data;\n        if (https) {\n            https.forEach(async (item) => {\n                if (item.http) {\n                    const res = await fetch(item.http, {\n                        method: 'post',\n                        body: data,\n                        headers: item.httpHeaders,\n                    });\n                    if (res.ok) {\n                        console.info('http消息发送成功');\n                    }\n                }\n            });\n        }\n        else {\n            const { http, httpHeaders } = this.store.data;\n            if (http) {\n                // 默认每一秒请求一次\n                const res = await fetch(http, {\n                    method: 'post',\n                    body: data,\n                    headers: httpHeaders,\n                });\n                if (res.ok) {\n                    console.info('http消息发送成功');\n                }\n            }\n        }\n    }\n    closeHttp() {\n        clearInterval(this.httpTimer);\n        this.httpTimer = undefined;\n        this.httpTimerList &&\n            this.httpTimerList.forEach((_httpTimer) => {\n                clearInterval(_httpTimer);\n                _httpTimer = undefined;\n            });\n    }\n    updateTimer;\n    updateTimerList = [];\n    sqlTimerList = [];\n    connectNetwork() {\n        this.closeNetwork();\n        const { networks } = this.store.data;\n        const https = [];\n        if (networks) {\n            let mqttIndex = 0, httpIndex = 0, websocketIndex = 0, sseIndex = 0;\n            this.mqttClients = [];\n            this.websockets = [];\n            this.eventSources = [];\n            networks.forEach(async (net) => {\n                // if (net.type === 'subscribe') {\n                if (net.protocol === 'mqtt') {\n                    net.index = mqttIndex;\n                    this.connectNetMqtt(net);\n                    mqttIndex += 1;\n                }\n                else if (net.protocol === 'websocket') {\n                    net.index = websocketIndex;\n                    this.connectNetWebSocket(net);\n                    // this.websockets[websocketIndex] = new WebSocket(\n                    //   net.url,\n                    //   net.protocols || undefined\n                    // );\n                    // this.websockets[websocketIndex].onmessage = (e) => {\n                    //   this.socketCallback(e.data, { type: 'websocket', url: net.url });\n                    // };\n                    // this.websockets[websocketIndex].onerror = (error) => {\n                    //   this.store.emitter.emit('error', { type: 'websocket', error });\n                    // };\n                    // this.websockets[websocketIndex].onclose = () => {\n                    //   if (this.store.options.reconnetTimes) {\n                    //     net.times++;\n                    //     if (net.times >= this.store.options.reconnetTimes) {\n                    //       net.times = 0;\n                    //       this.websockets[net.index]?.close();\n                    //       return;\n                    //     }\n                    //   }\n                    // console.info('Canvas websocket closed and reconneting...');\n                    // };\n                    websocketIndex += 1;\n                }\n                else if (net.protocol === 'http') {\n                    net.index = httpIndex;\n                    https.push({\n                        url: net.url,\n                        interval: net.interval,\n                        headers: net.headers || undefined,\n                        method: net.method,\n                        body: net.body,\n                    });\n                    httpIndex += 1;\n                }\n                else if (net.protocol === 'ADIIOT') {\n                    connectJetLinks(this, net);\n                }\n                else if (net.protocol === 'SSE') {\n                    net.index = sseIndex;\n                    this.connectSSE(net);\n                    sseIndex += 1;\n                }\n            });\n        }\n        this.onNetworkConnect(https);\n        this.connectIot();\n        this.connectSqls();\n    }\n    reconnectNetwork(index) {\n        const net = this.store.data.networks[index];\n        if (net.protocol === 'mqtt') {\n            this.mqttClients && this.mqttClients[net.index]?.end();\n            this.connectNetMqtt(net);\n        }\n        else if (net.protocol === 'websocket') {\n            if (this.websockets && this.websockets[net.index]) {\n                this.websockets[net.index].onclose = undefined;\n                this.websockets[net.index].close();\n                this.websockets[net.index] = undefined;\n            }\n            this.connectNetWebSocket(net);\n        }\n        else if (net.protocol === 'http') {\n            if (this.updateTimerList) {\n                clearInterval(this.updateTimerList[net.index]);\n                this.updateTimerList[net.index] = undefined;\n            }\n            const http = deepClone(net);\n            if (!this.store.data.cancelFirstConnect) {\n                this.requestHttp(http);\n            }\n            this.updateTimerList[net.index] = setInterval(async () => {\n                this.requestHttp(http);\n            }, http.interval || 1000);\n        }\n        else if (net.protocol === 'SSE') {\n            if (this.eventSources) {\n                this.eventSources[net.index]?.close();\n                this.eventSources[net.index] = undefined;\n            }\n            this.connectSSE(net);\n        }\n    }\n    iotMqttClient;\n    iotTimer;\n    iotWebsocketClient;\n    async connectIot() {\n        const { iot } = this.store.data;\n        if (!(iot && iot?.devices?.length)) {\n            return;\n        }\n        const url = globalThis.iotUrl || await this.getMqttUrl();\n        if (!url) {\n            console.warn('iot Request address error');\n            return;\n        }\n        const token = await this.getIotToken(iot.devices, iot.protocol === 'websocket' ? 1 : undefined);\n        iot.token = token;\n        //物联网设备\n        // if(iot.protocol === 'mqtt'){\n        // const url ='ws://192.168.110.148:8083/mqtt'; //`${location.protocol === 'https:'?'wss':'ws'}://${iot.host}:${location.protocol === 'https:'?'8084':'8083'}/mqtt`\n        this.iotMqttClient = mqtt.connect(url);\n        this.iotMqttClient.on('message', (topic, message) => {\n            this.socketCallback(message.toString(), {\n                topic: `le5le-iot/properties/${token}`,\n                type: 'iot',\n                url,\n                method: 'mqtt'\n            });\n        });\n        this.iotMqttClient.on('error', (error) => {\n            this.store.emitter.emit('error', { type: 'mqtt', error });\n        });\n        this.iotMqttClient.subscribe(`le5le-iot/properties/${token}`);\n        this.iotTimer = setInterval(() => {\n            this.iotMqttClient && this.iotMqttClient.publish(`le5le-iot/subscribe/ping`, token);\n        }, 300000);\n        // }else if(iot.protocol === 'websocket'){\n        //   const url = 'ws://192.168.110.6/api/ws/iot/properties'// `${location.protocol === 'https:'?'wss':'ws'}://${location.host}/api/ws/iot/properties`\n        //   this.iotWebsocketClient = new WebSocket(\n        //     url,\n        //     token\n        //   );\n        //   this.iotWebsocketClient.onmessage = (e) => {\n        //     this.socketCallback(e.data, { type: 'iot', method: 'websocket' });\n        //   };\n        //   this.iotWebsocketClient.onerror = (error) => {\n        //     this.store.emitter.emit('error', { type: 'websocket', error });\n        //   };\n        // }\n    }\n    //  type SqlType = 'list' | 'get' | 'exec' | 'add' | 'update' | 'delete';\n    connectSqls() {\n        const { sqls } = this.store.data;\n        if (sqls && sqls.length) {\n            let sqlIndex = 0;\n            sqls.forEach(async (sql) => {\n                await this.doSqlCode(sql);\n                if (sql.interval) {\n                    sql.index = sqlIndex;\n                    this.sqlTimerList[sqlIndex] = setInterval(async () => {\n                        await this.doSqlCode(sql);\n                    }, sql.interval);\n                    sqlIndex += 1;\n                }\n            });\n        }\n    }\n    connectSSE(net) {\n        this.eventSources[net.index] = new EventSource(net.url, { withCredentials: net.withCredentials });\n        this.eventSources[net.index].onmessage = (e) => {\n            this.socketCallback(e.data, { type: 'SSE', url: net.url, name: net.name });\n        };\n        this.eventSources[net.index].onerror = (error) => {\n            this.store.emitter.emit('error', { type: 'SSE', error });\n        };\n    }\n    closeSSE() {\n        this.eventSources &&\n            this.eventSources.forEach((es) => {\n                if (es) {\n                    es.close();\n                    es = undefined;\n                }\n            });\n    }\n    connectNetMqtt(net) {\n        if (net.options.clientId && !net.options.customClientId) {\n            net.options.clientId = s8();\n        }\n        let url = net.url;\n        if (url.indexOf('${') > -1) {\n            let keys = url.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n            if (keys) {\n                keys.forEach((key) => {\n                    url = url.replace(`\\${${key}}`, this.getDynamicParam(key));\n                });\n            }\n        }\n        net.times = 0;\n        let options = deepClone(net.options);\n        if (options?.username && options.username.includes('${')) {\n            let keys = options.username.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n            if (keys) {\n                keys.forEach((key) => {\n                    options.username = options.username.replace(`\\${${key}}`, this.getDynamicParam(key));\n                });\n            }\n        }\n        if (options?.password && options.password.includes('${')) {\n            let keys = options.password.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n            if (keys) {\n                keys.forEach((key) => {\n                    options.password = options.password.replace(`\\${${key}}`, this.getDynamicParam(key));\n                });\n            }\n        }\n        this.mqttClients[net.index] = mqtt.connect(url, options);\n        this.mqttClients[net.index].on('message', (topic, message) => {\n            this.socketCallback(message.toString(), {\n                topic,\n                type: 'mqtt',\n                url: net.url,\n                name: net.name\n            });\n        });\n        this.mqttClients[net.index].on('error', (error) => {\n            this.store.emitter.emit('error', { type: 'mqtt', error });\n        });\n        this.mqttClients[net.index].on('close', () => {\n            if (this.store.options.reconnetTimes) {\n                net.times++;\n                if (net.times >= this.store.options.reconnetTimes) {\n                    net.times = 0;\n                    this.mqttClients && this.mqttClients[net.index]?.end();\n                }\n            }\n        });\n        if (net.topics) {\n            let topics = net.topics;\n            if (topics.indexOf('${') > -1) {\n                let keys = topics.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                if (keys) {\n                    keys.forEach((key) => {\n                        topics = topics.replace(`\\${${key}}`, this.getDynamicParam(key));\n                    });\n                }\n            }\n            this.mqttClients[net.index].subscribe(topics.split(','));\n        }\n    }\n    connectNetWebSocket(net) {\n        if (this.websockets[net.index]) {\n            this.websockets[net.index].onclose = undefined;\n            this.websockets[net.index]?.close();\n            this.websockets[net.index] = undefined;\n        }\n        let url = net.url;\n        if (url.indexOf('${') > -1) {\n            let keys = url.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n            if (keys) {\n                keys.forEach((key) => {\n                    url = url.replace(`\\${${key}}`, this.getDynamicParam(key));\n                });\n            }\n        }\n        this.websockets[net.index] = new WebSocket(url, net.protocols || undefined);\n        this.websockets[net.index].onmessage = (e) => {\n            this.socketCallback(e.data, { type: 'websocket', url: net.url, name: net.name });\n        };\n        this.websockets[net.index].onerror = (error) => {\n            this.store.emitter.emit('error', { type: 'websocket', error });\n        };\n        this.websockets[net.index].onclose = () => {\n            if (this.store.options.reconnetTimes) {\n                net.times++;\n                if (net.times >= this.store.options.reconnetTimes) {\n                    net.times = 0;\n                    this.websockets[net.index].onclose = undefined;\n                    this.websockets[net.index]?.close();\n                    this.websockets[net.index] = undefined;\n                    return;\n                }\n            }\n            setTimeout(() => {\n                console.info('Canvas websocket closed and reconneting...');\n                this.connectNetWebSocket(net);\n            }, 2000);\n        };\n    }\n    async getMqttUrl() {\n        const res = await fetch('/api/iot/app/mqtt', {\n            method: 'GET',\n            headers: {\n                Authorization: `Bearer ${getToken()}`,\n            },\n        });\n        if (res.ok) {\n            const data = await res.text();\n            let results = JSON.parse(data);\n            let port = results.wssPort || results.wsPort;\n            if (!port) {\n                return;\n            }\n            return `${location.protocol === 'https:' ? 'wss' : 'ws'}://${results.host}:${location.protocol === 'https:' ? results.wssPort : results.wsPort}${results.path}`;\n        }\n    }\n    async getIotToken(devices, type) {\n        const res = await fetch('/api/iot/subscribe/properties', {\n            method: 'POST',\n            headers: {\n                Authorization: `Bearer ${getToken()}`,\n            },\n            body: JSON.stringify({ devices: devices, type }),\n        });\n        if (res.ok) {\n            const data = await res.text();\n            return JSON.parse(data).token;\n        }\n    }\n    async doSqlCode(sql) {\n        const method = sql.method || 'get';\n        let _sql = sql.sql;\n        if (method === 'list') {\n            _sql += ` LIMIT ${sql.pageSize || 20}` + (sql.current > 1 ? (' OFFSET ' + (sql.current - 1) * sql.pageSize) : '');\n        }\n        const res = await fetch(`/api/iot/data/sql/${method}`, {\n            method: 'POST',\n            headers: {\n                Authorization: `Bearer ${getCookie('token') || localStorage.getItem('token') || new URLSearchParams(location.search).get('token') || ''}`,\n            },\n            body: JSON.stringify({ dbid: sql.dbid, sql: _sql, }),\n        });\n        if (res.ok) {\n            let data = await res.text();\n            if (data) {\n                const arr = [];\n                data = JSON.parse(data);\n                sql.keys?.forEach((key) => {\n                    arr.push({ id: sql.bindId + '#' + key, value: getter(data, key.split('#').join('.')) });\n                });\n                arr.push({ id: sql.bindId, value: data });\n                this.socketCallback(JSON.stringify(arr), { type: 'sql', url: `/api/iot/data/sql/${method}`, method });\n            }\n        }\n    }\n    randomString(e) {\n        e = e || 32;\n        let t = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678', a = t.length, n = '';\n        for (let i = 0; i < e; i++) {\n            n += t.charAt(Math.floor(Math.random() * a));\n        }\n        return n;\n    }\n    mockValue(data) {\n        let value = undefined;\n        if (data.enableMock && data.mock !== undefined) {\n            if (data.type === 'float') {\n                if (data.mock && data.mock.indexOf(',') !== -1) {\n                    let arr = data.mock.split(',');\n                    let rai = Math.floor(Math.random() * arr.length);\n                    value = parseFloat(arr[rai]);\n                }\n                else if (data.mock && data.mock.indexOf('-') !== -1) {\n                    let max;\n                    let min;\n                    let len;\n                    let arr = data.mock.split('-');\n                    if (data.mock.charAt(0) === '-') {\n                        //负数\n                        if (arr.length === 4) {\n                            max = -parseFloat(arr[3]);\n                            min = -parseFloat(arr[1]);\n                            len = arr[3];\n                        }\n                        else {\n                            max = parseFloat(arr[2]);\n                            min = -parseFloat(arr[1]);\n                            len = arr[2];\n                        }\n                    }\n                    else {\n                        max = parseFloat(arr[1]);\n                        min = parseFloat(arr[0]);\n                        len = arr[1];\n                    }\n                    if ((len + '').indexOf('.') !== -1) {\n                        let length = (len + '').split('.')[1].length;\n                        value = (Math.random() * (max - min) + min).toFixed(length);\n                    }\n                    else {\n                        value = Math.random() * (max - min) + min;\n                    }\n                }\n                else {\n                    value = parseFloat(data.mock);\n                }\n            }\n            else if (data.type === 'integer') {\n                if (data.mock && data.mock.indexOf(',') !== -1) {\n                    let arr = data.mock.split(',');\n                    let rai = Math.floor(Math.random() * arr.length);\n                    value = parseInt(arr[rai]);\n                }\n                else if (data.mock && data.mock.indexOf('-') !== -1) {\n                    let max;\n                    let min;\n                    let arr = data.mock.split('-');\n                    if (data.mock.charAt(0) === '-') {\n                        if (arr.length === 4) {\n                            max = -parseFloat(arr[3]);\n                            min = -parseFloat(arr[1]);\n                        }\n                        else {\n                            max = parseFloat(arr[2]);\n                            min = -parseFloat(arr[1]);\n                        }\n                    }\n                    else {\n                        max = parseInt(arr[1]);\n                        min = parseInt(arr[0]);\n                    }\n                    value = parseInt(Math.random() * (max - min) + min + '');\n                }\n                else {\n                    value = parseInt(data.mock);\n                }\n            }\n            else if (data.type === 'bool') {\n                if (typeof data.mock === 'boolean') {\n                    value = data.mock;\n                }\n                else if ('true' === data.mock) {\n                    value = true;\n                }\n                else if ('false' === data.mock) {\n                    value = false;\n                }\n                else {\n                    value = Math.random() < 0.5;\n                }\n            }\n            else if (data.type === 'object' || data.type === 'array') {\n                if (data.mock) {\n                    //对象or数组 不mock\n                    // _d[realTime.key] = realTime.value;\n                }\n            }\n            else {\n                //if (realTime.type === 'string')\n                if (data.mock && data.mock.indexOf(',') !== -1) {\n                    let arr = data.mock.split(',');\n                    let rai = Math.floor(Math.random() * arr.length);\n                    value = arr[rai];\n                }\n                else if (data.mock &&\n                    data.mock.startsWith('[') &&\n                    data.mock.endsWith(']')) {\n                    let len = parseInt(data.mock.substring(1, data.mock.length - 1));\n                    value = this.randomString(len);\n                }\n                else {\n                    value = data.mock;\n                }\n            }\n        }\n        return value;\n    }\n    //数据模拟\n    dataMock() {\n        let arr = [];\n        this.store.data.dataset?.devices?.forEach((data) => {\n            let value = this.mockValue(data);\n            if (value !== undefined) {\n                arr.push({\n                    id: data.id,\n                    value,\n                });\n            }\n        });\n        if (arr.length) {\n            this.setDatas(arr, {\n                render: true,\n                doEvent: true,\n                history: false,\n            });\n        }\n    }\n    startDataMock() {\n        let enable = this.store.data.enableMock;\n        if (enable) {\n            this.stopDataMock();\n            this.initBinds();\n            this.updateTimer = setInterval(() => {\n                //本地调试\n                this.store.data.pens.forEach((pen) => {\n                    this.penMock(pen);\n                });\n                this.dataMock();\n                this.render();\n            }, this.store.data.networkInterval || 1000);\n        }\n    }\n    stopDataMock() {\n        clearInterval(this.updateTimer);\n        this.updateTimer = undefined;\n    }\n    penMock(pen) {\n        if (pen.realTimes) {\n            let _d = {};\n            pen.realTimes.forEach((realTime) => {\n                let value = this.mockValue(realTime);\n                if (value !== undefined) {\n                    _d[realTime.key] = value;\n                }\n            });\n            if (Object.keys(_d).length) {\n                let data = pen.onBeforeValue ? pen.onBeforeValue(pen, _d) : _d;\n                this.canvas.updateValue(pen, data);\n                // this.store.emitter.emit('valueUpdate', pen);\n                pen.onValue?.(pen);\n                this.store.emitter.emit('valueUpdate', pen);\n            }\n        }\n    }\n    penNetwork(pen) {\n        const penNetwork = {\n            url: pen.apiUrl,\n            method: pen.apiMethod,\n            headers: pen.apiHeaders,\n            body: pen.apiBody,\n        };\n        //临时请求一次\n        this.requestHttp(penNetwork);\n        if (pen.apiEnable) {\n            if (!this.store.pensNetwork) {\n                this.store.pensNetwork = {};\n            }\n            this.store.pensNetwork[pen.id] = penNetwork;\n        }\n        else {\n            delete this.store.pensNetwork[pen.id];\n        }\n    }\n    // getCookie(name: string) {\n    //   let arr: RegExpMatchArray | null;\n    //   const reg = new RegExp('(^| )' + name + '=([^;]*)(;|$)');\n    //   if ((arr = document.cookie.match(reg))) {\n    //     return decodeURIComponent(arr[2]);\n    //   } else {\n    //     return '';\n    //   }\n    // }\n    //获取动态参数\n    getDynamicParam(key) {\n        let params = queryURLParams();\n        let value = params[key] || localStorage[key] || getCookie(key) || globalThis[key] || '';\n        return value;\n    }\n    onNetworkConnect(https) {\n        // let enable = this.store.data.enableMock;\n        if (!(https && https.length)) {\n            return;\n        }\n        if (this.store.pensNetwork) {\n            for (let key in this.store.pensNetwork) {\n                https.push(this.store.pensNetwork[key]);\n            }\n        }\n        if (!this.store.data.cancelFirstConnect) {\n            https.forEach(async (_item) => {\n                this.requestHttp(_item);\n            });\n        }\n        // if( enable ){\n        //   this.updateTimer = setInterval(() => {\n        //     //模拟数据\n        //     this.store.data.pens.forEach((pen) => {\n        //       this.penMock(pen);\n        //     });\n        //     // https.forEach(async (_item) => {\n        //     //   this.requestHttp(_item);\n        //     // });\n        //     this.render();\n        //   }, this.store.data.networkInterval || 1000);\n        // }\n        https.forEach((_item, index) => {\n            _item.times = 0;\n            if (_item.interval !== 0) {\n                this.updateTimerList[index] = setInterval(async () => {\n                    this.requestHttp(_item);\n                    if (this.store.options.reconnetTimes) {\n                        // _item.times++;\n                        if (_item.times >= this.store.options.reconnetTimes) {\n                            _item.times = 0;\n                            clearInterval(this.updateTimerList[index]);\n                            this.updateTimerList[index] = undefined;\n                        }\n                    }\n                }, _item.interval || 1000);\n            }\n        });\n    }\n    async requestHttp(_req) {\n        let req = deepClone(_req);\n        if (req.url) {\n            if (req.url.indexOf('${') > -1) {\n                let keys = req.url.match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                if (keys) {\n                    keys.forEach((key) => {\n                        req.url = req.url.replace(`\\${${key}}`, this.getDynamicParam(key));\n                    });\n                }\n            }\n            if (typeof req.headers === 'object') {\n                for (let i in req.headers) {\n                    if (typeof req.headers[i] === 'string') {\n                        let keys = req.headers[i].match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                        if (keys) {\n                            req.headers[i] = req.headers[i].replace(`\\${${keys[0]}}`, this.getDynamicParam(keys[0]));\n                        }\n                    }\n                }\n            }\n            if (typeof req.body === 'object') {\n                for (let i in req.body) {\n                    if (typeof req.body[i] === 'string') {\n                        let keys = req.body[i].match(/\\$\\{([^}]+)\\}/g)?.map(m => m.slice(2, -1));\n                        if (keys) {\n                            req.body[i] = req.body[i].replace(`\\${${keys[0]}}`, this.getDynamicParam(keys[0]));\n                        }\n                    }\n                }\n            }\n            // 默认每一秒请求一次\n            const res = await fetch(req.url, {\n                headers: req.headers,\n                method: req.method,\n                body: req.method === 'GET' ? undefined : JSON.stringify(req.body),\n            });\n            if (res.ok) {\n                const data = await res.text();\n                this.socketCallback(data, { type: 'http', url: req.url, name: req.name });\n            }\n            else {\n                _req.times++;\n                this.store.emitter.emit('error', { type: 'http', error: res });\n            }\n        }\n    }\n    closeNetwork() {\n        this.mqttClients &&\n            this.mqttClients.forEach((mqttClient) => {\n                mqttClient.end();\n            });\n        this.websockets &&\n            this.websockets.forEach((websocket) => {\n                if (websocket) {\n                    websocket.onclose = undefined;\n                    websocket.close();\n                    websocket = undefined;\n                }\n            });\n        this.mqttClients = undefined;\n        this.websockets = undefined;\n        // clearInterval(this.updateTimer);\n        // this.updateTimer = undefined;\n        this.updateTimerList &&\n            this.updateTimerList.forEach((_updateTimer) => {\n                clearInterval(_updateTimer);\n                _updateTimer = undefined;\n            });\n        this.sqlTimerList &&\n            this.sqlTimerList.forEach((_sqlTimer) => {\n                clearInterval(_sqlTimer);\n                _sqlTimer = undefined;\n            });\n        if (this.iotMqttClient) {\n            this.iotMqttClient.end();\n            this.iotMqttClient = undefined;\n        }\n        clearInterval(this.iotTimer);\n        this.iotTimer = undefined;\n        // if(this.iotWebsocketClient){\n        //   this.iotWebsocketClient.onclose = undefined;\n        //   this.iotWebsocketClient.close();\n        //   this.iotWebsocketClient = undefined;\n        // }\n        closeJetLinks(this);\n        this.closeSSE();\n    }\n    socketCallback(message, context) {\n        this.store.emitter.emit('socket', { message, context });\n        let _message = message;\n        if (this.socketFn) {\n            _message = this.socketFn(message, {\n                meta2d: this,\n                type: context.type,\n                topic: context.topic,\n                url: context.url,\n                method: context.method,\n            });\n            if (!_message) {\n                return;\n            }\n        }\n        if (_message === true) {\n            _message = message;\n        }\n        let data;\n        if (_message.constructor === Object || _message.constructor === Array) {\n            data = _message;\n        }\n        else if (typeof _message === 'string') {\n            try {\n                data = JSON.parse(_message);\n            }\n            catch (error) {\n                console.warn('Invalid socket data:', data, error);\n            }\n        }\n        else {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        if (!Array.isArray(data)) {\n            data = [data];\n        }\n        if (!data.length) {\n            return;\n        }\n        if (data[0].dataId) {\n            this.setDatas(data);\n        }\n        else {\n            data.forEach((_data) => {\n                this.setValue(_data);\n            });\n        }\n    }\n    // 绑定变量方式更新组件数据\n    setDatas(datas, { render = true, doEvent = true, history, } = {}) {\n        // 把{dataId: string; value: any}转成setValue格式数据\n        const penValues = new Map();\n        datas.forEach((v) => {\n            this.store.bindDatas[v.dataId]?.forEach((p) => {\n                const pen = this.store.pens[p.id];\n                if (!pen) {\n                    return;\n                }\n                let penValue = penValues.get(pen);\n                if (!pen.noOnBinds && typeof pen.onBinds === 'function') {\n                    // 已经计算了\n                    if (penValue) {\n                        return;\n                    }\n                    penValues.set(pen, pen.onBinds(pen, datas, p.formItem));\n                    return;\n                }\n                if (penValue) {\n                    penValue[p.formItem.key] = v.value;\n                }\n                else {\n                    penValue = {\n                        id: p.id,\n                        [p.formItem.key]: v.value,\n                    };\n                    penValues.set(pen, penValue);\n                }\n            });\n            this.store.bind[v.id || v.dataId]?.forEach((p) => {\n                const pen = this.store.pens[p.id];\n                if (!pen) {\n                    return;\n                }\n                let penValue = penValues.get(pen);\n                // if (typeof pen.onBinds === 'function') {\n                //   // 已经计算了\n                //   if (penValue) {\n                //     return;\n                //   }\n                //   //TODO onBinds的情况\n                //   penValues.set(pen, pen.onBinds(pen, datas));\n                //   return;\n                // }\n                if (penValue) {\n                    penValue[p.key] = v.value;\n                }\n                else {\n                    penValue = {\n                        id: p.id,\n                        [p.key]: v.value,\n                    };\n                    penValues.set(pen, penValue);\n                }\n            });\n        });\n        this.store.data.locked && this.doDataEvent(datas);\n        let initPens;\n        let pens;\n        if (history) {\n            initPens = [];\n        }\n        penValues.forEach((value, pen) => {\n            this.setValue(value, { render: false, doEvent, history: false });\n            if (history) {\n                initPens.push(deepClone(pen, true));\n                pens.push(pen);\n            }\n        });\n        render && this.render();\n        if (history) {\n            this.pushHistory({\n                type: EditType.Update,\n                initPens,\n                pens,\n            });\n        }\n    }\n    setValue(data, { render = true, doEvent = true, history, } = {}) {\n        let pens = [];\n        if (!data) {\n            return;\n        }\n        if (data.id) {\n            if (data.id === this.store.data.id) {\n                this.setDatabyOptions(data);\n                if (data.bkImage) {\n                    this.setBackgroundImage(data.bkImage);\n                }\n                if (data.background) {\n                    this.setBackgroundColor(data.background);\n                }\n                this.render();\n                return;\n            }\n            const pen = this.store.pens[data.id];\n            if (pen) {\n                pens = [pen];\n            }\n            else {\n                //bind 绑定变量的情况\n                let bindArr = this.store.bind[data.id];\n                if (bindArr && bindArr.length) {\n                    pens = [];\n                    this.setDatas([data], {\n                        render,\n                        doEvent,\n                        history,\n                    });\n                    return;\n                }\n            }\n        }\n        else if (data.dataId) {\n            pens = [];\n            this.setDatas([data], {\n                render,\n                doEvent,\n                history,\n            });\n            return;\n        }\n        else if (data.tag) {\n            pens = this.find(data.tag);\n        }\n        else {\n            let binds = [];\n            for (let key in data) {\n                binds.push({\n                    dataId: key,\n                    id: key,\n                    value: data[key],\n                });\n            }\n            if (binds.length) {\n                this.setDatas(binds, {\n                    render,\n                    doEvent,\n                    history,\n                });\n            }\n            return;\n        }\n        history = history && !this.store.data.locked;\n        let initPens;\n        if (history) {\n            initPens = deepClone(pens);\n        }\n        pens.forEach((pen) => {\n            const afterData = pen.onBeforeValue\n                ? pen.onBeforeValue(pen, data)\n                : data;\n            if (data.frames) {\n                this.stopAnimate([pen]);\n                if (!data.showDuration) {\n                    data.showDuration = data.frames.reduce((total, item) => {\n                        return total + item.duration;\n                    }, 0);\n                }\n            }\n            setChildValue(pen, afterData);\n            this.canvas.updateValue(pen, afterData);\n            pen.onValue?.(pen);\n        });\n        if (!this.store.data.locked &&\n            this.store.active.length &&\n            !this.canvas.movingPens) {\n            // 移动过程中，不重算 activeRect\n            this.canvas.calcActiveRect();\n        }\n        if (history) {\n            let _pens = deepClone(pens);\n            this.pushHistory({\n                type: EditType.Update,\n                initPens,\n                pens: _pens,\n            });\n        }\n        doEvent &&\n            pens.forEach((pen) => {\n                this.store.emitter.emit('valueUpdate', pen);\n            });\n        render && this.render();\n    }\n    /**\n     * @deprecated 改用 setValue\n     */\n    _setValue(data, history = false) {\n        this.setValue(data, { history, render: false, doEvent: false });\n    }\n    pushHistory(action) {\n        this.canvas.pushHistory(action);\n    }\n    showInput(pen, rect) {\n        this.canvas.showInput(pen, rect);\n    }\n    hideInput() {\n        this.canvas.hideInput();\n    }\n    clearDropdownList() {\n        this.canvas.clearDropdownList();\n    }\n    clearRuleLines() {\n        this.canvas.clearRuleLines();\n    }\n    onEvent = (eventName, e) => {\n        switch (eventName) {\n            case 'add':\n                {\n                    e.forEach((pen) => {\n                        pen.onAdd?.(pen);\n                    });\n                }\n                this.onSizeUpdate();\n                break;\n            case 'enter':\n                e && e.onMouseEnter && e.onMouseEnter(e, this.canvas.mousePos);\n                this.store.data.locked && this.doEvent(e, eventName);\n                break;\n            case 'leave':\n                e && e.onMouseLeave && e.onMouseLeave(e, this.canvas.mousePos);\n                this.store.data.locked && this.doEvent(e, eventName);\n                break;\n            case 'active':\n            case 'inactive':\n                {\n                    this.store.data.locked &&\n                        e.forEach((pen) => {\n                            this.doEvent(pen, eventName);\n                        });\n                }\n                break;\n            case 'click':\n                if (this.store.data.locked && e.pen && !e.pen.disabled) {\n                    if (e.pen.switch) {\n                        e.pen.checked = !e.pen.checked;\n                        e.pen.calculative.checked = e.pen.checked;\n                        e.pen.calculative.gradient = undefined;\n                        e.pen.calculative.radialGradient = undefined;\n                    }\n                }\n                if (e.pen && e.pen.formId) {\n                    const formPen = this.store.pens[e.pen.formId];\n                    if (e.pen.formType === 'submit') {\n                        this.store.data.locked && formPen && !formPen.disabled && this.doEvent(formPen, 'submit');\n                    }\n                    else if (e.pen.formType === 'reset') {\n                        reset(e.pen);\n                        this.store.data.locked && formPen && !formPen.disabled && this.doEvent(formPen, 'reset');\n                    }\n                }\n                e.pen &&\n                    e.pen.onClick &&\n                    !e.pen.disabled &&\n                    e.pen.onClick(e.pen, this.canvas.mousePos);\n                this.store.data.locked &&\n                    e.pen &&\n                    !e.pen.disabled &&\n                    this.doEvent(e.pen, eventName);\n                break;\n            case 'contextmenu':\n                e.pen &&\n                    e.pen.onContextmenu &&\n                    !e.pen.disabled &&\n                    e.pen.onContextmenu(e.pen, this.canvas.mousePos);\n                this.store.data.locked &&\n                    e.pen &&\n                    !e.pen.disabled &&\n                    this.doEvent(e.pen, eventName);\n                break;\n            case 'mousedown':\n                e.pen &&\n                    e.pen.onMouseDown &&\n                    !e.pen.disabled &&\n                    e.pen.onMouseDown(e.pen, this.canvas.mousePos);\n                this.store.data.locked &&\n                    e.pen &&\n                    !e.pen.disabled &&\n                    this.doEvent(e.pen, eventName);\n                break;\n            case 'mouseup':\n                e.pen &&\n                    e.pen.onMouseUp &&\n                    !e.pen.disabled &&\n                    e.pen.onMouseUp(e.pen, this.canvas.mousePos);\n                this.store.data.locked &&\n                    e.pen &&\n                    !e.pen.disabled &&\n                    this.doEvent(e.pen, eventName);\n                break;\n            case 'dblclick':\n                this.store.data.locked &&\n                    e.pen &&\n                    !e.pen.disabled &&\n                    this.doEvent(e.pen, eventName);\n                break;\n            case 'valueUpdate':\n                e && updateFormData(e, e.formValue);\n                this.store.data.locked && this.doEvent(e, eventName);\n                this.canvas.tooltip.updateText(e);\n                break;\n            case 'update':\n            case 'delete':\n            case 'translatePens':\n            case 'rotatePens':\n            case 'resizePens':\n                this.onSizeUpdate();\n                break;\n            case 'navigator':\n                if (!this.store.data.id) {\n                    console.warn('请先保存当前图纸');\n                }\n                this.navigatorTo(e.params);\n                break;\n            case 'input':\n                this.store.data.locked &&\n                    e &&\n                    !e.disabled &&\n                    this.doEvent(e, eventName);\n                break;\n            case 'change':\n                e.pen && updateFormData(e.pen);\n                if (e.pen) {\n                    this.store.data.locked && !e.pen.disabled &&\n                        this.doEvent(e.pen, eventName);\n                }\n                else {\n                    this.store.data.locked &&\n                        e &&\n                        !e.disabled &&\n                        this.doEvent(e, eventName);\n                }\n                break;\n        }\n        this.doMessageEvent(eventName, e);\n    };\n    doEvent = (pen, eventName) => {\n        if (!pen) {\n            return;\n        }\n        let old = false; //是否是旧的事件\n        let indexArr = []; //事件条件成立的索引\n        pen.events?.forEach((event, index) => {\n            if (event.actions && event.actions.length) {\n                if (event.name === eventName) {\n                    //条件成立\n                    let flag = false;\n                    if (event.conditions && event.conditions.length) {\n                        if (event.conditionType === 'and') {\n                            flag = event.conditions.every((condition) => {\n                                return this.judgeCondition(pen, condition.key, condition);\n                            });\n                        }\n                        else if (event.conditionType === 'or') {\n                            flag = event.conditions.some((condition) => {\n                                return this.judgeCondition(pen, condition.key, condition);\n                            });\n                        }\n                    }\n                    else {\n                        flag = true;\n                    }\n                    if (flag) {\n                        // event.actions.forEach((action) => {\n                        //   if (this.events[action.action]) {\n                        //     this.events[action.action](pen, action);\n                        //   }\n                        // });\n                        indexArr.push(index);\n                    }\n                }\n            }\n            else {\n                old = true;\n                if (this.events[event.action] && event.name === eventName) {\n                    let can = !event.where?.type;\n                    if (event.where) {\n                        const { fn, fnJs, comparison, key, value } = event.where;\n                        if (fn) {\n                            can = fn(pen, { meta2d: this });\n                        }\n                        else if (fnJs) {\n                            try {\n                                event.where.fn = new Function('pen', 'context', fnJs);\n                            }\n                            catch (err) {\n                                console.error('Error: make function:', err);\n                            }\n                            if (event.where.fn) {\n                                can = event.where.fn(pen, { meta2d: this });\n                            }\n                        }\n                        else {\n                            let pValue = pen[key];\n                            if (['x', 'y', 'width', 'height'].includes(key)) {\n                                pValue = this.getPenRect(pen)[key];\n                            }\n                            switch (comparison) {\n                                case '>':\n                                    can = pValue > +value;\n                                    break;\n                                case '>=':\n                                    can = pValue >= +value;\n                                    break;\n                                case '<':\n                                    can = pValue < +value;\n                                    break;\n                                case '<=':\n                                    can = pValue <= +value;\n                                    break;\n                                case '=':\n                                case '==':\n                                    can = pValue == value;\n                                    break;\n                                case '!=':\n                                    can = pValue != value;\n                                    break;\n                                case '[)':\n                                    can = valueInRange(+pValue, value);\n                                    break;\n                                case '![)':\n                                    can = !valueInRange(+pValue, value);\n                                    break;\n                                case '[]':\n                                    can = valueInArray(pValue, value);\n                                    break;\n                                case '![]':\n                                    can = !valueInArray(pValue, value);\n                                    break;\n                            }\n                        }\n                    }\n                    // can && this.events[event.action](pen, event);\n                    if (can) {\n                        indexArr.push(index);\n                    }\n                }\n            }\n        });\n        //所有的条件判断后，再统一执行条件成立的事件\n        if (old) {\n            pen.events?.forEach((event, index) => {\n                if (indexArr.includes(index)) {\n                    this.events[event.action](pen, event);\n                }\n            });\n        }\n        else {\n            pen.events?.forEach(async (event, index) => {\n                if (indexArr.includes(index)) {\n                    if (event.confirm) {\n                        if (!(await this.canvas.popconfirm.showModal(pen, this.canvas.mousePos, event.confirmTitle))) {\n                            return;\n                        }\n                    }\n                    event.actions.forEach((action) => {\n                        if (action.timeout) {\n                            let timer = setTimeout(() => {\n                                if (this.events[action.action]) {\n                                    this.events[action.action](pen, action);\n                                    clearTimeout(timer);\n                                    timer = null;\n                                }\n                            }, action.timeout);\n                        }\n                        else {\n                            if (this.events[action.action]) {\n                                this.events[action.action](pen, action);\n                            }\n                        }\n                    });\n                }\n            });\n        }\n        if (eventName === 'valueUpdate') {\n            pen.realTimes?.forEach((realTime) => {\n                let indexArr = [];\n                realTime.triggers?.forEach((trigger, index) => {\n                    let flag = false;\n                    if (trigger.conditions?.length) {\n                        if (trigger.conditionType === 'and') {\n                            flag = trigger.conditions.every((condition) => {\n                                return this.judgeCondition(pen, realTime.key, condition);\n                            });\n                        }\n                        else if (trigger.conditionType === 'or') {\n                            flag = trigger.conditions.some((condition) => {\n                                return this.judgeCondition(pen, realTime.key, condition);\n                            });\n                        }\n                    }\n                    else {\n                        //无条件\n                        flag = true;\n                    }\n                    if (flag) {\n                        indexArr.push(index);\n                        // trigger.actions?.forEach((event) => {\n                        //   this.events[event.action](pen, event);\n                        // });\n                    }\n                });\n                //执行\n                realTime.triggers?.forEach((trigger, index) => {\n                    if (indexArr.includes(index)) {\n                        trigger.actions?.forEach((event) => {\n                            if (event.timeout) {\n                                let timer = setTimeout(() => {\n                                    if (this.events[event.action]) {\n                                        this.events[event.action](pen, event);\n                                        clearTimeout(timer);\n                                        timer = null;\n                                    }\n                                }, event.timeout);\n                            }\n                            else {\n                                this.events[event.action](pen, event);\n                            }\n                        });\n                    }\n                });\n            });\n            //全局\n            let indexArr = [];\n            this.store.globalTriggers[pen.id]?.forEach((trigger, index) => {\n                let flag = false;\n                if (trigger.conditions?.length) {\n                    if (trigger.conditionType === 'and') {\n                        flag = trigger.conditions.every((condition) => {\n                            return this.judgeCondition(this.store.pens[condition.source], condition.key, condition);\n                        });\n                    }\n                    else if (trigger.conditionType === 'or') {\n                        flag = trigger.conditions.some((condition) => {\n                            return this.judgeCondition(this.store.pens[condition.source], condition.key, condition);\n                        });\n                    }\n                }\n                else {\n                    //无条件\n                    flag = true;\n                }\n                if (flag) {\n                    indexArr.push(index);\n                }\n            });\n            this.store.globalTriggers[pen.id]?.forEach((trigger, index) => {\n                if (indexArr.includes(index)) {\n                    trigger.actions?.forEach((event) => {\n                        if (event.timeout) {\n                            let timer = setTimeout(() => {\n                                if (this.events[event.action]) {\n                                    this.events[event.action](pen, event);\n                                    clearTimeout(timer);\n                                    timer = null;\n                                }\n                            }, event.timeout);\n                        }\n                        else {\n                            this.events[event.action](pen, event);\n                        }\n                    });\n                }\n            });\n            //triggers\n            if (pen.triggers?.length) {\n                for (let trigger of pen.triggers) {\n                    if (trigger.status?.length) {\n                        for (let state of trigger.status) {\n                            let flag = false;\n                            if (state.conditions?.length) {\n                                if (state.conditionType === 'and') {\n                                    flag = state.conditions.every((condition) => {\n                                        return this.judgeCondition(pen, condition.key, condition);\n                                    });\n                                }\n                                else if (state.conditionType === 'or') {\n                                    flag = state.conditions.some((condition) => {\n                                        return this.judgeCondition(pen, condition.key, condition);\n                                    });\n                                }\n                            }\n                            else {\n                                //无条件\n                                flag = true;\n                            }\n                            if (flag) {\n                                state.actions?.forEach((event) => {\n                                    if (event.timeout) {\n                                        let timer = setTimeout(() => {\n                                            if (this.events[event.action]) {\n                                                this.events[event.action](pen, event);\n                                                clearTimeout(timer);\n                                                timer = null;\n                                            }\n                                        }, event.timeout);\n                                    }\n                                    else {\n                                        this.events[event.action](pen, event);\n                                    }\n                                });\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        // 事件冒泡，子执行完，父执行\n        this.doEvent(this.store.pens[pen.parentId], eventName);\n    };\n    doMessageEvent(eventName, data) {\n        if (this.store.messageEvents[eventName]) {\n            this.store.messageEvents[eventName].forEach((item) => {\n                let flag = false;\n                if (item.event.conditions && item.event.conditions.length) {\n                    if (item.event.conditionType === 'and') {\n                        flag = item.event.conditions.every((condition) => {\n                            return this.judgeCondition(item.pen, condition.key, condition);\n                        });\n                    }\n                    else if (item.event.conditionType === 'or') {\n                        flag = item.event.conditions.some((condition) => {\n                            return this.judgeCondition(item.pen, condition.key, condition);\n                        });\n                    }\n                }\n                else {\n                    flag = true;\n                }\n                if (flag) {\n                    item.event.actions.forEach((action) => {\n                        this.events[action.action](item.pen, action, data);\n                    });\n                }\n            });\n        }\n    }\n    doDataEvent = (datas) => {\n        if (!this.store.data.dataEvents?.length) {\n            return;\n        }\n        const data = datas.reduce((accumulator, { dataId, id, value }) => {\n            accumulator[id || dataId] = value;\n            return accumulator;\n        }, {});\n        let indexArr = [];\n        this.store.data.dataEvents?.forEach((event, index) => {\n            let flag = false;\n            if (event.conditions && event.conditions.length) {\n                if (event.conditionType === 'and') {\n                    flag = event.conditions.every((condition) => {\n                        return this.dataJudegeCondition(data, condition.key, condition);\n                    });\n                }\n                else if (event.conditionType === 'or') {\n                    flag = event.conditions.some((condition) => {\n                        return this.dataJudegeCondition(data, condition.key, condition);\n                    });\n                }\n            }\n            else {\n                flag = true;\n            }\n            if (flag) {\n                indexArr.push(index);\n            }\n        });\n        this.store.data.dataEvents?.forEach((event, index) => {\n            if (indexArr.includes(index)) {\n                event.actions?.forEach((action) => {\n                    this.events[action.action](data, action);\n                });\n            }\n        });\n    };\n    initGlobalTriggers() {\n        this.store.globalTriggers = {};\n        this.store.data.triggers?.forEach((trigger) => {\n            trigger.conditions.forEach((condition) => {\n                if (condition.source) {\n                    if (!this.store.globalTriggers[condition.source]) {\n                        this.store.globalTriggers[condition.source] = [];\n                    }\n                    if (!this.store.globalTriggers[condition.source].includes(trigger)) {\n                        this.store.globalTriggers[condition.source].push(trigger);\n                    }\n                }\n            });\n        });\n    }\n    initMessageEvents() {\n        this.store.messageEvents = {};\n        this.store.data.pens.forEach((pen) => {\n            pen.events?.forEach((event) => {\n                if (event.name === 'message' && event.message) {\n                    if (!this.store.messageEvents[event.message]) {\n                        this.store.messageEvents[event.message] = [];\n                    }\n                    this.store.messageEvents[event.message].push({\n                        pen: pen,\n                        event: event,\n                    });\n                }\n            });\n        });\n    }\n    dataJudegeCondition(data, key, condition) {\n        const { type, target, fnJs, fn, operator, valueType } = condition;\n        let can = false;\n        if (type === 'fn') {\n            //方法\n            if (fn) {\n                can = fn(data, { meta2d: this });\n            }\n            else if (fnJs) {\n                try {\n                    condition.fn = new Function('data', 'context', fnJs);\n                }\n                catch (err) {\n                    console.error('Error: make function:', err);\n                }\n                if (condition.fn) {\n                    can = condition.fn(data, { meta2d: this });\n                }\n            }\n        }\n        else {\n            //TODO boolean类型 数字类型\n            let value = condition.value;\n            if (valueType === 'prop') {\n                value = data[condition.value];\n            }\n            let compareValue = data[key];\n            switch (operator) {\n                case '>':\n                    can = compareValue > +value;\n                    break;\n                case '>=':\n                    can = compareValue >= +value;\n                    break;\n                case '<':\n                    can = compareValue < +value;\n                    break;\n                case '<=':\n                    can = compareValue <= +value;\n                    break;\n                case '=':\n                case '==':\n                    can = compareValue == value;\n                    break;\n                case '!=':\n                    can = compareValue != value;\n                    break;\n                case '[)':\n                    can = valueInRange(+compareValue, value);\n                    break;\n                case '![)':\n                    can = !valueInRange(+compareValue, value);\n                    break;\n                case '[]':\n                    can = valueInArray(compareValue, value);\n                    break;\n                case '![]':\n                    can = !valueInArray(compareValue, value);\n                    break;\n            }\n        }\n        return can;\n    }\n    judgeCondition(pen, key, condition) {\n        const { type, target, fnJs, fn, operator, valueType } = condition;\n        let can = false;\n        if (type === 'fn') {\n            //方法\n            if (fn) {\n                can = fn(pen, { meta2d: this });\n            }\n            else if (fnJs) {\n                try {\n                    condition.fn = new Function('pen', 'context', fnJs);\n                }\n                catch (err) {\n                    console.error('Error: make function:', err);\n                }\n                if (condition.fn) {\n                    can = condition.fn(pen, { meta2d: this });\n                }\n            }\n        }\n        else {\n            //TODO boolean类型 数字类型\n            let value = condition.value;\n            if (valueType === 'prop') {\n                value = this.store.pens[target][condition.value];\n            }\n            let compareValue = getter(pen, key);\n            if (['x', 'y', 'width', 'height'].includes(key)) {\n                compareValue = this.getPenRect(pen)[key];\n            }\n            switch (operator) {\n                case '>':\n                    can = compareValue > +value;\n                    break;\n                case '>=':\n                    can = compareValue >= +value;\n                    break;\n                case '<':\n                    can = compareValue < +value;\n                    break;\n                case '<=':\n                    can = compareValue <= +value;\n                    break;\n                case '=':\n                case '==':\n                    can = compareValue == value;\n                    break;\n                case '!=':\n                    can = compareValue != value;\n                    break;\n                case '[)':\n                    can = valueInRange(+compareValue, value);\n                    break;\n                case '![)':\n                    can = !valueInRange(+compareValue, value);\n                    break;\n                case '[]':\n                    can = valueInArray(compareValue, value);\n                    break;\n                case '![]':\n                    can = !valueInArray(compareValue, value);\n                    break;\n            }\n        }\n        return can;\n    }\n    pushChildren(parent, children) {\n        const initUpdatePens = [deepClone(parent, true)];\n        const addPens = [];\n        if (!parent.children) {\n            parent.children = [];\n        }\n        const updatePens = [];\n        children.forEach((pen) => {\n            let oldPen = deepClone(pen, true);\n            if (!pen.id || !this.store.pens[pen.id]) {\n                // 不存在于 store 中\n                this.canvas.makePen(pen);\n                oldPen = null; // 添加操作\n            }\n            if (pen.parentId) {\n                const oldParent = this.store.pens[pen.parentId];\n                const i = oldParent.children.findIndex((id) => id === pen.id);\n                initUpdatePens.push(deepClone(oldParent, true));\n                oldParent.children.splice(i, 1);\n                updatePens.push(deepClone(oldParent, true));\n            }\n            parent.children.push(pen.id);\n            pen.parentId = parent.id;\n            const childRect = calcRelativeRect(pen.calculative.worldRect, parent.calculative.worldRect);\n            Object.assign(pen, childRect);\n            pen.locked = pen.lockedOnCombine ?? LockState.DisableMove;\n            pen.locked =\n                pen.interaction || isInteraction.includes(pen.name) ? 0 : pen.locked;\n            if (!oldPen) {\n                addPens.push(deepClone(pen, true));\n            }\n            else {\n                initUpdatePens.push(oldPen);\n                updatePens.push(deepClone(pen, true));\n            }\n        });\n        updatePens.push(deepClone(parent, true));\n        let step = 1;\n        if (addPens.length) {\n            step = 2;\n            this.pushHistory({\n                type: EditType.Add,\n                pens: addPens,\n                step,\n            });\n        }\n        this.pushHistory({\n            type: EditType.Update,\n            initPens: initUpdatePens,\n            pens: updatePens,\n            step,\n        });\n    }\n    renderPenRaw = renderPenRaw;\n    toPng(padding, callback, containBkImg = false, maxWidth) {\n        return this.canvas.toPng(padding, callback, containBkImg, maxWidth);\n    }\n    activeToPng(padding, maxWidth) {\n        return this.canvas.activeToPng(padding, maxWidth);\n    }\n    pensToPng(pens = this.store.active, padding, maxWidth) {\n        return this.canvas.pensToPng(pens, padding, maxWidth);\n    }\n    /**\n     * 下载 png\n     * @param name 传入参数自带文件后缀名 例如：'test.png'\n     * @param padding 上右下左的内边距\n     */\n    downloadPng(name, padding, maxWidth) {\n        for (const pen of this.store.data.pens) {\n            if (pen.calculative.img || ['iframe'].includes(pen.name)) {\n                //重新生成绘制图片\n                pen.onRenderPenRaw?.(pen);\n            }\n        }\n        setTimeout(() => {\n            const a = document.createElement('a');\n            a.setAttribute('download', (name || this.store.data.name || 'le5le.meta2d') + '.png');\n            a.setAttribute('href', this.toPng(padding, undefined, true, maxWidth));\n            const evt = document.createEvent('MouseEvents');\n            evt.initEvent('click', true, true);\n            a.dispatchEvent(evt);\n        }, 1000);\n    }\n    downloadSvg() {\n        if (!window.C2S) {\n            console.error('请先加载乐吾乐官网下的canvas2svg.js', 'https://assets.le5lecdn.com/2d/canvas2svg.js');\n            throw new Error('请先加载乐吾乐官网下的canvas2svg.js');\n        }\n        let isV = false;\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        if (width && height && !this.store.data.component) {\n            isV = true;\n        }\n        const rect = this.getRect();\n        if (isV) {\n            rect.x = this.store.data.origin.x;\n            rect.y = this.store.data.origin.y;\n            rect.width = width * this.store.data.scale;\n            rect.height = height * this.store.data.scale;\n        }\n        //TODO 不考虑无画布尺寸时背景图片\n        // if(this.store.bkImg&&!isV){\n        //   rect.x = rect.x < 0 ? -rect.x : 0;\n        //   rect.y = rect.y < 0 ? -rect.y : 0;\n        //   rect.width = this.canvas.canvasRect.width;\n        //   rect.height =  this.canvas.canvasRect.height;\n        // }\n        rect.x -= 10;\n        rect.y -= 10;\n        const ctx = new window.C2S(rect.width + 20, rect.height + 20);\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = this.store.styles.color; // getGlobalColor(this.store);\n        const background = this.store.data.background || this.store.styles.background;\n        // this.store.data.background || this.store.options.background;\n        if (background && isV) {\n            // 绘制背景颜色\n            ctx.save();\n            ctx.fillStyle = background;\n            ctx.fillRect(0, 0, rect.width, rect.height);\n            ctx.restore();\n        }\n        if (this.store.bkImg) {\n            if (isV) {\n                ctx.drawImage(this.store.bkImg, 0, 0, rect.width, rect.height);\n            }\n            else {\n                // const x = rect.x < 0 ? -rect.x : 0;\n                // const y = rect.y < 0 ? -rect.y : 0;\n                // ctx.drawImage(\n                //   this.store.bkImg,\n                //   x,\n                //   y,\n                //   this.canvas.canvasRect.width,\n                //   this.canvas.canvasRect.height\n                // );\n            }\n        }\n        if (background && !isV) {\n            // 绘制背景颜色\n            ctx.save();\n            ctx.fillStyle = background;\n            ctx.fillRect(0, 0, rect.width + 20, rect.height + 20);\n            ctx.restore();\n        }\n        // if(this.store.bkImg&&!isV){\n        //   ctx.translate(\n        //     this.store.data.x,\n        //     this.store.data.y\n        //   );\n        // }\n        for (const pen of this.store.data.pens) {\n            if (pen.visible == false || !isShowChild(pen, this.store)) {\n                continue;\n            }\n            if (pen.name === 'combine' && !pen.draw) {\n                continue;\n            }\n            renderPenRaw(ctx, pen, rect, true);\n        }\n        let mySerializedSVG = ctx.getSerializedSvg();\n        if (this.store.data.background) {\n            mySerializedSVG = mySerializedSVG.replace('{{bk}}', '');\n            mySerializedSVG = mySerializedSVG.replace('{{bkRect}}', `<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"${this.store.data.background}\"></rect>`);\n        }\n        else {\n            mySerializedSVG = mySerializedSVG.replace('{{bk}}', '');\n            mySerializedSVG = mySerializedSVG.replace('{{bkRect}}', '');\n        }\n        mySerializedSVG = mySerializedSVG.replace(/--le5le--/g, '&#x');\n        const urlObject = window.URL;\n        const export_blob = new Blob([mySerializedSVG]);\n        const url = urlObject.createObjectURL(export_blob);\n        const a = document.createElement('a');\n        a.setAttribute('download', `${this.store.data.name || 'le5le.meta2d'}.svg`);\n        a.setAttribute('href', url);\n        const evt = document.createEvent('MouseEvents');\n        evt.initEvent('click', true, true);\n        a.dispatchEvent(evt);\n    }\n    getRect(pens = this.store.data.pens) {\n        return getRect(pens);\n    }\n    hiddenTemplate() {\n        this.canvas.canvasTemplate.hidden();\n    }\n    showTemplate() {\n        this.canvas.canvasTemplate.show();\n    }\n    lockTemplate(lock) {\n        //锁定\n        this.store.data.pens.forEach((pen) => {\n            // if (pen.template) {\n            //   pen.locked = lock;\n            // }\n            if (pen.canvasLayer === CanvasLayer.CanvasTemplate) {\n                pen.locked = lock;\n            }\n        });\n    }\n    /**\n     * 放大到屏幕尺寸，并居中\n     * @param fit true，填满但完整展示；false，填满，但长边可能截取（即显示不完整）\n     */\n    fitView(fit = true, viewPadding = 10) {\n        // 默认垂直填充，两边留白\n        if (!this.hasView())\n            return;\n        // 1. 重置画布尺寸为容器尺寸\n        const { canvas } = this.canvas;\n        const { offsetWidth: width, offsetHeight: height } = canvas;\n        this.resize(width, height);\n        // 2. 获取设置的留白值\n        const padding = formatPadding(viewPadding);\n        // 3. 获取图形尺寸\n        const rect = this.getRect();\n        // 4. 计算缩放比例\n        const w = (width - padding[1] - padding[3]) / rect.width;\n        const h = (height - padding[0] - padding[2]) / rect.height;\n        let ratio = w;\n        if (fit) {\n            // 完整显示取小的\n            ratio = w > h ? h : w;\n        }\n        else {\n            ratio = w > h ? w : h;\n        }\n        if (this.store.data.fits?.length) {\n            this.canvas.opening = true;\n        }\n        // 该方法直接更改画布的 scale 属性，所以比率应该乘以当前 scale\n        this.scale(ratio * this.store.data.scale);\n        // 5. 居中\n        this.centerView();\n        if (this.store.data.fits?.length) {\n            this.fillView();\n        }\n    }\n    fillView() {\n        const rect = this.getRect();\n        const wGap = this.canvas.width - rect.width;\n        const hGap = this.canvas.height - rect.height;\n        //宽度拉伸\n        if (Math.abs(wGap) > 10) {\n            this.store.data.fits?.forEach((fit) => {\n                let pens = [];\n                fit.children.forEach((id) => {\n                    if (this.store.pens[id]) {\n                        this.store.pens[id].locked = LockState.None;\n                        pens.push(this.store.pens[id]);\n                    }\n                });\n                let r = wGap / 2;\n                if (fit.left && fit.right) {\n                    //整体拉伸\n                    let left = fit.leftValue;\n                    let right = fit.rightValue;\n                    if (left) {\n                        left = Math.abs(left) < 1 ? left * this.canvas.width : left;\n                    }\n                    else {\n                        left = 0;\n                    }\n                    if (right) {\n                        right = Math.abs(right) < 1 ? right * this.canvas.width : right;\n                    }\n                    else {\n                        right = 0;\n                    }\n                    let ratio = (this.canvas.width - left - right) / (rect.width - left - right);\n                    pens.forEach((pen) => {\n                        if (pen.image && pen.imageRatio) {\n                            if (pen.calculative.worldRect.width / this.canvas.width > 0.1) {\n                                pen.imageRatio = false;\n                            }\n                        }\n                        pen.calculative.worldRect.x =\n                            rect.x -\n                                wGap / 2 +\n                                left +\n                                (pen.calculative.worldRect.x - rect.x) * ratio; //(fit.leftValue || 0)+ (pen.calculative.worldRect.x + pen.calculative.worldRect.width/2)-( pen.calculative.worldRect.width*ratio)*(range/2- (fit.rightValue || 0))/(range- (fit.leftValue || 0)-(fit.rightValue || 0));\n                        pen.calculative.worldRect.width *= ratio;\n                        pen.calculative.worldRect.ex =\n                            pen.calculative.worldRect.x + pen.calculative.worldRect.width;\n                        pen.calculative.width = pen.calculative.worldRect.width;\n                        pen.calculative.x = pen.calculative.worldRect.x;\n                        pen.width = pen.calculative.worldRect.width;\n                        pen.x = pen.calculative.worldRect.x;\n                        this.canvas.updatePenRect(pen, { worldRectIsReady: false });\n                        if (pen.externElement) {\n                            pen.onResize?.(pen);\n                        }\n                        if (pen.children?.length) {\n                            const cPens = getAllChildren(pen, this.store);\n                            cPens.forEach((cPen) => {\n                                if (cPen.externElement) {\n                                    cPen.onResize?.(cPen);\n                                }\n                            });\n                        }\n                    });\n                }\n                else if (fit.left) {\n                    //左移\n                    r = -r;\n                    if (fit.leftValue) {\n                        r +=\n                            Math.abs(fit.leftValue) < 1\n                                ? fit.leftValue * this.canvas.width\n                                : fit.leftValue;\n                    }\n                    this.translatePens(pens, r, 0);\n                }\n                else if (fit.right) {\n                    //右移\n                    if (fit.rightValue) {\n                        r =\n                            r -\n                                (Math.abs(fit.rightValue) < 1\n                                    ? fit.rightValue * this.canvas.width\n                                    : fit.rightValue);\n                    }\n                    this.translatePens(pens, r, 0);\n                }\n            });\n            const iframePens = this.store.data.pens.filter((pen) => pen.name === 'iframe');\n            iframePens?.forEach((pen) => {\n                const worldRect = pen.calculative.worldRect;\n                if (worldRect.width / this.store.data.scale > rect.width * 0.8) {\n                    let bfW = worldRect.width;\n                    pen.calculative.worldRect.x = worldRect.x - wGap / 2;\n                    pen.calculative.worldRect.width = worldRect.width + wGap;\n                    pen.calculative.worldRect.ex = worldRect.ex + wGap;\n                    pen.operationalRect.x =\n                        (pen.operationalRect.x * bfW) / pen.calculative.worldRect.width;\n                    pen.operationalRect.width =\n                        (pen.calculative.worldRect.width -\n                            (1 - pen.operationalRect.width) * bfW) /\n                            pen.calculative.worldRect.width;\n                    pen.onBeforeValue?.(pen, {\n                        operationalRect: pen.operationalRect,\n                    });\n                    pen.onResize?.(pen);\n                }\n            });\n        }\n        //高度拉伸\n        if (Math.abs(hGap) > 10) {\n            this.store.data.fits?.forEach((fit) => {\n                let pens = [];\n                fit.children.forEach((id) => {\n                    if (this.store.pens[id]) {\n                        this.store.pens[id].locked = LockState.None;\n                        pens.push(this.store.pens[id]);\n                    }\n                });\n                let r = hGap / 2;\n                if (fit.top && fit.bottom) {\n                    let top = fit.topValue;\n                    let bottom = fit.bottomValue;\n                    if (top) {\n                        top = Math.abs(top) < 1 ? top * this.canvas.height : top;\n                    }\n                    else {\n                        top = 0;\n                    }\n                    if (bottom) {\n                        bottom =\n                            Math.abs(bottom) < 1 ? bottom * this.canvas.height : bottom;\n                    }\n                    else {\n                        bottom = 0;\n                    }\n                    let ratio = (this.canvas.height - top - bottom) / (rect.height);\n                    pens.forEach((pen) => {\n                        if (pen.image && pen.imageRatio) {\n                            if (pen.calculative.worldRect.height / this.canvas.height > 0.1) {\n                                pen.imageRatio = false;\n                            }\n                        }\n                        pen.calculative.worldRect.y =\n                            rect.y -\n                                hGap / 2 +\n                                top +\n                                (pen.calculative.worldRect.y - rect.y) * ratio; //(fit.leftValue || 0)+ (pen.calculative.worldRect.x + pen.calculative.worldRect.width/2)-( pen.calculative.worldRect.width*ratio)*(range/2- (fit.rightValue || 0))/(range- (fit.leftValue || 0)-(fit.rightValue || 0));\n                        pen.calculative.worldRect.height *= ratio;\n                        pen.calculative.worldRect.ey =\n                            pen.calculative.worldRect.y + pen.calculative.worldRect.height;\n                        pen.calculative.height = pen.calculative.worldRect.height;\n                        pen.calculative.y = pen.calculative.worldRect.y;\n                        pen.height = pen.calculative.worldRect.height;\n                        pen.y = pen.calculative.worldRect.y;\n                        this.canvas.updatePenRect(pen, { worldRectIsReady: false });\n                        if (pen.externElement) {\n                            pen.onResize?.(pen);\n                        }\n                        if (pen.children?.length) {\n                            const cPens = getAllChildren(pen, this.store);\n                            cPens.forEach((cPen) => {\n                                if (cPen.externElement) {\n                                    cPen.onResize?.(cPen);\n                                }\n                            });\n                        }\n                    });\n                }\n                else if (fit.top) {\n                    r = -r;\n                    if (fit.topValue) {\n                        r +=\n                            Math.abs(fit.topValue) < 1\n                                ? fit.topValue * this.canvas.height\n                                : fit.topValue;\n                    }\n                    this.translatePens(pens, 0, r);\n                }\n                else if (fit.bottom) {\n                    if (fit.bottomValue) {\n                        r =\n                            r -\n                                (Math.abs(fit.bottomValue) < 1\n                                    ? fit.bottomValue * this.canvas.height\n                                    : fit.bottomValue);\n                    }\n                    this.translatePens(pens, 0, r);\n                }\n            });\n            const iframePens = this.store.data.pens.filter((pen) => pen.name === 'iframe');\n            iframePens?.forEach((pen) => {\n                const worldRect = pen.calculative.worldRect;\n                if (worldRect.height / this.store.data.scale > rect.height * 0.8) {\n                    let bfH = worldRect.height;\n                    pen.calculative.worldRect.y = worldRect.y - hGap / 2;\n                    pen.calculative.worldRect.height = worldRect.height + hGap;\n                    pen.calculative.worldRect.ey = worldRect.ey + hGap;\n                    pen.operationalRect.y =\n                        (pen.operationalRect.y * bfH) / pen.calculative.worldRect.width;\n                    pen.operationalRect.height =\n                        (pen.calculative.worldRect.height -\n                            (1 - pen.operationalRect.height) * bfH) /\n                            pen.calculative.worldRect.height;\n                    pen.onBeforeValue?.(pen, {\n                        operationalRect: pen.operationalRect,\n                    });\n                    pen.onResize?.(pen);\n                }\n            });\n        }\n        this.canvas.canvasTemplate.fit = true;\n        this.canvas.canvasTemplate.init();\n        this.canvas.canvasImage.init();\n        this.canvas.canvasImageBottom.init();\n        this.render(true);\n    }\n    trimPens() {\n        //去除空连线\n        let pens = this.store.data.pens.filter((pen) => pen.name === 'line' && pen.anchors.length < 2);\n        this.delete(pens);\n    }\n    /**\n     * 放大到屏幕尺寸，并居中\n     * @param fit true，填满但完整展示；false，填满，但长边可能截取（即显示不完整）\n     */\n    fitTemplateView(fit = true, viewPadding = 10) {\n        //  默认垂直填充，两边留白\n        if (!this.hasView())\n            return;\n        // 1. 重置画布尺寸为容器尺寸\n        const { canvas } = this.canvas;\n        const { offsetWidth: width, offsetHeight: height } = canvas;\n        // 2. 获取设置的留白值\n        const padding = formatPadding(viewPadding);\n        // 3. 获取图形尺寸\n        const rect = this.getRect();\n        // 4. 计算缩放比例\n        const w = (width - padding[1] - padding[3]) / rect.width;\n        const h = (height - padding[0] - padding[2]) / rect.height;\n        let ratio = w;\n        if (fit) {\n            // 完整显示取小的\n            ratio = w > h ? h : w;\n        }\n        else {\n            ratio = w > h ? w : h;\n        }\n        // 该方法直接更改画布的 scale 属性，所以比率应该乘以当前 scale\n        this.canvas.templateScale(ratio * this.store.data.scale);\n        let _rect = this.getRect();\n        let pens = this.store.data.pens.filter((pen) => !pen.parentId);\n        this.canvas.templateTranslatePens(pens, -_rect.x, -_rect.y);\n        // 5. 居中\n        this.store.data.pens.forEach((pen) => {\n            if (!pen.type) {\n                this.canvas.updateLines(pen);\n            }\n            else {\n                this.canvas.initLineRect(pen);\n            }\n        });\n        this.centerView();\n    }\n    fitSizeView(fit = true, viewPadding = 10) {\n        // 默认垂直填充，两边留白\n        // if (!this.hasView()) return;\n        // 1. 重置画布尺寸为容器尺寸\n        const { canvas } = this.canvas;\n        const { offsetWidth: width, offsetHeight: height } = canvas;\n        this.resize(width, height);\n        // 2. 获取设置的留白值\n        const padding = formatPadding(viewPadding);\n        const _width = (this.store.data.width || this.store.options.width) *\n            this.store.data.scale;\n        const _height = (this.store.data.height || this.store.options.height) *\n            this.store.data.scale;\n        // 4. 计算缩放比例\n        const w = (width - padding[1] - padding[3]) / _width;\n        const h = (height - padding[0] - padding[2]) / _height;\n        let ratio = w;\n        if (fit === 'width') {\n            ratio = w;\n        }\n        else if (fit === 'height') {\n            ratio = h;\n        }\n        else {\n            if (fit) {\n                // 完整显示取小的\n                ratio = w > h ? h : w;\n            }\n            else {\n                ratio = w > h ? w : h;\n            }\n        }\n        if (this.store.data.fits?.length) {\n            this.canvas.opening = true;\n        }\n        // 该方法直接更改画布的 scale 属性，所以比率应该乘以当前 scale\n        this.scale(ratio * this.store.data.scale);\n        // 5. 居中\n        this.centerSizeView();\n        if (this.store.data.fits?.length) {\n            this.fillView();\n        }\n    }\n    centerSizeView() {\n        // if (!this.hasView()) return;\n        const viewCenter = this.getViewCenter();\n        //根据画布尺寸居中对齐\n        const _width = this.store.data.width || this.store.options.width;\n        const _height = this.store.data.height || this.store.options.height;\n        const pensRect = {\n            x: 0,\n            y: 0,\n            width: _width,\n            height: _height,\n        };\n        calcCenter(pensRect);\n        const { center } = pensRect;\n        const { scale, origin, x: dataX, y: dataY } = this.store.data;\n        this.translate((viewCenter.x - origin.x) / scale - center.x - dataX / scale, (viewCenter.y - origin.y) / scale - center.y - dataY / scale);\n        const { canvas } = this.canvas;\n        const x = (canvas.scrollWidth - canvas.offsetWidth) / 2;\n        const y = (canvas.scrollHeight - canvas.offsetHeight) / 2;\n        canvas.scrollTo(x, y);\n    }\n    /**\n     * 宽度放大到屏幕尺寸，并滚动到最顶部\n     *\n     */\n    scrollView(viewPadding = 10, pageMode = false) {\n        if (!this.hasView())\n            return;\n        //滚动状态下\n        if (!this.canvas.scroll) {\n            return;\n        }\n        const { canvas } = this.canvas;\n        const { offsetWidth: width, offsetHeight: height } = canvas;\n        this.resize(width, height);\n        const padding = formatPadding(viewPadding);\n        const rect = this.getRect();\n        const ratio = (width - padding[1] - padding[3]) / rect.width;\n        this.scale(ratio * this.store.data.scale);\n        this.topView(padding[0]);\n        if (pageMode) {\n            this.canvas.scroll.changeMode();\n        }\n    }\n    screenView(viewPadding = 10, WorH = true) {\n        if (!this.hasView())\n            return;\n        const { canvas } = this.canvas;\n        const { offsetWidth: width, offsetHeight: height } = canvas;\n        this.resize(width, height);\n        const padding = formatPadding(viewPadding);\n        const rect = this.getRect();\n        //默认宽度充满\n        let ratio = (width - padding[1] - padding[3]) / rect.width;\n        if (!WorH) {\n            ratio = (height - padding[0] - padding[2]) / rect.height;\n        }\n        this.scale(ratio * this.store.data.scale);\n        //height充满时是居中\n        this.topView(padding[0]);\n    }\n    topView(paddingTop = 10) {\n        if (!this.hasView())\n            return;\n        const rect = this.getRect();\n        const viewCenter = this.getViewCenter();\n        const pensRect = this.getPenRect(rect);\n        calcCenter(pensRect);\n        const { center } = pensRect;\n        const { scale, origin, x: dataX, y: dataY } = this.store.data;\n        this.translate((viewCenter.x - origin.x) / scale - center.x - dataX / scale, (paddingTop - origin.y) / scale - pensRect.y - dataY / scale);\n        const { canvas } = this.canvas;\n        const x = (canvas.scrollWidth - canvas.offsetWidth) / 2;\n        const y = (canvas.scrollHeight - canvas.offsetHeight) / 2;\n        canvas.scrollTo(x, y);\n    }\n    centerView() {\n        if (!this.hasView())\n            return;\n        const rect = this.getRect();\n        const viewCenter = this.getViewCenter();\n        const pensRect = this.getPenRect(rect);\n        calcCenter(pensRect);\n        const { center } = pensRect;\n        const { scale, origin, x: dataX, y: dataY } = this.store.data;\n        // center 的值，在缩放和拖拽画布过程中不发生变化，是相对值\n        // viewCenter 是一个绝对值，需要根据 origin 的值，来计算出相对的值\n        // store.data.x 是画布偏移值，在 translate 方法中与 scale 相关，这里也需要计算\n        this.translate((viewCenter.x - origin.x) / scale - center.x - dataX / scale, (viewCenter.y - origin.y) / scale - center.y - dataY / scale);\n        const { canvas } = this.canvas;\n        const x = (canvas.scrollWidth - canvas.offsetWidth) / 2;\n        const y = (canvas.scrollHeight - canvas.offsetHeight) / 2;\n        canvas.scrollTo(x, y);\n    }\n    /**\n     * 画布是否有 画笔\n     * RuleLine 不算\n     */\n    hasView() {\n        return !!this.store.data.pens.filter((pen) => !pen.isRuleLine).length;\n    }\n    getViewCenter() {\n        const { width, height } = this.canvas;\n        return {\n            x: width / 2,\n            y: height / 2,\n        };\n    }\n    /**\n     * 大小相同\n     * @param pens 画笔们\n     */\n    beSameByFirst(pens = this.store.data.pens, attribute) {\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        // 1. 得到第一个画笔的 宽高\n        const firstPen = pens[0];\n        const { width, height } = this.getPenRect(firstPen);\n        for (let i = 1; i < pens.length; i++) {\n            const pen = pens[i];\n            if (attribute === 'width') {\n                this.setValue({ id: pen.id, width }, { render: false, doEvent: false });\n            }\n            else if (attribute === 'height') {\n                this.setValue({ id: pen.id, height }, { render: false, doEvent: false });\n            }\n            else {\n                this.setValue({ id: pen.id, width, height }, { render: false, doEvent: false });\n            }\n        }\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    /**\n     * 大小相同\n     * @param pens 画笔们\n     */\n    beSameByLast(pens = this.store.data.pens, attribute) {\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        // 1. 得到最后一个画笔的 宽高\n        const lastPen = pens[pens.length - 1];\n        const { width, height } = this.getPenRect(lastPen);\n        for (let i = 0; i < pens.length - 1; i++) {\n            const pen = pens[i];\n            if (attribute === 'width') {\n                this.setValue({ id: pen.id, width }, { render: false, doEvent: false });\n            }\n            else if (attribute === 'height') {\n                this.setValue({ id: pen.id, height }, { render: false, doEvent: false });\n            }\n            else {\n                this.setValue({ id: pen.id, width, height }, { render: false, doEvent: false });\n            }\n        }\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    /**\n     * 格式刷（样式相同，大小无需一致。）\n     * @param pens 画笔们\n     */\n    formatPainterByFirst(pens = this.store.data.pens) {\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        const firstPen = pens[0];\n        // 格式刷修改的属性，除开宽高\n        const attrs = {};\n        formatAttrs.forEach((attr) => {\n            attrs[attr] = firstPen[attr];\n        });\n        for (let i = 1; i < pens.length; i++) {\n            const pen = pens[i];\n            this.setValue({ id: pen.id, ...attrs }, { render: false, doEvent: false });\n        }\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    /**\n     * 格式刷（样式相同，大小无需一致。）\n     * @param pens 画笔们\n     */\n    formatPainterByLast(pens = this.store.data.pens) {\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        const firstPen = pens[pens.length - 1];\n        // 格式刷修改的属性，除开宽高\n        const attrs = {};\n        formatAttrs.forEach((attr) => {\n            attrs[attr] = firstPen[attr];\n        });\n        for (let i = 0; i < pens.length - 1; i++) {\n            const pen = pens[i];\n            this.setValue({ id: pen.id, ...attrs }, { render: false, doEvent: false });\n        }\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    setFormatPainter() {\n        const pens = this.store.active;\n        const attrs = {};\n        if (pens.length > 0) {\n            const firstPen = pens[0];\n            formatAttrs.forEach((attr) => {\n                attrs[attr] =\n                    firstPen[attr] !== undefined\n                        ? firstPen[attr]\n                        : this.store.options.defaultFormat[attr] ||\n                            this.store.data[attr] ||\n                            this.store.options[attr];\n            });\n        }\n        else {\n            //默认值\n            const attrs = {};\n            formatAttrs.forEach((attr) => {\n                attrs[attr] =\n                    this.store.options.defaultFormat[attr] ||\n                        this.store.data[attr] ||\n                        this.store.options[attr] ||\n                        undefined;\n            });\n        }\n        localStorage.setItem('meta2d-formatPainter', JSON.stringify(attrs));\n    }\n    formatPainter() {\n        const pens = this.store.active;\n        const initPens = deepClone(pens);\n        const attrs = JSON.parse(localStorage.getItem('meta2d-formatPainter'));\n        for (let i = 0; i < pens.length; i++) {\n            const pen = pens[i];\n            this.setValue({ id: pen.id, ...attrs }, { render: false, doEvent: false });\n        }\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    clearFormatPainter() {\n        const pens = this.store.active;\n        const initPens = deepClone(pens);\n        formatAttrs.forEach((attr) => {\n            for (let i = 0; i < pens.length; i++) {\n                const pen = pens[i];\n                const { fontSize, lineHeight } = this.store.options;\n                if (attr === 'lineWidth') {\n                    pen.lineWidth = 1;\n                    pen.calculative.lineWidth = 1;\n                }\n                else if (attr === 'fontSize') {\n                    pen.fontSize = fontSize;\n                    pen.calculative.fontSize = fontSize;\n                }\n                else if (attr === 'lineHeight') {\n                    pen.lineHeight = lineHeight;\n                    pen.calculative.lineHeight = lineHeight;\n                }\n                else {\n                    delete pen[attr];\n                    delete pen.calculative[attr];\n                }\n            }\n        });\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    alignNodes(align, pens = this.store.data.pens, rect) {\n        !rect && (rect = this.getPenRect(this.getRect(pens)));\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        for (const item of pens) {\n            this.alignPen(align, item, rect);\n        }\n        this.initImageCanvas(pens);\n        this.initTemplateCanvas(pens);\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    //对齐大屏\n    alignNodesV(align, pens = this.store.data.pens, whole = false) {\n        const width = this.store.data.width || this.store.options.width;\n        const height = this.store.data.height || this.store.options.height;\n        let rect = {\n            x: 0,\n            y: 0,\n            width,\n            height,\n        };\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        if (whole) {\n            const scale = this.store.data.scale;\n            const rect = this.getRect(pens);\n            const x = (rect.x - this.store.data.origin.x) / scale;\n            const y = (rect.y - this.store.data.origin.y) / scale;\n            const w = rect.width / scale;\n            const h = rect.height / scale;\n            let moveX = 0;\n            let moveY = 0;\n            switch (align) {\n                case 'left':\n                    moveX = -x;\n                    break;\n                case 'right':\n                    moveX = width - (x + w);\n                    break;\n                case 'top':\n                    moveY = -y;\n                    break;\n                case 'bottom':\n                    moveY = height - (y + h);\n                    break;\n                case 'center':\n                    moveX = width / 2 - (x + w / 2);\n                    break;\n                case 'middle':\n                    moveY = height / 2 - (y + h / 2);\n                    break;\n            }\n            this.translatePens(pens, moveX * scale, moveY * scale);\n        }\n        else {\n            for (const item of pens) {\n                this.alignPen(align, item, rect);\n            }\n        }\n        this.initImageCanvas(pens);\n        this.initTemplateCanvas(pens);\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    /**\n     * 对齐画笔，基于第一个画笔\n     * @param align 左对齐，右对齐，上对齐，下对齐，居中对齐\n     * @param pens\n     */\n    alignNodesByFirst(align, pens = this.store.data.pens) {\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        const firstPen = pens[0];\n        const rect = this.getPenRect(firstPen);\n        for (let i = 1; i < pens.length; i++) {\n            const pen = pens[i];\n            this.alignPen(align, pen, rect);\n        }\n        this.initImageCanvas(pens);\n        this.initTemplateCanvas(pens);\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    /**\n     * 对齐画笔，基于最后选中的画笔\n     * @param align 左对齐，右对齐，上对齐，下对齐，居中对齐\n     * @param pens\n     */\n    alignNodesByLast(align, pens = this.store.data.pens) {\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        const lastPen = pens[pens.length - 1];\n        const rect = this.getPenRect(lastPen);\n        for (let i = 0; i < pens.length - 1; i++) {\n            const pen = pens[i];\n            this.alignPen(align, pen, rect);\n        }\n        this.initImageCanvas(pens);\n        this.initTemplateCanvas(pens);\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    /**\n     * 将画笔参照 rect 进行 align 对齐\n     * @param align 左对齐，右对齐，上对齐，下对齐，居中对齐\n     * @param pen 当前需要对齐的画笔\n     * @param rect 参照矩形\n     * @returns\n     */\n    alignPen(align, pen, rect) {\n        const penRect = this.getPenRect(pen);\n        switch (align) {\n            case 'left':\n                penRect.x = rect.x;\n                break;\n            case 'right':\n                penRect.x = rect.x + rect.width - penRect.width;\n                break;\n            case 'top':\n                penRect.y = rect.y;\n                break;\n            case 'bottom':\n                penRect.y = rect.y + rect.height - penRect.height;\n                break;\n            case 'center':\n                penRect.x = rect.x + rect.width / 2 - penRect.width / 2;\n                break;\n            case 'middle':\n                penRect.y = rect.y + rect.height / 2 - penRect.height / 2;\n                break;\n        }\n        this.setValue({ id: pen.id, ...penRect }, { render: false, doEvent: false });\n    }\n    /**\n     * 水平或垂直方向的均分\n     * @param direction 方向，width 说明水平方向间距相同\n     * @param pens 节点们，默认全部的\n     * @param distance 总的宽 or 高\n     */\n    spaceBetweenByDirection(direction, pens = this.store.data.pens, distance) {\n        //TODO 暂时修复，待优化\n        // !distance && (distance = this.getPenRect(this.getRect(pens))[direction]);\n        if (!distance) {\n            let start = Infinity, end = -Infinity, key = direction === 'width' ? 'x' : 'y';\n            pens.forEach((item) => {\n                start = Math.min(start, item.calculative.worldRect[key]);\n                end = Math.max(end, item.calculative.worldRect['e' + key]);\n            });\n            distance = (end - start) / this.store.data.scale;\n        }\n        // 过滤出非父节点\n        pens = pens.filter((item) => !item.parentId);\n        if (pens.length <= 2) {\n            return;\n        }\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        // 计算间距\n        const allDistance = pens.reduce((distance, currentPen) => {\n            const currentPenRect = this.getPenRect(currentPen);\n            return distance + currentPenRect[direction];\n        }, 0);\n        const space = (distance - allDistance) / (pens.length - 1);\n        // 按照大小顺序排列画笔\n        pens = pens.sort((a, b) => {\n            if (direction === 'width') {\n                return a.x - b.x;\n            }\n            return a.y - b.y;\n        });\n        const pen0Rect = this.getPenRect(pens[0]);\n        let left = direction === 'width' ? pen0Rect.x : pen0Rect.y;\n        for (const pen of pens) {\n            const penRect = this.getPenRect(pen);\n            direction === 'width' ? (penRect.x = left) : (penRect.y = left);\n            left += penRect[direction] + space;\n            this.setValue({ id: pen.id, ...penRect }, { render: false, doEvent: false });\n        }\n        this.initImageCanvas(pens);\n        this.initTemplateCanvas(pens);\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    spaceBetween(pens, width) {\n        this.spaceBetweenByDirection('width', pens, width);\n    }\n    spaceBetweenColumn(pens, height) {\n        this.spaceBetweenByDirection('height', pens, height);\n    }\n    layout(pens = this.store.data.pens, width, space = 30) {\n        const rect = this.getPenRect(getRect(pens));\n        !width && (width = rect.width);\n        // 1. 拿到全部节点中最大的高\n        pens = pens.filter((item) => !item.type && !item.parentId);\n        const initPens = deepClone(pens); // 原 pens ，深拷贝一下\n        let maxHeight = 0;\n        pens.forEach((pen) => {\n            const penRect = this.getPenRect(pen);\n            penRect.height > maxHeight && (maxHeight = penRect.height);\n        });\n        // 2. 遍历节点调整位置\n        let currentX = rect.x;\n        let currentY = rect.y;\n        pens.forEach((pen, index) => {\n            const penRect = this.getPenRect(pen);\n            penRect.x = currentX;\n            penRect.y = currentY + maxHeight / 2 - penRect.height / 2;\n            this.setValue({ id: pen.id, ...penRect }, { render: false, doEvent: false });\n            if (index === pens.length - 1) {\n                return;\n            }\n            const currentWidth = currentX + penRect.width - rect.x;\n            const nextPenRect = this.getPenRect(pens[index + 1]);\n            if (Math.round(width - currentWidth) >=\n                Math.round(nextPenRect.width + space))\n                // 当前行\n                currentX += penRect.width + space;\n            else {\n                // 换行\n                currentX = rect.x;\n                currentY += maxHeight + space;\n            }\n        });\n        this.initImageCanvas(pens);\n        this.initTemplateCanvas(pens);\n        this.render();\n        this.pushHistory({\n            type: EditType.Update,\n            initPens,\n            pens,\n        });\n    }\n    gotoView(pen) {\n        const center = this.getViewCenter();\n        const x = center.x -\n            pen.calculative.worldRect.x -\n            pen.calculative.worldRect.width / 2;\n        const y = center.y -\n            pen.calculative.worldRect.y -\n            pen.calculative.worldRect.height / 2;\n        if (this.canvas.scroll && this.canvas.scroll.isShow) {\n            this.canvas.scroll.translate(x - this.store.data.x, y - this.store.data.y);\n        }\n        this.store.data.x = x;\n        this.store.data.y = y;\n        for (const pen of this.store.data.pens) {\n            calcInView(pen);\n        }\n        this.canvas.canvasImage.init();\n        this.canvas.canvasImageBottom.init();\n        this.render();\n    }\n    showMap() {\n        if (!this.map) {\n            this.map = new ViewMap(this.canvas);\n        }\n        this.map.show();\n    }\n    hideMap() {\n        this.map.hide();\n    }\n    onSizeUpdate() {\n        if (this.mapTimer) {\n            clearTimeout(this.mapTimer);\n            this.mapTimer = undefined;\n        }\n        this.mapTimer = setTimeout(() => {\n            if (this.map && this.map.isShow) {\n                this.map.show();\n            }\n            if (this.canvas && this.canvas.scroll && this.canvas.scroll.isShow) {\n                this.canvas.scroll.resize();\n            }\n        }, 500);\n    }\n    toggleAnchorMode() {\n        this.canvas.toggleAnchorMode();\n    }\n    addAnchorHand() {\n        this.canvas.addAnchorHand();\n    }\n    removeAnchorHand() {\n        this.canvas.removeAnchorHand();\n    }\n    toggleAnchorHand() {\n        this.canvas.toggleAnchorHand();\n    }\n    /**\n     * 将该画笔置顶，即放到数组最后，最后绘制即在顶部\n     * @param pens pen 置顶的画笔\n     */\n    top(pens) {\n        if (!pens)\n            pens = this.store.active;\n        if (!Array.isArray(pens))\n            pens = [pens]; // 兼容\n        for (const pen of pens) {\n            const _pens = this.store.data.pens;\n            // 获取它包含它的子节点\n            const allIds = [...getAllChildren(pen, this.store), pen].map((p) => p.id);\n            const allPens = _pens.filter((p) => allIds.includes(p.id));\n            allPens.forEach((pen) => {\n                const index = _pens.findIndex((p) => p.id === pen.id);\n                if (index > -1) {\n                    _pens.push(_pens[index]);\n                    _pens.splice(index, 1);\n                    this.initTemplateCanvas([pen]);\n                    this.initImageCanvas([pen]);\n                }\n                this.specificLayerMove(pen, 'top');\n            });\n        }\n        this.store.emitter.emit('layer', { type: 'top', pens });\n    }\n    /**\n     * 若本次改变的画笔存在图片，并且在上层 or 下层，需要擦除上层 or 下层\n     * 子节点中包含图片，也需要重绘\n     * @param pens 本次改变的 pens\n     */\n    initImageCanvas(pens) {\n        this.canvas && this.canvas.initImageCanvas(pens);\n    }\n    /**\n     * 模版图元图层改变\n     * @param pens 本次改变的 pens\n     */\n    initTemplateCanvas(pens) {\n        this.canvas && this.canvas.initTemplateCanvas(pens);\n    }\n    /**\n     * 该画笔置底，即放到数组最前，最后绘制即在底部\n     * @param pens 画笔们，注意 pen 必须在该数组内才有效\n     */\n    bottom(pens) {\n        if (!pens)\n            pens = this.store.active;\n        if (!Array.isArray(pens))\n            pens = [pens]; // 兼容\n        for (const pen of pens) {\n            const _pens = this.store.data.pens;\n            const allIds = [...getAllChildren(pen, this.store), pen].map((p) => p.id);\n            const allPens = _pens.filter((p) => allIds.includes(p.id));\n            // 从后往前，保证 allPens 顺序不变\n            for (let i = allPens.length - 1; i >= 0; i--) {\n                const pen = allPens[i];\n                const index = _pens.findIndex((p) => p.id === pen.id);\n                if (index > -1) {\n                    _pens.unshift(_pens[index]);\n                    _pens.splice(index + 1, 1);\n                    this.initTemplateCanvas([pen]);\n                    this.initImageCanvas([pen]);\n                }\n                this.specificLayerMove(pen, 'bottom');\n            }\n        }\n        this.store.emitter.emit('layer', { type: 'bottom', pens });\n    }\n    /**\n     * data.pens 决定了绘制顺序，即越后面的越在上层\n     * 该方法通过区域重叠计算，找出该画笔之后第一个与其重叠的画笔，然后把该画笔放到找出的画笔之后\n     * @param pen 画笔\n     */\n    upByArea(pen) {\n        const index = this.store.data.pens.findIndex((p) => p.id === pen.id);\n        if (index === -1) {\n            // 画笔不在画布上，不处理\n            console.warn('upByArea: pen not in canvas');\n            return;\n        }\n        const allPens = [pen, ...getAllChildren(pen, this.store)];\n        let allIndexs = allPens.map((p) => this.store.data.pens.findIndex((p2) => p2.id === p.id));\n        if (allIndexs.includes(-1)) {\n            // 画笔不在画布上，脏数据\n            console.warn('upByArea: pen children not in canvas');\n            allIndexs = allIndexs.filter((i) => i !== -1);\n        }\n        const minIndex = Math.min(...allIndexs);\n        const penRect = pen.calculative.worldRect;\n        const nextHitIndex = this.store.data.pens.findIndex((p, i) => {\n            if (i <= minIndex) {\n                // 不考虑前面的\n                return false;\n            }\n            if (p.id === pen.id || isAncestor(p, pen)) {\n                // 不考虑后代和自身\n                return false;\n            }\n            const currentRect = p.calculative.worldRect;\n            return rectInRect(penRect, currentRect);\n        });\n        if (nextHitIndex === -1) {\n            this.up(pen);\n            return;\n        }\n        this.store.data.pens.splice(nextHitIndex + 1, 0, ...allPens);\n        // 删除靠前的 allPens\n        for (const pen of allPens) {\n            const index = this.store.data.pens.findIndex((p) => p.id === pen.id);\n            if (index > -1) {\n                this.store.data.pens.splice(index, 1);\n            }\n        }\n        this.initImageCanvas([pen]);\n    }\n    //特殊图元层级处理\n    specificLayerMove(pen, type) {\n        //image\n        if (pen.image && pen.name !== 'gif') {\n            // let isBottom = false;\n            // if (type === 'bottom' || type === 'down') {\n            //   isBottom = true;\n            // }\n            // this.setValue(\n            //   { id: pen.id, isBottom },\n            //   { render: false, doEvent: false, history: false }\n            // );\n            let layer = CanvasLayer.CanvasImageBottom;\n            if (type === 'top') {\n                layer = CanvasLayer.CanvasImage;\n            }\n            else if (type === 'up' || type === 'down') {\n                layer = CanvasLayer.CanvasMain;\n            }\n            this.setValue({ id: pen.id, canvasLayer: layer }, { render: false, doEvent: false, history: false });\n        }\n        else if (pen.externElement || pen.name === 'gif') {\n            let zIndex = 0;\n            // let zIndex = pen.calculative.zIndex === undefined ? 5 : pen.calculative.zIndex + 1;\n            if (type === 'top') {\n                pen.calculative.canvas.maxZindex += 1;\n                zIndex = pen.calculative.canvas.maxZindex;\n            }\n            else if (type === 'up') {\n                zIndex =\n                    pen.calculative.zIndex === undefined ? 6 : pen.calculative.zIndex + 1;\n            }\n            else if (type === 'down') {\n                zIndex =\n                    pen.calculative.zIndex === undefined ? 3 : pen.calculative.zIndex - 1;\n                if (zIndex < 0) {\n                    zIndex = 0;\n                }\n            }\n            this.setValue({ id: pen.id, zIndex }, { render: false, doEvent: false, history: false });\n            pen.calculative.singleton?.div &&\n                setElemPosition(pen, pen.calculative.singleton.div);\n        }\n    }\n    /**\n     * 该画笔上移，即把该画笔在数组中的位置向后移动一个\n     * @param pens 画笔\n     */\n    up(pens) {\n        if (!pens)\n            pens = this.store.active;\n        if (!Array.isArray(pens))\n            pens = [pens]; // 兼容\n        for (const pen of pens) {\n            const _pens = this.store.data.pens;\n            if (pen.children && pen.children.length) {\n                //组合图元\n                const preMovePens = [...getAllChildren(pen, this.store), pen];\n                //先保证组合图元的顺序正确。\n                const orderPens = [];\n                for (let index = 0; index < _pens.length; index++) {\n                    const _pen = _pens[index];\n                    if (preMovePens.findIndex((p) => p.id === _pen.id) !== -1) {\n                        _pen.temIndex = index;\n                        orderPens.push(_pen);\n                    }\n                }\n                let lastIndex = -1;\n                let offset = 0;\n                orderPens.forEach((_pen) => {\n                    _pen.temIndex -= offset;\n                    _pens.splice(_pen.temIndex, 1);\n                    offset += 1;\n                    lastIndex = _pen.temIndex;\n                    delete _pen.temIndex;\n                    this.specificLayerMove(_pen, 'up');\n                });\n                _pens.splice(lastIndex + 1, 0, ...orderPens);\n                this.initTemplateCanvas(orderPens);\n                this.initImageCanvas(orderPens);\n            }\n            else {\n                const index = _pens.findIndex((p) => p.id === pen.id);\n                if (index > -1 && index !== _pens.length - 1) {\n                    _pens.splice(index + 2, 0, _pens[index]);\n                    _pens.splice(index, 1);\n                    this.initTemplateCanvas([pen]);\n                    this.initImageCanvas([pen]);\n                }\n                this.specificLayerMove(pen, 'up');\n            }\n        }\n        this.store.emitter.emit('layer', { type: 'up', pens });\n    }\n    /**\n     * 该画笔下移，即把该画笔在该数组中的位置前移一个\n     * @param pen 画笔\n     */\n    down(pens) {\n        if (!pens)\n            pens = this.store.active;\n        if (!Array.isArray(pens))\n            pens = [pens]; // 兼容\n        for (const pen of pens) {\n            const _pens = this.store.data.pens;\n            if (pen.children && pen.children.length) {\n                //组合图元\n                const preMovePens = [...getAllChildren(pen, this.store), pen];\n                //先保证组合图元的顺序正确。\n                const orderPens = [];\n                for (let index = 0; index < _pens.length; index++) {\n                    const _pen = _pens[index];\n                    if (preMovePens.findIndex((p) => p.id === _pen.id) !== -1) {\n                        _pen.temIndex = index;\n                        orderPens.push(_pen);\n                    }\n                }\n                let firstIndex = -1;\n                let offset = 0;\n                orderPens.forEach((_pen, index) => {\n                    _pen.temIndex -= offset;\n                    _pens.splice(_pen.temIndex, 1);\n                    offset += 1;\n                    if (index === 0) {\n                        firstIndex = _pen.temIndex;\n                    }\n                    delete _pen.temIndex;\n                    this.specificLayerMove(_pen, 'down');\n                });\n                _pens.splice(firstIndex - 1, 0, ...orderPens);\n                this.initTemplateCanvas(orderPens);\n                this.initImageCanvas(orderPens);\n            }\n            else {\n                const index = _pens.findIndex((p) => p.id === pen.id);\n                if (index > -1 && index !== 0) {\n                    _pens.splice(index - 1, 0, _pens[index]);\n                    _pens.splice(index + 1, 1);\n                    this.initTemplateCanvas([pen]);\n                    this.initImageCanvas([pen]);\n                }\n                this.specificLayerMove(pen, 'down');\n            }\n        }\n        this.store.emitter.emit('layer', { type: 'down', pens });\n    }\n    setLayer(pen, toIndex, pens = this.store.data.pens) {\n        const index = pens.findIndex((p) => p.id === pen.id);\n        if (index > -1) {\n            if (index > toIndex) {\n                // 原位置在后，新位置在前\n                pens.splice(toIndex, 0, pens[index]);\n                pens.splice(index + 1, 1);\n            }\n            else if (index < toIndex) {\n                // 新位置在后\n                pens.splice(toIndex, 0, pens[index]);\n                pens.splice(index, 1);\n            }\n        }\n    }\n    changePenId(oldId, newId) {\n        this.canvas.changePenId(oldId, newId);\n    }\n    /**\n     * 得到与当前节点连接的线\n     * @param node 节点，非连线\n     * @param type 类型，全部的连接线/入线/出线\n     */\n    getLines(node, type = 'all') {\n        if (node.type === PenType.Line) {\n            return [];\n        }\n        const lines = [];\n        node.connectedLines?.forEach(({ lineId }) => {\n            const line = this.store.pens[lineId];\n            if (!line) {\n                console.warn(node, 'node contain a error connectedLine');\n                return;\n            }\n            if (lines.find((_line) => _line.id === line.id)) {\n                //去重\n                return;\n            }\n            switch (type) {\n                case 'all':\n                    lines.push(line);\n                    break;\n                case 'in':\n                    // 进入该节点的线，即 线锚点的最后一个 connectTo 对应该节点\n                    getToAnchor(line).connectTo === node.id && lines.push(line);\n                    break;\n                case 'out':\n                    // 从该节点出去的线，即 线锚点的第一个 connectTo 对应该节点\n                    getFromAnchor(line).connectTo === node.id && lines.push(line);\n                    break;\n            }\n        });\n        return lines;\n    }\n    /**\n     * 得到当前节点的下一个节点，即出口节点数组\n     * 得到当前连线的出口节点\n     * @param pen 节点或连线\n     */\n    nextNode(pen) {\n        if (pen.type === PenType.Line) {\n            const nextNode = this.store.pens[getToAnchor(pen).connectTo];\n            return nextNode ? [nextNode] : [];\n        }\n        else {\n            // 1. 得到所有的出线\n            const lines = this.getLines(pen, 'out');\n            const nextNodes = [];\n            // 2. 遍历出线的 nextNode\n            lines.forEach((line) => {\n                const lineNextNode = this.nextNode(line);\n                for (const node of lineNextNode) {\n                    const have = nextNodes.find((next) => next.id === node.id);\n                    // 3. 不重复的才加进去\n                    !have && nextNodes.push(node);\n                }\n            });\n            return nextNodes;\n        }\n    }\n    /**\n     * 得到当前节点的上一个节点，即入口节点数组\n     * 得到当前连线的入口节点\n     * @param pen 节点或连线\n     */\n    previousNode(pen) {\n        if (pen.type === PenType.Line) {\n            const preNode = this.store.pens[getFromAnchor(pen).connectTo];\n            return preNode ? [preNode] : [];\n        }\n        else {\n            // 1. 得到所有的入线\n            const lines = this.getLines(pen, 'in');\n            const preNodes = [];\n            // 2. 遍历入线的 preNode\n            lines.forEach((line) => {\n                const linePreNode = this.previousNode(line);\n                for (const node of linePreNode) {\n                    const have = preNodes.find((pre) => pre.id === node.id);\n                    // 3. 不重复的才加进去\n                    !have && preNodes.push(node);\n                }\n            });\n            return preNodes;\n        }\n    }\n    /**\n     * 获取节点所有的下一个连接关系\n     * @param pen\n     *\n     */\n    getNext(pen) {\n        if (pen.type === PenType.Line) {\n            console.warn('非连线节点');\n            return;\n        }\n        const next = [];\n        pen.connectedLines?.forEach(({ lineId, anchor }) => {\n            const fromAnchor = pen.anchors?.filter((_anchor) => _anchor.id === anchor)[0];\n            const line = this.findOne(lineId);\n            if (line.anchors[0].connectTo == pen.id) {\n                //from\n                const connectTo = line.anchors[line.anchors.length - 1].connectTo;\n                if (connectTo) {\n                    const _next = this.findOne(connectTo);\n                    const connectedLine = _next.connectedLines?.filter((item) => item.lineId === line.id)[0];\n                    const penAnchor = _next.anchors.filter((_anchor) => _anchor.id === connectedLine.anchor)[0];\n                    next.push({\n                        from: pen,\n                        fromAnchor,\n                        line,\n                        to: _next,\n                        toAnchor: penAnchor,\n                    });\n                }\n            }\n        });\n        return next;\n    }\n    /**\n     * 为画布添加锚点\n     * @param pen 画笔\n     * @param anchor 待添加锚点\n     * @param index 连线类型 添加锚点到哪个位置\n     */\n    addAnchor(pen, anchor, index) {\n        if (!pen) {\n            return;\n        }\n        if (!pen.anchors) {\n            pen.anchors = [];\n        }\n        if (!pen.calculative.worldAnchors) {\n            pen.calculative.worldAnchors = [];\n        }\n        if (pen.type === PenType.Line) {\n            if (index < 0) {\n                index = pen.anchors.length + 1 + index;\n            }\n            if (index > pen.anchors.length) {\n                index = pen.anchors.length;\n            }\n            if (index < 0) {\n                index = 0;\n            }\n            if ((index == 0 && pen.anchors[0].connectTo) ||\n                (index == pen.anchors.length && pen.anchors[index - 1].connectTo)) {\n                console.warn('端点存在连接关系');\n                return;\n            }\n        }\n        let _anchor = null;\n        let _worldAnchor = null;\n        if (anchor.x <= 1 && anchor.x >= 0 && anchor.y <= 1 && anchor.y >= 0) {\n            //relative\n            _worldAnchor = {\n                id: anchor.id || s8(),\n                penId: pen.id,\n                x: pen.calculative.worldRect.x +\n                    pen.calculative.worldRect.width * anchor.x,\n                y: pen.calculative.worldRect.y +\n                    pen.calculative.worldRect.height * anchor.y,\n            };\n            if (pen.calculative.worldRect) {\n                if (pen.rotate % 360) {\n                    rotatePoint(_worldAnchor, pen.rotate, pen.calculative.worldRect.center);\n                }\n            }\n            _anchor = {\n                id: _worldAnchor.id,\n                penId: pen.id,\n                x: anchor.x,\n                y: anchor.y,\n            };\n        }\n        else {\n            //absolute\n            _worldAnchor = {\n                id: anchor.id || s8(),\n                penId: pen.id,\n                x: anchor.x,\n                y: anchor.y,\n            };\n            if (pen.calculative.worldRect) {\n                if (pen.rotate % 360) {\n                    rotatePoint(anchor, -pen.rotate, pen.calculative.worldRect.center);\n                }\n                _anchor = {\n                    id: _worldAnchor.id,\n                    penId: pen.id,\n                    x: (anchor.x - pen.calculative.worldRect.x) /\n                        pen.calculative.worldRect.width,\n                    y: (anchor.y - pen.calculative.worldRect.y) /\n                        pen.calculative.worldRect.height,\n                };\n            }\n        }\n        if (pen.type === PenType.Line) {\n            //Line\n            pen.calculative.worldAnchors.splice(index, 0, _worldAnchor);\n            pen.anchors.splice(index, 0, _anchor);\n            this.canvas.updateLines(pen);\n            this.canvas.initLineRect(pen);\n            this.render();\n        }\n        else {\n            //Node\n            pen.calculative.worldAnchors.push(_worldAnchor);\n            pen.anchors.push(_anchor);\n        }\n    }\n    /**\n     *\n     * @param from 连接节点\n     * @param fromAnchor 连接节点锚点\n     * @param to 被连接节点\n     * @param toAnchor 被连接节点锚点\n     */\n    connectLine(from, to, fromAnchor, toAnchor, render = true) {\n        if (!fromAnchor) {\n            const _worldRect = to.calculative.worldRect;\n            fromAnchor = nearestAnchor(from, {\n                x: _worldRect.x + _worldRect.width / 2,\n                y: _worldRect.y + _worldRect.height / 2,\n            });\n        }\n        if (!toAnchor) {\n            const _worldRect = from.calculative.worldRect;\n            toAnchor = nearestAnchor(to, {\n                x: _worldRect.x + _worldRect.width / 2,\n                y: _worldRect.y + _worldRect.height / 2,\n            });\n        }\n        const absWidth = Math.abs(fromAnchor.x - toAnchor.x);\n        const absHeight = Math.abs(fromAnchor.y - toAnchor.y);\n        const line = {\n            height: absHeight,\n            lineName: 'line',\n            lineWidth: 1,\n            name: 'line',\n            type: 1,\n            width: absWidth,\n            x: Math.min(fromAnchor.x, toAnchor.x),\n            y: Math.min(fromAnchor.y, toAnchor.y),\n            anchors: [\n                {\n                    x: fromAnchor.x > toAnchor.x ? 1 : 0,\n                    y: fromAnchor.y > toAnchor.y ? 1 : 0,\n                    id: s8(),\n                },\n                {\n                    x: fromAnchor.x > toAnchor.x ? 0 : 1,\n                    y: fromAnchor.x > toAnchor.x ? 0 : 1,\n                    id: s8(),\n                },\n            ],\n        };\n        this.addPens([line]);\n        connectLine(from, fromAnchor, line, line.calculative.worldAnchors[0]);\n        connectLine(to, toAnchor, line, line.calculative.worldAnchors[1]);\n        line.calculative.active = false;\n        this.canvas.updateLines(line);\n        this.canvas.updateLines(from);\n        this.canvas.updateLines(to);\n        this.canvas.initLineRect(line);\n        if (render) {\n            this.render();\n        }\n        return line;\n    }\n    /**\n     * 生成一个拷贝组合后的 画笔数组（组合图形），不影响原画布画笔，常用作 二次复用的组件\n     * @param pens 画笔数组\n     * @param showChild 是否作为状态复用（参考 combine showChild）\n     * @param anchor 是否产生默认的锚点\n     * @returns 组合图形\n     */\n    toComponent(pens = this.store.data.pens, showChild, anchor) {\n        if (pens.length === 1) {\n            const pen = deepClone(pens[0]);\n            pen.type = PenType.Node;\n            pen.id = undefined;\n            return [pen];\n        }\n        const components = deepClone(pens, true);\n        const rect = getRect(components);\n        let parent = {\n            id: s8(),\n            name: 'combine',\n            ...rect,\n            children: [],\n            showChild,\n        };\n        if (anchor) {\n            parent.anchors = [\n                {\n                    id: '0',\n                    penId: parent.id,\n                    x: 0.5,\n                    y: 0,\n                },\n                {\n                    id: '1',\n                    penId: parent.id,\n                    x: 1,\n                    y: 0.5,\n                },\n                {\n                    id: '2',\n                    penId: parent.id,\n                    x: 0.5,\n                    y: 1,\n                },\n                {\n                    id: '3',\n                    penId: parent.id,\n                    x: 0,\n                    y: 0.5,\n                },\n            ];\n        }\n        //如果本身就是 一个 组合图元\n        const parents = components.filter((pen) => !pen.parentId);\n        const p = components.find((pen) => {\n            return pen.width === rect.width && pen.height === rect.height;\n        });\n        const oneIsParent = p && showChild === undefined;\n        if (parents.length === 1) {\n            parent = parents[0];\n        }\n        else if (oneIsParent) {\n            if (!p.children) {\n                p.children = [];\n            }\n            parent = p;\n        }\n        else {\n            // 不影响画布数据，生成一个组合图形便于二次复用\n            // this.canvas.makePen(parent);\n        }\n        components.forEach((pen) => {\n            if (pen === parent || pen.parentId === parent.id) {\n                return;\n            }\n            if (pen.parentId) {\n                // 已经是其它节点的子节点，x,y,w,h 已经是百分比了\n                return;\n            }\n            parent.children.push(pen.id);\n            pen.parentId = parent.id;\n            const childRect = calcRelativeRect(pen.calculative.worldRect, rect);\n            Object.assign(pen, childRect);\n            pen.locked = pen.lockedOnCombine ?? LockState.DisableMove;\n            // pen.type = PenType.Node;\n        });\n        return oneIsParent || parents.length === 1\n            ? deepClone(components)\n            : deepClone([parent, ...components]);\n    }\n    // TODO 安装pen插件 此处是否应当进行相关的适配？不再让插件内部处理install的目标逻辑？\n    /**\n     * @description 安装插件方法\n     * @param plugins 插件列表及其配置项\n     * @param pen {string | Pen} 接受tag、name、或者Pen对象*/\n    installPenPlugins(pen, plugins) {\n        if (!pen.tag && !pen.name && !pen.id)\n            return;\n        let type;\n        pen.id\n            ? (type = 'id')\n            : pen.tag\n                ? (type = 'tag')\n                : pen.name\n                    ? (type = 'name')\n                    : '';\n        plugins.forEach((pluginConfig) => {\n            let plugin = pluginConfig.plugin;\n            let option = pluginConfig.options;\n            if (!plugin)\n                return;\n            // 插件校验\n            if (validationPlugin(plugin) && type) {\n                plugin.install(pen, option);\n                // 若当前不存在此插件\n                if (!this.penPluginMap.has(plugin)) {\n                    this.penPluginMap.set(plugin, [{ [type]: pen[type], option }]);\n                }\n                else {\n                    let op = this.penPluginMap.get(plugin).find((i) => {\n                        return i[type] === pen[type];\n                    });\n                    // 存在替换\n                    if (op) {\n                        op.option = option;\n                    }\n                    else {\n                        this.penPluginMap.get(plugin).push({\n                            [type]: pen[type],\n                            option,\n                        });\n                    }\n                }\n            }\n        });\n    }\n    uninstallPenPlugins(pen, plugins) {\n        let type;\n        pen.id\n            ? (type = 'id')\n            : pen.tag\n                ? (type = 'tag')\n                : pen.name\n                    ? (type = 'name')\n                    : '';\n        if (!type)\n            return;\n        plugins.forEach((pluginConfig) => {\n            let plugin = pluginConfig.plugin;\n            plugin.uninstall(pen, pluginConfig.options);\n            let mapList = this.penPluginMap.get(plugin);\n            let op = mapList.findIndex((i) => i[type] === pen[type]);\n            if (op !== -1) {\n                mapList.splice(op, 1);\n                // TODO 在运行时 插件卸载后是否需要移除？\n                if (mapList.length === 0) {\n                    this.penPluginMap.delete(plugin);\n                }\n            }\n        });\n    }\n    setVisible(pen, visible, render = true) {\n        this.onSizeUpdate();\n        this.setValue({ id: pen.id, visible }, { render: false, doEvent: false });\n        if (pen.children) {\n            for (const childId of pen.children) {\n                const child = this.store.pens[childId];\n                child && this.setVisible(child, visible, false);\n            }\n        }\n        let allPens = getAllChildren(pen, this.store);\n        allPens.push(pen);\n        this.initImageCanvas(allPens);\n        render && this.render();\n    }\n    clearHover() {\n        this.canvas.clearHover();\n    }\n    closeSocket() {\n        this.closeWebsocket();\n        this.closeMqtt();\n        this.closeHttp();\n    }\n    setElemPosition = setElemPosition;\n    setLifeCycleFunc = setLifeCycleFunc;\n    destroy(onlyData) {\n        this.clear(false);\n        this.stopDataMock();\n        this.closeSocket();\n        this.closeNetwork();\n        this.closeAll();\n        le5leTheme.destroyThemeSheet(this.store.id);\n        this.store.emitter.all.clear(); // 内存释放\n        this.canvas.destroy();\n        this.canvas = undefined;\n        globalStore[this.store.id] = undefined;\n        if (!onlyData) {\n            for (const k in globalStore) {\n                delete globalStore[k];\n            }\n            globalStore.path2dDraws = {};\n            globalStore.canvasDraws = {};\n            globalStore.anchors = {};\n            globalStore.htmlElements = {};\n        }\n    }\n}\n//# sourceMappingURL=core.js.map"],"names":["rectangle","pen","ctx","path","Path2D","setTheme","wr","calculative","borderRadius","hr","x","y","width","height","ex","ey","worldRect","r","moveTo","arcTo","closePath","styles","affectByTheme","key","Object","prototype","hasOwnProperty","call","element","hoverTextColor","iconColor","hoverBackground","activeBackground","color","textColor","square","circle","ellipse","Math","PI","PenType","LockState","AnchorMode","Gradient","CanvasLayer","needCalcTextRectProps","needSetPenProps","needPatchFlagsPenRectProps","needCalcIconRectProps","LineAnimateType","isDomShapes","isInteraction","formatAttrs","Set","clearLifeCycle","onAdd","onValue","onBeforeValue","onDestroy","onMove","onResize","onRotate","onClick","onMouseEnter","onMouseLeave","onMouseDown","onMouseMove","onMouseUp","onShowInput","onInput","onChangeId","onBinds","onStartVideo","onPauseVideo","onStopVideo","onRenderPenRaw","onKeyDown","onContextmenu","onScale","onWheel","onConnectLine","HoverType","HotkeyType","MouseRight","Direction","defaultCursors","rotatedCursors","defaultDrawLineFns","inheritanceProps","PrevNextType","TwoWay","PointType","rotatePoint","pt","angle","center","a","cos","sin","prev","next","hitPoint","target","radius","type","Line","_rotate","rotate","flipX","flipY","pointInRect","length","canvas","store","data","scale","scalePoint","calcRotate","atan","abs","distance","pt1","pt2","sqrt","facePoint","targetPt","d","None","disX","disY","Right","Left","Bottom","Up","translatePoint","samePoint","anchorId","connectTo","getDistance","form","to","dis","pens","penId","globalStore","version","pkg","path2dDraws","canvasDraws","anchors","lineAnimateDraws","htmlElements","register","path2dFns","assign","registerCanvasDraw","drawFns","registerAnchors","anchorsFns","mitt","n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","KeydownType","defaultOptions","fontFamily","fontSize","lineHeight","textAlign","textBaseline","activeColor","hoverColor","anchorColor","hoverAnchorColor","anchorRadius","anchorBackground","dockColor","dockPenColor","dragColor","rotateCursor","rightCursor","downCursor","hoverCursor","minScale","maxScale","keydown","Document","gridSize","gridColor","ruleColor","drawingLineName","interval","animateInterval","autoPolyline","autoAnchor","autoAlignGrid","animateColor","ruleLineColor","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","globalAlpha","defaultAnchors","measureTextWidth","moveConnectedLine","mouseRightActive","disableClipboard","drawingLineLength","disableTouchPadScale","cdn","polylineSpace","domShapes","containerShapes","textFlip","textRotate","unavailableKeys","diagramOptions","svgPathStroke","reconnetTimes","themeKeys","defaultTheme","dark","background","parentBackground","ruleOptions","light","le5leTheme","cssRuleSelector","style_prefix","vendor_css_prefix","camelCaseToHyphenated","str","replace","match","toLowerCase","_addVendorCssPrefix","themeList","item","value","split","this","trim","createThemeSheet","theme","id","style","document","createElement","head","appendChild","_theme","cssDeclarations","getTheme","newRuleText","join","innerHTML","destroyThemeSheet","styleSheet","findStyleSheet","removeChild","ownerNode","addTheme","name","name2","getThemeObj","reduce","acc","curr","styleSheets","updateCssRule","themeName","newCssDeclarations","ruleExists","cssRules","selectorText","rule","insertRule","deleteRule","addRule","cssText","existingRootRule","find","declarationsToAdd","EditType","createStore","origin","paths","histories","path2dMap","WeakMap","animateMap","active","animates","options","emitter","bindDatas","bind","pensNetwork","cacheDatas","messageEvents","templatePens","globalTriggers","useStore","clearStore","template","isSame","canvasLayer","CanvasTemplate","lastScale","sameTemplate","historyIndex","hover","lastHover","clear","calcTextRect","paddingTop","paddingBottom","paddingLeft","paddingRight","textLeft","textTop","textWidth","textHeight","rect","calcRightBottom","worldTextRect","calcTextLines","textDrawRect","calcTextDrawRect","h","textLines","calcTextAdaptionWidth","text","toString","keepDecimal","textNum","Number","isNaN","toFixed","lines","oneRowHeight","calcRows","floor","maxRows","whiteSpace","ellipsis","allLines","wrapLines","setEllipsisOnLastLine","paragraphs","currentRow","outer","paragraph","items","getWords","l","txt","words","word","ch","charCodeAt","offscreen","getContext","fontStyle","fontWeight","save","currentLine","currentWidth","font","getFont","measureText","chinese","chineseWidth","spaces","restore","maxWidth","textLineWidths","forEach","calcTextAutoWidth","arr","updatePenRect","calcActiveRect","deepClone","o","keepCalc","Array","isArray","constructor","RegExp","_o","includes","HTMLImageElement","HTMLMediaElement","deepSetValue","keyWords","index","arrows","renderFromArrow","fromArrow","from","getFromAnchor","step","fromArrowSize","p","worldAnchors","beginPath","setLineDash","fromArrowColor","strokeStyle","renderToArrow","toArrow","getToAnchor","toArrowSize","toArrowColor","pSBCr","parseInt","m","round","g","b","parseFloat","pSBC","c0","c1","P","f","rgba","c","valueInRange","realValue","collection","start","end","nums","substring","startNum","endNum","valueInArray","numStrs","numStr","cubicBezierY","p1y","p2y","mt","s8","random","triangleSolid","point","translate","fromX","lineTo","stroke","fillStyle","fill","reTriangleSolid","triangle","lineWidth","circleSolid","arc","diamondSolid","diamond","line","lineUp","lineDown","globalThis","formatPadding","padding","top","left","right","bottom","isNil","async","fileToBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","uploadFile","url","params","headers","formData","FormData","append","res","fetch","method","body","json","loadCss","success","error","link","href","rel","queryURLParams","window","location","search","urlSearchParams","URLSearchParams","fromEntries","entries","getCookie","reg","cookie","decodeURIComponent","TokenType","isLe5le","host","getToken","le5leTokenName","le5leTokenType","LocalStorage","localStorage","getItem","Cookie","getMeta2dData","_a","_b","netWork","navigatorNetWork","hasId","_url","URL","searchParams","history","pushState","Authorization","JSON","stringify","ok","parse","getter","object","shift","setter","formatTime","format","now","Date","year","getFullYear","month","getMonth","day","getDate","week","getDay","hours","getHours","minutes","getMinutes","seconds","getSeconds","Function","fn","isAncestor","ancestor","parent","getParent","root","parentId","getAllChildren","children","child","getAllFollowers","followers","follower","drawBkLinearGradient","gradientFromColor","gradientToColor","gradientAngle","linearGradient","drawBkRadialGradient","gradientRadius","centerX","centerY","grd","createRadialGradient","addColorStop","getLinearGradientPoints","x1","y1","x2","y2","slantAngle","atan2","originX","originY","getBkRadialGradient","gradientColors","checked","onGradientColors","colors","formatGradient","stop","getBkGradient","points","getGradientR","getLinearGradient","getTextRadialGradient","textGradientColors","getTextGradient","dividAngle","calculateAngle","startsWith","_arr","stap","test","rgbaToHex","array","colorAHex","toUpperCase","getLineGradient","lineGradientColors","gradient","createLinearGradient","drawLinearGradientLine","gradientColorStop","ctxDrawLinearGradientPath","smoothLenth","gradientSmooth","lineSmooth","lineName","curvePoints","_next","_last","lastCurvePoints","smoothTransition","getSmoothAdjacent","flag","fromLineCap","lineCap","toLineCap","_y","_x","len","j","last","p1","p2","nexLength","p3","contrlPoint","getBezierPoints","smoothNum","k","smoothAnimateTransition","quadraticCurveTo","getGradientAnimatePath","_path","num","p4","func","twoBezier","threeBezier","oneBezier","cp","cx","cy","cp1","cp2","cx1","cy1","cx2","cy2","strokeLinearGradient","lineGradientFromColor","lineGradientToColor","lineGradientAngle","fromColor","toColor","getImagePosition","worldIconRect","iconWidth","iconHeight","imgNaturalWidth","imgNaturalHeight","w","imageRatio","scaleW","scaleH","scaleMin","min","wDivideH","iconAlign","drawImage","iconRotate","img","filter","imageRadius","clip","offsety","thumbImg","naturalWidth","naturalHeight","getTextColor","drawText","hiddenText","textHasShadow","textBackground","textType","disabled","disabledTextColor","disabledColor","activeTextColor","Linear","Radial","drawRectX","drawRectY","fillRect","textLineWidth","fillText","textDecorationColor","textDecorationDash","textDecoration","drawUnderLine","textStrickoutColor","textStrickoutDash","textStrickout","drawStrickout","config","drawFillText","anchor","drawIcon","iconRect","iconWeight","iconFamily","iconSize","icon","drawDropdown","inputPenId","inputDiv","dataset","ctxFlip","ctxRotate","noFlip","pivot","renderPen","download","drawFilter","inspectRect","_stroke","lineGradientFlag","disabledBackground","penBackground","mouseDownValid","mouseDown","mouseDownColor","mouseDownBackground","switch","bkType","onBackground","isDock","strokeImg","strokeImage","createPattern","strokeType","lineGradient","lineColor","backgroundImg","backgroundImage","back","radialGradient","setLineCap","setLineJoin","setGlobalAlpha","lineDash","lineDashOffset","ctxDrawLinePath","ctxDrawPath","ctxDrawCanvas","image","dropdownList","fillTexts","lineJoin","renderPenRaw","setAttrs","canUsePath","path_from","path_to","borderWidth","borderColor","close","progress","verticalProgress","reverseProgress","progressGradientColors","progressColor","animatePos","setCtxLineAnimate","lineAnimateType","Arrow","WaterDrop","drawArrow","pencil","disableAnchor","locked","renderLineAnchors","gradientAnimatePath","animateShadow","animateShadowBlur","animateLineWidth","animateShadowColor","Beads","animateReverse","dash","animateLineDash","Dot","animateDotSize","Custom","trackTargets","setTrackAnimateOnPen","setElementAnimateOnPen","lineAnimateElement","EPSILON","trackPenOption","track","_c","targetPen","meta2d","pos","calculateLineFrameStates","offset","instance","worldX","worldY","viewX","viewY","viewWidth","viewHeight","setValue","draw","renderElementOnLine","lineAnimateDash","computeLineDashSegments","getLineLength","lineAnimateDashOffset","lineAnimateElementCount","lineLength","dashArray","count","animateOffset","isDash","patternLength","sum","val","_count","globalPos","Infinity","shiftedStart","shiftedEnd","offsetInstance","createSvgPath","getLinePointPosAndAngle","hidden","isTemp","renderAnchor","activeAnchor","calcWorldRects","calcCenter","calcPivot","parentRect","calcPadding","calcPenRect","calcRelativeRect","calcWorldAnchors","_anchors","calcWorldPointOfPen","isCombine","calcChildrenInitRect","initRect","initRelativeRect","calcIconRect","iconLeft","iconTop","parentPen","scalePen","scaleRect","scaleChildrenInitRect","pushPenAnchor","worldAnchor","addLineAnchor","getSplitAnchor","calcRelativePoint","removePenAnchor","findIndex","facePen","_anchor","direction","nearestAnchor","translateLine","deleteTempAnchor","pop","connectLine","lineAnchor","_d","_e","_f","twoWay","DisableConnected","Disable","DisableConnectTo","In","Out","disconnectLine","getAnchor","connectedLines","lineId","fromPen","fromAnchor","lastConnected","setNodeAnimate","frames","duration","animateCycle","frameIndex","cycleIndex","ceil","currentAnimation","setNodeAnimateProcess","frame","frameChanged","frameDuration","frameStart","frameEnd","cycleChanged","rotatePen","prevFrame","initPrevFrame","childrenVisible","visible","process","newScale","patchFlags","lastVal","getFrameValue","translateRect","offsetRotate","loadImage","CanvasImageBottom","canvasImageBottom","init","CanvasImage","canvasImage","isLinear","current","childs","initImageCanvas","v","setChildValue","linear","setLineAnimate","cycleStart","animateSpan","elapsed","animateTimingFunction","timeParams","setChildrenActive","childActive","setHover","childHover","setElemPosition","elem","opacity","position","outline","display","inView","cssDisplay","transform","zIndex","maxZindex","DisableEdit","DisableMove","userSelect","pointerEvents","className","getPensLock","every","getPensDisableRotate","disableRotate","initLineRect","isFinite","getLineRect","getPensDisableResize","disableSize","prop","isShowChild","selfPen","oldPen","showChildIndex","showChild","calcInView","calcChild","canvasRect","some","obj","penRect","rectInRect","singleton","div","fillWorldTextRect","canvasDraw","drawFuncGenerator","drawCommand","command","steps","flat","calculate","cs","commandTransfer","csKey","startX","startY","visio","dealWithVisio","dxf","dealWithDXF","dealWithCanvas","parseType","originWidth","originHeight","dxfOrigin","rx","xr","ry","yr","rotation","startAngle","endAngle","aclockwise","X","Y","centerX1","centerY1","longAxis","A","C","shortAxis","B","D","radiuX","radiuY","anticlockwise","endX","endY","ctrlX","ctrlY","crossProduct","calculateEllipseParameters","orign","startA","calculateAngleInRadians","x0","y0","endA","endX3","endY3","ctrlX3","ctrlY3","crossProduct2","params2","endX2","endY2","xm","ym","R","xc","yc","cloneCommand","endsWith","childId","_data","x3","y3","pow","dx","dy","angleRadians","calcAnchorDock","curAnchor","xDock","yDock","getPointsByPen","calcMoveDock","activePoints","rectToPoints","calcDockByPoints","outerPoints","calcResizeDock","resizeIndex","calcActive","minCloseX","minCloseY","paddingRect","expandRect","rectInFourAngRect","isConnectLine","activePoint","stepX","stepY","absStepX","absStepY","dockAnchorId","cline","isEqual","source","randomId","rewritePenLifeCycle","funcMap","funcPenMap","lifeCycle","del","has","funcListSet","originFuncMap","delete","add","originLifeCycle","args","setLifeCycleFunc","validationPlugin","plugin","install","pts","pointInVertices","pointInSimpleRect","vertices","isIn","getRect","isRuleLine","getRectOfPoints","max","allIn","size","retRect","getIntersectPoint","line1","line2","k1","k2","getIntersectPointByK","b1","pointsToRect","resizeRect","offsetX","offsetY","ratio","calcOffsetY","tan","noChangePoint","relRect","pointInPolygon","inside","xi","yi","xj","yj","commandRegex","flagRegex","numberRegex","commaWsp","grammar","M","L","H","V","Z","S","Q","T","parseSvgPath","cursor","commands","Error","parser","parseCommands","calcWorldPositions","worldPoints","translatePath","relative","values","scalePath","F","det","val1","pathToString","expectedRegexList","regex","ws","calcWorldPoints","previous","svgPath","pathText","pathId","svgRect","pathStr","triangleAnchors","pentagon","pentagonAnchors","pentagram","resize","centerx","centery","basey","baseyi","lx","ly","pentagramAnchors","String","manualPoints","concat","hexagon","leftArrow","rightArrow","twowayArrow","message","cloud","bezierCurveTo","cube","z","face","backgroundFront","backgroundUp","backgroundRight","people","middle","curve","mousedwon","calcCurveCP","getQuadraticPoint","getBezierPoint","lerp","p0","p5","p6","p7","p8","prevNextType","Bilateral","mind","fromFace","addPath","lineSegment","getLinePoints","getPoints","getLineR","pointInLine","pointInLineSegment","minX","maxX","minY","maxY","pointToLine","lineLen","createElementNS","setAttribute","getTotalLength","lineInRect","isBezierIntersectRectangle","isLineIntersectRectangle","linePointX1","linePointY1","linePointX2","linePointY2","rectangleLeftTopX","rectangleLeftTopY","rectangleRightBottomX","rectangleRightBottomY","temp","temp1","getAttribute","totalLength","point1","getPointAtLength","point2","determinant","faceSpace","polyline","dragFrom","connected","toPen","toFace","getFacePoint","corner","_faceSpace","getNextPointsOfUp","getNextPointsOfRight","getNextPointsOfBottom","getNextPointsOfLeft","getNextPoints","reverse","drawlineH","anchorInHorizontal","unshift","anchorInVertical","translatePolylineAnchor","simplify","newPoints","maxDist","xx","yy","ddx","ddy","dist","dist1","smoothLine","cornerThres","dist2","aLen","nx1","nx2","ny1","ny2","acos","arrowLength","lastLength","getAngle","newP","newPTFrom","ptTFrom","arrow","waterDrop","getRotatePoint","rp","_angle","pr","pl","pr1","pr2","pl1","pl2","pE","rAngle","iframe","destory","move","mouseMove","beforeValue","externalElements","parentElement","scrolling","frameBorder","border","src","generateAroundDiv","updatePointerEvents","remove","operationalRect","_value","blur","blurBackground","backgroundColor","initOperationalRect","parentNode","mouseEnter","onmouseenter","onmouseleave","Image","crossOrigin","videos","mutedIcons","video","click","changeId","media","autoPlay","muted","autoplay","loop","playLoop","audio","player","hideProgress","onclick","stopPropagation","controls","ontimeupdate","resizeProcessWidth","onended","paused","play","pause","currentTime","oldId","newId","currentSrc","createOffscreen","OffscreenCanvas","context","Tooltip","sheet","__publicField","box","arrowUp","arrowDown","hide","title","getTitle","titleFnJs","titleFn","setText","oldElemRect","getBoundingClientRect","marked","getElementsByTagName","updateText","currentPen","titleEmpty","oldRect","newRect","changePositionByText","show","elemRect","borderBottomColor","borderTopColor","destroy","Scroll","preventDefault","isDownH","lastScrollX","scrollX","isDownV","lastScrollY","scrollY","clientWidth","pageMode","canMouseMove","clientHeight","onMovePens","canvasTemplate","render","hSize","vSize","onmousedown","onMouseDownH","onMouseDownV","addEventListener","isShow","initPos","changeMode","wheel","up","removeEventListener","isBottom","backgroundRepeat","backgroundSize","dpiRatio","otherOffsreen","animateOffsScreen","fitOffscreen","clearRect","hasImage","imageDrawed","patchFlagsBackground","patchFlagsTop","patchFlagsAnimate","renderRule","patchFlagsLast","fitFlag","fits","strokeRect","ctxCanvas","_g","_h","span","finalRuleColor","underline","b_y","baseline","MagnifierCanvas","parentCanvas","domOffscreen","magnifierScreen","magnifierSize","renderMagnifier","magnifier","mousePos","bgOffscreen","updateDomOffscreen","domCtx","externElement","lockedError","Dialog","dialog","header","meta2dDiv","isIframe","isUrl","innerText","overflow","timeout","setInterval","contentWindow","clearInterval","setTimeout","postMessage","dialogMeta2d","mainMeta2d","Meta2d","meta2dData","open","lock","fitView","Title","currentAnchor","changePositionByAnchor","bgPatchFlags","fit","bkImg","offsetWidth","offsetHeight","renderGrid","grid","gridRotate","cW","cH","newX","newY","status","info","warning","Popconfirm","confirm","cancel","showModal","movingSuffix","Canvas","event","offsetParent","copy","cut","hasImages","navigator","clipboard","clipboardData","getAsFile","blob","isGif","fileToPen","addPens","paste","doMessageEvent","contentEditable","drawingLine","disableScale","hoverType","Node","DisableScale","DisableMoveScale","ctrlKey","wheelDelta","deltaY","scroll","metaKey","deltaX","scrollButScale","scaleOff","userAgent","wheelDeltaY","focus","tagName","meta2dIgnore","keyOptions","altKey","shiftKey","vRect","strictScope","hotkeyType","Translate","Select","toggleAnchorHand","resizeMode","Resize","drawLineFns","drawline","toggleAnchorMode","activeFit","deleteFit","movingAnchor","translateAnchor","moveLineAnchor","activeRect","translatePens","removeAnchorHand","addAnchorHand","toggleMagnifier","uncombine","combine","NodeAnchor","hoverAnchor","LineAnchor","splitLine","stopPencil","finishDrawline","drawingPencil","redo","undo","movingPens","getAllByPens","clearDock","updateLines","magnifierCanvas","canMoveLine","down","setFollowers","AddAnchor","dataTransfer","getData","files","addCaches","draggable","calibrateMouse","dropPens","getContainerHover","hoverContainer","touchStartTimer","clearTimeout","touchStart","performance","touches","pageX","clientRect","pageY","getHover","clientX","clientY","buttons","initTouchDis","hypot","initScale","startTouches","touchCenter","changedTouches","touchMoving","touchScaling","lastOffsetX","lastOffsetY","mouseRight","Down","hideInput","popconfirm","lastMouseTime","currentFit","calcuActiveFit","setAnchor","pointAt","createDrawingLine","_pt","autoTo","inactive","autoFrom","pencilLine","getInitPencilLine","disableRuleLine","addRuleLine","container","willInactivePen","LineAnchorPrev","LineAnchorNext","prevAnchor","nextAnchor","activeInitPos","fitTimer","updateFit","inFitBorder","disableTranslate","dragRect","dockInAnchor","disableDock","disableLineDock","dock","moveLineAnchorPrev","moveLineAnchorNext","Rotate","rotatePens","resizePens","shake","activePen","movePens","getSpecialAngle","debug","hoverTimer","finishPencil","isHoverFrom","isHoverTo","isActiveFrom","isActiveTo","hoverAnchors","calcAutoAnchor","getSizeCPs","patchFlagsLines","makeFit","dragAllIn","button","input","showInput","copyMovedPens","movedActivePens","initActiveRect","xPenId","yPenId","xPen","yPen","timer","containerPens","lastHoverContainer","containerHover","movingPen","pointAtIndex","activeLine","activePensLock","activePensDisableRotate","activePensDisableResize","rotatePt","pointSize","firstFour","sizeCPs","cursors","inPens","tooltip","inAnchor","ruleH","initTemplateCanvas","tempx","opening","lastRender","renderTimer","cancelAnimationFrame","requestAnimationFrame","offscreenCtx","debugRender","renderPens","renderBorder","renderHoverPoint","CanvasMain","renderPenContainChild","activeGlobalAlpha","activeLineWidth","activeLineDash","changeNodeConnectedLine","changeLineAnchors","getPenRect","makePen","newChildren","childPen","pastePen","dbInput","disableInput","_id","isInput","range","getSelection","selectAllChildren","collapseToEnd","scrollTop","scrollHeight","scrollLeft","scrollWidth","setInputStyle","textRect","finalText","tempText","inputParent","_width","dropdown","dropdownBackground","dropdownColor","setDropdownList","div_style","font_scale","tem","_textWidth","convertSpecialCharacter","initPens","textAutoAdjust","pushHistory","Update","clearDropdownList","none","dropdownAppendOption","hasChildNodes","li","updateValue","createInput","devicePixelRatio","listen","onScroll","onMessage","onGesturestart","ondragover","ondrop","oncontextmenu","ontouchstart","ontouchmove","ontouchend","onmousemove","onmouseup","toElement","ondblclick","tabIndex","onblur","onwheel","onCopy","onCut","onPaste","onkeydown","onkeyup","initLine","newLine","preAnchors","laterAnchors","Add","uploadFn","uploadUrl","uploadParams","uploadHeaders","randomIdObj","randomCombineId","keys","animations","triggers","events","lastH","lastW","tags","beforeIds","beforeAddPens","list","beforeAddPen","lineX","lineY","otherPX","otherPY","addPen","clearRuleLines","ruleLines","alignPenToGrid","readyConnect","movedPens","getAllFollowersByPens","updateRectbyChild","dockPen","pasteOffset","drawing","clearHover","connectPen","findOne","connectAnchor","clearCanvas","action","layer","found","doEditAction","Delete","activeHistory","before","aPen","unPens","setPenRect","unPen","key2","doEvent","Replace","onSizeUpdate","copyIndex","nextAnimate","penNetwork","mouse","_del","disableRepeatLine","penFrom","penTo","disableEmptyLine","firefoxLoadSvg","request","XMLHttpRequest","inlineSVG","DOMParser","parseFromString","responseText","image64","btoa","unescape","encodeURIComponent","XMLSerializer","serializeToString","imageLoaded","templateImageLoaded","send","imageTimer","templateImageTimer","setCalculativeByScale","worldRectIsReady","playingAnimate","gradientTimer","initGlobalStyle","themeObj","asyncTranslate","transTimeout","setView","s","lineScale","lineCenter","execPenResize","templateScale","lastRotate","resizeDock","customResizeDock","scaleX","scaleY","initMovingPens","vFlag","moveDock","customMoveDock","changeIdsByMoving","containChildPens","copyContainChildPens","connectedLine","relativePt","prevRotate","nextRotate","hoverPen","beforeRemoveAnchor","beforeAddAnchor","checkDisconnect","doing","templateTranslatePens","penConnection","newAnchor","restoreNodeAnimate","keepAnimateState","originStatus","change","penAnchor","autoPolylineFlag","canMovePens","animate","autoIndex","showDuration","calcAnimateDuration","getFrameProps","initProps","animateRendering","lastAnimateRender","dels","clipboardName","page","removeItem","sessionStorage","setItem","copyPens","sort","writeText","clipboardText","readText","curPage","rootPens","retPens","deep","ids","lastPen","pastePens","nodeId","node","cl","canDelLocked","beforeRemovePens","deletePens","delPens","getLockedParent","_index","getDelPens","delForce","delPen","delConnectedLines","arrEntities","lt","gt","nbsp","amp","quot","classList","onfocus","getComputedStyle","inputDivStyle","justifyContent","oninput","inputType","numericValue","onpaste","execCommand","childNodes","textOverflow","zoom","selectDropdown","dropdownHoverBackground","dropdownHoverColor","idOrTag","changePenId","formId","oldName","isChangedName","oldRotate","willUpdatePath","willCalcTextRect","willPatchFlagsPenRect","willCalcIconRect","willSetPenRect","containIsBottom","willRenderImage","currentRotate","chlidId","toPng","callback","containBkImg","_scale","storeData","isDrawBkImg","isRight","mergeArea","isV","component","toDataURL","toBlob","activeToPng","pensToPng","allPens","Mirror","gotoView","showMagnifier","hideMagnifier","showFit","hideFit","_rect","leftValue","rightValue","topValue","bottomValue","gap","updateFitRect","downX","downY","idx","lastActiveIdx","mouseLeave","mouseUp","activePens","inRect","updateFormData","formKey","formValue","leaderPen","reset","formPen","gifsList","gif","setImagePosition","meta2dId","objectFit","mindNode","mindNodeAnchors","rectX","rectY","getYByCircle","getXByCircle","ox","oy","mindLine","mindLineAnchors","commonPens","mindNode2","commonAnchors","EventAction","ViewMap","boxWidth","boxHeight","isDown","view","vW","vH","space","exports","require","u","code","EventEmitter","Writable","nextTick","setImmediate","keepalive","reschedulePings","protocolId","protocolVersion","reconnectPeriod","connectTimeout","clean","resubscribe","_","properties","topicAlias","topic","topicAliasSend","getTopicByAlias","writeToStream","stream","E","once","cmd","outgoingStore","put","protocol","username","rejectUnauthorized","topicAliasMaximum","clientId","substr","customHandleAcks","arguments","streamBuilder","messageIdProvider","incomingStore","queueQoSZero","_resubscribeTopics","messageIdToTopic","pingTimer","disconnecting","queue","connackTimer","reconnectTimer","_storeProcessing","_packetIdsDuringStoreProcessing","_storeProcessingQueue","outgoing","_firstConnection","topicAliasRecv","_resubscribe","packet","messageId","_sendPacket","cb","_setupReconnect","_setupStream","_handlePacket","_clearReconnect","_write","pipe","volatile","create","authenticationMethod","authenticationData","authPacket","reasonCode","setMaxListeners","_cleanUp","maximumPacketSize","reasonString","_handlePublish","_handleAck","_handlePubrel","_handleConnack","_handleAuth","_handlePingresp","_handleDisconnect","_checkDisconnecting","publish","qos","retain","dup","_nextId","payload","cbStorePut","invoke","subscribe","validateTopics","nl","rap","rh","subscriptions","granted","unsubscribe","unsubscriptions","disconnected","_deferredReconnect","removeOutgoingMessage","reconnect","_reconnect","reconnecting","removeListener","autoAssignTopicAlias","getAliasByTopic","getLruAlias","autoUseTopicAlias","_shiftPingInterval","_storePacket","_setupPingTimer","pingResp","_checkPing","reschedule","returnCode","serverKeepAlive","_onConnect","handleAuth","handleMessage","deallocate","_invokeStoreProcessingQueue","allocate","getLastMessageId","getLastAllocated","connackPacket","sessionPresent","createStream","_flushStoreProcessingQueue","_invokeAllStoreProcessingQueue","read","global","self","_process","inherits","reinterval","xtend","Buffer","Transform","hostname","wsOptions","port","transformWsUrl","my","connectSocket","protocols","sendSocketMessage","buffer","fail","_flush","closeSocket","onSocketOpen","setReadable","setWritable","onSocketMessage","ArrayBuffer","readAsArrayBuffer","onSocketClose","onSocketError","duplexify","createConnection","net","isIP","servername","connect","authorized","tls","__webpack_require__","objectMode","binary","browserBufferSize","browserBufferTimeout","WebSocket","binaryType","objectModeMode","bufferedAmount","_writev","chunk","readyState","OPEN","onopen","socket","onclose","onmessage","createWebSocketStream","wx","_destroy","onOpen","onClose","onError","errMsg","nextId","Readable","_inflights","_read","aliasToTopic","NumberAllocator","topicToAlias","numberAllocator","use","firstVacant","auth","password","query","cert","defaultProtocol","servers","_reconnectCount","mqtt","tcp","ssl","mqtts","wxs","ali","alis","wss","MqttClient","Store","byteLength","toByteArray","fromByteArray","Uint8Array","Symbol","for","_init","defineProperty","_bufs","_new","_offset","_reverseOffset","alloc","allocUnsafe","shallowSlice","consume","trunc","duplicate","_appendBuffer","byteOffset","_isBufferList","TypeError","isBuffer","_match","readDoubleBE","readDoubleLE","readFloatBE","readFloatLE","readInt32BE","readInt32LE","readUInt32BE","readUInt32LE","readInt16BE","readInt16LE","readUInt16BE","readUInt16LE","readInt8","readUInt8","readIntBE","readIntLE","readUIntBE","readUIntLE","isBufferList","Duplex","_callback","BufferListStream","BufferList","SlowBuffer","INSPECT_MAX_BYTES","RangeError","__proto__","isEncoding","write","isView","q","valueOf","toPrimitive","lastIndexOf","U","fromCharCode","apply","kMaxLength","TYPED_ARRAY_SUPPORT","foo","console","enumerable","species","configurable","writable","poolSize","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","toLocaleString","equals","inspect","toJSON","N","I","O","subarray","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","copyWithin","ieee754","formatArgs","useColors","namespace","humanize","diff","storage","load","env","DEBUG","__nwjs","documentElement","WebkitAppearance","firebug","exception","table","$1","log","formatters","enabled","coerce","selectColor","extend","namespaces","default","stack","disable","names","skips","enable","ms","_corked","_autoDestroy","_ended","_writable","_readable","_readable2","autoDestroy","_forwardDestroy","_forwardEnd","_ondrain","_drained","_forwarding","_unwrite","_unread","destroyed","highWaterMark","cork","uncork","readable","resume","_forward","_readableState","wrap","_finish","_writableState","prefinished","finished","ending","ended","req","setHeader","abort","stdio","_events","_eventsCount","_maxListeners","defaultMaxListeners","newListener","listener","warned","warn","fired","wrapFn","getMaxListeners","addListener","prependListener","prependOnceListener","removeAllListeners","listeners","rawListeners","listenerCount","eventNames","Reflect","ownKeys","NaN","LN2","super_","brother","leftChild","rightChild","rotateLeft","rotateRight","TreeNodeColorType","red","black","freeze","__generator","label","sent","trys","ops","throw","return","iterator","done","empty","bucketSize","front","curNodeBucketIndex","curNodePointerIndex","getElementByPos","eraseElementByPos","popFront","popBack","pushBack","eraseElementByValue","setElementByPos","sigma","insert","pushFront","unique","shrinkToFit","__values","initSize","maxSize","setElement","treeifyThreshold","untreeifyThreshold","eraseElementByKey","getElementByKey","minTreeifySize","pre","merge","lowerBound","upperBound","reverseLowerBound","reverseUpperBound","union","getHeight","__read","__spreadArray","HashMap","HashSet","PriorityQueue","Deque","LinkList","Queue","Stack","Vector","unshiftNode","maxAge","tail","removeNode","stale","dispose","noDisposeOnSet","updateAgeOnGet","allowStale","lengthCalculator","itemCount","rforEach","toArray","dump","dumpLru","peek","prune","yallist","types","codes","CMD_SHIFT","CMD_MASK","DUP_MASK","QOS_MASK","QOS_SHIFT","RETAIN_MASK","VARBYTEINT_MASK","VARBYTEINT_FIN_MASK","VARBYTEINT_MAX","SESSIONPRESENT_MASK","SESSIONPRESENT_HEADER","CONNACK_HEADER","connack","USERNAME_MASK","PASSWORD_MASK","WILL_RETAIN_MASK","WILL_QOS_MASK","WILL_QOS_SHIFT","WILL_FLAG_MASK","CLEAN_SESSION_MASK","CONNECT_HEADER","sessionExpiryInterval","willDelayInterval","receiveMaximum","requestResponseInformation","requestProblemInformation","userProperties","payloadFormatIndicator","messageExpiryInterval","contentType","responseTopic","correlationData","maximumQoS","retainAvailable","assignedClientIdentifier","wildcardSubscriptionAvailable","subscriptionIdentifiersAvailable","sharedSubscriptionAvailable","responseInformation","serverReference","subscriptionIdentifier","propertiesCodes","propertiesTypes","PUBLISH_HEADER","SUBSCRIBE_HEADER","SUBSCRIBE_OPTIONS_QOS_MASK","SUBSCRIBE_OPTIONS_NL_MASK","SUBSCRIBE_OPTIONS_NL_SHIFT","SUBSCRIBE_OPTIONS_RAP_MASK","SUBSCRIBE_OPTIONS_RAP_SHIFT","SUBSCRIBE_OPTIONS_RH_MASK","SUBSCRIBE_OPTIONS_RH_SHIFT","SUBSCRIBE_OPTIONS_RH","SUBSCRIBE_OPTIONS_NL","SUBSCRIBE_OPTIONS_RAP","SUBSCRIBE_OPTIONS_QOS","UNSUBSCRIBE_HEADER","ACKS","unsuback","puback","pubcomp","pubrel","pubrec","SUBACK_HEADER","suback","VERSION3","VERSION4","VERSION5","VERSION131","VERSION132","QOS","EMPTY","pingreq","pingresp","disconnect","super","_array","_i","generate","cache","generateCache","generateNumber","genBufVariableByteInt","generate4ByteBuffer","settings","_states","_resetState","_list","_stateCounter","_parseHeader","_parseLength","_parseVarByteNum","bytes","_parsePayload","_pos","_parseConnect","_parseConnack","_parsePublish","_parseConfirmation","_parseSubscribe","_parseSuback","_parseUnsubscribe","_parseUnsuback","_parseDisconnect","_parseAuth","_emitError","_parseString","bridgeMode","will","_parseNum","_parseProperties","getOwnPropertyNames","_parseBuffer","_parseMessageId","_parseByte","_parseStringPair","_parse4ByteNum","_parseByType","_newPacket","bl","exec","long","low","high","ss","free","intervalCount","called","onceError","strict","proto","wrappy","run","fun","browser","argv","versions","binding","cwd","chdir","umask","nodeType","ucs2","decode","encode","toASCII","toUnicode","punycode","maxKeys","allowHalfOpen","getBuffer","_transform","ReadableState","debuglog","getHighWaterMark","ERR_INVALID_ARG_TYPE","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","errorOrDestroy","readableObjectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","emitClose","defaultEncoding","awaitDrain","readingMore","decoder","encoding","StringDecoder","getPrototypeOf","_undestroy","undestroy","isPaused","setEncoding","first","stdout","stderr","hasUnpiped","needDrain","unpipe","asyncIterator","_fromList","util","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","_transformState","afterTransform","transforming","writecb","writechunk","needTransform","writeencoding","flush","entry","finish","pendingcb","corkedRequestsFree","WritableState","deprecate","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","writableObjectMode","finalCalled","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","errorEmitted","bufferedRequest","lastBufferedRequest","bufferedRequestCount","writev","final","_final","isBuf","allBuffers","hasInstance","setDefaultEncoding","setPrototypeOf","then","getOwnPropertySymbols","getOwnPropertyDescriptor","custom","_getString","_getBuffer","getOwnPropertyDescriptors","defineProperties","depth","customInspect","ERR_STREAM_PREMATURE_CLOSE","ERR_MISSING_ARGS","ERR_INVALID_OPT_VALUE","Stream","PassThrough","pipeline","_args","_interval","circles","_duplexState","fillLast","lastNeed","lastTotal","lastChar","slashes","hash","pathname","resolveObject","isString","Url","javascript","http","https","ftp","gopher","isObject","parseHost","escape","W","charAt","isNullOrUndefined","isNull","querystring","pushNode","forEachReverse","getReverse","mapReverse","reduceReverse","toArrayReverse","sliceReverse","question","messageList","Message","content","closeBtn","placement","setPosition","connectJetLinks","jetLinksList","jetLinksClient","mess","productId","deviceId","setDatas","doWarning","parameter","notification","topicName","getTime","notifyTime","detail","alarmConfigId","playMp3","timestamp","padStart","closeJetLinks","getSendData","_pen","realTime","realTimes","propertyId","getDynamicParam","sendJetLinksData","createAudio","playTimes","globalAudio","time","opts","drawFunc","eval","eventName","formType","navigatorTo","_j","old","indexArr","actions","conditions","conditionType","condition","judgeCondition","can","where","fnJs","comparison","err","pValue","confirmTitle","trigger","state","datas","dataEvents","accumulator","dataId","dataJudegeCondition","setOptions","setDatabyOptions","initEventFns","onEvent","getOptions","registerTheme","el","newTheme","kvs","kvs0","kvs1","setBackgroundColor","setRule","setGrid","getElementById","Link","SetProps","__value","setVisible","StartAnimate","animateName","targetType","startAnimate","PauseAnimate","pauseAnimate","StopAnimate","stopAnimate","StartVideo","startVideo","PauseVideo","pauseVideo","StopVideo","stopVideo","JS","GlobalFn","Emit","SendPropData","doSendDataEvent","SendVarData","oneForm","_item","dataIds","Navigator","getEventData","SendData","sendDataToNetWork","network","PostMessage","PostMessageToParent","convertType","closeAll","topics","mqttClient","mqttTopics","websocket","sendDatabyHttp","clients","mqttClients","client","mqtt.connect","websockets","iotMqttClient","iot","token","setBackgroundImage","that","bkImage","doInitJS","initBindDatas","initBinds","doInitFn","loadLineAnimateDraws","initMessageEvents","initGlobalTriggers","listenSocket","connectNetwork","startDataMock","autofocus","iconUrls","cacheData","cacheLength","loadCacheData","statistics","imgNum","imgDrawNum","domNum","aningNum","dataPointsNum","formItem","devices","class","sql","sqls","bindId","connectWebsocket","connectMqtt","connectHttp","initJs","binds","drawLine","finishDrawLine","updateLineType","addDrawLineFn","fnName","removeDrawLineFn","handler","updateLineAnimateDraws","option","registerLineAnimateDraws","registerMoveDock","registerResizeDock","idOrTagOrPens","animation","initParent","minIndex","childRect","lockedOnCombine","interaction","clearCombine","combineArr","pIdx","cid","cPen","activeAll","dataPoints","socketFn","socketCbJs","closeWebsocket","websocketProtocols","socketCallback","websocketTimes","closeMqtt","mqttOptions","customClientId","mqttTimes","closeHttp","cancelFirstConnect","oldRequestHttp","httpTimeInterval","times","httpTimerList","httpHeaders","httpTimer","_req","_httpTimer","closeNetwork","networks","mqttIndex","httpIndex","websocketIndex","sseIndex","eventSources","connectNetMqtt","connectNetWebSocket","connectSSE","onNetworkConnect","connectIot","connectSqls","reconnectNetwork","updateTimerList","requestHttp","iotUrl","getMqttUrl","getIotToken","iotTimer","sqlIndex","doSqlCode","sqlTimerList","EventSource","withCredentials","closeSSE","es","results","wssPort","wsPort","_sql","pageSize","dbid","randomString","mockValue","enableMock","mock","rai","dataMock","stopDataMock","updateTimer","penMock","networkInterval","apiUrl","apiMethod","apiHeaders","apiBody","apiEnable","_updateTimer","_sqlTimer","_message","penValues","penValue","noOnBinds","doDataEvent","bindArr","tag","afterData","total","_pens","_setValue","operator","valueType","compareValue","pushChildren","initUpdatePens","updatePens","oldParent","downloadPng","evt","createEvent","initEvent","dispatchEvent","downloadSvg","C2S","renderPenRaw$1","mySerializedSVG","getSerializedSvg","urlObject","export_blob","Blob","createObjectURL","hiddenTemplate","showTemplate","lockTemplate","viewPadding","hasView","centerView","fillView","wGap","hGap","iframePens","bfW","bfH","trimPens","fitTemplateView","fitSizeView","_height","centerSizeView","viewCenter","getViewCenter","pensRect","dataX","dataY","scrollTo","scrollView","topView","screenView","WorH","beSameByFirst","attribute","firstPen","beSameByLast","formatPainterByFirst","attrs","attr","formatPainterByLast","setFormatPainter","defaultFormat","formatPainter","clearFormatPainter","alignNodes","align","alignPen","alignNodesV","whole","moveX","moveY","alignNodesByFirst","alignNodesByLast","spaceBetweenByDirection","pen0Rect","spaceBetween","spaceBetweenColumn","layout","maxHeight","currentX","currentY","nextPenRect","showMap","hideMap","mapTimer","allIds","specificLayerMove","upByArea","allIndexs","nextHitIndex","currentRect","preMovePens","orderPens","temIndex","lastIndex","firstIndex","setLayer","toIndex","getLines","_line","nextNode","nextNodes","lineNextNode","previousNode","preNode","preNodes","linePreNode","getNext","toAnchor","addAnchor","_worldAnchor","_worldRect","absWidth","toComponent","components","parents","oneIsParent","installPenPlugins","plugins","pluginConfig","penPluginMap","op","uninstallPenPlugins","uninstall","mapList","onlyData"],"mappings":"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GANvCA,iBAAgBA,iBAAwB,OAAI,GAAK,SACjDA,iBAAgBA,iBAAuB,MAAI,GAAK,QAChDA,iBAAgBA,iBAAqB,IAAI,GAAK,MAC9CA,iBAAgBA,iBAAuB,MAAI,GAAK,QAChDA,iBAAgBA,iBAA2B,UAAI,GAAK,YACpDA,iBAAgBA,iBAAwB,OAAI,GAAK,SAK9C,MAAMC,YAAc,CACvB,MACA,SACA,QACA,UACA,aACA,kBACA,OAKSC,cAAgB,CACzB,QACA,WACA,SACA,WACA,SACA,WAGSC,gBAAkBC,IAAI,CAC/B,eAEA,cACA,eACA,aACA,gBACA,WACA,gBACA,mBACA,kBAEA,QACA,QACA,QACA,WACA,UACA,WACA,aACA,wBACA,sBACA,oBACA,QACA,aACA,cACA,YACA,SACA,oBACA,kBACA,gBACA,iBACA,kBACA,mBACA,cACA,cACA,eACA,cACA,aACA,gBACA,gBACA,gBACA,aACA,WACA,YACA,iBACA,kBACA,iBACA,YACA,aACA,YACA,eACA,aACA,aACA,YACA,aACA,WACA,UACA,WACA,aACA,cACA,cACA,cACA,mBACA,kBACA,SACA,eACA,cACA,iBACA,aACA,iBACA,qBACA,mBACA,iBACA,aACA,eAKG,SAASC,eAAerD,GAC3BA,EAAIsD,WAAQ,EACZtD,EAAIuD,aAAU,EACdvD,EAAIwD,mBAAgB,EACpBxD,EAAIyD,eAAY,EAChBzD,EAAI0D,YAAS,EACb1D,EAAI2D,cAAW,EACf3D,EAAI4D,cAAW,EACf5D,EAAI6D,aAAU,EACd7D,EAAI8D,kBAAe,EACnB9D,EAAI+D,kBAAe,EACnB/D,EAAIgE,iBAAc,EAClBhE,EAAIiE,iBAAc,EAClBjE,EAAIkE,eAAY,EAChBlE,EAAImE,iBAAc,EAClBnE,EAAIoE,aAAU,EACdpE,EAAIqE,gBAAa,EACjBrE,EAAIsE,aAAU,EACdtE,EAAIuE,kBAAe,EACnBvE,EAAIwE,kBAAe,EACnBxE,EAAIyE,iBAAc,EAClBzE,EAAI0E,oBAAiB,EACrB1E,EAAI2E,eAAY,EAChB3E,EAAI4E,mBAAgB,EACpB5E,EAAI6E,aAAU,E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,kBAAmB,EACnBC,sBAAsB,EACtBC,IAAK,GACLC,cAAe,GACfC,UAAW,GACXC,gBAAiB,CAAC,aAClBC,UAAU,EACVC,YAAY,EACZC,gBAAiB,GACjBC,eAAgB,CAAE,EAClBC,eAAe,EACfC,cAAe,IC9ENC,UAAY,CACrB,QACA,aACA,cACA,gBACA,aACA,mBACA,kBACA,qBACA,cACA,mBACA,mBACA,eACA,YACA,YACA,gBACA,YACA,YACA,gBACA,gBAGSC,aAAe,CACxBC,KAAM,CACF1M,MAAO,UACP2M,WAAY,UACZC,iBAAkB,UAClBnC,UAAW,UACXoC,YAAa,CACTF,WAAY,UACZ1M,UAAW,YAGnB6M,MAAO,CACH9M,MAAO,UACP2M,WAAY,UACZC,iBAAkB,UAClBnC,UAAW,UACXoC,YAAa,CACTF,WAAY,UACZ1M,UAAW,aAKV8M,WAAa,CACtBC,gBAAmB,QACnBC,aAAgB,SAChBC,kBAAqB,QACrBR,KAAQ,CACJ,sCACA,sCACA,mCACA,sCACA,4BACA,0CACA,4CACA,2BACA,oBACA,4BACA,iCACA,2DACA,mCACA,iBACA,uBACA,yBACA,2CACA,yCACA,kBACA,uCACA,+BACA,kCACA,oBACA,wBACA,sBACA,wBACA,2CACA,uBACA,oCACA,6BACA,0BACA,oCACA,yBACA,+BACA,0CACA,yCACA,iCACA,4CACA,oBACA,uBACA,uCACA,0BACA,uBACA,8BACA,2BACA,4CACA,iHACA,eAEJI,MAAS,CACL,gCACA,gCACA,6BACA,gCACA,4BACA,2BACA,wCACA,2BACA,oBACA,4BACA,+BACA,2DACA,uBACA,iBACA,uBACA,yBACA,qCACA,0BACA,kBACA,uCACA,4BACA,kCACA,oBACA,wBACA,sBACA,wBACA,4BACA,uBACA,8BACA,6BACA,mCACA,gCACA,yBACA,+BACA,oCACA,mCACA,iCACA,8BACA,oBACA,uBACA,uCACA,0BACA,uBACA,8BACA,2BACA,6BACA,iDACA,eASJK,sBAAsBC,GACXA,EAAIC,QAAQ,UAAWC,GACnB,IAAMA,EAAMC,gBAU3B,mBAAAC,CAAoBC,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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67]}