{"version":3,"file":"breadcrumb.mjs","sources":["../../../components/breadcrumb/breadcrumb.tsx"],"sourcesContent":["import { defineComponent, reactive, provide, toRefs, computed } from 'vue';\nimport props from './props';\nimport BreadcrumbItem from './breadcrumb-item';\nimport type { TdBreadcrumbItemProps, TdBreadcrumbProps } from './type';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { usePrefixClass } from '../hooks/useConfig';\nimport { useBreadcrumbOptions, useEllipsis } from './hooks';\nimport { ChevronRightIcon as TdChevronRightIcon, EllipsisIcon as TdEllipsisIcon } from 'tdesign-icons-vue-next';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\n\nexport default defineComponent({\n  name: 'TBreadcrumb',\n  props,\n  setup(props: TdBreadcrumbProps) {\n    const { theme, maxItemWidth } = toRefs(props);\n    const COMPONENT_NAME = usePrefixClass('breadcrumb');\n    const renderTNodeJSX = useTNodeJSX();\n    const { breadcrumbOptions } = useBreadcrumbOptions(props);\n    const { ChevronRightIcon, EllipsisIcon } = useGlobalIcon({\n      ChevronRightIcon: TdChevronRightIcon,\n      EllipsisIcon: TdEllipsisIcon,\n    });\n    const separatorContent = renderTNodeJSX('separator');\n    const separator = separatorContent || <ChevronRightIcon />;\n\n    provide(\n      'tBreadcrumb',\n      reactive({\n        separator,\n        theme,\n        maxItemWidth,\n      }),\n    );\n\n    // 省略号，支持自定义\n    const ellipsisContent = computed(() => {\n      const items = breadcrumbOptions.value;\n      const ellipsisItems = items.slice(props.itemsBeforeCollapse, items.length - props.itemsAfterCollapse);\n      const ellipsisSlot = renderTNodeJSX('ellipsis', {\n        params: {\n          items: ellipsisItems,\n          separator,\n        },\n      });\n      return ellipsisSlot || <EllipsisIcon />;\n    });\n\n    const { getDisplayItems } = useEllipsis(props, breadcrumbOptions, ellipsisContent);\n\n    return () => {\n      const items = getDisplayItems.value;\n      const content = items.map((item: TdBreadcrumbItemProps, index: number) => {\n        if (typeof item === 'object' && 'content' in item) {\n          return (\n            <BreadcrumbItem key={index} {...item}>\n              {item.content}\n            </BreadcrumbItem>\n          );\n        }\n        return item;\n      });\n\n      return <div class={COMPONENT_NAME.value}>{content}</div>;\n    };\n  },\n});\n"],"names":["defineComponent","name","props","setup","_toRefs","toRefs","theme","maxItemWidth","COMPONENT_NAME","usePrefixClass","renderTNodeJSX","useTNodeJSX","_useBreadcrumbOptions","useBreadcrumbOptions","breadcrumbOptions","_useGlobalIcon","useGlobalIcon","ChevronRightIcon","TdChevronRightIcon","EllipsisIcon","TdEllipsisIcon","separatorContent","separator","_createVNode","provide","reactive","ellipsisContent","computed","items","value","ellipsisItems","slice","itemsBeforeCollapse","length","itemsAfterCollapse","ellipsisSlot","params","_useEllipsis","useEllipsis","getDisplayItems","content","map","item","index","_typeof","BreadcrumbItem","_mergeProps","_default"],"mappings":"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"}