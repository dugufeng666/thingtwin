import{a as e,s as t,d as a,b as l,f as o,e as i,h as c,r as n,i as r,j as s,p as h,k as d,l as u,m as v,M as f,n as g,o as y}from"./meta2d-dfafba89.js";import{r as x,_ as p}from"./index-ca1feb0b.js";import{s as m,f as w,j as b,u as T,o as P,U as k}from"./vue-vendor-c67988ac.js";function R(e,t){const a=t||new Path2D,{x:l,y:o,width:i,ey:c}=e.calculative.worldRect,n=i/4;if(a.moveTo(l+n,o),a.lineTo(l,o),a.lineTo(l,c),a.lineTo(l+n,c),a instanceof Path2D)return a}function C(e){e.anchors=[{x:.25,y:0},{x:.25,y:1},{x:0,y:.5}].map((({x:t,y:a},l)=>({id:l+"",x:t,y:a,penId:e.id})))}function A(e,t){const a=t||new Path2D,{x:l,y:o,width:i,ex:c,ey:n}=e.calculative.worldRect,r=e.offsetX;let s=i/7;if(r>1?s=r:r>0&&(s=i*r),a.moveTo(l+s,o),a.lineTo(c,o),a.lineTo(l+i-s,n),a.lineTo(l,n),a.closePath(),a instanceof Path2D)return a}function S(e){e.anchors=[{x:.5,y:0},{x:13/14,y:.5},{x:.5,y:1},{x:1/14,y:.5}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function M(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c,ex:n,ey:r}=e.calculative.worldRect,s=i/8;if(a.moveTo(l+s,o),a.lineTo(n-s,o),a.bezierCurveTo(n+s/3,o,n+s/3,r,n-s,r),a.lineTo(l+s,r),a.lineTo(l,o+c/2),a.closePath(),a instanceof Path2D)return a}function D(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c,ex:n,center:r}=e.calculative.worldRect,s=r.x,h=o+6*c/7,d=c/6;if(a.moveTo(l,o),a.lineTo(n,o),a.lineTo(n,h),a.bezierCurveTo(n-20,h-d,s+i/5,h-d,s,h),a.bezierCurveTo(s-i/5,h+d,l,h+d,l,h),a.closePath(),a instanceof Path2D)return a}function I(e){e.anchors=[{x:.5,y:0},{x:1,y:.5},{x:.5,y:6/7},{x:0,y:.5}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function W(e,t){const a=t||new Path2D,{x:l,y:o,width:i,ex:c,ey:n}=e.calculative.worldRect,r=i/10;if(a.moveTo(l+2*r,o),a.bezierCurveTo(l-2*r/3,o,l-2*r/3,n,l+2*r,n),a.lineTo(c,n),a.bezierCurveTo(c-r,n,c-r,o,c,o),a.closePath(),a instanceof Path2D)return a}function H(e,t){const a=t||new Path2D,{x:l,y:o,width:i,ex:c,ey:n}=e.calculative.worldRect;a.moveTo(l,o),a.lineTo(c,o),a.lineTo(c,n),a.lineTo(l,n),a.closePath();const r=i/7;if(a.moveTo(l,o+r),a.lineTo(c,o+r),a.moveTo(l+r,o),a.lineTo(l+r,n),a instanceof Path2D)return a}function F(e,t){const a=t||new Path2D,{x:l,y:o,height:i,ex:c,ey:n}=e.calculative.worldRect,r=i/4;if(a.moveTo(l,o+r),a.lineTo(c,o),a.lineTo(c,n),a.lineTo(l,n),a.closePath(),a instanceof Path2D)return a}function B(e){e.anchors=[{x:.5,y:.125},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function O(e,t){const a=t||new Path2D,{x:l,y:o,ex:i,ey:c}=e.calculative.worldRect;if(a.moveTo(l,o),a.lineTo(i,o),a.moveTo(l,c),a.lineTo(i,c),a instanceof Path2D)return a}function L(e){e.anchors=[{x:.5,y:0},{x:.5,y:1}].map((({x:t,y:a},l)=>({id:l+"",x:t,y:a,penId:e.id})))}function E(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c,ex:n,ey:r}=e.calculative.worldRect;if(a.ellipse(l+i/2,o+c/2,i/2,c/2,0,0,2*Math.PI),a.moveTo(l+i/2,r),a.lineTo(n,r),a.closePath(),a instanceof Path2D)return a}function N(e,t){const a=t||new Path2D,{x:l,y:o,width:i,ex:c,ey:n}=e.calculative.worldRect,r=i/7;if(a.moveTo(l,o),a.lineTo(c,o),a.lineTo(c,n),a.lineTo(l,n),a.closePath(),a.moveTo(l+r,o),a.lineTo(l+r,n),a.moveTo(c-r,o),a.lineTo(c-r,n),a instanceof Path2D)return a}function z(e,t){const a=t||new Path2D,{x:l,y:o,height:i,ex:c,ey:n}=e.calculative.worldRect,r=i/7;if(a.moveTo(l,o+r),a.bezierCurveTo(l,o-r/2|0,c,o-r/2|0,c,o+r),a.lineTo(c,n-r),a.bezierCurveTo(c,n+r/2|0,l,n+r/2|0,l,n-r),a.closePath(),a.moveTo(l,n-r),a.bezierCurveTo(l,n-2*r|0,c,n-2*r|0,c,n-r),a instanceof Path2D)return a}function Y(e,t){const{x:a,y:l,width:o,height:i}=t.calculative.worldRect;e.beginPath(),e.ellipse(a+o/2,l+i/2,o/2,i/2,0,0,2*Math.PI),e.stroke(),e.beginPath(),e.fillStyle=e.strokeStyle,e.ellipse(a+o/2,l+i/2,o/4,i/4,0,0,2*Math.PI),e.fill()}function j(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c,ey:n}=e.calculative.worldRect,r=e.calculative.lineLeft||.08;let s=e.calculative.borderRadius||0,h=s;s<1&&(s*=i,h=c*s);let d=s<h?s:h;if(i<2*d&&(d=i/2),c<2*d&&(d=c/2),a.moveTo(l+d,o),a.arcTo(l+i,o,l+i,o+c,d),a.arcTo(l+i,o+c,l,o+c,d),a.arcTo(l,o+c,l,o,d),a.arcTo(l,o,l+i,o,d),a.closePath(),a.moveTo(l+r*i,o),a.lineTo(l+r*i,n),a instanceof Path2D)return a}function U(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c,ex:n}=e.calculative.worldRect,r=e.calculative.lineTop||.08;let s=e.calculative.borderRadius||0,h=s;s<1&&(s*=i,h*=c);let d=s<h?s:h;if(i<2*d&&(d=i/2),c<2*d&&(d=c/2),a.moveTo(l+d,o),a.arcTo(l+i,o,l+i,o+c,d),a.arcTo(l+i,o+c,l,o+c,d),a.arcTo(l,o+c,l,o,d),a.arcTo(l,o,l+i,o,d),a.closePath(),a.moveTo(l,o+r*c),a.lineTo(n,o+r*c),a instanceof Path2D)return a}function V(e,t){e.onDestroy||(e.onDestroy=$,e.onAdd=X);const a=t||new Path2D,{x:l,y:o,width:i,height:c,ex:n}=e.calculative.worldRect;let r=e.calculative.borderRadius||0,s=r;r<1&&(r*=i,s*=c);let h=r<s?r:s;i<2*h&&(h=i/2),c<2*h&&(h=c/2),a.moveTo(l+h,o),a.arcTo(l+i,o,l+i,o+c,h),a.arcTo(l+i,o+c,l,o+c,h),a.arcTo(l,o+c,l,o,h),a.arcTo(l,o,l+i,o,h);const d=.2*c;a.moveTo(l,o+d),a.lineTo(n,o+d);const u=o+d+(c-d)/2;if(a.moveTo(l,u),a.lineTo(n,u),a.closePath(),a instanceof Path2D)return a}function X(e){const{x:t,y:a,width:l,height:o}=e.calculative.worldRect,i=e.list,c={name:"text",x:t,y:a+.2*o,width:l,height:.4*o,textAlign:"left",textBaseline:"top",textLeft:10,textTop:10},n={name:"text",x:t,y:a+.6*o,width:l,height:.4*o,textAlign:"left",textBaseline:"top",textLeft:10,textTop:10};Object.assign(c,i[0]),Object.assign(n,i[1]),e.calculative.canvas.makePen(c),e.calculative.canvas.makePen(n),e.calculative.canvas.parent.pushChildren(e,[c]),e.calculative.canvas.parent.pushChildren(e,[n])}function $(e){const t=e.calculative.canvas.store;e.children.forEach((e=>{const a=t.data.pens.findIndex((t=>t.id===e));a>-1&&(t.data.pens.splice(a,1),t.pens[e]=void 0)})),e.children=void 0}function G(e,t){e.onDestroy||(e.onDestroy=_,e.onAdd=q);const a=t||new Path2D,{x:l,y:o,width:i,height:c,ex:n}=e.calculative.worldRect;let r=e.calculative.borderRadius||0,s=r;r<1&&(r*=i,s*=c);let h=r<s?r:s;i<2*h&&(h=i/2),c<2*h&&(h=c/2),a.moveTo(l+h,o),a.arcTo(l+i,o,l+i,o+c,h),a.lineTo(l+i,o+c-h),a.arcTo(l+i,o+c,l,o+c,h),a.arcTo(l,o+c,l,o,h),a.arcTo(l,o,l+i,o,h);const d=.2*c;if(a.moveTo(l,o+d),a.lineTo(n,o+d),a.closePath(),a instanceof Path2D)return a}function q(e){const{x:t,y:a,width:l,height:o}=e.calculative.worldRect,i=e.list;let c={name:"text",x:t,y:a+.2*o,width:l,height:.8*o,textAlign:"left",textBaseline:"top",textLeft:10,textTop:10};Object.assign(c,i[0]),e.calculative.canvas.makePen(c),e.calculative.canvas.parent.pushChildren(e,[c])}function _(e){const t=e.calculative.canvas.store;e.children.forEach((e=>{const a=t.data.pens.findIndex((t=>t.id===e));a>-1&&(t.data.pens.splice(a,1),t.pens[e]=void 0)})),e.children=[]}function J(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect;if(a.rect(l,o,i,c),a.closePath(),a instanceof Path2D)return a}function Z(e,t){const a=t.headHeight??50,{x:l,y:o,width:i,height:c,ey:n}=t.calculative.worldRect;let r=t.calculative.borderRadius||0,s=r;t.calculative.borderRadius<1&&(r*=i,s*=c);let h=r<s?r:s;i<2*h&&(h=i/2),a<2*h&&(h=a/2),e.beginPath(),e.moveTo(l+h,o),e.arcTo(l+i,o,l+i,o+a,h),e.arcTo(l+i,o+a,l,o+a,h),e.arcTo(l,o+a,l,o,h),e.arcTo(l,o,l+i,o,h),e.closePath(),e.stroke(),e.save(),e.beginPath(),e.lineWidth=1,e.setLineDash([7,7]);const d=l+i/2;e.moveTo(d,o+a+1),e.lineTo(d,n),e.stroke(),e.restore()}var Q,K;(K=Q||(Q={}))[K.Add=0]="Add",K[K.Replace=1]="Replace",K[K.ReplaceAll=2]="ReplaceAll";let ee=["fontSize","nameGap","margin","width","symbolSize","itemWidth","itemHeight","fontWeight","top","left","right","bottom","zoom","edgeSymbolSize","nodeWidth","nodeGap","distance","length","length2","offsetCenter","size","symbolOffset","padding","barWidth","symbolOffset","shadowOffsetY","shadowOffsetX"];function te(e){var a,l;let o=globalThis.echarts;if(!e.echarts||!o)return;if("string"==typeof e.echarts)try{e.echarts=JSON.parse(e.echarts)}catch(n){}ee=(null==(a=e.calculative.canvas.store.options.diagramOptions.chart)?void 0:a.keyWords)||ee,e.onDestroy||(e.onDestroy=ae,e.onMove=le,e.onResize=oe,e.onRotate=le,e.onValue=ce,e.onBeforeValue=ne,e.onBinds=re,e.onMouseEnter=le,e.onRenderPenRaw=se,e.onScale=ie),e.calculative.singleton||(e.calculative.singleton={});const i=new Path2D,c=e.calculative.worldRect;if(!e.calculative.singleton.div){const a=document.createElement("div");a.style.position="absolute",a.style.outline="none",a.style.left="-9999px",a.style.top="-9999px",a.style.width=c.width+"px",a.style.height=c.height+"px",document.body.appendChild(a),null==(l=e.calculative.canvas.externalElements)||l.parentElement.appendChild(a),t(e,a),e.calculative.singleton.div=a,e.calculative.singleton.echart=o.init(a,e.echarts.theme),function(e){var t;const a=e.calculative.singleton.echart,l=["click","dblclick","mousedown","mousemove","mouseup","mouseover","mouseout","globalout","contextmenu"];l.forEach((e=>{a.off(e)})),null==(t=e.events)||t.forEach((t=>{t.actions&&t.actions.length&&l.includes(t.name)&&a.on(t.name,(a=>{let l=!1;t.conditions&&t.conditions.length?"and"===t.conditionType?l=t.conditions.every((t=>e.calculative.canvas.parent.judgeCondition(e,t.key,t))):"or"===t.conditionType&&(l=t.conditions.some((t=>e.calculative.canvas.parent.judgeCondition(e,t.key,t)))):l=!0,l&&t.actions.forEach((t=>{if(t.timeout){let l=setTimeout((()=>{e.calculative.canvas.parent.events[t.action]&&(e.calculative.canvas.parent.events[t.action](e,t,a),clearTimeout(l),l=null)}),t.timeout)}else e.calculative.canvas.parent.events[t.action]&&e.calculative.canvas.parent.events[t.action](e,t,a)}))}))}))}(e),e.calculative.singleton.echartsReady=!0,e.echarts.geoName&&!o.getMap(e.echarts.geoName)&&(e.echarts.geoJson?o.registerMap(e.echarts.geoName,e.echarts.geoJson):e.echarts.geoUrl&&(e.calculative.singleton.echartsReady=!1,fetch(e.echarts.geoUrl).then((t=>{t.text().then((t=>{if("string"==typeof t)try{t=JSON.parse(t)}catch{}t.constructor!==Object&&t.constructor!==Array||(o.registerMap(e.echarts.geoName,t),e.calculative.singleton.echartsReady=!0,e.calculative.singleton.echart.setOption(he(e.echarts.option,e.calculative.canvas.store.data.scale),!0),e.calculative.singleton.echart.resize(),setTimeout((()=>{se(e)}),300))}))})))),e.calculative.singleton.echartsReady&&setTimeout((()=>{e.calculative.singleton.echart.setOption(he(e.echarts.option,e.calculative.canvas.store.data.scale),!0),setTimeout((()=>se(e)),300)}))}return i}function ae(e){if(e.calculative.singleton&&e.calculative.singleton.div){e.calculative.singleton.div.remove();let t=globalThis.echarts;t&&t.dispose(e.calculative.singleton.echart),delete e.calculative.singleton.div,delete e.calculative.singleton.echart}}function le(e){e.calculative.singleton.div&&t(e,e.calculative.singleton.div)}function oe(e){var t;le(e),(null==(t=e.calculative.singleton)?void 0:t.echart)&&e.calculative.singleton.echart.resize()}function ie(e){var a,l;if(!e.calculative.singleton.echart)return;let o=globalThis.echarts;if(t(e,e.calculative.singleton.div),!e.echarts.geoName||o.getMap(e.echarts.geoName)){if(!e.echarts.diabled){if(null==(a=e.echarts.option)?void 0:a.dataZoom){const t=e.calculative.singleton.echart.getOption().dataZoom;null==(l=e.echarts.option.dataZoom)||l.forEach(((e,a)=>{t[a]&&(e.start=t[a].start,e.end=t[a].end)}))}e.calculative.singleton.echart.setOption(he(e.echarts.option,e.calculative.canvas.store.data.scale),!0)}e.calculative.singleton.echart.resize()}}function ce(e){var l,o;if(e.calculative.singleton.echart&&(t(e,e.calculative.singleton.div),e.calculative.singleton.echartsReady))if(e.calculative.partialOption){const t=e.calculative.partialOption.echarts.option;!!Array.isArray(null==(l=e.echarts)?void 0:l.replaceMerge)&&(null==(o=e.echarts)?void 0:o.replaceMerge.some((e=>t[e])))?e.calculative.singleton.echart.setOption(a(t),{replaceMerge:e.echarts.replaceMerge}):e.calculative.singleton.echart.setOption(a(t))}else e.calculative.singleton.echart.setOption(he(e.echarts.option,e.calculative.canvas.store.data.scale),!0)}function ne(e,t){if(e.calculative.partialOption=null,t.echarts){let a=globalThis.echarts;return t.echarts.geoName&&!a.getMap(t.echarts.geoName)&&(t.echarts.geoJson?a.registerMap(t.echarts.geoName,t.echarts.geoJson):t.echarts.geoUrl&&(e.calculative.singleton.echartsReady=!1,fetch(t.echarts.geoUrl).then((l=>{l.text().then((l=>{if("string"==typeof l)try{l=JSON.parse(l)}catch{}if(l.constructor===Object||l.constructor===Array)return a.registerMap(t.echarts.geoName,l),e.calculative.singleton.echartsReady=!0,e.onValue(e),!1}))})))),t}if(e.realTimes&&e.realTimes.length){let c=Object.keys(t);const{xAxis:n,yAxis:r}=e.echarts.option,{max:s,replaceMode:h,timeFormat:d}=e.echarts;let u=[],v=!1;for(let a in t)if(a.includes("echarts.option")){v=!0;let i=l(e,a);if(Array.isArray(i)&&h===Q.Add&&(i.push(t[a]),s&&i.splice(0,i.length-s),t[a]=i,!c.includes("echarts.option.xAxis.data"))){let a="echarts.option.xAxis.data";Array.isArray(n)&&n.length&&(a="echarts.option.xAxis.0.data");let i=l(e,a),c=o(d||"`${hours}:${minutes}:${seconds}`");i.push(c),s&&i.splice(0,i.length-s),t[a]=i}if(a.includes(".data.")){let e=a.substring(0,a.indexOf(".data.")+5);u.includes(e)||u.push(e)}}if(v){const o=a(t);e.calculative.partialOption=function(e,t){const a={};return Object.keys(e).forEach((o=>{const c=o.split(".");let n=a;c.forEach(((a,r)=>{const s=!isNaN(parseInt(a));if(6===r){let a=c.slice(0,7).join(".");i(t,o,e[o]);let s=l(t,a);n[c[r]]=s}else{if(r>6)return;if(r===c.length-1)s?(Array.isArray(n)||(n=[]),n[parseInt(a)]=e[o]):n[a]=e[o];else if(s){const e=parseInt(a);if(Array.isArray(n)||n[c[r-1]],n[e]||(n[e]={}),Array.isArray(n))for(let t=0;t<parseInt(a);t++)n[t]||(n[t]={});n=n[e]}else n[a]||(n[a]="series"===a?[]:{}),n=n[a]}}))})),a}(o,e),u.forEach((t=>{let a=l(e,t);i(e.calculative.partialOption,t,a)}))}return t}if(!t.dataX&&!t.dataY)return t;const c=e.echarts,{max:n,replaceMode:r}=c;let s=t.dataX,h=t.dataY,d=[];h&&d.push("echarts.option.series");const u=c.option.series,v=u.length,{xAxis:f,yAxis:g}=c.option;Array.isArray(f)&&f.length;const y=Array.isArray(f)?f[0]:f,x=Array.isArray(g)?g[0]:g;if(r)if(r===Q.Replace)if(y||x){if(("category"===y.type||"category"===x.type)&&s&&h){const e="category"===y.type?y.data:x.data;!Array.isArray(s)&&(s=[s]),!Array.isArray(h)&&(h=[h]),"category"===y.type?d.push("echarts.option.xAxis"):d.push("echarts.option.yAxis"),1===v?h.forEach(((t,a)=>{const l=e.indexOf(s[a]);u[0].data[l]=t})):u.forEach(((t,a)=>{h[a].forEach(((a,l)=>{const o=e.indexOf(s[l]);t.data[o]=a}))}))}}else h&&(1===v?(!Array.isArray(h)&&(h=[h]),h.forEach(((e,t)=>{const a=u[0].data.find((t=>t.name===e.name));a&&(a.value=e.value)}))):u.forEach(((e,t)=>{Array.isArray(h[t])||(h[t]=[h[t]]),h[t].forEach(((t,a)=>{const l=e.data.find((e=>e.name===t.name));l&&(l.value=t.value)}))})));else r===Q.ReplaceAll&&(s&&(y.data=s,y.data.splice(0,y.data.length-n),d.push("echarts.option.xAxis")),h&&(1===v?(u[0].data=h,u[0].data.splice(0,u[0].data.length-n)):u.forEach(((e,t)=>{e.data=h[t],e.data.splice(0,e.data.length-n)}))));else{if(s){!Array.isArray(s)&&(s=[s]);const e=y.data;e.push(...s),e.splice(0,e.length-n),d.push("echarts.option.xAxis")}if(h)if(1===v){!Array.isArray(h)&&(h=[h]);const e=u[0].data;e.push(...h),e.splice(0,e.length-n)}else u.forEach(((e,t)=>{Array.isArray(h[t])||(h[t]=[h[t]]);const a=e.data;a.push(...h[t]),a.splice(0,a.length-n)}))}return e.calculative.partialOption={},d.forEach((t=>{let a=l(e,t);i(e.calculative.partialOption,t,a)})),delete t.dataX,delete t.dataY,Object.assign(t,{echarts:c})}function re(e,t,a){if("dataY"!==a.key)return;const l=e.echarts,{xAxis:o,yAxis:i}=l.option;Array.isArray(o)&&o.length;const c=Array.isArray(o)?o[0]:o,n=Array.isArray(i)?i[0]:i,r=l.option.series;if(c||n){if("category"===c.type||"category"===n.type){const l=[],o=[],i="category"===c.type?c.data:n.data;return null==i||i.forEach((e=>{const{dataId:i}=a.dataIds.find((t=>t.name===e));if(i){const a=t.find((e=>e.dataId===i));a&&(o.push(e),l.push(a.value))}})),{id:e.id,dataY:l,dataX:o}}if("time"===c.type){const l=[],o=+new Date;let i=!1;if(r.forEach(((e,c)=>{const n=[],{dataId:r}=a.dataIds.find((t=>t.name===e.name));if(r){const e=t.find((e=>e.dataId===r));e&&(n.push([o,e.value]),i=!0)}l[c]=n})),!i)return;return l.forEach(((e,t)=>{if(!e||0===e.length){const e=r[t].data[r[t].data.length-1];l[t]=[[o,e[1]]]}})),{id:e.id,dataY:1===l.length?l[0]:l}}}else{const l=[];if(Array.isArray(r)&&1===r.length)return r[0].data.forEach((e=>{const{dataId:o}=a.dataIds.find((t=>t.name===e.name));if(o){const a=t.find((e=>e.dataId===o));a&&l.push({name:e.name,value:a.value})}})),{id:e.id,dataY:l}}}function se(e){var t,a;const l=new Image;l.src=null==(a=null==(t=e.calculative.singleton)?void 0:t.echart)?void 0:a.getDataURL({pixelRatio:2}),e.calculative.img=l}function he(e,t){const l=a(e);if(l.dataZoom){let e=["right","top","width","height","left","bottom"];for(let a=0;a<e.length;a++)l.dataZoom.forEach((l=>{isNaN(l[e[a]])||(l[e[a]]*=t)}))}return c(l,ee,t),l}var de;function ue(e,t){const a=14*t.calculative.worldRect.height/16,l=(e.match(/[\u4e00-\u9fa5]/g)||"").length;return(e.length-l)*a*.6+l*a}function ve(e){if("horizontal"==e.direction){const t=[];let a=0;const l=e.height;e.checkboxHeight=l,e.options.forEach(((o,i)=>{t.push(i*(40+l)+a),a+=ue(o.text,e)})),e.optionPos=t;const o=t.length*(40+l)+a;e.checkboxWidth=o,e.width=o,e.calculative.width=o,e.calculative.worldRect={x:e.x,y:e.y,height:e.height,width:e.width,center:{x:e.x+e.width/2,y:e.y+e.height/2}},r(e.calculative.worldRect)}else if("vertical"==e.direction){null==e.optionInterval&&(e.optionInterval=20),e.optionHeight||(e.optionHeight=20);const t=[];e.options.forEach(((a,l)=>{t.push(l*(e.optionInterval+e.optionHeight))})),e.optionPos=t;const a=t[t.length-1]+e.optionHeight;e.checkboxHeight=a,e.width||(e.height=a,e.calculative.height=a,e.calculative.worldRect={x:e.x,y:e.y,height:e.height,width:e.width,center:{x:e.x+e.width/2,y:e.y+e.height/2}},r(e.calculative.worldRect))}}function fe(e,t){t.onAdd||(t.onAdd=ge,t.rowPos&&t.colPos&&t.calculative.maxOffsetY||t.onAdd(t),t.onMouseMove=pe,t.onMouseLeave=me,t.onMouseDown=we,t.onShowInput=ye,t.onInput=xe,t.onValue=Ae,t.onBeforeValue=Se,t.onMouseEnter=Fe,t.onWheel=Me,t.onDestroy=Ie),t.data.length!==t.rowPos.length&&(t.initWorldRect=null,t.calculative.isUpdateData=!0,t.onValue(t)),t.data[0].length!==t.colPos.length&&(t.initWorldRect=null,t.calculative.isUpdateData=!0,t.onValue(t));const a=t.calculative.canvas.store;if(t.calculative.canvas.store.data,t.calculative.canvas.store.options,t.color=t.color||a.styles.color,t.textColor=t.textColor||t.color||a.styles.textColor,t.activeColor=t.activeColor||a.styles.activeColor,t.hoverColor=t.hoverColor||a.styles.hoverColor,t.activeBackground=t.activeBackground||a.styles.activeBackground,t.hoverBackground=t.hoverBackground||a.styles.hoverBackground,!t.hasHeader){e.save(),e.beginPath();const{x:a,y:l,width:o,height:i}=t.calculative.worldRect;e.fillStyle="#fff0",e.rect(a-1,l-1,o+2,i+2),e.fill(),e.clip()}!function(e,t){if(!t.colPos)return;const{x:a,y:l,width:o,height:i,ex:c,ey:n}=t.calculative.worldRect;e.save(),e.beginPath(),e.strokeStyle=t.color;let r=t.calculative.borderRadius||0,s=r;r<1&&(r*=o,s*=i);let h=r<s?r:s;o<2*h&&(h=o/2);i<2*h&&(h=i/2);e.moveTo(a+h,l),e.arcTo(c,l,c,n,h),e.arcTo(c,n,a,n,h),e.arcTo(a,n,a,l,h),e.arcTo(a,l,c,l,h),t.background&&(e.fillStyle=t.background,e.fill());!1!==t.bordered&&(e.strokeStyle=t.borderColor||t.color||"#424B61",e.stroke());if(!1!==t.hLine){let a=t.rowPos[t.rowPos.length-1];t.hasHeader&&(e.beginPath(),e.moveTo(t.calculative.worldRect.x,t.calculative.worldRect.y+t.rowPos[0]*t.calculative.worldRect.height/t.tableHeight),e.lineTo(t.calculative.worldRect.ex,t.calculative.worldRect.y+t.rowPos[0]*t.calculative.worldRect.height/t.tableHeight),e.strokeStyle=t.borderColor||t.color||"#424B61",e.stroke());for(const l of t.rowPos){if(l===a)continue;const o=l*t.calculative.worldRect.height/t.tableHeight-t.offsetY*t.calculative.canvas.store.data.scale;if(t.hasHeader){if(o<0+t.rowPos[0]||o>t.calculative.worldRect.height)continue}else if(o<0||o>t.calculative.worldRect.height)continue;e.beginPath(),e.moveTo(t.calculative.worldRect.x,t.calculative.worldRect.y+o),e.lineTo(t.calculative.worldRect.ex,t.calculative.worldRect.y+o),e.strokeStyle=t.borderColor||t.color||"#424B61",e.stroke()}}if(!1!==t.vLine){let a=t.colPos[t.colPos.length-1];t.colPos.forEach(((l,o)=>{if(l===a)return;const i=l*t.calculative.worldRect.width/t.tableWidth;e.beginPath(),e.moveTo(t.calculative.worldRect.x+i,t.calculative.worldRect.y),e.lineTo(t.calculative.worldRect.x+i,t.calculative.worldRect.ey),e.strokeStyle=t.borderColor||t.color||"#424B61",e.stroke()}))}e.restore()}(e,t),function(e,t){var a,l,o,i,c;if(!t.colPos)return;t.calculative.texts||(t.calculative.texts=[]);const n=1;for(let r=0;r<t.rowPos.length;r++){if(t.hasHeader&&1===r){e.save(),e.beginPath();const{x:a,y:l,width:o,height:i}=t.calculative.worldRect;e.fillStyle="#fff0",e.rect(a-1,l+t.rowPos[0]*t.calculative.worldRect.height/t.tableHeight-1,o+2,i-t.rowPos[0]*t.calculative.worldRect.height/t.tableHeight+2),e.fill(),e.clip()}let{style:h}=Pe(t,r);for(let d=0;d<t.colPos.length;d++){let{value:u,style:v}=Te(t,r,d),f=!0;if(Array.isArray(v)&&v.length>0){let e=0;v.forEach(((t,a)=>{if(t.wheres){t.wheres.every((e=>new Function("attr",`return attr ${e.comparison} ${e.value}`)(u)))&&(e=a)}})),v=v[e]}else v.wheres&&Array.isArray(v.wheres)&&(f=!1,f=v.wheres.every((function(e){return new Function("attr",`return attr ${e.comparison} ${e.value}`)(u)})));let g,y=t.color,x=t.textColor||t.color,p=null,m=null,w=null,b=null;f&&(y=v.color||h.color||t.color,x=v.textColor||h.textColor||t.textColor,p=v.background||h.background,m=(v.fontSize||h.fontSize||0)*t.calculative.canvas.store.data.scale,w=v.fontWeight||h.fontWeight,b=v.fontStyle||h.fontStyle),t.stripe&&(!1!==t.hasHeader?r%2==1&&(p=p||t.stripeColor||"#407FFF1F"):r%2==0&&(p=p||t.stripeColor||"#407FFF1F")),t.calculative.active&&(null==(a=t.calculative.activeCell)?void 0:a.row)===r&&(null==(l=t.calculative.activeCell)?void 0:l.col)===d&&(y=t.activeColor,p=t.activeBackground,g=y,x=t.activeTextColor||t.activeColor),t.calculative.hover&&(null==(o=t.calculative.hoverCell)?void 0:o.row)===r&&(null==(i=t.calculative.hoverCell)?void 0:i.col)===d&&(y=t.hoverColor,p=t.hoverBackground,x=t.hoverTextColor||t.hoverColor,g=y);const T=Re(t,r,d);if(T.y+T.height<t.calculative.worldRect.y||T.y>t.calculative.worldRect.height+t.calculative.worldRect.y)continue;p&&(e.save(),e.beginPath(),e.fillStyle=p,e.fillRect(T.x,T.y,T.width+.25*t.calculative.canvas.store.data.scale,T.height),e.restore()),g&&(e.save(),e.beginPath(),e.strokeStyle=g,e.strokeRect(T.x,T.y,T.width,T.height),e.restore()),t.calculative.worldTextRect=T;let P=t.calculative.texts[r];if(t.calculative.texts[r]||(P=[],t.calculative.texts.push(P)),null==P[d]){if("object"==typeof u){const e=t.styles&&t.styles.filter((e=>e.col===d&&void 0===e.row&&e.pens));if(e.length>0){if(P[d]="",t.isFirstTime){t.maxNum&&t.hasHeader&&r>=t.maxNum&&(u.visible=!1);let a=JSON.parse(JSON.stringify(e[0].pens));a.forEach((e=>{Object.assign(e,{row:r,col:d},u),e.activeBackground=e.background,e.hoverBackground=e.background,e.activeColor=e.color,e.hoverColor=e.color,e.activeTextColor=e.textColor,e.hoverTextColor=e.textColor,e.height*=t.calculative.canvas.store.data.scale,e.width*=t.calculative.canvas.store.data.scale})),Ce(t,T,a),t.calculative.canvas.parent.pushChildren(t,a)}continue}}else P[d]=void 0===u?"":u.text||u+"";if(!P[d])continue;P[d]=s(t,P[d])}if(!P[d])continue;e.save(),e.beginPath(),e.fillStyle=x,e.textAlign="center",e.textBaseline="middle",e.font=(b||t.calculative.fontStyle||"")+" normal "+(w||t.calculative.fontWeight||"")+" "+(m||t.calculative.fontSize||12)*n+"px "+t.calculative.fontFamily;let k=t.colStyle&&(null==(c=t.colStyle[d])?void 0:c.textAlign);if(k&&(e.textAlign=k),1===P[d].length)"left"===k?e.fillText(P[d][0],T.x,T.y+T.height/2):"right"===k?e.fillText(P[d][0],T.x+T.width,T.y+T.height/2):e.fillText(P[d][0],T.x+T.width/2,T.y+T.height/2);else{const a=.55,l=(m||t.calculative.fontSize)*t.calculative.lineHeight*n,o=P[d].length*l;let i=(T.height-o)/2;"left"===k?P[d].forEach(((t,o)=>{e.fillText(t,T.x,T.y+i+(o+a)*l)})):"right"===k?P[d].forEach(((t,o)=>{e.fillText(t,T.x+T.width,T.y+i+(o+a)*l)})):P[d].forEach(((t,o)=>{e.fillText(t,T.x+T.width/2,T.y+i+(o+a)*l)}))}e.restore()}}}(e,t),function(e,t){if(!t.calculative.hover)return;if(!t.calculative.hoverCell)return;if(t.calculative.isInput)return;if(!t.calculative.isHover)return;let a=t.calculative.worldRect,l=t.calculative.canvas.mousePos;if(!(l.x>a.x&&l.x<a.x+a.width&&l.y>a.y&&l.y<a.y+a.height))return t.calculative.hover=!1,t.calculative.isHover=!1,void(t.calculative.hoverCell=void 0);const{row:o,col:i}=t.calculative.hoverCell,{x:c,y:n}=t.calculative.canvas.mousePos;if(!t.data[o])return;let r=t.data[o][i];if("object"==typeof r||!r)return;e.save(),e.beginPath(),e.textAlign="start",e.textBaseline="middle",e.font=e.font=(t.calculative.fontStyle||"")+" normal "+(t.calculative.fontWeight||"")+" "+(t.calculative.fontSize||12)+"px "+t.calculative.fontFamily;const s=e.measureText(r).width;e.beginPath(),e.fillStyle="#fff",e.strokeStyle="#000",e.moveTo(c,n),e.rect(c-10,n,s+20,20),e.fill(),e.stroke(),e.beginPath(),e.fillStyle="#000",e.fillText(r,c,n+10),e.restore()}(e,t),e.restore(),t.isFirstTime=!1}function ge(e){var t;He(e),(null==(t=e.children)?void 0:t.length)||(e.isFirstTime=!0),e.offsetY||(e.offsetY=0),function(e){const t=[],a=[],l={};e.rowHeight||(e.rowHeight=40),e.colWidth||(e.colWidth=150);let o=0;const i=e.styles&&e.styles.filter((e=>void 0!==e.col&&void 0===e.row&&e.width));let c={};i&&i.forEach((e=>{c[e.col]=e.width}));for(let r=0;r<e.data[0].length;r++){o+=(c[r]||e.colWidth)*e.calculative.canvas.store.data.scale,t.push(o);let a=e.styles&&e.styles.filter((e=>e.col===r&&void 0===e.row));a&&(l[r]=a[0])}let n=0;const s=e.styles&&e.styles.filter((e=>void 0===e.col&&void 0!==e.row&&e.height));let h={};s&&s.forEach((e=>{h[e.row]=e.height}));let d=n;for(let r=0;r<e.data.length;r++)n+=(h[r]||e.rowHeight)*e.calculative.canvas.store.data.scale,a.push(n),r<e.maxNum&&(d=n);if(e.calculative.maxOffsetY=(n-d)/e.calculative.canvas.store.data.scale,e.initWorldRect)return;e.colPos=t,e.rowPos=a,e.colStyle=l,e.initScale=e.calculative.canvas.store.data.scale,e.tableWidth=o,e.tableHeight=d||n,e.calculative.width=o,e.calculative.height=d||n,e.calculative.width=o,e.calculative.height=d||n,e.height||(e.height=e.calculative.height),e.width||(e.width=e.calculative.width);let u=e.x,v=e.y;if(e.parentId){let t=e.calculative.canvas.store.pens[e.parentId];u=t.calculative.worldRect.x+t.calculative.worldRect.width*e.x,v=t.calculative.worldRect.y+t.calculative.worldRect.height*e.y}e.calculative.worldRect={x:u,y:v,height:e.calculative.height,width:e.calculative.width,center:{x:e.x+e.calculative.width/2,y:e.y+e.calculative.height/2}},e.width=e.calculative.width,e.height=e.calculative.height,e.initWorldRect||(e.initWorldRect={width:e.calculative.worldRect.width,height:e.calculative.worldRect.height}),r(e.calculative.worldRect)}(e)}function ye(e,t){if(!e.calculative.hoverCell)return;const{value:a}=Te(e,e.calculative.hoverCell.row,e.calculative.hoverCell.col);if("object"==typeof a)return;e.calculative.isHover=!1,e.calculative.isInput=!0,e.calculative.canvas.render(),e.calculative.inputCell=e.calculative.hoverCell;const l=Re(e,e.calculative.hoverCell.row,e.calculative.hoverCell.col);e.calculative.tempText=a.text||a+"",e.calculative.canvas.showInput(e,l,"#ffffff")}function xe(e,t){e.calculative.inputCell&&(ke(e,e.calculative.inputCell.row,e.calculative.inputCell.col,t),e.calculative.isInput=!1,e.calculative.isHover=!0,e.calculative.canvas.render())}function pe(e,t){e.timer&&(e.calculative.isHover=!1,clearTimeout(e.timer)),e.timer=setTimeout((()=>{e.calculative.isHover=!0,e.calculative.canvas.render()}),500),e.calculative.hoverCell=be(e,t),e.calculative.canvas.render()}function me(e,t){He(e),e.calculative.hoverCell=void 0,e.calculative.canvas.render()}function we(e,t){e.calculative.activeCell=be(e,t),e.calculative.canvas.render()}function be(e,t){const a=e.calculative.worldRect.width/e.tableWidth,l=e.calculative.worldRect.height/e.tableHeight,o={row:0,col:0};for(let i=0;i<e.colPos.length;i++)t.x>e.calculative.worldRect.x+e.colPos[i]*a&&(o.col=i+1);for(let i=0;i<e.rowPos.length;i++)t.y>e.calculative.worldRect.y+e.rowPos[i]*l-e.offsetY*e.calculative.canvas.store.data.scale&&(o.row=i+1);return o}function Te(e,t,a){if(!e.data||!Array.isArray(e.data))return;const l=e.data[t],o=e.styles&&e.styles.filter((e=>e.row===t&&e.col===a));if(Array.isArray(l))return{value:l[a],style:(null==o?void 0:o.length)>0?o.length>1?o:o[0]:{}};l.data&&Array.isArray(l.data)}function Pe(e,t){if(!e.data||!Array.isArray(e.data))return;const a=e.data[t],l=e.styles&&e.styles.filter((e=>e.row===t&&void 0===e.col));if(Array.isArray(a))return{value:a,style:(null==l?void 0:l.length)>0?l[0]:{}};a.data&&Array.isArray(a.data)}function ke(e,t,a,l){if(!e.data||!Array.isArray(e.data))return;e.isFirstTime=!1,e.calculative.texts=void 0;let o=e.data[t];o&&(o[a]instanceof Object||(o[a]=l),e.calculative.canvas.store.emitter.emit("valueUpdate",e))}function Re(e,t,a){const l=e.calculative.worldRect.width/e.tableWidth,o=e.calculative.worldRect.height/e.tableHeight;let i=0,c=e.colPos[a]*l;a>0&&(i=e.colPos[a-1]*l);let n=0,r=e.rowPos[t]*o;t>0&&(n=e.rowPos[t-1]*o);let s=e.offsetY*e.calculative.canvas.store.data.scale;return 0===t&&e.hasHeader&&(s=0),{x:e.calculative.worldRect.x+i,y:e.calculative.worldRect.y+n-s,ex:e.calculative.worldRect.x+c,ey:e.calculative.worldRect.y+r-s,width:c-i,height:r-n}}function Ce(e,t,a){if(!a||!a.length)return;const l=e.calculative.worldRect.width/e.tableWidth,o=e.calculative.worldRect.height/e.tableHeight;let i=1,c=1;e.initWorldRect&&(e.calculative.worldRect.width!==e.initWorldRect.width&&(i=e.calculative.worldRect.width/e.initWorldRect.width),e.calculative.worldRect.height!==e.initWorldRect.height&&(c=e.calculative.worldRect.height/e.initWorldRect.height));let n=0,r=0,s=0;const h=e.calculative.canvas.store.data.scale;if(a.length>1){for(const e of a)r+e.width*l+20*h*l<t.width?(e.x=t.x+r+10*h*l,e.y=t.y+s+10*h*o,r+=(e.width+10*h)*l,n=Math.max(n,s+(e.height+10*h)*o)):(r=0,s=n,e.x=t.x+r+10*h*l,e.y=t.y+s+10*h*o,n+=(e.height+10*h)*o);if(n+20*h*o<t.height){const e=(t.height-n-10*h*o)/2;for(const t of a)t.y+=e}}else a[0].x=t.x+(t.width-a[0].width)/2,a[0].y=t.y+(t.height-a[0].height)/2;a.forEach((e=>{e.width=e.width*i,e.height=e.height*c}))}function Ae(e){if(e.calculative.isUpdateData){delete e.calculative.isUpdateData;let t=a(e.children);e.children=[],ge(e),t&&t.forEach((t=>{e.calculative.canvas.delForce(e.calculative.canvas.findOne(t))})),e.calculative.texts=void 0}}function Se(e,t){if(e.calculative.isUpdateData=!1,void 0!==e.swiper&&(e.swiper?He(e):We(e)),t.styles&&(e.initWorldRect=void 0),t.table||null==t.col&&null==t.row){if(t.dataY){const a=e.replaceMode;let l=[];return a?a===de.Replace?(l=e.data,t.dataX&&t.dataX.forEach(((e,a)=>{l[e]=t.dataY[a]}))):a===de.ReplaceAll&&(t.dataX?l[0]=t.dataX:l[0]=e.data[0],l=l.concat(t.dataY)):l=e.data.concat(t.dataY),delete t.dataX,delete t.dataY,e.calculative.isUpdateData=!0,Object.assign(t,{data:l})}(t.data||t.styles||t.maxNum||t.rowHeight||t.colWidth)&&(e.calculative.isUpdateData=!0,e.initWorldRect=null);for(let a of Object.keys(t))a.includes("data.")&&(e.calculative.isUpdateData=!0);return t}let a=e.data[t.row];return a?(a[t.col]instanceof Object||(a[t.col]=t.value),ke(e,t.row,t.col,t.value),e.calculative.canvas.render(),delete t.col,delete t.row,t):t}function Me(e,t){if(!e.locked&&!e.calculative.canvas.store.data.locked)return;if(!e.maxNum)return;let a=0;a=t.deltaY>0?4:-4,De(e,a)}function De(e,t){var l;e.offsetY||(e.offsetY=0),e.offsetY+=t,e.offsetY>e.calculative.maxOffsetY&&(e.offsetY=e.calculative.maxOffsetY),e.offsetY<0&&(e.offsetY=0),null==(l=e.children)||l.forEach((t=>{const l=e.calculative.canvas.store.pens[t];!function(e,t){if(!t)return;t.oldY||(t.oldY=t.y);t.calculative.worldRect,e.calculative.worldRect;const l=e.calculative.canvas.store.data.scale;e.calculative.worldRect.height,e.tableHeight;const o=e.rowHeight;t.y=t.oldY-e.offsetY*l/e.calculative.worldRect.height;const i=o*(e.initScale||1)/e.tableHeight*e.maxNum;if(e.calculative.canvas.updatePenRect(t),e.hasHeader)if(t.y<e.rowPos[0]/e.tableHeight){if(t.calculative.visible=!1,t.visible=!1,t.y<e.rowPos[0]/e.tableHeight/2){t.oldY+=i;let l=t.row+e.maxNum;if(!e.data[l])return;let o=a(e.data[l][t.col]);o.background&&(o.activeBackground=o.background,o.hoverBackground=o.background),o.color&&(o.hoverColor=o.color,o.activeColor=o.color),o.textColor&&(o.activeTextColor=o.textColor,o.hoverTextColor=o.textColor),Object.assign(t,o,{row:l}),Object.assign(t.calculative,o,{row:l})}}else if(t.y+t.height>1){if(t.calculative.visible=!1,t.visible=!1,t.y+t.height/2>1){t.oldY-=i;let l=t.row-e.maxNum;if(!e.data[l])return;let o=a(e.data[l][t.col]);o.background&&(o.activeBackground=o.background,o.hoverBackground=o.background),o.color&&(o.hoverColor=o.color,o.activeColor=o.color),o.textColor&&(o.activeTextColor=o.textColor,o.hoverTextColor=o.textColor),Object.assign(t,o,{row:l}),Object.assign(t.calculative,o,{row:l})}}else t.visible=!0,t.calculative.visible=!0;else if(t.y<0){if(t.calculative.visible=!1,t.visible=!1,t.y<-o/e.tableHeight/2){t.oldY+=i;let l=t.row+e.maxNum;if(!e.data[l])return;let o=a(e.data[l][t.col]);o.background&&(o.activeBackground=o.background,o.hoverBackground=o.background),o.color&&(o.hoverColor=o.color,o.activeColor=o.color),o.textColor&&(o.activeTextColor=o.textColor,o.hoverTextColor=o.textColor),Object.assign(t,o,{row:l}),Object.assign(t.calculative,o,{row:l})}}else if(t.y+t.height>1){if(t.calculative.visible=!1,t.visible=!1,t.y+t.height/2>1){t.oldY-=i;let l=t.row-e.maxNum;if(!e.data[l])return;let o=a(e.data[l][t.col]);o.background&&(o.activeBackground=o.background,o.hoverBackground=o.background),o.color&&(o.hoverColor=o.color,o.activeColor=o.color),o.textColor&&(o.activeTextColor=o.textColor,o.hoverTextColor=o.textColor),Object.assign(t,o,{row:l}),Object.assign(t.calculative,o,{row:l})}}else t.calculative.visible=!0,t.visible=!0}(e,l)})),e.calculative.canvas.render()}function Ie(e){We(e)}function We(e){e.interval&&(globalThis.clearInterval(e.interval),e.interval=null)}function He(e){if(e.maxNum&&e.swiper){if(e.interval)return;e.interval=globalThis.setInterval((()=>{e.offsetY>=e.calculative.maxOffsetY?(e.offsetY=0,function(e){var t;null==(t=e.children)||t.forEach((t=>{const l=e.rowHeight,o=e.calculative.canvas.store.pens[t];if(!o)return;const i=l*(e.initScale||1)/e.tableHeight*e.maxNum;o.oldY-=i;const c=o.row-e.maxNum;if(!e.data[c])return;let n=a(e.data[c][o.col]);n.background&&(n.activeBackground=n.background,n.hoverBackground=n.background),n.color&&(n.hoverColor=n.color,n.activeColor=n.color),n.textColor&&(n.activeTextColor=n.textColor,n.hoverTextColor=n.textColor),o.calculative.visible=!0,o.visible=!0,Object.assign(o,n,{row:c}),Object.assign(o.calculative,n,{row:c})})),e.calculative.canvas.render()}(e)):e.offsetY%e.rowHeight?De(e,1):(e.calculative.stap||(e.calculative.stap=0),e.calculative.stap+=1,12==e.calculative.stap&&(e.calculative.stap=0,De(e,1)))}),50)}}function Fe(e){We(e)}function Be(e,t){t.onClick||(t.onClick=Oe,t.setTheme=Le);let a=t.calculative.worldRect.x,l=t.calculative.worldRect.y,o=t.calculative.worldRect.width,i=t.calculative.worldRect.height;o<1.5*i&&(o=1.5*i),e.beginPath(),e.arc(a+i/2,l+i/2,i/2,Math.PI/2,3*Math.PI/2),e.lineTo(a+o-i/2,l),e.arc(a+o-i/2,l+i/2,i/2,-Math.PI/2,Math.PI/2),e.lineTo(a+i/2,l+i),t.checked?(e.fillStyle=t.onColor,(t.disabled||t.disable)&&(e.fillStyle=t.disableOnColor||h(.6,t.onColor)),t.lineWidth&&(e.strokeStyle=t.onStrokeColor,e.stroke()),e.fill(),e.closePath(),e.beginPath(),e.fillStyle="#ffffff",e.moveTo(a+2*i,l+i/2),e.arc(a+o-i/2,l+i/2,i/2>2?i/2-2:1,0,2*Math.PI),e.fill()):(e.fillStyle=t.offColor,(t.disabled||t.disable)&&(e.fillStyle=t.disableOffColor||h(.6,t.offColor)),t.lineWidth&&(e.strokeStyle=t.offStrokeColor,e.stroke()),e.fill(),e.closePath(),e.beginPath(),e.fillStyle="#ffffff",e.moveTo(a+i,l+i/2),e.arc(a+i/2,l+i/2,i/2>2?i/2-2:1,0,2*Math.PI),e.fill()),e.closePath()}function Oe(e){e.disableDefaultClick||e.disabled||e.disable||(e.checked=!e.checked,e.calculative.canvas.store.emitter.emit("valueUpdate",e),e.calculative.canvas.render())}function Le(e,t){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const l=t[a];e.hasOwnProperty(a)&&(e[a]=l),e.calculative.hasOwnProperty(a)&&(e.calculative[a]=l)}e.onStrokeColor=t.borderColor,e.offStrokeColor=t.borderColor}function Ee(e,t){t.onAdd||(t.onAdd=Ne,t.onResize=Ne,t.onMove=Ne,t.onMouseMove=je,t.onMouseDown=Ye,t.onValue=Ue,t.onBeforeValue=Ve,t.setTheme=Xe),t.calculative.barRect||Ne(t);const a=t.calculative.canvas.store;t.calculative.canvas.store.options;let l=t.background;t.disabled&&(l=t.disabledBackground||h(.6,l)),e.fillStyle=l,e.beginPath();let o=t.calculative.worldRect.x+t.calculative.barRect.x,i=t.calculative.worldRect.y+t.calculative.barRect.y,c=t.calculative.barRect.width,n=t.calculative.barRect.height,r=n/2;e.moveTo(o+r,i),e.arcTo(o+c,i,o+c,i+n,r),e.arcTo(o+c,i+n,o,i+n,r),e.arcTo(o,i+n,t.x,t.y,r),e.arcTo(o,i,o+c,i,r),e.fill();let s=t.activeColor||a.styles.activeColor;t.disabled&&(s=t.disabledColor||h(.6,s)),e.fillStyle=s,e.beginPath(),c=t.calculative.ballRect.x,e.moveTo(o+r,i),e.arcTo(o+c,i,o+c,i+n,r),e.arcTo(o+c,i+n,o,i+n,r),e.arcTo(o,i+n,t.x,t.y,r),e.arcTo(o,i,o+c,i,r),e.fill(),e.fillStyle=t.btnBackground||"#fff",e.strokeStyle=s,e.lineWidth=2,e.beginPath(),o=t.calculative.worldRect.x+t.calculative.ballRect.x,i=t.calculative.worldRect.y+t.calculative.ballRect.y+t.calculative.ballRect.height/2,e.lineWidth=t.calculative.ballRect.width/10,e.arc(o,i,t.calculative.ballRect.width/2,0,2*Math.PI),e.fill(),e.stroke()}function Ne(e){if(e._textWidth||(e._textWidth=e.textWidth||50,e._fontSize=e.fontSize||12),e.textWidth=e.calculative.worldRect.width,e.calculative.textWidth=e.textWidth,e.unit||(e.unit="%"),e.sliderWidth||(e.sliderWidth=e.width),e.sliderHeight||(e.sliderHeight=e.height),!e.calculative.worldRect)return;const t=e.calculative.worldRect.width/e.sliderWidth,a=e.calculative.worldRect.height/e.sliderHeight,l=Math.min(t,a);e.fontSize=e._fontSize*l;const o=e.calculative.worldRect.width-e._textWidth*l;e.textLeft=o+10*l,e.calculative.textLeft=e.textLeft,e.calculative.barRect={x:0,y:(e.calculative.worldRect.height-e.barHeight*a)/2,width:o,height:e.barHeight*a},r(e.calculative.barRect),ze(e)}function ze(e){const t=3.5*e.calculative.barRect.height,a=e.calculative.barRect.width*e.value/100;e.calculative.ballRect={x:a,y:(e.calculative.worldRect.height-t)/2,width:t,height:t},r(e.calculative.ballRect),e.calculative.text=e.value+e.unit,d(e)}function Ye(e,t){if(e.disabled)return;const a=t.x-e.calculative.worldRect.x;if(a>e.calculative.barRect.width)return;let l=Math.round(a/e.calculative.barRect.width*100);l<e.min||l>e.max||l<0||l>100||(e.value=l,ze(e),e.calculative.text=e.value+e.unit,d(e),e.calculative.canvas.store.emitter.emit("valueUpdate",e),e.calculative.canvas.render())}function je(e,t){e.calculative.canvas.mouseDown&&Ye(e,t)}function Ue(e){e.calculative.isUpdateData&&(delete e.calculative.isUpdateData,Ne(e)),ze(e)}function Ve(e,t){return e.calculative.isUpdateData=!1,(t.textWidth||t.barHeight)&&(t.textWidth&&(e._textWidth=0),e.calculative.isUpdateData=!0),t}function Xe(e,t){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const l=t[a];e.hasOwnProperty(a)&&(e[a]=l),e.calculative.hasOwnProperty(a)&&(e.calculative[a]=l)}e.background=t.sliderBg,e.calculative.background=t.sliderBg,e.btnBackground=t.sliderBtnBg,e.calculative.btnBackground=t.sliderBtnBg,e.activeColor=t.tabActiveBg,e.calculative.activeColor=t.tabActiveBg}function $e(e,t){t.onMouseDown||(t.onMouseDown=Ge),t.options||(t.options=t.data);let a=t.calculative.worldRect.x,l=t.calculative.worldRect.y,o=t.calculative.worldRect.height;t.calculative.worldRect.width;const{fontStyle:i,fontWeight:c,fontSize:n,fontFamily:r,lineHeight:s}=t.calculative;e.beginPath(),e.moveTo(a,l),e.arcTo(a+o,l,a+o,l+o,2),e.arcTo(a+o,l+o,a,l+o,2),e.arcTo(a,l+o,a,l,2),e.arcTo(a,l,a+o,l,2),e.strokeStyle="#d9d9d9",e.fillStyle="#ffffff00",t.checked&&(e.fillStyle=t.background||"#1890ff",e.strokeStyle=t.background||"#1890ff"),(t.isForbidden||t.disabled)&&(e.fillStyle=t.disabledBackground||h(.6,t.background)||"#ebebeb",e.strokeStyle=t.disabledColor||h(.6,t.color)||"#d9d9d9"),e.closePath(),e.fill(),e.stroke(),e.save(),t.checked&&(e.beginPath(),e.lineWidth=o/10,e.strokeStyle="#ffffff",e.moveTo(a+102/506*o,l+o/2),e.lineTo(a+220/506*o,l+346/460*o),e.lineTo(a+404/506*o,l+142/460*o),e.stroke()),e.restore(),e.save(),e.fillStyle=t.disabled||t.isForbidden?t.disabledTextColor||h(.6,t.textColor||t.color)||"#00000040":u(t,t.calculative.canvas.parent.store)||"#000000d9",e.textAlign="start",e.textBaseline="middle",e.font=v({fontStyle:i,fontWeight:c,fontFamily:r||t.calculative.canvas.parent.store.options.fontFamily,fontSize:n,lineHeight:s}),e.fillText(t.value+"",a+o+10,l+o/2),e.restore()}function Ge(e,t){e.isForbidden||(e.checked=!e.checked,e.calculative.canvas.store.emitter.emit("valueUpdate",e),e.calculative.canvas.render())}function qe(e,t){t.options||(t.options=t.data),t.onAdd||(t.onAdd=_e,t.optionPos||(t.onAdd(t),t.calculative.canvas.parent.active([t])),t.onMouseDown=Je,t.onValue=Ze,t.onBeforeValue=Qe);let a=t.calculative.worldRect.x,l=t.calculative.worldRect.y,o=t.calculative.worldRect.height,i=t.calculative.worldRect.width;if(!t.optionPos)return;const{fontStyle:c,fontWeight:n,fontSize:r,fontFamily:s,lineHeight:d}=t.calculative;if("horizontal"==t.direction)for(let f=0;f<t.optionPos.length;f++){const r=t.optionPos[f]*i/t.checkboxWidth,g=t.options[f].isForbidden||t.disabled;e.beginPath(),e.arc(a+r+o/2,l+o/2,o/2,0,2*Math.PI),e.strokeStyle="#d9d9d9",e.fillStyle="#ffffff00",t.options[f].text===t.checked&&(e.strokeStyle=t.options[f].background||t.background||"#1890ff"),g&&(e.fillStyle=t.disabledBackground||h(.6,t.background)||"#ebebeb",e.strokeStyle=t.disabledColor||h(.6,t.color)||"#d9d9d9",t.options[f].text===t.checked&&(e.fillStyle="#ffffff00")),e.closePath(),e.fill(),e.stroke(),e.save(),t.options[f].text===t.checked&&(e.beginPath(),e.strokeStyle=t.options[f].background?t.options[f].background+"20":t.background||"#1890ff20",g&&(e.strokeStyle=t.disabledBackground||h(.6,t.background)||"#ebebeb"),e.arc(a+o/2+r,l+o/2,o/2+1.5,0,2*Math.PI),e.stroke(),e.closePath(),e.beginPath(),e.fillStyle=t.options[f].background||t.background||"#1890ff",g&&(e.fillStyle=t.disabledBackground||h(.6,t.background)||"#ebebeb"),e.arc(a+o/2+r,l+o/2,o/4,0,2*Math.PI),e.fill(),e.closePath()),e.restore(),e.save(),e.fillStyle=g?t.disabledTextColor||"#00000040":u(t,t.calculative.canvas.parent.store)||"#000000d9";const y=14*t.calculative.worldRect.height/16;e.textAlign="start",e.textBaseline="middle",e.font=v({fontStyle:c,fontWeight:n,fontFamily:s||t.calculative.canvas.parent.store.options.fontFamily,fontSize:y,lineHeight:d}),e.fillText(t.options[f].text,a+o+r+10/t.checkboxWidth*i,l+o/2),e.restore()}else if("vertical"==t.direction){const i=t.optionHeight*o/t.checkboxHeight;for(let r=0;r<t.optionPos.length;r++){const h=t.optionPos[r]*o/t.checkboxHeight,f=t.options[r].isForbidden;e.beginPath(),e.arc(a+i/2,l+i/2+h,i/2,0,2*Math.PI),e.strokeStyle="#d9d9d9",e.fillStyle="#ffffff00",t.options[r].text===t.checked&&(e.strokeStyle=t.options[r].background||"#1890ff"),f&&(e.fillStyle="#ebebeb",e.strokeStyle="#d9d9d9"),e.closePath(),e.fill(),e.stroke(),e.save(),f||t.options[r].text!==t.checked||(e.beginPath(),e.strokeStyle=t.options[r].background?t.options[r].background+"20":"#1890ff20",e.arc(a+i/2,l+i/2+h,i/2+1.5,0,2*Math.PI),e.stroke(),e.closePath(),e.beginPath(),e.fillStyle=t.options[r].background||"#1890ff",e.arc(a+i/2,l+i/2+h,i/4,0,2*Math.PI),e.fill(),e.closePath()),e.restore(),e.save(),e.fillStyle=f?"#00000040":u(t,t.calculative.canvas.parent.store)||"#000000d9";const g=14*t.calculative.worldRect.height/t.checkboxHeight;e.textAlign="start",e.textBaseline="middle",e.font=v({fontStyle:c,fontWeight:n,fontFamily:s||t.calculative.canvas.parent.store.options.fontFamily,fontSize:g,lineHeight:d}),e.fillText(t.options[r].text,a+i+10,l+i/2+h),e.restore()}}}function _e(e){ve(e)}function Je(e,t){if("horizontal"==e.direction)for(let a=0;a<e.optionPos.length;a++)!e.options[a].isForbidden&&t.x>e.calculative.worldRect.x+e.optionPos[a]*e.calculative.worldRect.width/e.checkboxWidth&&t.x<e.calculative.worldRect.x+(e.optionPos[a]+e.height)/e.checkboxWidth*e.calculative.worldRect.width+ue(e.options[a].text,e)+10/e.checkboxWidth*e.calculative.worldRect.width&&(e.checked=e.options[a].text,e.calculative.canvas.store.emitter.emit("valueUpdate",e));else if("vertical"==e.direction){const a=e.calculative.worldRect.height/e.checkboxHeight;for(let l=0;l<e.optionPos.length;l++)!e.options[l].isForbidden&&t.y>e.calculative.worldRect.y+e.optionPos[l]*a&&t.y<e.calculative.worldRect.y+(e.optionPos[l]+e.optionHeight)*a&&(e.checked=e.options[l].text,e.calculative.canvas.store.emitter.emit("valueUpdate",e))}e.calculative.canvas.render()}function Ze(e){e.calculative.flag&&ve(e)}function Qe(e,t){return e.calculative.flag=!1,void 0===t.options&&void 0===t.direction&&void 0===t.optionInterval&&void 0===t.optionHeight||(e.calculative.flag=!0),t}!function(e){e[e.Add=0]="Add",e[e.Replace=1]="Replace",e[e.ReplaceAll=2]="ReplaceAll"}(de||(de={}));function Ke(e,t=15){let a=""+e;return a.indexOf(".")>=0&&(a=Number.parseFloat(a).toFixed(t)),Number.parseFloat(a)}function et(e){return"number"==typeof e&&Number.isFinite(e)}function tt(e,t){var a,l,o,i,c,n,r,s,h,d,u,f,g,y,x,p,m,w,b,T,P,k,R,C,A,S,M,D;const I=t.calculative.worldRect.x,W=t.calculative.worldRect.y,H=t.calculative.worldRect.width,F=t.calculative.worldRect.height;let B=t.calculative.canvas.store.data.scale,O=[];if(t.echarts)for(let v=0;v<t.echarts.option.series.length;v++)O.push(t.echarts.option.series[v].data);else O=t.data;let L=[];for(let v=0;v<O.length;v++)L=L.concat(O[v]);let E=function(e){e={max:null,min:null,splitNumber:4,symmetrical:!1,deviation:!1,preferZero:!1,...e};const t=[10,15,20,25,30,40,50,60,70,80,90,100,150];let{max:a,min:l,splitNumber:o,symmetrical:i,deviation:c,preferZero:n}=e;if(!et(a)||!et(l)||a<l)return{splitNumber:o};if(a===l&&0===a)return{max:Ke(t[0]*o),min:l,interval:t[0],splitNumber:o};a===l&&(n=!0),(!et(o)||o<=0)&&(o=4),n&&a*l>0&&(a<0?a=0:l=0);const r=(a-l)/o;let s=Math.floor(Math.log10(r)-1);s=Math.pow(10,s);const h=r/s;let d,u=t[0]*s,v=-1;for(d=0;d<t.length;d++)if(t[d]>h){u=t[d]*s;break}let f=a,g=l;function y(e){if(f=parseInt(""+(a/e+1))*e,g=parseInt(""+(l/e-1))*e,0===a&&(f=0),0===l&&(g=0),i&&f*g<0){const e=Math.max(Math.abs(f),Math.abs(g));f=e,g=-e}}if(y(u),c)return{max:Ke(f),min:Ke(g),interval:Ke(u),splitNumber:Math.round((f-g)/u)};if(!i||f*g>0){let e;e:do{if(e=Math.round((f-g)/u),(d-v)*(e-o)<0)for(;e<o;)if(g-l<=f-a&&0!==g||0===f?g-=u:f+=u,e++,e===o)break e;if(d>=t.length-1||d<=0||e===o)break;v=d,u=e>o?t[++d]*s:t[--d]*s,y(u)}while(e!==o)}f=Ke(f),g=Ke(g);const x=Ke((f-g)/o);return{max:f,min:g,interval:x,splitNumber:o}}({max:Math.max.apply(null,L),min:Math.min.apply(null,L),splitNumber:5}),N=t.echarts?t.echarts.option.xAxis.data.length:t.xAxisData.length;e.beginPath(),e.strokeStyle="#BFBFBF",e.lineWidth=6*B,e.lineCap="butt";let z=(H-1*(N+1))/N;e.setLineDash([1,z]),e.moveTo(I,W+F+3*B),e.lineTo(I+H,W+F+3*B),e.stroke(),e.closePath(),e.beginPath(),e.lineWidth=1*B,e.setLineDash([]),e.moveTo(I,W+F),e.lineTo(I+H,W+F),e.stroke(),e.closePath(),e.beginPath(),e.fillStyle="#BFBFBF",e.strokeStyle="#E9E9E9",e.setLineDash([2,2]);let Y={fontStyle:(null==(l=null==(a=t.yAxis)?void 0:a.axisLabel)?void 0:l.fontStyle)||t.fontStyle,textDecoration:null==(i=null==(o=t.yAxis)?void 0:o.axisLabel)?void 0:i.textDecoration,fontWeight:(null==(n=null==(c=t.yAxis)?void 0:c.axisLabel)?void 0:n.fontWeight)||t.fontWeight,fontFamily:(null==(s=null==(r=t.yAxis)?void 0:r.axisLabel)?void 0:s.fontFamily)||t.fontFamily,fontSize:(null==(d=null==(h=t.yAxis)?void 0:h.axisLabel)?void 0:d.fontSize)||t.fontSize,lineHeight:(null==(f=null==(u=t.yAxis)?void 0:u.axisLabel)?void 0:f.lineHeight)||t.lineHeight};e.fillStyle=(null==(y=null==(g=t.yAxis)?void 0:g.axisLabel)?void 0:y.fontColor)||t.color;for(let V=0;V<E.splitNumber+1;V++){let t=V*F/E.splitNumber;e.textAlign="right",e.textBaseline="middle",e.font=v(Y),e.fillText(E.max-V*E.interval+"",I-10*B,W+t),e.fill(),V<E.splitNumber&&(e.beginPath(),e.moveTo(I,W+t),e.lineTo(I+H,W+t),e.stroke())}e.closePath(),e.beginPath(),e.strokeStyle="#BFBFBF";let j=t.echarts?t.echarts.option.xAxis.data:t.xAxisData,U=0;for(let V=0;V<j.length;V++){U=I+(1+z/2)+(z+1)*V,e.textAlign="center",e.textBaseline="top";let a={fontStyle:(null==(p=null==(x=t.xAxis)?void 0:x.axisLabel)?void 0:p.fontStyle)||t.calculative.fontStyle,textDecoration:null==(w=null==(m=t.xAxis)?void 0:m.axisLabel)?void 0:w.textDecoration,fontWeight:(null==(T=null==(b=t.xAxis)?void 0:b.axisLabel)?void 0:T.fontWeight)||t.calculative.fontWeight,fontFamily:(null==(k=null==(P=t.xAxis)?void 0:P.axisLabel)?void 0:k.fontFamily)||t.calculative.fontFamily,fontSize:(null==(C=null==(R=t.xAxis)?void 0:R.axisLabel)?void 0:C.fontSize)||t.calculative.fontSize,lineHeight:(null==(S=null==(A=t.xAxis)?void 0:A.axisLabel)?void 0:S.lineHeight)||t.calculative.lineHeight};e.font=v(a),e.fillStyle=(null==(D=null==(M=t.xAxis)?void 0:M.axisLabel)?void 0:D.fontColor)||t.calculative.color,e.fillText(j[V],U,W+F+10*B),e.fill()}return e.closePath(),e.setLineDash([]),{dash:z,normalizedOption:E}}function at(e,t){if(!isNaN(e))return-1===t?e:Math.round(1e3*Number(e))/1e3}var lt;function ot(e,t){t.onBeforeValue||(t.onBeforeValue=it);const a=t.calculative.worldRect.x,l=t.calculative.worldRect.y;t.calculative.worldRect.width;const o=t.calculative.worldRect.height;let i=t.calculative.canvas.store.data.scale,c=[];t.echarts&&!t.echarts.option.color&&(t.echarts.option.color=["#1890ff","#2FC25B","#FACC14","#c23531","#2f4554","#61a0a8","#d48265"]);let n=tt(e,t),r=n.dash,s=n.normalizedOption;const h=!!(t.echarts?t.echarts.option.series[0].smooth:t.smooth);let d=[];if(t.echarts)for(let u=0;u<t.echarts.option.series.length;u++)c.push(t.echarts.option.series[u].data);else c=t.data;for(let u=0;u<c.length;u++){e.beginPath();let n=c[u];e.strokeStyle=t.echarts?t.echarts.option.color[u]:t.chartsColor[u],e.fillStyle=t.echarts?t.echarts.option.color[u]:t.chartsColor[u];let v=a+(1+r/2),f=l+o-(n[0]-s.min)/(s.max-s.min)*o;if(e.moveTo(v,f),d.push({x:v,y:f}),h)if(n.length<=2)for(let t=1;t<n.length;t++)v=a+(1+r/2)+(r+1)*t,f=l+o-(n[t]-s.min)/(s.max-s.min)*o,e.lineTo(v,f),d.push({x:v,y:f});else{let t,i,c,h;n.forEach(((u,g)=>{v=a+(1+r/2)+(r+1)*g,f=l+o-(n[g]-s.min)/(s.max-s.min)*o;let y=a+(1+r/2)+(r+1)*(g+1),x=l+o-(n[g+1]-s.min)/(s.max-s.min)*o,p=a+(1+r/2)+(r+1)*(g-1),m=l+o-(n[g-1]-s.min)/(s.max-s.min)*o,w=a+(1+r/2)+(r+1)*(g+2),b=l+o-(n[g+2]-s.min)/(s.max-s.min)*o;0===g?(p=a+(1+r/2)+(r+1)*g,m=l+o-(n[g]-s.min)/(s.max-s.min)*o):g===n.length-2&&(w=a+(1+r/2)+(r+1)*(g+1),b=l+o-(n[g+1]-s.min)/(s.max-s.min)*o),d.push({x:v,y:f}),t=v+(y-p)/4,i=f+(x-m)/4,c=y-(w-v)/4,h=x-(b-f)/4,e.bezierCurveTo(t,i,c,h,y,x)}))}else for(let t=1;t<n.length;t++)v=a+(1+r/2)+(r+1)*t,f=l+o-(n[t]-s.min)/(s.max-s.min)*o,e.lineTo(v,f),d.push({x:v,y:f});e.stroke(),e.closePath(),e.save(),d.forEach(((t,a)=>{e.beginPath(),e.strokeStyle="#fff",e.lineWidth=2*i,e.arc(t.x,t.y,4*i,0,2*Math.PI),e.stroke(),e.fill(),e.closePath()})),e.restore(),d=[]}}function it(e,t){if(t.xAxisData||t.data||!t.dataX&&!t.dataY)return t;const a=e.xAxisData,l=e.data,o=e.replaceMode;let i=[],c=[];return o?o===lt.Replace?(t.dataX.forEach(((e,o)=>{let i=a.indexOf(e);l.forEach(((e,a)=>{e[i]=t.dataY[a][o]}))})),i=a,c=l):o===lt.ReplaceAll&&(i=t.dataX,c=t.dataY):(i=[...a,...t.dataX],l.forEach(((e,a)=>{let l=[...e,...t.dataY[a]];c.push(l)}))),delete t.dataX,delete t.dataY,Object.assign(t,{xAxisData:i,data:c})}function ct(e,t){var a,l;t.onBeforeValue||(t.onBeforeValue=nt);let o=t.calculative.canvas.store.data.scale;const i=t.calculative.worldRect.x,c=t.calculative.worldRect.y,n=t.calculative.worldRect.width,r=t.calculative.worldRect.height,s=!!t.echarts;t.echarts?(t.echarts.option.color||(t.echarts.option.color=["#1890ff","#2FC25B","#FACC14","#c23531","#2f4554","#61a0a8","#d48265"]),t.chartsColor=t.echarts.option.color):t.chartsColor||(t.chartsColor=["#1890ff","#2FC25B","#FACC14","#c23531","#2f4554","#61a0a8","#d48265"]);const h=s?t.echarts.option.series:t.data;let d=0;for(let u=0;u<h.length;u++){let f=h[u],g=n/2;r<n&&(g=r/2);const y=i+n/2,x=c+r/2;let p=0;p=s?f.data.reduce(((e,t)=>e+t.value),0):f.reduce(((e,t)=>e+t.value),0);const m=g*parseFloat(s?f.radius[0]:t.chartsRadius[u][0])/100,w=g*parseFloat(s?f.radius[1]:t.chartsRadius[u][1])/100;if(m>w)return;let b=0,T=0;e.strokeStyle=s&&(null==(a=f.itemStyle)?void 0:a.borderColor)||"#fff",e.lineWidth=(s&&(null==(l=f.itemStyle)?void 0:l.borderWidth)||2)*o;const P=s?f.data:f;P.forEach(((a,l)=>{var i,c,n,r,h,u,g,P,k,R;T+=2*Math.PI*a.value/p,e.beginPath();let C=d+l;C>=t.chartsColor.length&&(C%=t.chartsColor.length),e.fillStyle=s?t.echarts.option.color[C]:t.chartsColor[C],e.moveTo(y+m*Math.sin(T),x-m*Math.cos(T)),e.arc(y,x,m,-Math.PI/2+T,-Math.PI/2+b,!0),e.lineTo(y+w*Math.sin(b),x-w*Math.cos(b)),e.arc(y,x,w,-Math.PI/2+b,-Math.PI/2+T),e.lineTo(y+m*Math.sin(T),x-m*Math.cos(T)),e.stroke(),e.fill(),e.closePath();let A=(b+T)/2,S=y+(w+10*o)*Math.sin(A),M=x-(w+10*o)*Math.cos(A),D=e.fillStyle;f.label||(f.label={position:"outside",show:!0}),s&&["inner","inside"].includes(f.label.position)?(e.fillStyle="#ffffff",S=y+(w-m)/2*Math.sin(A),M=x-(w-m)/2*Math.cos(A)):s&&f.label.position,f.labelLine||(f.labelLine={show:!0}),(s&&!1!==f.labelLine.show||!s)&&(e.beginPath(),e.strokeStyle=s?t.echarts.option.color[d+l]:t.chartsColor[d+l],e.moveTo(y+w*Math.sin(A),x-w*Math.cos(A)),e.lineTo(S,M));let I={fontStyle:(null==(i=t.tickLabel)?void 0:i.fontStyle)||t.calculative.fontStyle,fontWeight:(null==(c=t.tickLabel)?void 0:c.fontWeight)||t.calculative.fontWeight,fontFamily:(null==(n=t.tickLabel)?void 0:n.fontFamily)||t.calculative.fontFamily,lineHeight:(null==(r=t.tickLabel)?void 0:r.lineHeight)||t.calculative.lineHeight,fontSize:((null==(h=t.tickLabel)?void 0:h.fontSize)||t.calculative.fontSize)*o};e.font=v(I),e.textBaseline="middle",e.textAlign="center",A>Math.PI?((s&&"outside"===f.label.position||!s)&&(e.textAlign="end"),(s&&!1!==f.labelLine.show||!s&&((null==(g=null==(u=t.tickLabel)?void 0:u.labelLine)?void 0:g.show)??1))&&e.lineTo(S-5*o,M),(s&&!1!==f.label.show||!s&&((null==(P=t.tickLabel)?void 0:P.show)??1))&&e.fillText(a.name,S-5*o,M)):((s&&"outside"===f.label.position||!s)&&(e.textAlign="start"),(s&&!1!==f.labelLine.show||!s)&&e.lineTo(S+5*o,M),(s&&!1!==f.label.show||!s&&((null==(k=t.tickLabel)?void 0:k.show)??1))&&e.fillText(a.name,S+5*o,M)),e.stroke(),e.closePath(),e.fillStyle=D,e.strokeStyle=s&&(null==(R=f.itemStyle)?void 0:R.borderColor)||"#fff",b=T})),d+=P.length}}function nt(e,t){if(t.data||!t.dataX&&!t.dataY)return t;const a=e.data,l=e.replaceMode;let o=[];return l?l===lt.Replace?(t.dataY.forEach(((e,t)=>{e.forEach(((e,l)=>{let o=a[t].filter((t=>t.name===e.name));o.length>0&&(o[0].value=e.value)}))})),o=a):l===lt.ReplaceAll&&(o=t.dataY):a.forEach(((e,a)=>{let l=[...e,...t.dataY[a]];o.push(l)})),delete t.dataX,delete t.dataY,Object.assign(t,{data:o})}function rt(e,t){t.onBeforeValue||(t.onBeforeValue=it);let a=t.calculative.canvas.store.data.scale;const l=t.calculative.worldRect.x,o=t.calculative.worldRect.y;t.calculative.worldRect.width;const i=t.calculative.worldRect.height;let c=[];if(t.echarts&&!t.echarts.option.color&&(t.echarts.option.color=["#1890ff","#2FC25B","#FACC14","#c23531","#2f4554","#61a0a8","#d48265"]),t.echarts)for(let d=0;d<t.echarts.option.series.length;d++)c.push(t.echarts.option.series[d].data);else c=t.data;let n=tt(e,t),r=n.dash,s=n.normalizedOption,h=4*r/5/c.length;for(let d=0;d<c.length;d++){e.beginPath();let n=c[d];e.fillStyle=t.echarts?t.echarts.option.color[d]:t.chartsColor[d],e.strokeStyle="#ffffff",e.lineWidth=1*a;let u=0,v=0,f=0;for(let t=0;t<n.length;t++)u=l+(1+.1*r)+(r+1)*t+h*d,f=(n[t]-s.min)/(s.max-s.min)*i,v=o+i-f,e.rect(u,v,h-1,f-1),e.stroke(),e.fill();e.closePath()}}function st(e,t){var a,l,o,i,c,n,r,s,h,d,u,f,g,y;t.onAdd||(t.onAdd=ht,t.onDestroy=dt,t.onClick=ut,t.clockInterval&&(t.onDestroy(t),t.onAdd(t)));const x=t.calculative.worldRect.x,p=t.calculative.worldRect.y,m=t.calculative.worldRect.width,w=t.calculative.worldRect.height;let b=t.calculative.canvas.store.data.scale,T={startAngle:225,endAngle:-45,min:0,max:100,splitNumber:10};if(t.echarts&&t.echarts.option){let e=t.echarts.option.series[0];t.startAngle=e.startAngle||T.startAngle,t.endAngle=e.endAngle||T.endAngle,t.min=e.min||T.min,t.max=e.max||T.max,t.axisLine=e.axisLine.lineStyle.color,t.unit=e.detail.formatter.replace("{value}",""),t.value=e.data[0].value,t.splitNumber=e.splitNumber||T.splitNumber}let P,k=m>w?w/2*9/10:m/2*9/10,R=x+m/2,C=p+w/2,A=(t={...T,...t}).echarts?t.echarts.option.series[0].data[0].value:t.value,S=t.startAngle-t.endAngle,M=t.background||"#E6EBF8";e.strokeStyle=M;let D=k/10;e.lineWidth=D,e.beginPath(),e.lineCap="round",e.arc(R,C,k,-t.startAngle/180*Math.PI,-t.endAngle/180*Math.PI),e.stroke(),e.closePath();let I=0;if(t.axisLine&&!t.isClock)for(let v=t.axisLine.length-1;v>=0;v--)t.axisLine[v][0]*(t.max-t.min)<A?I=t.axisLine[v][0]:(I=(A-t.min)/(t.max-t.min),P=t.axisLine[v][1]),e.beginPath(),e.strokeStyle=t.axisLine[v][1],e.arc(R,C,k,-t.startAngle/180*Math.PI,(-t.startAngle+I*S)/180*Math.PI),e.stroke(),e.closePath();e.lineCap="butt";let W=2*b,H=k-D;H<0&&(H=0);let F=S/180*Math.PI*H,B=(F-W*t.splitNumber)/t.splitNumber,O=S/180*Math.PI*W/2/F;e.beginPath(),e.strokeStyle=t.color||"#999999",e.lineWidth=k/20,e.setLineDash([W,B]),e.arc(R,C,H,-t.startAngle/180*Math.PI-O,-t.endAngle/180*Math.PI+O),e.stroke(),e.closePath();let L=1*b,E=k-D;E<0&&(E=0);let N=S/180*Math.PI*E,z=(N-5*L*t.splitNumber)/5/t.splitNumber,Y=S/180*Math.PI*L/2/N;e.beginPath(),e.strokeStyle=t.color||"#999999",e.lineWidth=k/40,e.setLineDash([L,z]),e.arc(R,C,E,-t.startAngle/180*Math.PI-Y,-t.endAngle/180*Math.PI+Y),e.stroke(),e.closePath(),e.beginPath();let j=t.max-t.min,U=j/t.splitNumber,V={fontStyle:(null==(a=t.tickLabel)?void 0:a.fontStyle)||t.calculative.fontStyle,textDecoration:(null==(l=t.tickLabel)?void 0:l.textDecoration)||t.textDecoration,fontWeight:(null==(o=t.tickLabel)?void 0:o.fontWeight)||t.calculative.fontWeight,fontFamily:(null==(i=t.tickLabel)?void 0:i.fontFamily)||t.calculative.fontFamily,fontSize:((null==(c=t.tickLabel)?void 0:c.fontSize)||t.calculative.fontSize)*b,lineHeight:(null==(n=t.tickLabel)?void 0:n.lineHeight)||t.calculative.lineHeight};e.font=v(V);let X=k-D-k/20;for(let v=0;v<=t.splitNumber;v++){if(Math.abs(t.startAngle)+Math.abs(t.endAngle)===360&&0==v)continue;let a=t.startAngle-U*v/j*S,l=Math.cos(a/180*Math.PI),o=Math.sin(a/180*Math.PI);e.fillStyle=(null==(r=t.tickLabel)?void 0:r.color)||"#999999",e.textAlign=l>.02?"end":l<-.02?"start":"center",e.textBaseline=o>.02?"top":o<-.02?"bottom":"middle",e.fillText(at(U*v+t.min,1),R+X*l,C-X*o),e.fill()}e.closePath();let $=1,G=["value"];if(t.isClock&&($=3,G=["hourvalue","minutevalue","secondvalue"]),t.isClock)for(let v=0;v<$;v++){let a=(t.startAngle-(t[G[v]]-t.min)/(t.max-t.min)*S)/180*Math.PI;v>0&&(a=(t.startAngle-(t[G[v]]-t.min)/(5*t.max-t.min)*S)/180*Math.PI);let l=.8*k;"hourvalue"===G[v]&&(l=.6*k),"minutevalue"===G[v]&&(l=.7*k);let o=1*k/40;e.beginPath(),e.setLineDash([]),e.lineWidth=k/(v+1)/20,e.strokeStyle=t.color||"#999999",e.moveTo(R-3*o*Math.cos(a),C+3*o*Math.sin(a)),e.lineTo(R+l*Math.cos(a),C-l*Math.sin(a)),e.stroke()}else{let a=(t.startAngle-(A-t.min)/(t.max-t.min)*S)/180*Math.PI,l=.8*k,o=1*k/40;e.beginPath(),e.setLineDash([]),e.lineWidth=2,e.fillStyle=P,e.moveTo(R-3*o*Math.cos(a),C+3*o*Math.sin(a)),e.lineTo(R+o*Math.cos(a-Math.PI/2),C-o*Math.sin(a-Math.PI/2)),e.lineTo(R+l*Math.cos(a),C-l*Math.sin(a)),e.lineTo(R+o*Math.cos(a+Math.PI/2),C-o*Math.sin(a+Math.PI/2)),e.lineTo(R-3*o*Math.cos(a),C+3*o*Math.sin(a)),e.fill()}e.beginPath(),e.textAlign="center",e.textBaseline="middle";let q={fontStyle:(null==(s=t.titleLabel)?void 0:s.fontStyle)||t.calculative.fontStyle,textDecoration:(null==(h=t.titleLabel)?void 0:h.textDecoration)||t.textDecoration,fontWeight:(null==(d=t.titleLabel)?void 0:d.fontWeight)||t.calculative.fontWeight,fontFamily:(null==(u=t.titleLabel)?void 0:u.fontFamily)||t.calculative.fontFamily,fontSize:((null==(f=t.titleLabel)?void 0:f.fontSize)||t.calculative.fontSize)*b,lineHeight:(null==(g=t.titleLabel)?void 0:g.lineHeight)||t.calculative.lineHeight};e.font=v(q),e.fillStyle=(null==(y=t.titleLabel)?void 0:y.color)||P,t.isClock?e.fillText(("0"+parseInt(t.hourvalue)).slice(-2)+":"+("0"+parseInt(t.minutevalue)).slice(-2)+":"+("0"+parseInt(t.secondvalue)).slice(-2),R,C+k/2):e.fillText(A+" "+(t.unit||""),R,C+k/2),e.fill(),t.isClock&&(e.beginPath(),e.fillStyle=t.color||"#999999",e.strokeStyle="#ffffff",e.arc(R,C,k/20,0,2*Math.PI),e.stroke(),e.fill(),e.closePath())}function ht(e){if(e.isClock)e.clockInterval=setInterval((()=>{let t=new Date,a=t.getSeconds(),l=t.getMinutes()+a/60,o=t.getHours()%12+l/60;e.calculative.canvas.parent.setValue({id:e.id,hourvalue:o,minutevalue:l,secondvalue:a},{render:!0,doEvent:!1})}),1e3);else{const t=e.value;e.value=0,e.frames=[{duration:2e3,value:t}],e.calculative.canvas.parent.startAnimate(e.id),setTimeout((()=>{e.value=t}),1e3)}}function dt(e){e.clockInterval&&(clearInterval(e.clockInterval),e.clockInterval=void 0)}function ut(e){e.isClock&&(e.onDestroy(e),e.onAdd(e))}function vt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c/6,r=i/4;if(a.moveTo(l+2*r,o+0),a.lineTo(l+2*r,o+n),a.moveTo(l,o+n+2*r),a.arc(l+2*r,o+n+2*r,2*r,1*Math.PI,2*Math.PI,!1),a.lineTo(l+4*r,o+5*n),a.lineTo(l,o+5*n),a.lineTo(l,o+n+2*r),a.moveTo(l+r,o+5*n),a.lineTo(l+r,o+6*n),a.moveTo(l+2*r,o+5*n),a.lineTo(l+2*r,o+6*n),a.moveTo(l+3*r,o+5*n),a.lineTo(l+3*r,o+6*n),a.closePath(),a instanceof Path2D)return a}function ft(e){e.anchors=[{x:.5,y:0},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function gt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c-i,r=.5*i;if(a.moveTo(l+i/2,o),a.lineTo(l+i/2,o+n),a.moveTo(l+i,o+r+n),a.arc(l+i/2,o+r+n,r,0,2*Math.PI,!1),a.closePath(),a instanceof Path2D)return a}function yt(e){e.anchors=[{x:.5,y:0},{x:.5,y:1}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function xt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c/2,r=i/5;if(a.moveTo(l,o+n),a.lineTo(l+r,o+n),a.moveTo(l+5*r,o+n),a.ellipse(l+3*r,o+n,2*r,n,0,0,2*Math.PI),a.closePath(),a instanceof Path2D)return a}function pt(e){e.anchors=[{x:.6,y:0},{x:1,y:.5},{x:.6,y:1},{x:0,y:.5}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function mt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c/4,r=.5*i;if(a.moveTo(l+r,o),a.lineTo(l+r,o+n),a.moveTo(l,o+n),a.rect(l,o+n,2*r,2*n),a.moveTo(l+r,o+3*n),a.lineTo(l+r,o+4*n),a.closePath(),a instanceof Path2D)return a}function wt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c/8,r=.25*i;if(a.moveTo(l+2*r,o),a.lineTo(l+2*r,o+2*n),a.lineTo(l+3*r,o+3*n),a.lineTo(l+3*r,o+5*n),a.lineTo(l+2*r,o+6*n),a.lineTo(l+1*r,o+5*n),a.lineTo(l+1*r,o+3*n),a.lineTo(l+2*r,o+2*n),a.moveTo(l+3*r,o+4*n),a.lineTo(l+4*r,o+4*n),a.moveTo(l+2*r,o+6*n),a.lineTo(l+2*r,o+8*n),a.closePath(),a instanceof Path2D)return a}function bt(e){e.anchors=[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function Tt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=i/2,r=c/10;if(a.moveTo(l+n,o),a.lineTo(l+n,o+r),a.moveTo(l+n,o+r),a.quadraticCurveTo(l+2*n,o+r,l+2*n,o+9*r),a.moveTo(l+n,o+r),a.quadraticCurveTo(l,o+r,l,o+9*r),a.quadraticCurveTo(l+n,o+6*r,l+2*n,o+9*r),a.moveTo(l+n,o+3*c/4),a.lineTo(l+n,o+c),a.moveTo(l+2*n/5,o+201*c/250),a.lineTo(l+2*n/5,o+c),a.moveTo(l+8*n/5,o+201*c/250),a.lineTo(l+8*n/5,o+c),a.closePath(),a instanceof Path2D)return a}function Pt(e){e.anchors=[{x:.5,y:0},{x:.2,y:1},{x:.5,y:1},{x:.8,y:1}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function kt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c/6,r=i/4;if(a.moveTo(l+2*r,o+0),a.lineTo(l+2*r,o+n),a.moveTo(l,o+n+2*r),a.arc(l+2*r,o+n+2*r,2*r,1*Math.PI,2*Math.PI,!1),a.lineTo(l+4*r,o+5*n),a.lineTo(l,o+5*n),a.lineTo(l,o+n+2*r),a.moveTo(l,o+5*n-n/3),a.lineTo(l+4*r,o+5*n-n/3),a.moveTo(l+r,o+5*n),a.lineTo(l+r,o+6*n),a.moveTo(l+2*r,o+5*n),a.lineTo(l+2*r,o+6*n),a.moveTo(l+3*r,o+5*n),a.lineTo(l+3*r,o+6*n),a.closePath(),a instanceof Path2D)return a}function Rt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c/4,r=.5*i;if(a.moveTo(l+r,o),a.lineTo(l+r,o+n),a.lineTo(l+2*r,o+2*n),a.lineTo(l+2*r,o+4*n),a.lineTo(l,o+4*n),a.lineTo(l,o+2*n),a.lineTo(l+r,o+n),a.closePath(),a instanceof Path2D)return a}function Ct(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c/4,r=i/2;if(a.moveTo(l+r,o),a.lineTo(l+r,o+n),a.lineTo(l+2*r,o+4*n),a.lineTo(l,o+4*n),a.lineTo(l+r,o+n),a.closePath(),a instanceof Path2D)return a}function At(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect,n=c/3,r=.5*i;if(a.moveTo(l+r,o),a.lineTo(l+r,o+n),a.lineTo(l+i,o+2*n),a.lineTo(l+r,o+c),a.lineTo(l,o+2*n),a.lineTo(l+r,o+n),a.closePath(),a instanceof Path2D)return a}function St(e){e.anchors=[{x:.5,y:0},{x:1,y:2/3},{x:.5,y:1},{x:0,y:2/3}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function Mt(e,t){const a=t||new Path2D,{x:l,y:o,width:i,height:c}=e.calculative.worldRect;let n=i/2,r=c/10;if(a.moveTo(l+n,o),a.lineTo(l+n,o+r),a.moveTo(l+n,o+r),a.quadraticCurveTo(l+2*n,o+r,l+2*n,o+9*r),a.moveTo(l+n,o+r),a.quadraticCurveTo(l,o+r,l,o+9*r),a.quadraticCurveTo(l+n,o+6*r,l+2*n,o+9*r),a.moveTo(l,o+10*r),a.quadraticCurveTo(l+n,o+7*r,l+2*n,o+10*r),a.moveTo(l+2*n/5,o+201*c/250+r),a.lineTo(l+2*n/5,o+c),a.moveTo(l+8*n/5,o+201*c/250+r),a.lineTo(l+8*n/5,o+c),a.closePath(),a instanceof Path2D)return a}function Dt(e){e.anchors=[{x:.5,y:0},{x:.2,y:1},{x:.8,y:1}].map((({x:t,y:a},l)=>({id:`${l}`,penId:e.id,x:t,y:a})))}function It(e,t){const{x:a,y:l,width:o,height:i}=t.calculative.worldRect,c=o/2,n=i/10;e.beginPath(),e.moveTo(a+c,l),e.lineTo(a+c,l+n),e.moveTo(a+c,l+n),e.quadraticCurveTo(a+2*c,l+n,a+2*c,l+9*n),e.moveTo(a+c,l+n),e.quadraticCurveTo(a,l+n,a,l+9*n),e.quadraticCurveTo(a+c,l+6*n,a+2*c,l+9*n),e.moveTo(a+c,l+3*i/4),e.lineTo(a+c,l+9*i/10),e.moveTo(a+2*c/5,l+201*i/250),e.lineTo(a+2*c/5,l+9*i/10),e.moveTo(a+8*c/5,l+201*i/250),e.lineTo(a+8*c/5,l+9*i/10),e.stroke(),e.closePath(),e.beginPath();const r=2*c>10*n?n:c/5;e.fillStyle="#333333",e.font=r+"px Arial",e.textBaseline="bottom",e.textAlign="center",e.fillText("o",a+c,l+i),e.fillText("m",a+2*c/5,l+i),e.fillText("o",a+8*c/5,l+i),e.closePath()}!function(e){e[e.Add=0]="Add",e[e.Replace=1]="Replace",e[e.ReplaceAll=2]="ReplaceAll"}(lt||(lt={}));var Wt=(e=>(e[e.File=0]="File",e[e.Pen=1]="Pen",e))(Wt||{});const Ht=m({mode:0,pen:void 0}),Ft=()=>({selections:Ht,select:e=>{if(!e||1!==e.length)return Ht.mode=0,void(Ht.pen=void 0);Ht.mode=1,Ht.pen=e[0]}}),Bt={id:"meta2d"},Ot=p(w({__name:"View",setup(t){const{select:a}=Ft(),l={rule:!0,ruleColor:"rgba(255, 255, 255, 0.2)",grid:!0,gridColor:"rgba(255, 255, 255, 0.08)",gridSize:10,color:"#fff",activeColor:"#40C4FF",hoverColor:"#80D8FF",anchorColor:"#fff",anchorRadius:4,anchorBackground:"#001529",background:"#001529",textColor:"#fff",font:{color:"#fff",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}};b((()=>{var t;new f("meta2d",l),x(),n({flowComment:R,flowData:A,flowDb:z,flowDisplay:M,flowDocument:D,flowExternStorage:W,flowInternalStorage:H,flowManually:F,flowParallel:O,flowQueue:E,flowSubprocess:N}),g({flowDocument:I,flowManually:B,flowParallel:L,flowComment:C,flowData:S}),n({forkV:e,forkH:e,swimlaneH:j,swimlaneV:U}),y({activityFinal:Y}),n({interfaceClass:V,simpleClass:G}),n({sequenceFocus:J}),y({lifeline:Z}),t&&(globalThis.echarts=t),n({echarts:te}),y({radio:qe,switch:Be,slider:Ee,checkbox:$e,table:fe,table2:fe}),y({lineChart:ot,histogram:rt,pieChart:ct,gauge:st}),n({andGate:vt,basicEvent:gt,conditionalEvent:xt,event:mt,forbiddenGate:wt,orGate:Tt,priorityAndGate:kt,switchEvent:Rt,transferSymbol:Ct,unexpandedEvent:At,xorGate:Mt}),y({votingGate:It}),g({andGate:ft,orGate:Pt,priorityAndGate:ft,votingGate:Pt,xorGate:Dt,forbiddenGate:bt,basicEvent:yt,unexpandedEvent:St,conditionalEvent:pt,transferSymbol:yt});let a=localStorage.getItem("meta2d");a&&(a=JSON.parse(a),"/preview"===location.pathname?a.locked=1:a.locked=0,meta2d.open(a)),meta2d.on("active",o),meta2d.on("inactive",i)}));const o=e=>{a(e)},i=()=>{a()};return T((()=>{meta2d.destroy()})),(e,t)=>(P(),k("div",Bt))}}),[["__scopeId","data-v-17a89fdd"]]);export{Wt as S,Ot as V,Ft as u};
//# sourceMappingURL=View-cbb04a97.js.map
