{"version":3,"file":"View-cbb04a97.js","sources":["../../node_modules/@meta2d/flow-diagram/src/comment.js","../../node_modules/@meta2d/flow-diagram/src/data.js","../../node_modules/@meta2d/flow-diagram/src/display.js","../../node_modules/@meta2d/flow-diagram/src/document.js","../../node_modules/@meta2d/flow-diagram/src/externStorage.js","../../node_modules/@meta2d/flow-diagram/src/internalStorage.js","../../node_modules/@meta2d/flow-diagram/src/manually.js","../../node_modules/@meta2d/flow-diagram/src/parallel.js","../../node_modules/@meta2d/flow-diagram/src/queue.js","../../node_modules/@meta2d/flow-diagram/src/subprocess.js","../../node_modules/@meta2d/flow-diagram/src/db.js","../../node_modules/@meta2d/activity-diagram/src/final.js","../../node_modules/@meta2d/activity-diagram/src/swimlaneH.js","../../node_modules/@meta2d/activity-diagram/src/swimlaneV.js","../../node_modules/@meta2d/class-diagram/src/interfaceClass.js","../../node_modules/@meta2d/class-diagram/src/simpleClass.js","../../node_modules/@meta2d/sequence-diagram/src/focus.js","../../node_modules/@meta2d/sequence-diagram/src/lifeline.js","../../node_modules/@meta2d/chart-diagram/src/echarts.js","../../node_modules/@meta2d/form-diagram/src/common.js","../../node_modules/@meta2d/form-diagram/src/table2.js","../../node_modules/@meta2d/form-diagram/src/switch.js","../../node_modules/@meta2d/form-diagram/src/slider.js","../../node_modules/@meta2d/form-diagram/src/checkbox.js","../../node_modules/@meta2d/form-diagram/src/radio.js","../../node_modules/@meta2d/le5le-charts/src/normalizedAxis.js","../../node_modules/@meta2d/le5le-charts/src/coordinateAxis.js","../../node_modules/@meta2d/le5le-charts/src/common.js","../../node_modules/@meta2d/le5le-charts/src/lineChart.js","../../node_modules/@meta2d/le5le-charts/src/pieChart.js","../../node_modules/@meta2d/le5le-charts/src/histogram.js","../../node_modules/@meta2d/le5le-charts/src/gauge.js","../../node_modules/@meta2d/fta-diagram/src/andGate.js","../../node_modules/@meta2d/fta-diagram/src/basicEvent.js","../../node_modules/@meta2d/fta-diagram/src/conditionalEvent.js","../../node_modules/@meta2d/fta-diagram/src/event.js","../../node_modules/@meta2d/fta-diagram/src/forbiddenGate.js","../../node_modules/@meta2d/fta-diagram/src/orGate.js","../../node_modules/@meta2d/fta-diagram/src/priorityAndGate.js","../../node_modules/@meta2d/fta-diagram/src/switchEvent.js","../../node_modules/@meta2d/fta-diagram/src/transferSymbol.js","../../node_modules/@meta2d/fta-diagram/src/unexpandedEvent.js","../../node_modules/@meta2d/fta-diagram/src/xorGate.js","../../node_modules/@meta2d/fta-diagram/src/votingGate.js","../../src/services/selections.ts","../../src/components/View.vue","../../node_modules/@meta2d/chart-diagram/src/register.js","../../node_modules/@meta2d/flow-diagram/src/register.js","../../node_modules/@meta2d/activity-diagram/src/register.js","../../node_modules/@meta2d/class-diagram/src/register.js","../../node_modules/@meta2d/sequence-diagram/src/register.js","../../node_modules/@meta2d/form-diagram/src/register.js","../../node_modules/@meta2d/le5le-charts/src/register.js","../../node_modules/@meta2d/fta-diagram/src/register.js"],"sourcesContent":["export function flowComment(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, ey } = pen.calculative.worldRect;\n    const offsetX = width / 4;\n    path.moveTo(x + offsetX, y);\n    path.lineTo(x, y);\n    path.lineTo(x, ey);\n    path.lineTo(x + offsetX, ey);\n    if (path instanceof Path2D)\n        return path;\n}\nexport function flowCommentAnchors(pen) {\n    const points = [\n        {\n            x: 0.25,\n            y: 0,\n        },\n        {\n            x: 0.25,\n            y: 1,\n        },\n        {\n            x: 0,\n            y: 0.5,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: index + '',\n            x,\n            y,\n            penId: pen.id,\n        };\n    });\n}\n//# sourceMappingURL=comment.js.map","export function flowData(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, ex, ey } = pen.calculative.worldRect;\n    const penOffsetX = pen.offsetX;\n    let offsetX = width / 7;\n    if (penOffsetX > 1) {\n        offsetX = penOffsetX;\n    }\n    else if (penOffsetX > 0) {\n        offsetX = width * penOffsetX;\n    }\n    path.moveTo(x + offsetX, y);\n    path.lineTo(ex, y);\n    path.lineTo(x + width - offsetX, ey);\n    path.lineTo(x, ey);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function flowDataAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 13 / 14,\n            y: 0.5,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n        {\n            x: 1 / 14,\n            y: 0.5,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=data.js.map","export function flowDisplay(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height, ex, ey } = pen.calculative.worldRect;\n    const offsetX = width / 8;\n    path.moveTo(x + offsetX, y);\n    path.lineTo(ex - offsetX, y);\n    path.bezierCurveTo(ex + offsetX / 3, y, ex + offsetX / 3, ey, ex - offsetX, ey);\n    path.lineTo(x + offsetX, ey);\n    path.lineTo(x, y + height / 2);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=display.js.map","export function flowDocument(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height, ex, center } = pen.calculative.worldRect;\n    const centerX = center.x;\n    const rightBottomY = y + (height * 6) / 7;\n    const offsetY = height / 6;\n    path.moveTo(x, y);\n    path.lineTo(ex, y);\n    path.lineTo(ex, rightBottomY);\n    path.bezierCurveTo(ex - 20, rightBottomY - offsetY, centerX + width / 5, rightBottomY - offsetY, centerX, rightBottomY);\n    path.bezierCurveTo(centerX - width / 5, rightBottomY + offsetY, x, rightBottomY + offsetY, x, rightBottomY);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function flowDocumentAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 1,\n            y: 0.5,\n        },\n        {\n            x: 0.5,\n            y: 6 / 7,\n        },\n        {\n            x: 0,\n            y: 0.5,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=document.js.map","export function flowExternStorage(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, ex, ey } = pen.calculative.worldRect;\n    const offsetX = width / 10;\n    path.moveTo(x + offsetX * 2, y);\n    path.bezierCurveTo(x - (offsetX * 2) / 3, y, x - (offsetX * 2) / 3, ey, x + offsetX * 2, ey);\n    path.lineTo(ex, ey);\n    path.bezierCurveTo(ex - offsetX, ey, ex - offsetX, y, ex, y);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=externStorage.js.map","export function flowInternalStorage(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, ex, ey } = pen.calculative.worldRect;\n    path.moveTo(x, y);\n    path.lineTo(ex, y);\n    path.lineTo(ex, ey);\n    path.lineTo(x, ey);\n    path.closePath();\n    const offset = width / 7;\n    path.moveTo(x, y + offset);\n    path.lineTo(ex, y + offset);\n    path.moveTo(x + offset, y);\n    path.lineTo(x + offset, ey);\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=internalStorage.js.map","export function flowManually(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, height, ex, ey } = pen.calculative.worldRect;\n    const offsetY = height / 4;\n    path.moveTo(x, y + offsetY);\n    path.lineTo(ex, y);\n    path.lineTo(ex, ey);\n    path.lineTo(x, ey);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function flowManuallyAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0.125,\n        },\n        {\n            x: 1,\n            y: 0.5,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n        {\n            x: 0,\n            y: 0.5,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=manually.js.map","export function flowParallel(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, ex, ey } = pen.calculative.worldRect;\n    path.moveTo(x, y);\n    path.lineTo(ex, y);\n    path.moveTo(x, ey);\n    path.lineTo(ex, ey);\n    if (path instanceof Path2D)\n        return path;\n}\nexport function flowParallelAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: index + '',\n            x,\n            y,\n            penId: pen.id,\n        };\n    });\n}\n//# sourceMappingURL=parallel.js.map","export function flowQueue(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height, ex, ey } = pen.calculative.worldRect;\n    path.ellipse(x + width / 2, y + height / 2, width / 2, height / 2, 0, 0, Math.PI * 2);\n    path.moveTo(x + width / 2, ey);\n    path.lineTo(ex, ey);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=queue.js.map","export function flowSubprocess(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, ex, ey } = pen.calculative.worldRect;\n    const offsetX = width / 7;\n    path.moveTo(x, y);\n    path.lineTo(ex, y);\n    path.lineTo(ex, ey);\n    path.lineTo(x, ey);\n    path.closePath();\n    path.moveTo(x + offsetX, y);\n    path.lineTo(x + offsetX, ey);\n    path.moveTo(ex - offsetX, y);\n    path.lineTo(ex - offsetX, ey);\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=subprocess.js.map","export function flowDb(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, height, ex, ey } = pen.calculative.worldRect;\n    const offsetY = height / 7;\n    path.moveTo(x, y + offsetY);\n    path.bezierCurveTo(x, (y - offsetY / 2) | 0, ex, (y - offsetY / 2) | 0, ex, y + offsetY);\n    path.lineTo(ex, ey - offsetY);\n    path.bezierCurveTo(ex, (ey + offsetY / 2) | 0, x, (ey + offsetY / 2) | 0, x, ey - offsetY);\n    path.closePath();\n    path.moveTo(x, ey - offsetY);\n    path.bezierCurveTo(x, (ey - offsetY * 2) | 0, ex, (ey - offsetY * 2) | 0, ex, ey - offsetY);\n    //   path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=db.js.map","// 此方法只能绘制路径，在该图形不适用\n// export function activityFinal(pen: Pen): Path2D {\n//   const path1 = new Path2D();\n//   const worldRect = pen.calculative.worldRect;\n//   path1.ellipse(\n//     worldRect.x + worldRect.width / 2,\n//     worldRect.y + worldRect.height / 2,\n//     worldRect.width / 2,\n//     worldRect.height / 2,\n//     0,\n//     0,\n//     Math.PI * 2\n//   );\n//   const path2 = new Path2D();\n//   path2.ellipse(\n//     worldRect.x + worldRect.width / 2,\n//     worldRect.y + worldRect.height / 2,\n//     worldRect.width / 4,\n//     worldRect.height / 4,\n//     0,\n//     0,\n//     Math.PI * 2\n//   );\n//   path1.addPath(path2);\n//   return path1;\n// }\nexport function activityFinal(ctx, pen) {\n    const { x, y, width, height } = pen.calculative.worldRect;\n    ctx.beginPath();\n    ctx.ellipse(x + width / 2, y + height / 2, width / 2, height / 2, 0, 0, Math.PI * 2);\n    ctx.stroke();\n    ctx.beginPath();\n    ctx.fillStyle = ctx.strokeStyle;\n    ctx.ellipse(x + width / 2, y + height / 2, width / 4, height / 4, 0, 0, Math.PI * 2);\n    ctx.fill();\n}\n//# sourceMappingURL=final.js.map","export function swimlaneH(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height, ey } = pen.calculative.worldRect;\n    const lineLeft = pen.calculative.lineLeft || 0.08;\n    let wr = pen.calculative.borderRadius || 0, hr = wr;\n    if (wr < 1) {\n        wr = width * wr;\n        hr = height * wr;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (height < 2 * r) {\n        r = height / 2;\n    }\n    path.moveTo(x + r, y);\n    path.arcTo(x + width, y, x + width, y + height, r);\n    path.arcTo(x + width, y + height, x, y + height, r);\n    path.arcTo(x, y + height, x, y, r);\n    path.arcTo(x, y, x + width, y, r);\n    path.closePath();\n    //   40 肯定是不合理的，TODO: 该处用宽度的部分值\n    // TODO: 算上圆角后，该线可能超出在范围外\n    path.moveTo(x + lineLeft * width, y);\n    path.lineTo(x + lineLeft * width, ey);\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=swimlaneH.js.map","export function swimlaneV(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height, ex } = pen.calculative.worldRect;\n    const lineTop = pen.calculative.lineTop || 0.08;\n    let wr = pen.calculative.borderRadius || 0, hr = wr;\n    if (wr < 1) {\n        wr = width * wr;\n        hr = height * hr;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (height < 2 * r) {\n        r = height / 2;\n    }\n    path.moveTo(x + r, y);\n    path.arcTo(x + width, y, x + width, y + height, r);\n    path.arcTo(x + width, y + height, x, y + height, r);\n    path.arcTo(x, y + height, x, y, r);\n    path.arcTo(x, y, x + width, y, r);\n    path.closePath();\n    //   40 肯定是不合理的，TODO: 该处用高度的部分值\n    path.moveTo(x, y + lineTop * height);\n    path.lineTo(ex, y + lineTop * height);\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=swimlaneV.js.map","export function interfaceClass(pen, ctx) {\n    if (!pen.onDestroy) {\n        pen.onDestroy = onDestroy;\n        pen.onAdd = onAdd;\n    }\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height, ex } = pen.calculative.worldRect;\n    let wr = pen.calculative.borderRadius || 0, hr = wr;\n    if (wr < 1) {\n        wr *= width;\n        hr *= height;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (height < 2 * r) {\n        r = height / 2;\n    }\n    path.moveTo(x + r, y);\n    path.arcTo(x + width, y, x + width, y + height, r);\n    path.arcTo(x + width, y + height, x, y + height, r);\n    path.arcTo(x, y + height, x, y, r);\n    path.arcTo(x, y, x + width, y, r);\n    const topHeight = 0.2 * height;\n    path.moveTo(x, y + topHeight);\n    path.lineTo(ex, y + topHeight);\n    const secondHeight = y + topHeight + (height - topHeight) / 2;\n    path.moveTo(x, secondHeight);\n    path.lineTo(ex, secondHeight);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nfunction onAdd(pen) {\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const list = pen.list;\n    const childPen = {\n        name: 'text',\n        x: x,\n        y: y + 0.2 * height,\n        width,\n        height: 0.4 * height,\n        // text: list[0].text,\n        textAlign: 'left',\n        textBaseline: 'top',\n        textLeft: 10,\n        textTop: 10,\n    };\n    const childPen1 = {\n        name: 'text',\n        x: x,\n        y: y + 0.6 * height,\n        width,\n        height: 0.4 * height,\n        // text: list[1].text,\n        textAlign: 'left',\n        textBaseline: 'top',\n        textLeft: 10,\n        textTop: 10,\n    };\n    Object.assign(childPen, list[0]);\n    Object.assign(childPen1, list[1]);\n    pen.calculative.canvas.makePen(childPen);\n    pen.calculative.canvas.makePen(childPen1);\n    pen.calculative.canvas.parent.pushChildren(pen, [childPen]);\n    pen.calculative.canvas.parent.pushChildren(pen, [childPen1]);\n}\nfunction onDestroy(pen) {\n    const store = pen.calculative.canvas.store;\n    pen.children.forEach((p) => {\n        const i = store.data.pens.findIndex((item) => item.id === p);\n        if (i > -1) {\n            store.data.pens.splice(i, 1);\n            store.pens[p] = undefined;\n        }\n    });\n    pen.children = undefined;\n}\n//# sourceMappingURL=interfaceClass.js.map","export function simpleClass(pen, ctx) {\n    if (!pen.onDestroy) {\n        pen.onDestroy = onDestroy;\n        pen.onAdd = onAdd;\n    }\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height, ex } = pen.calculative.worldRect;\n    let wr = pen.calculative.borderRadius || 0, hr = wr;\n    if (wr < 1) {\n        wr = width * wr;\n        hr = height * hr;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (height < 2 * r) {\n        r = height / 2;\n    }\n    path.moveTo(x + r, y);\n    path.arcTo(x + width, y, x + width, y + height, r);\n    path.lineTo(x + width, y + height - r);\n    path.arcTo(x + width, y + height, x, y + height, r);\n    path.arcTo(x, y + height, x, y, r);\n    path.arcTo(x, y, x + width, y, r);\n    const topHeight = 0.2 * height;\n    path.moveTo(x, y + topHeight);\n    path.lineTo(ex, y + topHeight);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nfunction onAdd(pen) {\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const list = pen.list;\n    let childPen = {\n        name: 'text',\n        x: x,\n        y: y + 0.2 * height,\n        width,\n        height: 0.8 * height,\n        // text: list[0].text,\n        textAlign: 'left',\n        textBaseline: 'top',\n        textLeft: 10,\n        textTop: 10,\n    };\n    Object.assign(childPen, list[0]);\n    pen.calculative.canvas.makePen(childPen);\n    pen.calculative.canvas.parent.pushChildren(pen, [childPen]);\n}\nfunction onDestroy(pen) {\n    const store = pen.calculative.canvas.store;\n    pen.children.forEach((p) => {\n        const i = store.data.pens.findIndex((item) => item.id === p);\n        if (i > -1) {\n            store.data.pens.splice(i, 1);\n            store.pens[p] = undefined;\n        }\n    });\n    pen.children = [];\n}\n//# sourceMappingURL=simpleClass.js.map","export function focus(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    path.rect(x, y, width, height);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=focus.js.map","export function lifeline(ctx, pen) {\n    const headHeight = pen.headHeight ?? 50;\n    const { x, y, width, height, ey } = pen.calculative.worldRect;\n    let wr = pen.calculative.borderRadius || 0, hr = wr;\n    if (pen.calculative.borderRadius < 1) {\n        wr *= width;\n        hr *= height;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (headHeight < 2 * r) {\n        r = headHeight / 2;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x + r, y);\n    ctx.arcTo(x + width, y, x + width, y + headHeight, r);\n    ctx.arcTo(x + width, y + headHeight, x, y + headHeight, r);\n    ctx.arcTo(x, y + headHeight, x, y, r);\n    ctx.arcTo(x, y, x + width, y, r);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.save();\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n    ctx.setLineDash([7, 7]);\n    const middle = x + width / 2;\n    ctx.moveTo(middle, y + headHeight + 1);\n    ctx.lineTo(middle, ey);\n    ctx.stroke();\n    ctx.restore();\n}\n//# sourceMappingURL=lifeline.js.map","import { deepClone, deepSetValue, setElemPosition, getter, formatTime, setter, } from '@meta2d/core';\nexport var ReplaceMode;\n(function (ReplaceMode) {\n    ReplaceMode[ReplaceMode[\"Add\"] = 0] = \"Add\";\n    ReplaceMode[ReplaceMode[\"Replace\"] = 1] = \"Replace\";\n    ReplaceMode[ReplaceMode[\"ReplaceAll\"] = 2] = \"ReplaceAll\";\n})(ReplaceMode || (ReplaceMode = {}));\nlet keyWords = [\n    'fontSize',\n    'nameGap',\n    'margin',\n    'width' /*线条宽度*/,\n    'symbolSize' /*结点大小*/,\n    'itemWidth', // 图例宽度\n    'itemHeight', // 图例高度\n    'fontWeight',\n    'top',\n    'left',\n    'right',\n    'bottom',\n    'zoom',\n    'edgeSymbolSize',\n    'nodeWidth',\n    'nodeGap',\n    'distance',\n    'length',\n    'length2',\n    'offsetCenter',\n    'size',\n    'symbolOffset',\n    'padding',\n    'barWidth',\n    'symbolOffset',\n    'shadowOffsetY',\n    'shadowOffsetX',\n];\nexport function echarts(pen) {\n    let echarts = globalThis.echarts;\n    if (!pen.echarts || !echarts) {\n        return;\n    }\n    if (typeof pen.echarts === 'string') {\n        try {\n            pen.echarts = JSON.parse(pen.echarts);\n        }\n        catch (e) { }\n    }\n    keyWords =\n        pen.calculative.canvas.store.options.diagramOptions['chart']?.keyWords ||\n            keyWords;\n    if (!pen.onDestroy) {\n        pen.onDestroy = destory;\n        pen.onMove = move;\n        pen.onResize = resize;\n        pen.onRotate = move;\n        pen.onValue = value;\n        pen.onBeforeValue = beforeValue;\n        pen.onBinds = binds;\n        pen.onMouseEnter = move;\n        // pen.onAdd = onAdd;\n        pen.onRenderPenRaw = onRenderPenRaw;\n        pen.onScale = scale;\n    }\n    if (!pen.calculative.singleton) {\n        pen.calculative.singleton = {};\n    }\n    const path = new Path2D();\n    const worldRect = pen.calculative.worldRect;\n    if (!pen.calculative.singleton.div) {\n        // 1. 创建父容器\n        const div = document.createElement('div');\n        div.style.position = 'absolute';\n        div.style.outline = 'none';\n        div.style.left = '-9999px';\n        div.style.top = '-9999px';\n        div.style.width = worldRect.width + 'px';\n        div.style.height = worldRect.height + 'px';\n        document.body.appendChild(div);\n        // 2. 加载到div layer\n        pen.calculative.canvas.externalElements?.parentElement.appendChild(div);\n        setElemPosition(pen, div);\n        // 3. 解析echarts数据\n        pen.calculative.singleton.div = div;\n        pen.calculative.singleton.echart = echarts.init(div, pen.echarts.theme);\n        initEvent(pen);\n        pen.calculative.singleton.echartsReady = true;\n        if (pen.echarts.geoName && !echarts.getMap(pen.echarts.geoName)) {\n            if (pen.echarts.geoJson) {\n                echarts.registerMap(pen.echarts.geoName, pen.echarts.geoJson);\n            }\n            else if (pen.echarts.geoUrl) {\n                pen.calculative.singleton.echartsReady = false;\n                fetch(pen.echarts.geoUrl).then((e) => {\n                    e.text().then((data) => {\n                        if (typeof data === 'string') {\n                            try {\n                                data = JSON.parse(data);\n                            }\n                            catch { }\n                        }\n                        if (data.constructor !== Object && data.constructor !== Array) {\n                            console.warn('Invalid data:', data);\n                            return;\n                        }\n                        echarts.registerMap(pen.echarts.geoName, data);\n                        pen.calculative.singleton.echartsReady = true;\n                        pen.calculative.singleton.echart.setOption(updateOption(pen.echarts.option, pen.calculative.canvas.store.data.scale), true);\n                        pen.calculative.singleton.echart.resize();\n                        setTimeout(() => {\n                            onRenderPenRaw(pen);\n                        }, 300);\n                    });\n                });\n            }\n        }\n        // 4. 加载echarts\n        if (pen.calculative.singleton.echartsReady) {\n            // 初始化时，等待父div先渲染完成，避免初始图表控件太大。\n            setTimeout(() => {\n                pen.calculative.singleton.echart.setOption(updateOption(pen.echarts.option, pen.calculative.canvas.store.data.scale), true);\n                setTimeout(() => onRenderPenRaw(pen), 300);\n            });\n        }\n    }\n    return path;\n}\nexport function initEvent(pen) {\n    const _chart = pen.calculative.singleton.echart;\n    const eventNames = ['click', 'dblclick', 'mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'globalout', 'contextmenu'];\n    eventNames.forEach((eventName) => {\n        _chart.off(eventName);\n    });\n    pen.events?.forEach((event) => {\n        if (event.actions && event.actions.length) {\n            if (eventNames.includes(event.name)) {\n                _chart.on(event.name, (params) => {\n                    let flag = false;\n                    if (event.conditions && event.conditions.length) {\n                        if (event.conditionType === 'and') {\n                            flag = event.conditions.every((condition) => {\n                                return pen.calculative.canvas.parent.judgeCondition(pen, condition.key, condition);\n                            });\n                        }\n                        else if (event.conditionType === 'or') {\n                            flag = event.conditions.some((condition) => {\n                                return pen.calculative.canvas.parent.judgeCondition(pen, condition.key, condition);\n                            });\n                        }\n                    }\n                    else {\n                        flag = true;\n                    }\n                    if (flag) {\n                        event.actions.forEach((action) => {\n                            if (action.timeout) {\n                                let timer = setTimeout(() => {\n                                    if (pen.calculative.canvas.parent.events[action.action]) {\n                                        pen.calculative.canvas.parent.events[action.action](pen, action, params);\n                                        clearTimeout(timer);\n                                        timer = null;\n                                    }\n                                }, action.timeout);\n                            }\n                            else {\n                                if (pen.calculative.canvas.parent.events[action.action]) {\n                                    pen.calculative.canvas.parent.events[action.action](pen, action, params);\n                                }\n                            }\n                        });\n                    }\n                });\n            }\n        }\n    });\n}\n// function onAdd(pen: ChartPen) {\n//   // pen.beforeScale = pen.calculative.canvas.store.data.scale;\n// }\nfunction destory(pen) {\n    if (pen.calculative.singleton && pen.calculative.singleton.div) {\n        pen.calculative.singleton.div.remove();\n        let echarts = globalThis.echarts;\n        echarts && echarts.dispose(pen.calculative.singleton.echart);\n        delete pen.calculative.singleton.div;\n        delete pen.calculative.singleton.echart;\n    }\n}\nfunction move(pen) {\n    pen.calculative.singleton.div &&\n        setElemPosition(pen, pen.calculative.singleton.div);\n}\nfunction resize(pen) {\n    move(pen);\n    if (!pen.calculative.singleton?.echart) {\n        return;\n    }\n    pen.calculative.singleton.echart.resize();\n}\nfunction scale(pen) {\n    if (!pen.calculative.singleton.echart) {\n        return;\n    }\n    let echarts = globalThis.echarts;\n    setElemPosition(pen, pen.calculative.singleton.div);\n    // let option = pen.echarts.option;\n    // if (!pen.beforeScale) {\n    //   pen.beforeScale = pen.calculative.canvas.store.data.scale;\n    // }\n    // let ratio: number = pen.calculative.canvas.store.data.scale / pen.beforeScale;\n    // updateOption(option, ratio);\n    if (pen.echarts.geoName && !echarts.getMap(pen.echarts.geoName))\n        return;\n    if (!pen.echarts.diabled) {\n        if (pen.echarts.option?.dataZoom) {\n            //用户调整dataZoom后\n            const options = pen.calculative.singleton.echart.getOption();\n            const dataZoom = options.dataZoom;\n            pen.echarts.option.dataZoom?.forEach((item, index) => {\n                if (dataZoom[index]) {\n                    item.start = dataZoom[index].start;\n                    item.end = dataZoom[index].end;\n                }\n            });\n        }\n        pen.calculative.singleton.echart.setOption(updateOption(pen.echarts.option, pen.calculative.canvas.store.data.scale), true);\n    }\n    // pen.beforeScale = pen.calculative.canvas.store.data.scale;\n    pen.calculative.singleton.echart.resize();\n}\nfunction value(pen) {\n    if (!pen.calculative.singleton.echart) {\n        return;\n    }\n    setElemPosition(pen, pen.calculative.singleton.div);\n    if (pen.calculative.singleton.echartsReady) {\n        if (pen.calculative.partialOption) {\n            //部分更新\n            const option = pen.calculative.partialOption.echarts.option;\n            let isReplaceMerge = Array.isArray(pen.echarts?.replaceMerge) ? pen.echarts?.replaceMerge.some((key) => option[key]) : false;\n            if (isReplaceMerge) {\n                pen.calculative.singleton.echart.setOption(deepClone(option), {\n                    replaceMerge: pen.echarts.replaceMerge,\n                });\n            }\n            else {\n                pen.calculative.singleton.echart.setOption(deepClone(option));\n            }\n        }\n        else {\n            pen.calculative.singleton.echart.setOption(updateOption(pen.echarts.option, pen.calculative.canvas.store.data.scale), true);\n        }\n    }\n}\nfunction beforeValue(pen, value) {\n    pen.calculative.partialOption = null;\n    if (value.echarts) {\n        let echarts = globalThis.echarts;\n        if (value.echarts.geoName && !echarts.getMap(value.echarts.geoName)) {\n            if (value.echarts.geoJson) {\n                echarts.registerMap(value.echarts.geoName, value.echarts.geoJson);\n            }\n            else if (value.echarts.geoUrl) {\n                pen.calculative.singleton.echartsReady = false;\n                fetch(value.echarts.geoUrl).then((e) => {\n                    e.text().then((data) => {\n                        if (typeof data === 'string') {\n                            try {\n                                data = JSON.parse(data);\n                            }\n                            catch { }\n                        }\n                        if (data.constructor !== Object && data.constructor !== Array) {\n                            console.warn('Invalid data:', data);\n                            return;\n                        }\n                        echarts.registerMap(value.echarts.geoName, data);\n                        pen.calculative.singleton.echartsReady = true;\n                        // @ts-ignore\n                        pen.onValue(pen);\n                        return false;\n                    });\n                });\n            }\n        }\n        // 整体传参，不做处理\n        return value;\n    }\n    if (pen.realTimes && pen.realTimes.length) {\n        let keys = Object.keys(value);\n        const { xAxis, yAxis } = pen.echarts.option;\n        const { max, replaceMode, timeFormat } = pen.echarts;\n        let dataDotArr = []; //记录只更新一个点的数据\n        let chartFlag = false;\n        for (let key in value) {\n            if (key.includes('echarts.option')) {\n                chartFlag = true;\n                let beforeV = getter(pen, key);\n                if (Array.isArray(beforeV) && replaceMode === ReplaceMode.Add) {\n                    //追加\n                    beforeV.push(value[key]);\n                    if (max) {\n                        beforeV.splice(0, beforeV.length - max);\n                    }\n                    value[key] = beforeV;\n                    if (!keys.includes('echarts.option.xAxis.data')) {\n                        //x轴时间  避免影响x轴历史趋势\n                        let _key = 'echarts.option.xAxis.data';\n                        if (Array.isArray(xAxis) && xAxis.length) {\n                            _key = 'echarts.option.xAxis.0.data';\n                        }\n                        let _value = getter(pen, _key);\n                        let _time = formatTime(timeFormat || '`${hours}:${minutes}:${seconds}`');\n                        _value.push(_time);\n                        if (max) {\n                            _value.splice(0, _value.length - max);\n                        }\n                        value[_key] = _value;\n                    }\n                }\n                if (key.includes('.data.')) {\n                    //例如data.1 需要更新 data\n                    let _key = key.substring(0, key.indexOf('.data.') + 5);\n                    if (!dataDotArr.includes(_key)) {\n                        dataDotArr.push(_key);\n                    }\n                }\n            }\n        }\n        if (chartFlag) {\n            const _value = deepClone(value);\n            pen.calculative.partialOption = dotNotationToObject(_value, pen);\n            dataDotArr.forEach((key) => {\n                let value = getter(pen, key);\n                setter(pen.calculative.partialOption, key, value);\n            });\n        }\n        return value;\n    }\n    if (!value.dataX && !value.dataY) {\n        return value;\n    }\n    // 1. 拿到老的 echarts\n    const echarts = pen.echarts;\n    const { max, replaceMode } = echarts;\n    // 2. 特殊处理\n    // x，y 需要判空, 此处不转换数组\n    let x = value.dataX;\n    let y = value.dataY;\n    let dataArr = []; //记录只更新数据\n    if (y) {\n        dataArr.push('echarts.option.series');\n    }\n    const series = echarts.option.series;\n    // 确认有几条线，即多折线的场景\n    const length = series.length;\n    const { xAxis, yAxis } = echarts.option;\n    if (Array.isArray(xAxis) && xAxis.length > 1) {\n        // 多 x 轴不考虑\n        console.warn('echarts 只支持单 x 轴，多 x 轴将被忽略');\n    }\n    // 单 x 轴\n    const oneXAxis = Array.isArray(xAxis) ? xAxis[0] : xAxis;\n    const oneYAxis = Array.isArray(yAxis) ? yAxis[0] : yAxis;\n    if (!replaceMode) {\n        // 追加数据\n        if (x) {\n            // x 轴考虑只有一条\n            !Array.isArray(x) && (x = [x]);\n            // TODO: Y 轴是分类，x 轴是值，追加不考虑\n            const xData = oneXAxis.data;\n            xData.push(...x);\n            // 删除开头的多余数据\n            xData.splice(0, xData.length - max);\n            dataArr.push('echarts.option.xAxis');\n        }\n        if (y) {\n            if (length === 1) {\n                !Array.isArray(y) && (y = [y]);\n                const yData = series[0].data;\n                yData.push(...y);\n                // 删除开头的多余数据\n                yData.splice(0, yData.length - max);\n            }\n            else {\n                // 多条线\n                series.forEach((serie, index) => {\n                    if (!Array.isArray(y[index])) {\n                        y[index] = [y[index]];\n                    }\n                    const yData = serie.data;\n                    yData.push(...y[index]);\n                    // 删除开头的多余数据\n                    yData.splice(0, yData.length - max);\n                });\n            }\n        }\n    }\n    else if (replaceMode === ReplaceMode.Replace) {\n        // 替换部分数据\n        if (!oneXAxis && !oneYAxis) {\n            /**\n             * 饼图、仪表盘等\n             */\n            if (y) {\n                if (length === 1) {\n                    !Array.isArray(y) && (y = [y]);\n                    // 单饼\n                    y.forEach((yItem, index) => {\n                        const part = series[0].data.find((part) => part.name === yItem.name);\n                        part && (part.value = yItem.value);\n                    });\n                }\n                else {\n                    // 多饼图\n                    series.forEach((serie, index) => {\n                        if (!Array.isArray(y[index])) {\n                            y[index] = [y[index]];\n                        }\n                        y[index].forEach((yItem, index) => {\n                            const part = serie.data.find((part) => part.name === yItem.name);\n                            part && (part.value = yItem.value);\n                        });\n                    });\n                }\n            }\n        }\n        else if (oneXAxis.type === 'category' || oneYAxis.type === 'category') {\n            /**\n             * dataX 中传的值用来找到对应的 y 轴值\n             */\n            if (x && y) {\n                const categoryData = oneXAxis.type === 'category' ? oneXAxis.data : oneYAxis.data;\n                !Array.isArray(x) && (x = [x]);\n                !Array.isArray(y) && (y = [y]);\n                if (oneXAxis.type === 'category') {\n                    dataArr.push('echarts.option.xAxis');\n                }\n                else {\n                    dataArr.push('echarts.option.yAxis');\n                }\n                if (length === 1) {\n                    y.forEach((yItem, index) => {\n                        const xIndex = categoryData.indexOf(x[index]);\n                        series[0].data[xIndex] = yItem;\n                    });\n                }\n                else {\n                    // 多条线\n                    series.forEach((serie, index) => {\n                        y[index].forEach((yItem, index) => {\n                            const xIndex = categoryData.indexOf(x[index]);\n                            serie.data[xIndex] = yItem;\n                        });\n                    });\n                }\n            }\n        }\n    }\n    else if (replaceMode === ReplaceMode.ReplaceAll) {\n        // 替换数据\n        if (x) {\n            // TODO: Y 轴是分类，x 轴是值，替换全部不考虑\n            oneXAxis.data = x;\n            oneXAxis.data.splice(0, oneXAxis.data.length - max);\n            dataArr.push('echarts.option.xAxis');\n        }\n        if (y) {\n            if (length === 1) {\n                series[0].data = y;\n                series[0].data.splice(0, series[0].data.length - max);\n            }\n            else {\n                // 多条线\n                series.forEach((serie, index) => {\n                    serie.data = y[index];\n                    serie.data.splice(0, serie.data.length - max);\n                });\n            }\n        }\n    }\n    pen.calculative.partialOption = {};\n    dataArr.forEach((key) => {\n        let value = getter(pen, key);\n        setter(pen.calculative.partialOption, key, value);\n    });\n    delete value.dataX;\n    delete value.dataY;\n    return Object.assign(value, { echarts });\n}\nfunction binds(pen, values, formItem) {\n    if (formItem.key !== 'dataY') {\n        return;\n    }\n    // 1. 拿到老的 echarts\n    const echarts = pen.echarts;\n    const { xAxis, yAxis } = echarts.option;\n    if (Array.isArray(xAxis) && xAxis.length > 1) {\n        // 多 x 轴不考虑\n        console.warn('echarts 只支持单 x 轴，多 x 轴将被忽略');\n    }\n    // 单 x 轴\n    const oneXAxis = Array.isArray(xAxis) ? xAxis[0] : xAxis;\n    const oneYAxis = Array.isArray(yAxis) ? yAxis[0] : yAxis;\n    const series = echarts.option.series;\n    if (!oneXAxis && !oneYAxis) {\n        /**\n         * 饼图、仪表盘等\n         */\n        const dataY = [];\n        // 单个饼\n        if (Array.isArray(series) && series.length === 1) {\n            series[0].data.forEach((item) => {\n                const { dataId: id } = formItem.dataIds.find((dataId) => dataId.name === item.name);\n                if (id) {\n                    const value = values.find((value) => value.dataId === id);\n                    if (value) {\n                        dataY.push({\n                            name: item.name,\n                            value: value.value,\n                        });\n                    }\n                }\n            });\n            return {\n                id: pen.id,\n                dataY,\n            };\n        }\n        else {\n            // TODO: 多个饼待考虑\n        }\n    }\n    else if (oneXAxis.type === 'category' || oneYAxis.type === 'category') {\n        // 根据 x 轴的类型排序 dataY\n        const dataY = [], dataX = [];\n        const categoryData = oneXAxis.type === 'category' ? oneXAxis.data : oneYAxis.data;\n        categoryData?.forEach((category) => {\n            const { dataId: id } = formItem.dataIds.find((dataId) => dataId.name === category);\n            if (id) {\n                const value = values.find((value) => value.dataId === id);\n                if (value) {\n                    dataX.push(category);\n                    dataY.push(value.value);\n                }\n            }\n        });\n        return {\n            id: pen.id,\n            dataY,\n            dataX,\n        };\n    }\n    else if (oneXAxis.type === 'time') {\n        // TODO: Y 轴时间不考虑\n        // x 轴时间\n        const dataY = [];\n        const now = +new Date();\n        let hasValue = false;\n        series.forEach((serie, index) => {\n            const oneDataY = [];\n            const { dataId: id } = formItem.dataIds.find((dataId) => dataId.name === serie.name);\n            if (id) {\n                const value = values.find((value) => value.dataId === id);\n                if (value) {\n                    oneDataY.push([now, value.value]);\n                    hasValue = true;\n                }\n            }\n            dataY[index] = oneDataY;\n        });\n        if (hasValue) {\n            // 说明有线有值，无值的线补充一个原值，保证每条线每个时间点都有值\n            dataY.forEach((oneDataY, index) => {\n                if (!oneDataY || oneDataY.length === 0) {\n                    const last = series[index].data[series[index].data.length - 1];\n                    // series[index].data.at(-1) 92 版本 chrome 才支持\n                    // 0 时间， 1 值\n                    dataY[index] = [[now, last[1]]];\n                }\n            });\n        }\n        else {\n            return;\n        }\n        return {\n            id: pen.id,\n            dataY: dataY.length === 1 ? dataY[0] : dataY,\n        };\n    }\n    return;\n}\n/**\n * 配置 echarts option, 并修改 replaceMode\n * @param pen 当前画笔\n * @param ids 绑定 id 数组\n * @param isTime 是否实时，用于折线图与柱状图，若实时多条线\n * @param isYCategory 是否 Y 轴为 category，用于折线图与柱状图\n */\nexport function setEchartsOption(pen, ids, isTime = false, isYCategory = false) {\n    if (pen.name !== 'echarts') {\n        console.warn('当前画笔不是 echarts');\n        return;\n    }\n    // 该画笔类型是 echarts\n    const echarts = pen.echarts;\n    const { xAxis, yAxis } = echarts.option;\n    // 单 x 轴\n    const oneXAxis = Array.isArray(xAxis) ? xAxis[0] : xAxis;\n    const oneYAxis = Array.isArray(yAxis) ? yAxis[0] : yAxis;\n    const series = echarts.option.series;\n    if (!oneXAxis && !oneYAxis) {\n        /**\n         * 饼图、仪表盘等\n         */\n        // 单饼图\n        echarts.option.legend = {};\n        series[0].data = ids.map((id) => {\n            return {\n                name: id.name,\n                value: 100, // TODO: 该值为初始值\n            };\n        });\n    }\n    else {\n        if (isTime) {\n            // TODO: 时间类型，只可以 x 轴是时间\n            // x 轴时间\n            const yType = series[0].type; // 类型，折线或柱状\n            const now = +new Date();\n            // x 轴时间，若选择多个，即为多线图\n            oneXAxis.type = 'time';\n            oneXAxis.data = [];\n            oneYAxis.type = 'value';\n            oneYAxis.data = [];\n            echarts.option.legend = {};\n            echarts.option.series = ids.map((id) => {\n                return {\n                    name: id.name,\n                    type: yType,\n                    data: [[now, 0]], // TODO: 初始值\n                };\n            });\n            echarts.replaceMode = ReplaceMode.Add; // 追加\n        }\n        else {\n            // x 轴分类，或 y 轴分类\n            const [categoryAxis, valueAxis] = isYCategory\n                ? [oneYAxis, oneXAxis]\n                : [oneXAxis, oneYAxis];\n            categoryAxis.type = 'category';\n            categoryAxis.data = ids.map((id) => id.name);\n            valueAxis.type = 'value';\n            valueAxis.data = [];\n            series.length = 1;\n            series[0].data.length = ids.length;\n            echarts.replaceMode = ReplaceMode.Replace; // 替换\n        }\n    }\n    const meta2d = pen.calculative.canvas.parent;\n    meta2d.setValue({ id: pen.id, echarts }, { render: false, doEvent: false });\n}\nfunction onRenderPenRaw(pen) {\n    const img = new Image();\n    img.src = pen.calculative.singleton?.echart?.getDataURL({\n        pixelRatio: 2,\n    });\n    pen.calculative.img = img;\n}\nfunction updateOption(_option, ratio) {\n    const option = deepClone(_option);\n    // if (option.grid) {\n    //   let props = ['top', 'bottom', 'left', 'right'];\n    //   for (let i = 0; i < props.length; i++) {\n    //     if (Array.isArray(option.grid)) {\n    //       option.grid.forEach((item) => {\n    //         if (!isNaN(item[props[i]])) {\n    //           item[props[i]] *= ratio;\n    //         }\n    //       });\n    //     } else {\n    //       if (!isNaN(option.grid[props[i]])) {\n    //         option.grid[props[i]] *= ratio;\n    //       }\n    //     }\n    //   }\n    // }\n    if (option.dataZoom) {\n        let props = ['right', 'top', 'width', 'height', 'left', 'bottom'];\n        for (let i = 0; i < props.length; i++) {\n            option.dataZoom.forEach((item) => {\n                if (!isNaN(item[props[i]])) {\n                    item[props[i]] *= ratio;\n                }\n            });\n        }\n    }\n    deepSetValue(option, keyWords, ratio);\n    return option;\n}\nfunction dotNotationToObject(dotNotationObj, pen) {\n    const result = {};\n    Object.keys(dotNotationObj).forEach((dotNotationStr) => {\n        const keys = dotNotationStr.split('.');\n        let current = result;\n        keys.forEach((key, index) => {\n            const isArrayIndex = !isNaN(parseInt(key));\n            // 如果是最后一个 key，直接赋值\n            if (index === 6) {\n                let _key = keys.slice(0, 7).join('.');\n                setter(pen, dotNotationStr, dotNotationObj[dotNotationStr]);\n                let value = getter(pen, _key);\n                current[keys[index]] = value;\n            }\n            else if (index > 6) {\n                return;\n            }\n            else if (index === keys.length - 1) {\n                if (isArrayIndex) {\n                    if (!Array.isArray(current)) {\n                        current = [];\n                    }\n                    current[parseInt(key)] = dotNotationObj[dotNotationStr];\n                }\n                else {\n                    current[key] = dotNotationObj[dotNotationStr];\n                }\n            }\n            else {\n                if (isArrayIndex) {\n                    const arrayIndex = parseInt(key);\n                    if (!Array.isArray(current)) {\n                        if (!current[keys[index - 1]]) {\n                        }\n                    }\n                    if (!current[arrayIndex]) {\n                        current[arrayIndex] = {};\n                    }\n                    if (Array.isArray(current)) {\n                        //series 空数组问题\n                        for (let i = 0; i < parseInt(key); i++) {\n                            if (!current[i]) {\n                                current[i] = {};\n                            }\n                        }\n                    }\n                    current = current[arrayIndex];\n                }\n                else {\n                    if (!current[key]) {\n                        if (key === 'series') {\n                            current[key] = [];\n                        }\n                        else {\n                            current[key] = {};\n                        }\n                    }\n                    current = current[key];\n                }\n            }\n        });\n    });\n    return result;\n}\n//# sourceMappingURL=echarts.js.map","import { calcRightBottom } from '@meta2d/core';\nexport var ReplaceMode;\n(function (ReplaceMode) {\n    ReplaceMode[ReplaceMode[\"Add\"] = 0] = \"Add\";\n    ReplaceMode[ReplaceMode[\"Replace\"] = 1] = \"Replace\";\n    ReplaceMode[ReplaceMode[\"ReplaceAll\"] = 2] = \"ReplaceAll\";\n})(ReplaceMode || (ReplaceMode = {}));\nexport function getTextLength(text, pen) {\n    const textScale = (pen.calculative.worldRect.height * 14) / 16;\n    const chinese = text.match(/[\\u4e00-\\u9fa5]/g) || '';\n    const chineseLen = chinese.length;\n    const width = (text.length - chineseLen) * textScale * 0.6 + chineseLen * textScale;\n    return width;\n}\nexport function initOptions(pen) {\n    if (pen.direction == 'horizontal') {\n        const optionPos = [];\n        let textLength = 0;\n        const h = pen.height;\n        pen.checkboxHeight = h;\n        pen.options.forEach((item, index) => {\n            optionPos.push(index * (40 + h) + textLength);\n            textLength += getTextLength(item.text, pen);\n        });\n        pen.optionPos = optionPos;\n        const width = optionPos.length * (40 + h) + textLength;\n        pen.checkboxWidth = width;\n        pen.width = width;\n        pen.calculative.width = width;\n        pen.calculative.worldRect = {\n            x: pen.x,\n            y: pen.y,\n            height: pen.height,\n            width: pen.width,\n            center: {\n                x: pen.x + pen.width / 2,\n                y: pen.y + pen.height / 2,\n            },\n        };\n        calcRightBottom(pen.calculative.worldRect);\n    }\n    else if (pen.direction == 'vertical') {\n        if (pen.optionInterval == undefined) {\n            pen.optionInterval = 20;\n        }\n        if (!pen.optionHeight) {\n            pen.optionHeight = 20;\n        }\n        const optionPos = [];\n        pen.options.forEach((item, index) => {\n            optionPos.push(index * (pen.optionInterval + pen.optionHeight));\n        });\n        pen.optionPos = optionPos;\n        const height = optionPos[optionPos.length - 1] + pen.optionHeight;\n        pen.checkboxHeight = height;\n        if (!pen.width) {\n            pen.height = height;\n            pen.calculative.height = height;\n            pen.calculative.worldRect = {\n                x: pen.x,\n                y: pen.y,\n                height: pen.height,\n                width: pen.width,\n                center: {\n                    x: pen.x + pen.width / 2,\n                    y: pen.y + pen.height / 2,\n                },\n            };\n            calcRightBottom(pen.calculative.worldRect);\n        }\n    }\n}\n//# sourceMappingURL=common.js.map","import { ReplaceMode } from './common';\nimport { calcRightBottom, calcTextLines, deepClone } from '@meta2d/core';\nexport function table2(ctx, pen) {\n    if (!pen.onAdd) {\n        pen.onAdd = onAdd;\n        if (!pen.rowPos || !pen.colPos || !pen.calculative.maxOffsetY) {\n            pen.onAdd(pen);\n        }\n        pen.onMouseMove = onMouseMove;\n        pen.onMouseLeave = onMouseLeave;\n        pen.onMouseDown = onMouseDown;\n        pen.onShowInput = onShowInput;\n        pen.onInput = onInput;\n        pen.onValue = onValue;\n        pen.onBeforeValue = beforeValue;\n        pen.onMouseEnter = onMouseEnter;\n        pen.onWheel = onWheel;\n        pen.onDestroy = onDestroy;\n    }\n    if (pen.data.length !== pen.rowPos.length) {\n        pen.initWorldRect = null;\n        pen.calculative.isUpdateData = true;\n        pen.onValue(pen);\n    }\n    if (pen.data[0].length !== pen.colPos.length) {\n        pen.initWorldRect = null;\n        pen.calculative.isUpdateData = true;\n        pen.onValue(pen);\n    }\n    const store = pen.calculative.canvas.store;\n    const data = pen.calculative.canvas.store.data;\n    const options = pen.calculative.canvas.store.options;\n    pen.color = pen.color || store.styles.color;\n    pen.textColor =\n        pen.textColor || pen.color || store.styles.textColor;\n    pen.activeColor = pen.activeColor || store.styles.activeColor;\n    pen.hoverColor = pen.hoverColor || store.styles.hoverColor;\n    pen.activeBackground = pen.activeBackground || store.styles.activeBackground;\n    pen.hoverBackground = pen.hoverBackground || store.styles.hoverBackground;\n    if (!pen.hasHeader) {\n        ctx.save();\n        ctx.beginPath();\n        const { x, y, width, height } = pen.calculative.worldRect;\n        ctx.fillStyle = '#fff0';\n        ctx.rect(x - 1, y - 1, width + 2, height + 2);\n        ctx.fill();\n        ctx.clip();\n    }\n    // 画网格线\n    drawGridLine(ctx, pen);\n    // 画单元格\n    drawCell(ctx, pen);\n    // 画title\n    drawNote(ctx, pen);\n    ctx.restore();\n    pen.isFirstTime = false;\n}\nfunction drawNote(ctx, pen) {\n    if (!pen.calculative.hover) {\n        return;\n    }\n    if (!pen.calculative.hoverCell) {\n        return;\n    }\n    if (pen.calculative.isInput) {\n        return;\n    }\n    if (!pen.calculative.isHover) {\n        return;\n    }\n    let rect = pen.calculative.worldRect;\n    let mousePos = pen.calculative.canvas.mousePos;\n    if (!(mousePos.x > rect.x &&\n        mousePos.x < rect.x + rect.width &&\n        mousePos.y > rect.y &&\n        mousePos.y < rect.y + rect.height)) {\n        pen.calculative.hover = false;\n        pen.calculative.isHover = false;\n        pen.calculative.hoverCell = undefined;\n        return;\n    }\n    const { row, col } = pen.calculative.hoverCell;\n    const { x, y } = pen.calculative.canvas.mousePos;\n    if (!pen.data[row]) {\n        return;\n    }\n    let text = pen.data[row][col];\n    if (typeof text === 'object' || !text) {\n        return;\n    }\n    ctx.save();\n    ctx.beginPath();\n    ctx.textAlign = 'start';\n    ctx.textBaseline = 'middle';\n    ctx.font = ctx.font =\n        (pen.calculative.fontStyle || '') +\n            ' normal ' +\n            (pen.calculative.fontWeight || '') +\n            ' ' +\n            (pen.calculative.fontSize || 12) +\n            'px ' +\n            pen.calculative.fontFamily;\n    const noteWidth = ctx.measureText(text).width;\n    ctx.beginPath();\n    ctx.fillStyle = '#fff';\n    ctx.strokeStyle = '#000';\n    ctx.moveTo(x, y);\n    ctx.rect(x - 10, y, noteWidth + 20, 20);\n    ctx.fill();\n    ctx.stroke();\n    ctx.beginPath();\n    ctx.fillStyle = '#000';\n    ctx.fillText(text, x, y + 10);\n    ctx.restore();\n}\nfunction initRect(pen) {\n    const colPos = [];\n    const rowPos = [];\n    const colStyle = {};\n    if (!pen.rowHeight) {\n        pen.rowHeight = 40;\n    }\n    if (!pen.colWidth) {\n        pen.colWidth = 150;\n    }\n    let width = 0;\n    //获取所有col width\n    const _col = pen.styles &&\n        pen.styles.filter((item) => {\n            return item.col !== undefined && item.row === undefined && item.width;\n        });\n    let _colWidthMap = {};\n    _col &&\n        _col.forEach((_c) => {\n            _colWidthMap[_c.col] = _c.width;\n        });\n    for (let i = 0; i < pen.data[0].length; i++) {\n        width +=\n            (_colWidthMap[i] || pen.colWidth) *\n                pen.calculative.canvas.store.data.scale;\n        colPos.push(width);\n        let style = pen.styles &&\n            pen.styles.filter((item) => {\n                return item.col === i && item.row === undefined;\n            });\n        if (style) {\n            colStyle[i] = style[0];\n        }\n    }\n    let height = 0;\n    //获取所有row height\n    const _row = pen.styles &&\n        pen.styles.filter((item) => {\n            return item.col === undefined && item.row !== undefined && item.height;\n        });\n    let _rowHeightMap = {};\n    _row &&\n        _row.forEach((_r) => {\n            _rowHeightMap[_r.row] = _r.height;\n        });\n    // 显示表头\n    let finalHight = height;\n    for (let j = 0; j < pen.data.length; j++) {\n        height +=\n            (_rowHeightMap[j] || pen.rowHeight) *\n                pen.calculative.canvas.store.data.scale;\n        rowPos.push(height);\n        if (j < pen.maxNum) {\n            finalHight = height;\n        }\n    }\n    pen.calculative.maxOffsetY =\n        (height - finalHight) / pen.calculative.canvas.store.data.scale;\n    if (pen.initWorldRect) {\n        return;\n    }\n    pen.colPos = colPos;\n    pen.rowPos = rowPos;\n    pen.colStyle = colStyle;\n    pen.initScale = pen.calculative.canvas.store.data.scale;\n    pen.tableWidth = width;\n    pen.tableHeight = finalHight || height;\n    //   if (!pen.width) {\n    pen.calculative.width = width;\n    pen.calculative.height = finalHight || height;\n    pen.calculative.width = width;\n    pen.calculative.height = finalHight || height;\n    if (!pen.height) {\n        pen.height = pen.calculative.height;\n    }\n    if (!pen.width) {\n        pen.width = pen.calculative.width;\n    }\n    let x = pen.x;\n    let y = pen.y;\n    if (pen.parentId) {\n        let parentPen = pen.calculative.canvas.store.pens[pen.parentId];\n        x =\n            parentPen.calculative.worldRect.x +\n                parentPen.calculative.worldRect.width * pen.x;\n        y =\n            parentPen.calculative.worldRect.y +\n                parentPen.calculative.worldRect.height * pen.y;\n    }\n    pen.calculative.worldRect = {\n        x,\n        y,\n        height: pen.calculative.height,\n        width: pen.calculative.width,\n        center: {\n            x: pen.x + pen.calculative.width / 2,\n            y: pen.y + pen.calculative.height / 2,\n        },\n    };\n    pen.width = pen.calculative.width;\n    pen.height = pen.calculative.height;\n    if (!pen.initWorldRect) {\n        pen.initWorldRect = {\n            width: pen.calculative.worldRect.width,\n            height: pen.calculative.worldRect.height,\n        };\n    }\n    calcRightBottom(pen.calculative.worldRect);\n    //   }\n}\nfunction drawGridLine(ctx, pen) {\n    if (!pen.colPos) {\n        return;\n    }\n    // const worldRect = pen.calculative.worldRect;\n    const { x, y, width, height, ex, ey } = pen.calculative.worldRect;\n    ctx.save();\n    ctx.beginPath();\n    ctx.strokeStyle = pen.color;\n    // 绘画最外框\n    // ctx.beginPath();\n    // ctx.rect(worldRect.x, worldRect.y, worldRect.width, worldRect.height);\n    let wr = pen.calculative.borderRadius || 0, hr = wr;\n    if (wr < 1) {\n        wr = width * wr;\n        hr = height * hr;\n    }\n    let r = wr < hr ? wr : hr;\n    if (width < 2 * r) {\n        r = width / 2;\n    }\n    if (height < 2 * r) {\n        r = height / 2;\n    }\n    ctx.moveTo(x + r, y);\n    ctx.arcTo(ex, y, ex, ey, r);\n    ctx.arcTo(ex, ey, x, ey, r);\n    ctx.arcTo(x, ey, x, y, r);\n    ctx.arcTo(x, y, ex, y, r);\n    if (pen.background) {\n        ctx.fillStyle = pen.background;\n        ctx.fill();\n    }\n    if (pen.bordered !== false) {\n        ctx.strokeStyle = pen.borderColor || pen.color || '#424B61';\n        ctx.stroke();\n    }\n    if (pen.hLine !== false) {\n        // 绘画行的线\n        let last = pen.rowPos[pen.rowPos.length - 1];\n        if (pen.hasHeader) {\n            ctx.beginPath();\n            ctx.moveTo(pen.calculative.worldRect.x, pen.calculative.worldRect.y +\n                (pen.rowPos[0] * pen.calculative.worldRect.height) / pen.tableHeight);\n            ctx.lineTo(pen.calculative.worldRect.ex, pen.calculative.worldRect.y +\n                (pen.rowPos[0] * pen.calculative.worldRect.height) / pen.tableHeight);\n            ctx.strokeStyle = pen.borderColor || pen.color || '#424B61';\n            ctx.stroke();\n        }\n        for (const item of pen.rowPos) {\n            if (item === last) {\n                continue;\n            }\n            const y = (item * pen.calculative.worldRect.height) / pen.tableHeight -\n                pen.offsetY * pen.calculative.canvas.store.data.scale;\n            if (pen.hasHeader) {\n                if (y < 0 + pen.rowPos[0] || y > pen.calculative.worldRect.height) {\n                    continue;\n                }\n            }\n            else {\n                if (y < 0 || y > pen.calculative.worldRect.height) {\n                    continue;\n                }\n            }\n            ctx.beginPath();\n            ctx.moveTo(pen.calculative.worldRect.x, pen.calculative.worldRect.y + y);\n            ctx.lineTo(pen.calculative.worldRect.ex, pen.calculative.worldRect.y + y);\n            ctx.strokeStyle = pen.borderColor || pen.color || '#424B61';\n            ctx.stroke();\n        }\n    }\n    if (pen.vLine !== false) {\n        // 绘画列的线\n        let last = pen.colPos[pen.colPos.length - 1];\n        pen.colPos.forEach((item, i) => {\n            if (item === last) {\n                return;\n            }\n            const x = (item * pen.calculative.worldRect.width) / pen.tableWidth;\n            ctx.beginPath();\n            ctx.moveTo(pen.calculative.worldRect.x + x, pen.calculative.worldRect.y);\n            ctx.lineTo(pen.calculative.worldRect.x + x, pen.calculative.worldRect.ey);\n            ctx.strokeStyle = pen.borderColor || pen.color || '#424B61';\n            ctx.stroke();\n        });\n    }\n    ctx.restore();\n}\nfunction drawCell(ctx, pen) {\n    if (!pen.colPos) {\n        return;\n    }\n    if (!pen.calculative.texts) {\n        pen.calculative.texts = [];\n    }\n    const textScale = 1;\n    for (let i = 0; i < pen.rowPos.length; i++) {\n        if (pen.hasHeader && i === 1) {\n            ctx.save();\n            ctx.beginPath();\n            const { x, y, width, height } = pen.calculative.worldRect;\n            ctx.fillStyle = '#fff0';\n            ctx.rect(x - 1, y +\n                (pen.rowPos[0] * pen.calculative.worldRect.height) / pen.tableHeight - 1, width + 2, height -\n                (pen.rowPos[0] * pen.calculative.worldRect.height) / pen.tableHeight + 2);\n            ctx.fill();\n            ctx.clip();\n        }\n        let { style: rowStyle } = getRow(pen, i);\n        for (let j = 0; j < pen.colPos.length; j++) {\n            let { value: cell, style: cellStyle } = getCell(pen, i, j);\n            let isSuccess = true;\n            //样式条件成立\n            if (Array.isArray(cellStyle) && cellStyle.length > 0) {\n                let successIdx = 0;\n                cellStyle.forEach((item, idx) => {\n                    if (item.wheres) {\n                        let success = item.wheres.every((where) => {\n                            const fn = new Function('attr', `return attr ${where.comparison} ${where.value}`);\n                            return fn(cell);\n                        });\n                        if (success) {\n                            successIdx = idx;\n                        }\n                    }\n                });\n                cellStyle = cellStyle[successIdx];\n            }\n            else {\n                if (cellStyle.wheres &&\n                    Array.isArray(cellStyle.wheres)) {\n                    isSuccess = false;\n                    isSuccess = cellStyle.wheres.every(function (where) {\n                        const fn = new Function('attr', `return attr ${where.comparison} ${where.value}`);\n                        return fn(cell);\n                    });\n                }\n            }\n            let color = pen.color;\n            let textColor = pen.textColor || pen.color;\n            let background = null;\n            let fontSize = null;\n            let fontWeight = null;\n            let fontStyle = null;\n            if (isSuccess) {\n                color =\n                    cellStyle.color || rowStyle.color || pen.color;\n                textColor =\n                    cellStyle.textColor ||\n                        rowStyle.textColor ||\n                        pen.textColor;\n                background =\n                    cellStyle.background || rowStyle.background;\n                fontSize =\n                    (cellStyle.fontSize || rowStyle.fontSize || 0) *\n                        pen.calculative.canvas.store.data.scale;\n                fontWeight =\n                    cellStyle.fontWeight || rowStyle.fontWeight;\n                fontStyle = cellStyle.fontStyle || rowStyle.fontStyle;\n            }\n            let activeColor;\n            if (pen.stripe) {\n                if (pen.hasHeader !== false) {\n                    if (i % 2 === 1) {\n                        background = background || pen.stripeColor || '#407FFF1F';\n                    }\n                }\n                else {\n                    if (i % 2 === 0) {\n                        background = background || pen.stripeColor || '#407FFF1F';\n                    }\n                }\n            }\n            // 选中\n            if (pen.calculative.active &&\n                pen.calculative.activeCell?.row === i &&\n                pen.calculative.activeCell?.col === j) {\n                color = pen.activeColor;\n                background = pen.activeBackground;\n                activeColor = color;\n                textColor = pen.activeTextColor || pen.activeColor;\n            }\n            // hover\n            if (pen.calculative.hover &&\n                pen.calculative.hoverCell?.row === i &&\n                pen.calculative.hoverCell?.col === j) {\n                color = pen.hoverColor;\n                background = pen.hoverBackground;\n                textColor = pen.hoverTextColor || pen.hoverColor;\n                activeColor = color;\n            }\n            const rect = getCellRect(pen, i, j);\n            if (rect.y + rect.height < pen.calculative.worldRect.y ||\n                rect.y > pen.calculative.worldRect.height + pen.calculative.worldRect.y) {\n                continue;\n            }\n            // 有背景\n            if (background) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.fillStyle = background;\n                ctx.fillRect(rect.x, rect.y, rect.width + 0.25 * pen.calculative.canvas.store.data.scale, rect.height);\n                ctx.restore();\n            }\n            // 选中或hover\n            if (activeColor) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.strokeStyle = activeColor;\n                ctx.strokeRect(rect.x, rect.y, rect.width, rect.height);\n                ctx.restore();\n            }\n            // 绘画文本\n            pen.calculative.worldTextRect = rect;\n            let rowText = pen.calculative.texts[i];\n            if (!pen.calculative.texts[i]) {\n                rowText = [];\n                pen.calculative.texts.push(rowText);\n            }\n            if (rowText[j] == null) {\n                if (typeof cell === 'object') {\n                    // TODO 配置 {} 代表添加节点 考虑是否有表头\n                    const _colPen = pen.styles &&\n                        pen.styles.filter((item) => {\n                            return item.col === j && item.row === undefined && item.pens;\n                        });\n                    if (_colPen.length > 0) {\n                        rowText[j] = '';\n                        if (pen.isFirstTime) {\n                            if (pen.maxNum) {\n                                if (pen.hasHeader && i >= pen.maxNum) {\n                                    cell.visible = false;\n                                }\n                            }\n                            let childrenPen = JSON.parse(JSON.stringify(_colPen[0].pens));\n                            childrenPen.forEach((item) => {\n                                Object.assign(item, { row: i, col: j }, cell);\n                                item.activeBackground = item.background;\n                                item.hoverBackground = item.background;\n                                item.activeColor = item.color;\n                                item.hoverColor = item.color;\n                                item.activeTextColor = item.textColor;\n                                item.hoverTextColor = item.textColor;\n                                item.height *= pen.calculative.canvas.store.data.scale;\n                                item.width *= pen.calculative.canvas.store.data.scale;\n                            });\n                            calcChildrenRect(pen, rect, childrenPen);\n                            pen.calculative.canvas.parent.pushChildren(pen, childrenPen);\n                        }\n                        continue;\n                    }\n                }\n                else if (cell === undefined) {\n                    rowText[j] = '';\n                }\n                else {\n                    rowText[j] = cell.text || cell + '';\n                }\n                if (!rowText[j]) {\n                    continue;\n                }\n                // 计算换行和省略号\n                rowText[j] = calcTextLines(pen, rowText[j]);\n            }\n            if (!rowText[j]) {\n                continue;\n            }\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = textColor;\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.font =\n                (fontStyle || pen.calculative.fontStyle || '') +\n                    ' normal ' +\n                    (fontWeight || pen.calculative.fontWeight || '') +\n                    ' ' +\n                    (fontSize || pen.calculative.fontSize || 12) * textScale +\n                    'px ' +\n                    pen.calculative.fontFamily;\n            let textAlign = pen.colStyle && pen.colStyle[j]?.textAlign;\n            if (textAlign) {\n                ctx.textAlign = textAlign;\n            }\n            if (rowText[j].length === 1) {\n                if (textAlign === 'left') {\n                    ctx.fillText(rowText[j][0], rect.x, rect.y + rect.height / 2);\n                }\n                else if (textAlign === 'right') {\n                    ctx.fillText(rowText[j][0], rect.x + rect.width, rect.y + rect.height / 2);\n                }\n                else {\n                    ctx.fillText(rowText[j][0], rect.x + rect.width / 2, rect.y + rect.height / 2);\n                }\n            }\n            else {\n                const y = 0.55;\n                const lineHeight = (fontSize || pen.calculative.fontSize) *\n                    pen.calculative.lineHeight *\n                    textScale;\n                const h = rowText[j].length * lineHeight;\n                let top = (rect.height - h) / 2;\n                if (textAlign === 'left') {\n                    rowText[j].forEach((text, i) => {\n                        ctx.fillText(text, rect.x, rect.y + top + (i + y) * lineHeight);\n                    });\n                }\n                else if (textAlign === 'right') {\n                    rowText[j].forEach((text, i) => {\n                        ctx.fillText(text, rect.x + rect.width, rect.y + top + (i + y) * lineHeight);\n                    });\n                }\n                else {\n                    rowText[j].forEach((text, i) => {\n                        ctx.fillText(text, rect.x + rect.width / 2, rect.y + top + (i + y) * lineHeight);\n                    });\n                }\n            }\n            ctx.restore();\n        }\n    }\n}\n// 添加table节点回调\nfunction onAdd(pen) {\n    createInterval(pen);\n    if (!pen.children?.length) {\n        pen.isFirstTime = true;\n    }\n    if (!pen.offsetY) {\n        pen.offsetY = 0;\n    }\n    initRect(pen);\n}\nfunction onShowInput(pen, e) {\n    // 没有活动单元格\n    if (!pen.calculative.hoverCell) {\n        return;\n    }\n    const { value: cell } = getCell(pen, pen.calculative.hoverCell.row, pen.calculative.hoverCell.col);\n    // 子节点，非文本\n    if (typeof cell === 'object') {\n        return;\n    }\n    pen.calculative.isHover = false;\n    pen.calculative.isInput = true;\n    pen.calculative.canvas.render();\n    pen.calculative.inputCell = pen.calculative.hoverCell;\n    const rect = getCellRect(pen, pen.calculative.hoverCell.row, pen.calculative.hoverCell.col);\n    pen.calculative.tempText = cell.text || cell + '';\n    pen.calculative.canvas.showInput(pen, rect, '#ffffff');\n}\n//将输入的数据写入到对应的data中\nfunction onInput(pen, text) {\n    if (!pen.calculative.inputCell) {\n        return;\n    }\n    setCellText(pen, pen.calculative.inputCell.row, pen.calculative.inputCell.col, text);\n    pen.calculative.isInput = false;\n    pen.calculative.isHover = true;\n    pen.calculative.canvas.render();\n}\nfunction onMouseMove(pen, e) {\n    if (pen.timer) {\n        pen.calculative.isHover = false;\n        clearTimeout(pen.timer);\n    }\n    pen.timer = setTimeout(() => {\n        pen.calculative.isHover = true;\n        pen.calculative.canvas.render();\n    }, 500);\n    pen.calculative.hoverCell = getCellIndex(pen, e);\n    pen.calculative.canvas.render();\n}\nfunction onMouseLeave(pen, e) {\n    createInterval(pen);\n    pen.calculative.hoverCell = undefined;\n    //   pen.calculative.activeCell = undefined;\n    pen.calculative.canvas.render();\n}\nfunction onMouseDown(pen, e) {\n    pen.calculative.activeCell = getCellIndex(pen, e);\n    pen.calculative.canvas.render();\n}\n// 根据坐标，计算在哪个cell\nfunction getCellIndex(pen, e) {\n    const scaleX = pen.calculative.worldRect.width / pen.tableWidth;\n    const scaleY = pen.calculative.worldRect.height / pen.tableHeight;\n    const pos = { row: 0, col: 0 };\n    for (let i = 0; i < pen.colPos.length; i++) {\n        if (e.x > pen.calculative.worldRect.x + pen.colPos[i] * scaleX) {\n            pos.col = i + 1;\n        }\n    }\n    for (let i = 0; i < pen.rowPos.length; i++) {\n        if (e.y >\n            pen.calculative.worldRect.y +\n                pen.rowPos[i] * scaleY -\n                pen.offsetY * pen.calculative.canvas.store.data.scale) {\n            pos.row = i + 1;\n        }\n    }\n    return pos;\n}\n// 根据index获取cell\nfunction getCell(pen, rowIndex, colIndex) {\n    if (!pen.data || !Array.isArray(pen.data)) {\n        return;\n    }\n    const row = pen.data[rowIndex];\n    //TODO 没有获取单独设置 某行 某列 的样式\n    const style = pen.styles &&\n        pen.styles.filter((item) => {\n            return item.row === rowIndex && item.col === colIndex;\n        });\n    if (Array.isArray(row)) {\n        return { value: row[colIndex], style: style?.length > 0 ? (style.length > 1 ? style : style[0]) : {} };\n    }\n    else if (!row.data || !Array.isArray(row.data)) {\n        return;\n    }\n}\n// 根据index获取getRow\nfunction getRow(pen, rowIndex) {\n    if (!pen.data || !Array.isArray(pen.data)) {\n        return;\n    }\n    const row = pen.data[rowIndex];\n    //TODO 没有获取单独设置 某行 某列 的样式\n    const style = pen.styles &&\n        pen.styles.filter((item) => {\n            return item.row === rowIndex && item.col === undefined;\n        });\n    if (Array.isArray(row)) {\n        return { value: row, style: style?.length > 0 ? style[0] : {} };\n    }\n    else if (!row.data || !Array.isArray(row.data)) {\n        return;\n    }\n}\n// 设置cell的文本\nfunction setCellText(pen, rowIndex, colIndex, text) {\n    if (!pen.data || !Array.isArray(pen.data)) {\n        return;\n    }\n    pen.isFirstTime = false;\n    pen.calculative.texts = undefined;\n    let rowData = pen.data[rowIndex];\n    if (!rowData) {\n        return;\n    }\n    if (rowData[colIndex] instanceof Object) {\n    }\n    else {\n        rowData[colIndex] = text;\n    }\n    pen.calculative.canvas.store.emitter.emit('valueUpdate', pen);\n}\n// 计算cell世界坐标区域\nfunction getCellRect(pen, rowIndex, colIndex) {\n    const scaleX = pen.calculative.worldRect.width / pen.tableWidth;\n    const scaleY = pen.calculative.worldRect.height / pen.tableHeight;\n    let x = 0;\n    let ex = pen.colPos[colIndex] * scaleX;\n    if (colIndex > 0) {\n        x = pen.colPos[colIndex - 1] * scaleX;\n    }\n    let y = 0;\n    let ey = pen.rowPos[rowIndex] * scaleY;\n    if (rowIndex > 0) {\n        y = pen.rowPos[rowIndex - 1] * scaleY;\n    }\n    let offset = pen.offsetY * pen.calculative.canvas.store.data.scale;\n    if (rowIndex === 0 && pen.hasHeader) {\n        offset = 0;\n    }\n    return {\n        x: pen.calculative.worldRect.x + x,\n        y: pen.calculative.worldRect.y + y - offset,\n        ex: pen.calculative.worldRect.x + ex,\n        ey: pen.calculative.worldRect.y + ey - offset,\n        width: ex - x,\n        height: ey - y,\n    };\n}\n// 计算cell子节点的世界坐标区域\nfunction calcChildrenRect(pen, rect, children) {\n    if (!(children && children.length)) {\n        return;\n    }\n    const scaleX = pen.calculative.worldRect.width / pen.tableWidth;\n    const scaleY = pen.calculative.worldRect.height / pen.tableHeight;\n    let resizeX = 1;\n    let resizeY = 1;\n    if (pen.initWorldRect) {\n        if (pen.calculative.worldRect.width !== pen.initWorldRect.width) {\n            resizeX = pen.calculative.worldRect.width / pen.initWorldRect.width;\n        }\n        if (pen.calculative.worldRect.height !== pen.initWorldRect.height) {\n            resizeY = pen.calculative.worldRect.height / pen.initWorldRect.height;\n        }\n    }\n    // 计算子节点需要的宽高\n    let height = 0;\n    let lastX = 0;\n    let lastY = 0;\n    const scale = pen.calculative.canvas.store.data.scale;\n    if (children.length > 1) {\n        for (const item of children) {\n            if (lastX + item.width * scaleX + 20 * scale * scaleX < rect.width) {\n                item.x = rect.x + lastX + 10 * scale * scaleX;\n                item.y = rect.y + lastY + 10 * scale * scaleY;\n                lastX += (item.width + 10 * scale) * scaleX;\n                height = Math.max(height, lastY + (item.height + 10 * scale) * scaleY);\n            }\n            else {\n                // 超出需要换行\n                lastX = 0;\n                lastY = height;\n                item.x = rect.x + lastX + 10 * scale * scaleX;\n                item.y = rect.y + lastY + 10 * scale * scaleY;\n                height += (item.height + 10 * scale) * scaleY;\n            }\n        }\n        // 垂直居中\n        if (height + 20 * scale * scaleY < rect.height) {\n            const top = (rect.height - height - 10 * scale * scaleY) / 2;\n            for (const item of children) {\n                item.y += top;\n            }\n        }\n    }\n    else {\n        //一个子图元默认水平垂直居中\n        children[0].x = rect.x + (rect.width - children[0].width) / 2;\n        children[0].y = rect.y + (rect.height - children[0].height) / 2;\n    }\n    children.forEach((item) => {\n        item.width = item.width * resizeX;\n        item.height = item.height * resizeY;\n    });\n}\nfunction onValue(pen) {\n    if (pen.calculative.isUpdateData) {\n        delete pen.calculative.isUpdateData;\n        let temChildren = deepClone(pen.children);\n        pen.children = [];\n        onAdd(pen);\n        temChildren &&\n            temChildren.forEach((child) => {\n                pen.calculative.canvas.delForce(pen.calculative.canvas.findOne(child));\n            });\n        pen.calculative.texts = undefined;\n        // pen.calculative.canvas.active([pen]);\n    }\n}\nfunction beforeValue(pen, value) {\n    pen.calculative.isUpdateData = false;\n    if (pen.swiper !== undefined) {\n        if (pen.swiper) {\n            createInterval(pen);\n        }\n        else {\n            delInterval(pen);\n        }\n    }\n    if (value.styles) {\n        pen.initWorldRect = undefined;\n    }\n    if (value.table ||\n        (value.col == undefined && value.row == undefined)) {\n        if (value.dataY) {\n            const replaceMode = pen.replaceMode;\n            let data = [];\n            if (!replaceMode) {\n                //追加\n                data = pen.data.concat(value.dataY);\n            }\n            else if (replaceMode === ReplaceMode.Replace) {\n                //替换\n                data = pen.data;\n                value.dataX &&\n                    value.dataX.forEach((item, index) => {\n                        data[item] = value.dataY[index];\n                    });\n            }\n            else if (replaceMode === ReplaceMode.ReplaceAll) {\n                //替换指定\n                if (value.dataX) {\n                    data[0] = value.dataX;\n                }\n                else {\n                    data[0] = pen.data[0];\n                }\n                data = data.concat(value.dataY);\n            }\n            delete value.dataX;\n            delete value.dataY;\n            pen.calculative.isUpdateData = true;\n            return Object.assign(value, { data });\n        }\n        if (value.data || value.styles || value.maxNum || value.rowHeight || value.colWidth) {\n            pen.calculative.isUpdateData = true;\n            pen.initWorldRect = null;\n        }\n        for (let key of Object.keys(value)) {\n            if (key.includes('data.')) {\n                pen.calculative.isUpdateData = true;\n            }\n        }\n        return value;\n    }\n    let rowData = pen.data[value.row];\n    if (!rowData) {\n        return value;\n    }\n    if (rowData[value.col] instanceof Object) {\n    }\n    else {\n        rowData[value.col] = value.value;\n    }\n    setCellText(pen, value.row, value.col, value.value);\n    pen.calculative.canvas.render();\n    delete value.col;\n    delete value.row;\n    return value;\n}\n//鼠标滚动\nfunction onWheel(pen, e) {\n    if (!pen.locked && !pen.calculative.canvas.store.data.locked) {\n        return;\n    }\n    if (!pen.maxNum) {\n        return;\n    }\n    let offset = 0;\n    if (e.deltaY > 0) {\n        offset = 4;\n    }\n    else {\n        offset = -4;\n    }\n    scroll(pen, offset);\n}\n//滚动处理\nfunction scroll(pen, offset) {\n    if (!pen.offsetY) {\n        pen.offsetY = 0;\n    }\n    pen.offsetY += offset;\n    //滚动的最大偏移值\n    if (pen.offsetY > pen.calculative.maxOffsetY) {\n        pen.offsetY = pen.calculative.maxOffsetY;\n    }\n    if (pen.offsetY < 0) {\n        pen.offsetY = 0;\n    }\n    //子节点\n    pen.children?.forEach((item) => {\n        const _pen = pen.calculative.canvas.store.pens[item];\n        changeChildVisible(pen, _pen);\n    });\n    pen.calculative.canvas.render();\n}\n//控制子节点\nfunction changeChildVisible(pen, _pen) {\n    if (!_pen) {\n        return;\n    }\n    if (!_pen.oldY) {\n        _pen.oldY = _pen.y;\n    }\n    const { y, height } = _pen.calculative.worldRect;\n    const { y: penY, height: penH } = pen.calculative.worldRect;\n    const scale = pen.calculative.canvas.store.data.scale;\n    const scaleY = pen.calculative.worldRect.height / pen.tableHeight;\n    const rowHeight = pen.rowHeight; //*scale;\n    //y值更新\n    _pen.y = _pen.oldY - (pen.offsetY * scale) / pen.calculative.worldRect.height;\n    const oldOffset = ((rowHeight * (pen.initScale || 1)) / pen.tableHeight) * pen.maxNum;\n    pen.calculative.canvas.updatePenRect(_pen);\n    if (pen.hasHeader) {\n        if (_pen.y < pen.rowPos[0] / pen.tableHeight) {\n            //显示/隐藏\n            _pen.calculative.visible = false;\n            _pen.visible = false;\n            //颜色及位置更新\n            if (_pen.y < pen.rowPos[0] / pen.tableHeight / 2) {\n                _pen.oldY += oldOffset;\n                let row = _pen.row + pen.maxNum;\n                if (!pen.data[row]) {\n                    return;\n                }\n                let rowStyle = deepClone(pen.data[row][_pen.col]);\n                if (rowStyle.background) {\n                    rowStyle.activeBackground = rowStyle.background;\n                    rowStyle.hoverBackground = rowStyle.background;\n                }\n                if (rowStyle.color) {\n                    rowStyle.hoverColor = rowStyle.color;\n                    rowStyle.activeColor = rowStyle.color;\n                }\n                if (rowStyle.textColor) {\n                    rowStyle.activeTextColor = rowStyle.textColor;\n                    rowStyle.hoverTextColor = rowStyle.textColor;\n                }\n                Object.assign(_pen, rowStyle, { row: row });\n                Object.assign(_pen.calculative, rowStyle, { row: row });\n            }\n        }\n        else if (_pen.y + _pen.height > 1) {\n            //显示/隐藏\n            _pen.calculative.visible = false;\n            _pen.visible = false;\n            //颜色及位置更新\n            if (_pen.y + _pen.height / 2 > 1) {\n                _pen.oldY -= oldOffset;\n                let row = _pen.row - pen.maxNum;\n                if (!pen.data[row]) {\n                    return;\n                }\n                let rowStyle = deepClone(pen.data[row][_pen.col]);\n                if (rowStyle.background) {\n                    rowStyle.activeBackground = rowStyle.background;\n                    rowStyle.hoverBackground = rowStyle.background;\n                }\n                if (rowStyle.color) {\n                    rowStyle.hoverColor = rowStyle.color;\n                    rowStyle.activeColor = rowStyle.color;\n                }\n                if (rowStyle.textColor) {\n                    rowStyle.activeTextColor = rowStyle.textColor;\n                    rowStyle.hoverTextColor = rowStyle.textColor;\n                }\n                Object.assign(_pen, rowStyle, { row: row });\n                Object.assign(_pen.calculative, rowStyle, { row: row });\n            }\n        }\n        else {\n            _pen.visible = true;\n            _pen.calculative.visible = true;\n        }\n    }\n    else {\n        if (_pen.y < 0) {\n            _pen.calculative.visible = false;\n            _pen.visible = false;\n            if (_pen.y < -rowHeight / pen.tableHeight / 2) {\n                _pen.oldY += oldOffset;\n                let row = _pen.row + pen.maxNum;\n                if (!pen.data[row]) {\n                    return;\n                }\n                let rowStyle = deepClone(pen.data[row][_pen.col]);\n                if (rowStyle.background) {\n                    rowStyle.activeBackground = rowStyle.background;\n                    rowStyle.hoverBackground = rowStyle.background;\n                }\n                if (rowStyle.color) {\n                    rowStyle.hoverColor = rowStyle.color;\n                    rowStyle.activeColor = rowStyle.color;\n                }\n                if (rowStyle.textColor) {\n                    rowStyle.activeTextColor = rowStyle.textColor;\n                    rowStyle.hoverTextColor = rowStyle.textColor;\n                }\n                Object.assign(_pen, rowStyle, { row: row });\n                Object.assign(_pen.calculative, rowStyle, { row: row });\n            }\n        }\n        else if (_pen.y + _pen.height > 1) {\n            _pen.calculative.visible = false;\n            _pen.visible = false;\n            if (_pen.y + _pen.height / 2 > 1) {\n                _pen.oldY -= oldOffset;\n                let row = _pen.row - pen.maxNum;\n                if (!pen.data[row]) {\n                    return;\n                }\n                let rowStyle = deepClone(pen.data[row][_pen.col]);\n                if (rowStyle.background) {\n                    rowStyle.activeBackground = rowStyle.background;\n                    rowStyle.hoverBackground = rowStyle.background;\n                }\n                if (rowStyle.color) {\n                    rowStyle.hoverColor = rowStyle.color;\n                    rowStyle.activeColor = rowStyle.color;\n                }\n                if (rowStyle.textColor) {\n                    rowStyle.activeTextColor = rowStyle.textColor;\n                    rowStyle.hoverTextColor = rowStyle.textColor;\n                }\n                Object.assign(_pen, rowStyle, { row: row });\n                Object.assign(_pen.calculative, rowStyle, { row: row });\n            }\n        }\n        else {\n            _pen.calculative.visible = true;\n            _pen.visible = true;\n        }\n    }\n}\nfunction onDestroy(pen) {\n    delInterval(pen);\n}\nfunction delInterval(pen) {\n    if (pen.interval) {\n        globalThis.clearInterval(pen.interval);\n        pen.interval = null;\n    }\n}\nfunction createInterval(pen) {\n    if (pen.maxNum && pen.swiper) {\n        if (pen.interval) {\n            return;\n        }\n        pen.interval = globalThis.setInterval(() => {\n            if (pen.offsetY >= pen.calculative.maxOffsetY) {\n                pen.offsetY = 0;\n                initChildrenStyle(pen);\n            }\n            else {\n                if (!(pen.offsetY % pen.rowHeight)) {\n                    //完整一行 停顿\n                    if (!pen.calculative.stap) {\n                        pen.calculative.stap = 0;\n                    }\n                    pen.calculative.stap += 1;\n                    if (pen.calculative.stap == 12) {\n                        pen.calculative.stap = 0;\n                        scroll(pen, 1);\n                    }\n                }\n                else {\n                    scroll(pen, 1);\n                }\n            }\n        }, 50);\n    }\n}\nfunction initChildrenStyle(pen) {\n    pen.children?.forEach((item) => {\n        const rowHeight = pen.rowHeight; //*scale;\n        const _pen = pen.calculative.canvas.store.pens[item];\n        if (!_pen) {\n            return;\n        }\n        const oldOffset = ((rowHeight * (pen.initScale || 1)) / pen.tableHeight) * pen.maxNum;\n        _pen.oldY -= oldOffset;\n        const row = _pen.row - pen.maxNum;\n        if (!pen.data[row]) {\n            return;\n        }\n        let rowStyle = deepClone(pen.data[row][_pen.col]);\n        if (rowStyle.background) {\n            rowStyle.activeBackground = rowStyle.background;\n            rowStyle.hoverBackground = rowStyle.background;\n        }\n        if (rowStyle.color) {\n            rowStyle.hoverColor = rowStyle.color;\n            rowStyle.activeColor = rowStyle.color;\n        }\n        if (rowStyle.textColor) {\n            rowStyle.activeTextColor = rowStyle.textColor;\n            rowStyle.hoverTextColor = rowStyle.textColor;\n        }\n        _pen.calculative.visible = true;\n        _pen.visible = true;\n        Object.assign(_pen, rowStyle, { row: row });\n        Object.assign(_pen.calculative, rowStyle, { row: row });\n    });\n    pen.calculative.canvas.render();\n}\nfunction onMouseEnter(pen) {\n    delInterval(pen);\n}\n//# sourceMappingURL=table2.js.map","import { pSBC } from '@meta2d/core';\nexport function le5leSwitch(ctx, pen) {\n    if (!pen.onClick) {\n        pen.onClick = click;\n        pen.setTheme = setTheme;\n    }\n    let x = pen.calculative.worldRect.x;\n    let y = pen.calculative.worldRect.y;\n    let w = pen.calculative.worldRect.width;\n    let h = pen.calculative.worldRect.height;\n    if (w < h * 1.5) {\n        w = 1.5 * h;\n    }\n    ctx.beginPath();\n    ctx.arc(x + h / 2, y + h / 2, h / 2, Math.PI / 2, (Math.PI * 3) / 2);\n    ctx.lineTo(x + w - h / 2, y);\n    ctx.arc(x + w - h / 2, y + h / 2, h / 2, -Math.PI / 2, Math.PI / 2);\n    ctx.lineTo(x + h / 2, y + h);\n    if (pen.checked) {\n        ctx.fillStyle = pen.onColor;\n        if (pen.disabled || pen.disable) {\n            ctx.fillStyle = pen.disableOnColor || pSBC(0.6, pen.onColor);\n        }\n        if (pen.lineWidth) {\n            ctx.strokeStyle = pen.onStrokeColor;\n            ctx.stroke();\n        }\n        ctx.fill();\n        ctx.closePath();\n        ctx.beginPath();\n        ctx.fillStyle = '#ffffff';\n        ctx.moveTo(x + h * 2, y + h / 2);\n        ctx.arc(x + w - h / 2, y + h / 2, h / 2 > 2 ? h / 2 - 2 : 1, 0, Math.PI * 2);\n        ctx.fill();\n    }\n    else {\n        ctx.fillStyle = pen.offColor;\n        if (pen.disabled || pen.disable) {\n            ctx.fillStyle = pen.disableOffColor || pSBC(0.6, pen.offColor);\n        }\n        if (pen.lineWidth) {\n            ctx.strokeStyle = pen.offStrokeColor;\n            ctx.stroke();\n        }\n        ctx.fill();\n        ctx.closePath();\n        ctx.beginPath();\n        ctx.fillStyle = '#ffffff';\n        ctx.moveTo(x + h, y + h / 2);\n        ctx.arc(x + h / 2, y + h / 2, h / 2 > 2 ? h / 2 - 2 : 1, 0, Math.PI * 2);\n        ctx.fill();\n    }\n    ctx.closePath();\n}\nfunction click(pen) {\n    if (pen.disableDefaultClick) {\n        return;\n    }\n    if (pen.disabled || pen.disable) {\n        return;\n    }\n    pen.checked = !pen.checked;\n    pen.calculative.canvas.store.emitter.emit('valueUpdate', pen);\n    pen.calculative.canvas.render();\n}\nfunction setTheme(pen, styles) {\n    for (const key in styles) {\n        if (Object.prototype.hasOwnProperty.call(styles, key)) {\n            const element = styles[key];\n            if (pen.hasOwnProperty(key)) {\n                pen[key] = element;\n            }\n            if (pen.calculative.hasOwnProperty(key)) {\n                pen.calculative[key] = element;\n            }\n        }\n    }\n    pen.onStrokeColor = styles[\"borderColor\"];\n    pen.offStrokeColor = styles[\"borderColor\"];\n}\n//# sourceMappingURL=switch.js.map","import { pSBC, calcRightBottom, calcTextRect } from '@meta2d/core';\nexport function slider(ctx, pen) {\n    if (!pen.onAdd) {\n        pen.onAdd = initRect;\n        pen.onResize = initRect;\n        pen.onMove = initRect;\n        pen.onMouseMove = mouseMove;\n        pen.onMouseDown = mouseDown;\n        pen.onValue = onValue;\n        pen.onBeforeValue = beforeValue;\n        pen.setTheme = setTheme;\n    }\n    if (!pen.calculative.barRect) {\n        initRect(pen);\n        // return;\n    }\n    const store = pen.calculative.canvas.store;\n    const options = pen.calculative.canvas.store.options;\n    // calcBallRect(pen);\n    // draw bar\n    let background = pen.background;\n    if (pen.disabled) {\n        background = pen.disabledBackground || pSBC(0.6, background);\n    }\n    ctx.fillStyle = background;\n    ctx.beginPath();\n    let x = pen.calculative.worldRect.x + pen.calculative.barRect.x;\n    let y = pen.calculative.worldRect.y + pen.calculative.barRect.y;\n    let w = pen.calculative.barRect.width;\n    let h = pen.calculative.barRect.height;\n    let r = h / 2;\n    ctx.moveTo(x + r, y);\n    ctx.arcTo(x + w, y, x + w, y + h, r);\n    ctx.arcTo(x + w, y + h, x, y + h, r);\n    ctx.arcTo(x, y + h, pen.x, pen.y, r);\n    ctx.arcTo(x, y, x + w, y, r);\n    ctx.fill();\n    // draw active bar\n    // ctx.fillStyle = pen.activeColor || data.activeColor || options.activeColor;\n    let activeColor = pen.activeColor || store.styles.activeColor;\n    if (pen.disabled) {\n        activeColor = pen.disabledColor || pSBC(0.6, activeColor);\n    }\n    ctx.fillStyle = activeColor;\n    ctx.beginPath();\n    w = pen.calculative.ballRect.x;\n    ctx.moveTo(x + r, y);\n    ctx.arcTo(x + w, y, x + w, y + h, r);\n    ctx.arcTo(x + w, y + h, x, y + h, r);\n    ctx.arcTo(x, y + h, pen.x, pen.y, r);\n    ctx.arcTo(x, y, x + w, y, r);\n    ctx.fill();\n    // draw ball\n    ctx.fillStyle = pen.btnBackground || '#fff';\n    ctx.strokeStyle = activeColor;\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    x = pen.calculative.worldRect.x + pen.calculative.ballRect.x;\n    y =\n        pen.calculative.worldRect.y +\n            pen.calculative.ballRect.y +\n            pen.calculative.ballRect.height / 2;\n    ctx.lineWidth = pen.calculative.ballRect.width / 10;\n    ctx.arc(x, y, pen.calculative.ballRect.width / 2, 0, Math.PI * 2);\n    ctx.fill();\n    ctx.stroke();\n}\nfunction initRect(pen) {\n    if (!pen._textWidth) {\n        pen._textWidth = pen.textWidth || 50;\n        pen._fontSize = pen.fontSize || 12;\n    }\n    pen.textWidth = pen.calculative.worldRect.width;\n    pen.calculative.textWidth = pen.textWidth;\n    if (!pen.unit) {\n        pen.unit = '%';\n    }\n    if (!pen.sliderWidth) {\n        pen.sliderWidth = pen.width;\n    }\n    if (!pen.sliderHeight) {\n        pen.sliderHeight = pen.height;\n    }\n    if (!pen.calculative.worldRect) {\n        return;\n    }\n    const scaleX = pen.calculative.worldRect.width / pen.sliderWidth;\n    const scaleY = pen.calculative.worldRect.height / pen.sliderHeight;\n    const textScale = Math.min(scaleX, scaleY);\n    pen.fontSize = pen._fontSize * textScale;\n    const barWidth = pen.calculative.worldRect.width - pen._textWidth * textScale;\n    pen.textLeft = barWidth + 10 * textScale;\n    pen.calculative.textLeft = pen.textLeft;\n    pen.calculative.barRect = {\n        x: 0,\n        y: (pen.calculative.worldRect.height - pen.barHeight * scaleY) / 2,\n        width: barWidth,\n        height: pen.barHeight * scaleY,\n    };\n    calcRightBottom(pen.calculative.barRect);\n    calcBallRect(pen);\n}\nfunction calcBallRect(pen) {\n    const height = pen.calculative.barRect.height * 3.5;\n    const progress = (pen.calculative.barRect.width * pen.value) / 100;\n    pen.calculative.ballRect = {\n        x: progress,\n        y: (pen.calculative.worldRect.height - height) / 2,\n        width: height,\n        height,\n    };\n    calcRightBottom(pen.calculative.ballRect);\n    pen.calculative.text = pen.value + pen.unit;\n    calcTextRect(pen);\n}\nfunction mouseDown(pen, e) {\n    if (pen.disabled) {\n        return;\n    }\n    const pos = e.x - pen.calculative.worldRect.x;\n    if (pos > pen.calculative.barRect.width) {\n        return;\n    }\n    let value = Math.round((pos / pen.calculative.barRect.width) * 100);\n    if (value < pen.min || value > pen.max) {\n        return;\n    }\n    if (value < 0 || value > 100) {\n        return;\n    }\n    pen.value = value;\n    calcBallRect(pen);\n    pen.calculative.text = pen.value + pen.unit;\n    calcTextRect(pen);\n    pen.calculative.canvas.store.emitter.emit('valueUpdate', pen);\n    pen.calculative.canvas.render();\n}\nfunction mouseMove(pen, e) {\n    if (pen.calculative.canvas.mouseDown) {\n        mouseDown(pen, e);\n    }\n}\nfunction onValue(pen) {\n    if (pen.calculative.isUpdateData) {\n        delete pen.calculative.isUpdateData;\n        initRect(pen);\n    }\n    calcBallRect(pen);\n}\nfunction beforeValue(pen, value) {\n    pen.calculative.isUpdateData = false;\n    if (value.textWidth || value.barHeight) {\n        if (value.textWidth) {\n            pen._textWidth = 0;\n        }\n        pen.calculative.isUpdateData = true;\n    }\n    return value;\n}\nfunction setTheme(pen, styles) {\n    for (const key in styles) {\n        if (Object.prototype.hasOwnProperty.call(styles, key)) {\n            const element = styles[key];\n            if (pen.hasOwnProperty(key)) {\n                pen[key] = element;\n            }\n            if (pen.calculative.hasOwnProperty(key)) {\n                pen.calculative[key] = element;\n            }\n        }\n    }\n    pen.background = styles[\"sliderBg\"];\n    pen.calculative.background = styles[\"sliderBg\"];\n    pen.btnBackground = styles[\"sliderBtnBg\"];\n    pen.calculative.btnBackground = styles[\"sliderBtnBg\"];\n    pen.activeColor = styles[\"tabActiveBg\"];\n    pen.calculative.activeColor = styles[\"tabActiveBg\"];\n}\n//# sourceMappingURL=slider.js.map","import { getTextColor, getFont } from '@meta2d/core';\nimport { pSBC } from '@meta2d/core';\nexport function checkbox(ctx, pen) {\n    if (!pen.onMouseDown) {\n        pen.onMouseDown = onMousedown;\n    }\n    if (!pen.options) {\n        pen.options = pen.data;\n    }\n    let x = pen.calculative.worldRect.x;\n    let y = pen.calculative.worldRect.y;\n    let h = pen.calculative.worldRect.height;\n    let w = pen.calculative.worldRect.width;\n    const { fontStyle, fontWeight, fontSize, fontFamily, lineHeight } = pen.calculative;\n    let r = 2;\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.arcTo(x + h, y, x + h, y + h, r);\n    ctx.arcTo(x + h, y + h, x, y + h, r);\n    ctx.arcTo(x, y + h, x, y, r);\n    ctx.arcTo(x, y, x + h, y, r);\n    ctx.strokeStyle = '#d9d9d9';\n    ctx.fillStyle = '#ffffff00';\n    if (pen.checked) {\n        ctx.fillStyle = pen.background || '#1890ff';\n        ctx.strokeStyle = pen.background || '#1890ff';\n    }\n    if (pen.isForbidden || pen.disabled) {\n        ctx.fillStyle = pen.disabledBackground || pSBC(0.6, pen.background) || '#ebebeb';\n        ctx.strokeStyle = pen.disabledColor || pSBC(0.6, pen.color) || '#d9d9d9';\n    }\n    ctx.closePath();\n    ctx.fill();\n    ctx.stroke();\n    ctx.save();\n    if (pen.checked) {\n        ctx.beginPath();\n        ctx.lineWidth = h / 10;\n        ctx.strokeStyle = '#ffffff';\n        ctx.moveTo(x + (102 / 506) * h, y + h / 2);\n        ctx.lineTo(x + (220 / 506) * h, y + (346 / 460) * h);\n        ctx.lineTo(x + (404 / 506) * h, y + (142 / 460) * h);\n        ctx.stroke();\n    }\n    ctx.restore();\n    //文字\n    ctx.save();\n    ctx.fillStyle = (pen.disabled || pen.isForbidden)\n        ? pen.disabledTextColor || pSBC(0.6, pen.textColor || pen.color) || '#00000040'\n        : getTextColor(pen, pen.calculative.canvas.parent.store) || '#000000d9';\n    ctx.textAlign = 'start';\n    ctx.textBaseline = 'middle';\n    // ctx.font =\n    //   (pen.calculative.fontStyle || '') +\n    //   ' normal ' +\n    //   (pen.calculative.fontWeight || '') +\n    //   ' ' +\n    //   pen.fontSize +\n    //   'px ' +\n    //   pen.calculative.fontFamily;\n    ctx.font = getFont({\n        fontStyle,\n        fontWeight,\n        fontFamily: fontFamily || pen.calculative.canvas.parent.store.options.fontFamily,\n        fontSize,\n        lineHeight,\n    });\n    ctx.fillText(pen.value + '', x + h + 10, y + h / 2);\n    ctx.restore();\n}\nfunction onMousedown(pen, e) {\n    if (!pen.isForbidden) {\n        pen.checked = !pen.checked;\n        pen.calculative.canvas.store.emitter.emit('valueUpdate', pen);\n        pen.calculative.canvas.render();\n    }\n}\n//# sourceMappingURL=checkbox.js.map","import { getTextLength, initOptions } from './common';\nimport { getTextColor, getFont } from '@meta2d/core';\nimport { pSBC } from '@meta2d/core';\nexport function radio(ctx, pen) {\n    if (!pen.options) {\n        pen.options = pen.data;\n    }\n    if (!pen.onAdd) {\n        pen.onAdd = onAdd;\n        if (!pen.optionPos) {\n            pen.onAdd(pen);\n            pen.calculative.canvas.parent.active([pen]);\n        }\n        pen.onMouseDown = onMousedown;\n        pen.onValue = onValue;\n        pen.onBeforeValue = beforeValue;\n    }\n    let x = pen.calculative.worldRect.x;\n    let y = pen.calculative.worldRect.y;\n    let h = pen.calculative.worldRect.height;\n    let w = pen.calculative.worldRect.width;\n    if (!pen.optionPos) {\n        return;\n    }\n    const { fontStyle, fontWeight, fontSize, fontFamily, lineHeight } = pen.calculative;\n    if (pen.direction == 'horizontal') {\n        // const optionHeight = (pen.optionHeight * h) / pen.checkboxHeight;\n        for (let i = 0; i < pen.optionPos.length; i++) {\n            const gap = (pen.optionPos[i] * w) / pen.checkboxWidth;\n            const isForbidden = pen.options[i].isForbidden || pen.disabled;\n            ctx.beginPath();\n            ctx.arc(x + gap + h / 2, y + h / 2, h / 2, 0, Math.PI * 2);\n            ctx.strokeStyle = '#d9d9d9';\n            ctx.fillStyle = '#ffffff00';\n            if (pen.options[i].text === pen.checked) {\n                ctx.strokeStyle =\n                    pen.options[i].background || pen.background || '#1890ff';\n            }\n            if (isForbidden) {\n                ctx.fillStyle = pen.disabledBackground || pSBC(0.6, pen.background) || '#ebebeb';\n                ctx.strokeStyle = pen.disabledColor || pSBC(0.6, pen.color) || '#d9d9d9';\n                if (pen.options[i].text === pen.checked) {\n                    ctx.fillStyle = '#ffffff00';\n                }\n            }\n            ctx.closePath();\n            ctx.fill();\n            ctx.stroke();\n            ctx.save();\n            if (pen.options[i].text === pen.checked) {\n                ctx.beginPath();\n                ctx.strokeStyle = pen.options[i].background\n                    ? pen.options[i].background + '20'\n                    : pen.background || '#1890ff20';\n                if (isForbidden) {\n                    ctx.strokeStyle = pen.disabledBackground || pSBC(0.6, pen.background) || '#ebebeb';\n                }\n                ctx.arc(x + h / 2 + gap, y + h / 2, h / 2 + 1.5, 0, Math.PI * 2);\n                ctx.stroke();\n                ctx.closePath();\n                ctx.beginPath();\n                ctx.fillStyle =\n                    pen.options[i].background || pen.background || '#1890ff';\n                if (isForbidden) {\n                    ctx.fillStyle = pen.disabledBackground || pSBC(0.6, pen.background) || '#ebebeb';\n                }\n                ctx.arc(x + h / 2 + gap, y + h / 2, h / 4, 0, Math.PI * 2);\n                ctx.fill();\n                ctx.closePath();\n            }\n            ctx.restore();\n            //文字\n            ctx.save();\n            ctx.fillStyle = isForbidden\n                ? (pen.disabledTextColor || '#00000040')\n                : getTextColor(pen, pen.calculative.canvas.parent.store) || '#000000d9';\n            const textScale = (pen.calculative.worldRect.height * 14) / 16;\n            ctx.textAlign = 'start';\n            ctx.textBaseline = 'middle';\n            ctx.font = getFont({\n                fontStyle,\n                fontWeight,\n                fontFamily: fontFamily || pen.calculative.canvas.parent.store.options.fontFamily,\n                fontSize: textScale,\n                lineHeight,\n            });\n            ctx.fillText(pen.options[i].text, x + h + gap + (10 / pen.checkboxWidth) * w, y + h / 2);\n            ctx.restore();\n        }\n    }\n    else if (pen.direction == 'vertical') {\n        const optionHeight = (pen.optionHeight * h) / pen.checkboxHeight;\n        for (let i = 0; i < pen.optionPos.length; i++) {\n            const gap = (pen.optionPos[i] * h) / pen.checkboxHeight;\n            const isForbidden = pen.options[i].isForbidden;\n            ctx.beginPath();\n            ctx.arc(x + optionHeight / 2, y + optionHeight / 2 + gap, optionHeight / 2, 0, Math.PI * 2);\n            ctx.strokeStyle = '#d9d9d9';\n            ctx.fillStyle = '#ffffff00';\n            if (pen.options[i].text === pen.checked) {\n                ctx.strokeStyle = pen.options[i].background || '#1890ff';\n            }\n            if (isForbidden) {\n                ctx.fillStyle = '#ebebeb';\n                ctx.strokeStyle = '#d9d9d9';\n            }\n            ctx.closePath();\n            ctx.fill();\n            ctx.stroke();\n            ctx.save();\n            if (!isForbidden && pen.options[i].text === pen.checked) {\n                ctx.beginPath();\n                ctx.strokeStyle = pen.options[i].background\n                    ? pen.options[i].background + '20'\n                    : '#1890ff20';\n                ctx.arc(x + optionHeight / 2, y + optionHeight / 2 + gap, optionHeight / 2 + 1.5, 0, Math.PI * 2);\n                ctx.stroke();\n                ctx.closePath();\n                ctx.beginPath();\n                ctx.fillStyle = pen.options[i].background || '#1890ff';\n                ctx.arc(x + optionHeight / 2, y + optionHeight / 2 + gap, optionHeight / 4, 0, Math.PI * 2);\n                ctx.fill();\n                ctx.closePath();\n            }\n            ctx.restore();\n            //文字\n            ctx.save();\n            ctx.fillStyle = isForbidden\n                ? '#00000040'\n                : getTextColor(pen, pen.calculative.canvas.parent.store) || '#000000d9';\n            const textScale = (14 * pen.calculative.worldRect.height) / pen.checkboxHeight;\n            ctx.textAlign = 'start';\n            ctx.textBaseline = 'middle';\n            // ctx.font =\n            //   (pen.calculative.fontStyle || '') +\n            //   ' normal ' +\n            //   (pen.calculative.fontWeight || '') +\n            //   ' ' +\n            //   textScale +\n            //   'px ' +\n            //   pen.calculative.fontFamily;\n            ctx.font = getFont({\n                fontStyle,\n                fontWeight,\n                fontFamily: fontFamily || pen.calculative.canvas.parent.store.options.fontFamily,\n                fontSize: textScale,\n                lineHeight,\n            });\n            ctx.fillText(pen.options[i].text, x + optionHeight + 10, y + optionHeight / 2 + gap);\n            ctx.restore();\n        }\n    }\n}\nfunction onAdd(pen) {\n    initOptions(pen);\n}\nfunction onMousedown(pen, e) {\n    if (pen.direction == 'horizontal') {\n        // let checkedIndex = -1;\n        for (let i = 0; i < pen.optionPos.length; i++) {\n            if (!pen.options[i].isForbidden &&\n                e.x >\n                    pen.calculative.worldRect.x +\n                        (pen.optionPos[i] * pen.calculative.worldRect.width) /\n                            pen.checkboxWidth &&\n                e.x <\n                    pen.calculative.worldRect.x +\n                        ((pen.optionPos[i] + pen.height) / pen.checkboxWidth) *\n                            pen.calculative.worldRect.width +\n                        getTextLength(pen.options[i].text, pen) +\n                        (10 / pen.checkboxWidth) * pen.calculative.worldRect.width) {\n                // pen.options[i].isChecked = true;\n                pen.checked = pen.options[i].text;\n                // checkedIndex = i;\n                pen.calculative.canvas.store.emitter.emit('valueUpdate', pen);\n            }\n        }\n        // if (checkedIndex !== -1) {\n        //   pen.options.forEach((item: any, index: number) => {\n        //     if (index !== checkedIndex) {\n        //       item.isChecked = false;\n        //     }\n        //   });\n        // }\n    }\n    else if (pen.direction == 'vertical') {\n        const scaleY = pen.calculative.worldRect.height / pen.checkboxHeight;\n        // let checkedIndex = -1;\n        for (let i = 0; i < pen.optionPos.length; i++) {\n            if (!pen.options[i].isForbidden &&\n                e.y > pen.calculative.worldRect.y + pen.optionPos[i] * scaleY &&\n                e.y <\n                    pen.calculative.worldRect.y +\n                        (pen.optionPos[i] + pen.optionHeight) * scaleY) {\n                // pen.options[i].isChecked = true;\n                pen.checked = pen.options[i].text;\n                // checkedIndex = i;\n                pen.calculative.canvas.store.emitter.emit('valueUpdate', pen);\n            }\n        }\n        // if (checkedIndex !== -1) {\n        //   pen.options.forEach((item: any, index: number) => {\n        //     if (index !== checkedIndex) {\n        //       item.isChecked = false;\n        //     }\n        //   });\n        // }\n    }\n    pen.calculative.canvas.render();\n}\nfunction onValue(pen) {\n    if (pen.calculative.flag) {\n        initOptions(pen);\n    }\n}\nfunction beforeValue(pen, value) {\n    pen.calculative.flag = false;\n    if (value.options !== undefined || value.direction !== undefined || value.optionInterval !== undefined || value.optionHeight !== undefined) {\n        pen.calculative.flag = true;\n    }\n    return value;\n}\n//# sourceMappingURL=radio.js.map","// 双精度浮点数有效数字为15位\nconst maxDecimal = 15;\n/**\n * 解决js的浮点数存在精度问题，在计算出最后结果时可以四舍五入一次，刻度太小也没有意义\n *\n * @export\n * @param {(number | string)} num\n * @param {number} [decimal=8]\n * @returns {number}\n */\nexport function fixedNum(num, decimal = maxDecimal) {\n    let str = '' + num;\n    if (str.indexOf('.') >= 0)\n        str = Number.parseFloat(str).toFixed(decimal);\n    return Number.parseFloat(str);\n}\n/**\n * 判断非Infinity非NaN的number\n *\n * @export\n * @param {*} num\n * @returns {num is number}\n */\nexport function numberValid(num) {\n    return typeof num === 'number' && Number.isFinite(num);\n}\n/**\n * 计算理想的刻度值，刻度区间大小一般是[10, 15, 20, 25, 30, 40, 50, 60, 70, 80, 90, 100]中某个数字的整10倍\n *\n * @export\n * @param {ScaleOption} option\n * @returns {ScaleResult}\n */\nexport function scaleCompute(option) {\n    option = {\n        max: null,\n        min: null,\n        splitNumber: 4, // splitNumber建议取4或者5等这种容易被整除的数字\n        symmetrical: false,\n        deviation: false,\n        preferZero: false,\n        ...option,\n    };\n    const magics = [\n        10, 15, 20, 25, 30, 40, 50, 60, 70, 80, 90, 100, 150,\n    ]; // 加入150形成闭环\n    // tslint:disable-next-line: prefer-const\n    let { max: dataMax, min: dataMin, splitNumber, symmetrical, deviation, preferZero, } = option;\n    if (!numberValid(dataMax) || !numberValid(dataMin) || dataMax < dataMin) {\n        return { splitNumber };\n    }\n    else if (dataMax === dataMin && dataMax === 0) {\n        return {\n            max: fixedNum(magics[0] * splitNumber),\n            min: dataMin,\n            interval: magics[0],\n            splitNumber,\n        };\n    }\n    else if (dataMax === dataMin) {\n        preferZero = true;\n    }\n    if (!numberValid(splitNumber) || splitNumber <= 0)\n        splitNumber = 4;\n    if (preferZero && dataMax * dataMin > 0) {\n        if (dataMax < 0)\n            dataMax = 0;\n        else\n            dataMin = 0;\n    }\n    const tempGap = (dataMax - dataMin) / splitNumber;\n    let multiple = Math.floor(Math.log10(tempGap) - 1); // 指数\n    multiple = Math.pow(10, multiple);\n    const tempStep = tempGap / multiple;\n    let expectedStep = magics[0] * multiple;\n    let storedMagicsIndex = -1;\n    let index; // 当前魔数下标\n    for (index = 0; index < magics.length; index++) {\n        if (magics[index] > tempStep) {\n            expectedStep = magics[index] * multiple; // 取出第一个大于tempStep的魔数，并乘以multiple作为期望得到的最佳间隔\n            break;\n        }\n    }\n    let axisMax = dataMax;\n    let axisMin = dataMin;\n    function countDegree(step) {\n        axisMax = parseInt('' + (dataMax / step + 1)) * step; // parseInt令小数去尾 -1.8 -> -1\n        axisMin = parseInt('' + (dataMin / step - 1)) * step;\n        if (dataMax === 0)\n            axisMax = 0; // 优先0刻度\n        if (dataMin === 0)\n            axisMin = 0;\n        if (symmetrical && axisMax * axisMin < 0) {\n            const tm = Math.max(Math.abs(axisMax), Math.abs(axisMin));\n            axisMax = tm;\n            axisMin = -tm;\n        }\n    }\n    countDegree(expectedStep);\n    if (deviation) {\n        return {\n            max: fixedNum(axisMax),\n            min: fixedNum(axisMin),\n            interval: fixedNum(expectedStep),\n            splitNumber: Math.round((axisMax - axisMin) / expectedStep),\n        };\n    }\n    else if (!symmetrical || axisMax * axisMin > 0) {\n        let tempSplitNumber;\n        out: do {\n            tempSplitNumber = Math.round((axisMax - axisMin) / expectedStep);\n            if ((index - storedMagicsIndex) * (tempSplitNumber - splitNumber) < 0) {\n                // 出现死循环\n                while (tempSplitNumber < splitNumber) {\n                    if ((axisMin - dataMin <= axisMax - dataMax && axisMin !== 0) ||\n                        axisMax === 0) {\n                        axisMin -= expectedStep;\n                    }\n                    else {\n                        axisMax += expectedStep;\n                    }\n                    tempSplitNumber++;\n                    if (tempSplitNumber === splitNumber)\n                        break out;\n                }\n            }\n            if (index >= magics.length - 1 ||\n                index <= 0 ||\n                tempSplitNumber === splitNumber)\n                break;\n            storedMagicsIndex = index;\n            if (tempSplitNumber > splitNumber)\n                expectedStep = magics[++index] * multiple;\n            else\n                expectedStep = magics[--index] * multiple;\n            countDegree(expectedStep);\n        } while (tempSplitNumber !== splitNumber);\n    }\n    axisMax = fixedNum(axisMax);\n    axisMin = fixedNum(axisMin);\n    const interval = fixedNum((axisMax - axisMin) / splitNumber);\n    return {\n        max: axisMax,\n        min: axisMin,\n        interval,\n        splitNumber,\n    };\n}\n//# sourceMappingURL=normalizedAxis.js.map","import { scaleCompute } from './normalizedAxis';\nimport { getFont } from \"@meta2d/core\";\n//用于绘制坐标轴\nexport function coordinateAxis(ctx, pen) {\n    const x = pen.calculative.worldRect.x;\n    const y = pen.calculative.worldRect.y;\n    const w = pen.calculative.worldRect.width;\n    const h = pen.calculative.worldRect.height;\n    // 缩放比例\n    let r = w / 2;\n    let scale = pen.calculative.canvas.store.data.scale;\n    let series = [];\n    if (pen.echarts) {\n        for (let i = 0; i < pen.echarts.option.series.length; i++) {\n            series.push(pen.echarts.option.series[i].data);\n        }\n    }\n    else {\n        series = pen.data;\n    }\n    let collection_data = [];\n    for (let i = 0; i < series.length; i++) {\n        collection_data = collection_data.concat(series[i]);\n    }\n    let initOption = {\n        max: Math.max.apply(null, collection_data),\n        min: Math.min.apply(null, collection_data),\n        splitNumber: 5,\n    };\n    let normalizedOption = scaleCompute(initOption);\n    let num = pen.echarts\n        ? pen.echarts.option.xAxis.data.length\n        : pen.xAxisData.length;\n    ctx.beginPath();\n    ctx.strokeStyle = '#BFBFBF';\n    ctx.lineWidth = 6 * scale;\n    ctx.lineCap = 'butt';\n    let dash = (w - 1 * (num + 1)) / num;\n    ctx.setLineDash([1, dash]);\n    ctx.moveTo(x, y + h + 3 * scale);\n    ctx.lineTo(x + w, y + h + 3 * scale);\n    ctx.stroke();\n    ctx.closePath();\n    //x轴绘制\n    ctx.beginPath();\n    ctx.lineWidth = 1 * scale;\n    ctx.setLineDash([]);\n    ctx.moveTo(x, y + h);\n    ctx.lineTo(x + w, y + h);\n    ctx.stroke();\n    ctx.closePath();\n    //y轴绘制\n    ctx.beginPath();\n    ctx.fillStyle = '#BFBFBF';\n    ctx.strokeStyle = '#E9E9E9';\n    ctx.setLineDash([2, 2]);\n    let fontOptions = {\n        fontStyle: pen.yAxis?.axisLabel?.fontStyle || pen.fontStyle,\n        textDecoration: pen.yAxis?.axisLabel?.textDecoration,\n        fontWeight: pen.yAxis?.axisLabel?.fontWeight || pen.fontWeight,\n        fontFamily: pen.yAxis?.axisLabel?.fontFamily || pen.fontFamily,\n        fontSize: pen.yAxis?.axisLabel?.fontSize || pen.fontSize,\n        lineHeight: pen.yAxis?.axisLabel?.lineHeight || pen.lineHeight,\n    };\n    ctx.fillStyle = pen.yAxis?.axisLabel?.fontColor || pen.color;\n    for (let i = 0; i < normalizedOption.splitNumber + 1; i++) {\n        let temH = (i * h) / normalizedOption.splitNumber;\n        ctx.textAlign = 'right';\n        ctx.textBaseline = 'middle';\n        ctx.font = getFont(fontOptions); //r / 10 +'px AlibabaPuHuiTi-Regular, Alibaba PuHuiTi';\n        ctx.fillText(normalizedOption.max - i * normalizedOption.interval + '', x - 10 * scale, y + temH);\n        ctx.fill();\n        if (i < normalizedOption.splitNumber) {\n            ctx.beginPath();\n            ctx.moveTo(x, y + temH);\n            ctx.lineTo(x + w, y + temH);\n            ctx.stroke();\n        }\n    }\n    ctx.closePath();\n    //x轴下标绘制\n    ctx.beginPath();\n    ctx.strokeStyle = '#BFBFBF';\n    let xData = pen.echarts ? pen.echarts.option.xAxis.data : pen.xAxisData;\n    let xdataX = 0;\n    for (let i = 0; i < xData.length; i++) {\n        xdataX = x + (1 + dash / 2) + (dash + 1) * i;\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'top';\n        let fontOptions = {\n            fontStyle: pen.xAxis?.axisLabel?.fontStyle || pen.calculative.fontStyle,\n            textDecoration: pen.xAxis?.axisLabel?.textDecoration,\n            fontWeight: pen.xAxis?.axisLabel?.fontWeight || pen.calculative.fontWeight,\n            fontFamily: pen.xAxis?.axisLabel?.fontFamily || pen.calculative.fontFamily,\n            fontSize: pen.xAxis?.axisLabel?.fontSize || pen.calculative.fontSize,\n            lineHeight: pen.xAxis?.axisLabel?.lineHeight || pen.calculative.lineHeight,\n        };\n        ctx.font = getFont(fontOptions); //r / 10 +'px AlibabaPuHuiTi-Regular, Alibaba PuHuiTi';\n        ctx.fillStyle = pen.xAxis?.axisLabel?.fontColor || pen.calculative.color;\n        ctx.fillText(xData[i], xdataX, (y + h + 10 * scale));\n        ctx.fill();\n    }\n    ctx.closePath();\n    ctx.setLineDash([]);\n    return { dash: dash, normalizedOption: normalizedOption };\n}\n//# sourceMappingURL=coordinateAxis.js.map","export function getValidValue(num, value) {\n    if (isNaN(num)) {\n        return;\n    }\n    if (value === -1) {\n        return num;\n    }\n    // return num - parseInt(num) == 0 ? num : Number(num).toFixed(value);\n    // return Number(num).toFixed(value);\n    return Math.round(Number(num) * 1000) / 1000;\n}\nexport var ReplaceMode;\n(function (ReplaceMode) {\n    ReplaceMode[ReplaceMode[\"Add\"] = 0] = \"Add\";\n    ReplaceMode[ReplaceMode[\"Replace\"] = 1] = \"Replace\";\n    ReplaceMode[ReplaceMode[\"ReplaceAll\"] = 2] = \"ReplaceAll\";\n})(ReplaceMode || (ReplaceMode = {}));\n//# sourceMappingURL=common.js.map","import { coordinateAxis } from './coordinateAxis';\nimport { ReplaceMode } from './common';\n//折线图\nexport function lineChart(ctx, pen) {\n    if (!pen.onBeforeValue) {\n        pen.onBeforeValue = beforeValue;\n    }\n    const x = pen.calculative.worldRect.x;\n    const y = pen.calculative.worldRect.y;\n    const w = pen.calculative.worldRect.width;\n    const h = pen.calculative.worldRect.height;\n    let scale = pen.calculative.canvas.store.data.scale;\n    let series = [];\n    if (pen.echarts && !pen.echarts.option.color) {\n        pen.echarts.option.color = [\n            '#1890ff',\n            '#2FC25B',\n            '#FACC14',\n            '#c23531',\n            '#2f4554',\n            '#61a0a8',\n            '#d48265',\n        ];\n    }\n    let coordinate = coordinateAxis(ctx, pen);\n    let dash = coordinate.dash;\n    let normalizedOption = coordinate.normalizedOption;\n    //数据值绘制\n    const smooth = (pen.echarts ? pen.echarts.option.series[0].smooth : pen.smooth)\n        ? true\n        : false;\n    let coordinateValue = [];\n    if (pen.echarts) {\n        for (let i = 0; i < pen.echarts.option.series.length; i++) {\n            series.push(pen.echarts.option.series[i].data);\n        }\n    }\n    else {\n        series = pen.data;\n    }\n    for (let j = 0; j < series.length; j++) {\n        ctx.beginPath();\n        let data = series[j];\n        ctx.strokeStyle = pen.echarts\n            ? pen.echarts.option.color[j]\n            : pen.chartsColor[j];\n        ctx.fillStyle = pen.echarts\n            ? pen.echarts.option.color[j]\n            : pen.chartsColor[j];\n        let currentX = x + (1 + dash / 2);\n        let currentY = y +\n            h -\n            ((data[0] - normalizedOption.min) /\n                (normalizedOption.max - normalizedOption.min)) *\n                h;\n        ctx.moveTo(currentX, currentY);\n        coordinateValue.push({ x: currentX, y: currentY });\n        if (smooth) {\n            //平滑的曲线\n            if (data.length <= 2) {\n                //小于两个点的情况无法构成贝塞尔\n                for (let i = 1; i < data.length; i++) {\n                    currentX = x + (1 + dash / 2) + (dash + 1) * i;\n                    currentY =\n                        y +\n                            h -\n                            ((data[i] - normalizedOption.min) /\n                                (normalizedOption.max - normalizedOption.min)) *\n                                h;\n                    ctx.lineTo(currentX, currentY);\n                    coordinateValue.push({ x: currentX, y: currentY });\n                }\n            }\n            else {\n                let cAx, cAy, cBx, cBy;\n                data.forEach((item, index) => {\n                    currentX = x + (1 + dash / 2) + (dash + 1) * index;\n                    currentY =\n                        y +\n                            h -\n                            ((data[index] - normalizedOption.min) /\n                                (normalizedOption.max - normalizedOption.min)) *\n                                h;\n                    let last1x = x + (1 + dash / 2) + (dash + 1) * (index + 1);\n                    let last1y = y +\n                        h -\n                        ((data[index + 1] - normalizedOption.min) /\n                            (normalizedOption.max - normalizedOption.min)) *\n                            h;\n                    let before1x = x + (1 + dash / 2) + (dash + 1) * (index - 1);\n                    let before1y = y +\n                        h -\n                        ((data[index - 1] - normalizedOption.min) /\n                            (normalizedOption.max - normalizedOption.min)) *\n                            h;\n                    let last2x = x + (1 + dash / 2) + (dash + 1) * (index + 2);\n                    let last2y = y +\n                        h -\n                        ((data[index + 2] - normalizedOption.min) /\n                            (normalizedOption.max - normalizedOption.min)) *\n                            h;\n                    if (index === 0) {\n                        //第一个节点 用自己代替前一个节点\n                        before1x = x + (1 + dash / 2) + (dash + 1) * index;\n                        before1y =\n                            y +\n                                h -\n                                ((data[index] - normalizedOption.min) /\n                                    (normalizedOption.max - normalizedOption.min)) *\n                                    h;\n                    }\n                    else if (index === data.length - 2) {\n                        //倒数第二个节点 用下一个节点替代下下个节点\n                        last2x = x + (1 + dash / 2) + (dash + 1) * (index + 1);\n                        last2y =\n                            y +\n                                h -\n                                ((data[index + 1] - normalizedOption.min) /\n                                    (normalizedOption.max - normalizedOption.min)) *\n                                    h;\n                    }\n                    coordinateValue.push({ x: currentX, y: currentY });\n                    cAx = currentX + (last1x - before1x) / 4;\n                    cAy = currentY + (last1y - before1y) / 4;\n                    cBx = last1x - (last2x - currentX) / 4;\n                    cBy = last1y - (last2y - currentY) / 4;\n                    ctx.bezierCurveTo(cAx, cAy, cBx, cBy, last1x, last1y);\n                    //绘制到下一个节点的贝塞尔曲线\n                });\n            }\n        }\n        else {\n            for (let i = 1; i < data.length; i++) {\n                currentX = x + (1 + dash / 2) + (dash + 1) * i;\n                currentY =\n                    y +\n                        h -\n                        ((data[i] - normalizedOption.min) /\n                            (normalizedOption.max - normalizedOption.min)) *\n                            h;\n                ctx.lineTo(currentX, currentY);\n                coordinateValue.push({ x: currentX, y: currentY });\n            }\n        }\n        ctx.stroke();\n        ctx.closePath();\n        ctx.save();\n        coordinateValue.forEach((item, index) => {\n            ctx.beginPath();\n            ctx.strokeStyle = '#fff';\n            ctx.lineWidth = 2 * scale;\n            ctx.arc(item.x, item.y, 4 * scale, 0, Math.PI * 2);\n            ctx.stroke();\n            ctx.fill();\n            ctx.closePath();\n        });\n        ctx.restore();\n        coordinateValue = [];\n    }\n}\nexport function beforeValue(pen, value) {\n    if (value.xAxisData || value.data || (!value.dataX && !value.dataY)) {\n        // 整体传参，不做处理\n        return value;\n    }\n    const _xAxisData = pen.xAxisData;\n    const _data = pen.data;\n    const replaceMode = pen.replaceMode;\n    let xAxisData = [];\n    let data = [];\n    if (!replaceMode) {\n        //追加\n        xAxisData = [..._xAxisData, ...value.dataX];\n        _data.forEach((item, index) => {\n            let _item = [...item, ...value.dataY[index]];\n            data.push(_item);\n        });\n    }\n    else if (replaceMode === ReplaceMode.Replace) {\n        //替换部分\n        value.dataX.forEach((item, i) => {\n            let _index = _xAxisData.indexOf(item);\n            _data.forEach((d, index) => {\n                d[_index] = value.dataY[index][i];\n            });\n        });\n        xAxisData = _xAxisData;\n        data = _data;\n    }\n    else if (replaceMode === ReplaceMode.ReplaceAll) {\n        //全部替换\n        xAxisData = value.dataX;\n        data = value.dataY;\n    }\n    delete value.dataX;\n    delete value.dataY;\n    return Object.assign(value, { xAxisData, data });\n}\n//# sourceMappingURL=lineChart.js.map","import { ReplaceMode } from './common';\nimport { getFont } from \"@meta2d/core\";\n//饼状图\nexport function pieChart(ctx, pen) {\n    if (!pen.onBeforeValue) {\n        pen.onBeforeValue = beforeValue;\n    }\n    // 缩放模式\n    let scale = pen.calculative.canvas.store.data.scale;\n    const x = pen.calculative.worldRect.x;\n    const y = pen.calculative.worldRect.y;\n    const w = pen.calculative.worldRect.width;\n    const h = pen.calculative.worldRect.height;\n    const isEcharts = pen.echarts ? true : false;\n    // if (pen.echarts && !pen.echarts.option.color) {\n    //   pen.echarts.option.color = [\n    //     '#1890ff',\n    //     '#2FC25B',\n    //     '#FACC14',\n    //     '#c23531',\n    //     '#2f4554',\n    //     '#61a0a8',\n    //     '#d48265',\n    //   ];\n    // } else {\n    //   pen.chartsColor = [\n    //     '#1890ff',\n    //     '#2FC25B',\n    //     '#FACC14',\n    //     '#c23531',\n    //     '#2f4554',\n    //     '#61a0a8',\n    //     '#d48265',\n    //   ];\n    // }\n    if (pen.echarts) {\n        if (!pen.echarts.option.color) {\n            pen.echarts.option.color = [\n                '#1890ff',\n                '#2FC25B',\n                '#FACC14',\n                '#c23531',\n                '#2f4554',\n                '#61a0a8',\n                '#d48265',\n            ];\n        }\n        pen.chartsColor = pen.echarts.option.color;\n    }\n    else {\n        if (!pen.chartsColor) {\n            pen.chartsColor = [\n                '#1890ff',\n                '#2FC25B',\n                '#FACC14',\n                '#c23531',\n                '#2f4554',\n                '#61a0a8',\n                '#d48265',\n            ];\n        }\n    }\n    const seriesArray = isEcharts ? pen.echarts.option.series : pen.data;\n    let beforeSeriesLength = 0;\n    for (let ser = 0; ser < seriesArray.length; ser++) {\n        let series = seriesArray[ser];\n        let r = w / 2;\n        if (h < w) {\n            r = h / 2;\n        }\n        const centerX = x + w / 2;\n        const centerY = y + h / 2;\n        let sum = 0;\n        if (isEcharts) {\n            sum = series.data.reduce((prev, curr) => {\n                return prev + curr.value;\n            }, 0);\n        }\n        else {\n            sum = series.reduce((prev, curr) => {\n                return prev + curr.value;\n            }, 0);\n        }\n        const fromR = (r *\n            parseFloat(isEcharts ? series.radius[0] : pen.chartsRadius[ser][0])) /\n            100;\n        const toR = (r *\n            parseFloat(isEcharts ? series.radius[1] : pen.chartsRadius[ser][1])) /\n            100;\n        if (fromR > toR) {\n            return;\n        }\n        let beforeAngle = 0;\n        let afterAngle = 0;\n        ctx.strokeStyle = isEcharts\n            ? series.itemStyle?.borderColor || '#fff'\n            : '#fff';\n        ctx.lineWidth = (isEcharts ? series.itemStyle?.borderWidth || 2 : 2) * scale;\n        const data = isEcharts ? series.data : series;\n        data.forEach((item, index) => {\n            afterAngle += (Math.PI * 2 * item.value) / sum;\n            ctx.beginPath();\n            let colorLength = beforeSeriesLength + index;\n            if (colorLength >= pen.chartsColor.length) {\n                colorLength = colorLength % pen.chartsColor.length;\n            }\n            ctx.fillStyle = isEcharts\n                ? pen.echarts.option.color[colorLength]\n                : pen.chartsColor[colorLength];\n            ctx.moveTo(centerX + fromR * Math.sin(afterAngle), centerY - fromR * Math.cos(afterAngle));\n            ctx.arc(centerX, centerY, fromR, -Math.PI / 2 + afterAngle, -Math.PI / 2 + beforeAngle, true);\n            ctx.lineTo(centerX + toR * Math.sin(beforeAngle), centerY - toR * Math.cos(beforeAngle));\n            ctx.arc(centerX, centerY, toR, -Math.PI / 2 + beforeAngle, -Math.PI / 2 + afterAngle);\n            ctx.lineTo(centerX + fromR * Math.sin(afterAngle), centerY - fromR * Math.cos(afterAngle));\n            ctx.stroke();\n            ctx.fill();\n            ctx.closePath();\n            //绘制label\n            let centerAngle = (beforeAngle + afterAngle) / 2;\n            let temX = centerX + (toR + 10 * scale) * Math.sin(centerAngle);\n            let temY = centerY - (toR + 10 * scale) * Math.cos(centerAngle);\n            let temFillStyle = ctx.fillStyle;\n            if (!series.label) {\n                series.label = { position: 'outside', show: true };\n            }\n            if (isEcharts && ['inner', 'inside'].includes(series.label.position)) {\n                ctx.fillStyle = '#ffffff';\n                temX = centerX + ((toR - fromR) / 2) * Math.sin(centerAngle);\n                temY = centerY - ((toR - fromR) / 2) * Math.cos(centerAngle);\n            }\n            else if (isEcharts && series.label.position == 'outside') {\n            }\n            if (!series.labelLine) {\n                series.labelLine = { show: true };\n            }\n            if ((isEcharts && series.labelLine.show !== false) || !isEcharts) {\n                ctx.beginPath();\n                ctx.strokeStyle = isEcharts\n                    ? pen.echarts.option.color[beforeSeriesLength + index]\n                    : pen.chartsColor[beforeSeriesLength + index];\n                ctx.moveTo(centerX + toR * Math.sin(centerAngle), centerY - toR * Math.cos(centerAngle));\n                ctx.lineTo(temX, temY);\n            }\n            let fontOption = {\n                fontStyle: pen.tickLabel?.fontStyle || pen.calculative.fontStyle,\n                fontWeight: pen.tickLabel?.fontWeight || pen.calculative.fontWeight,\n                fontFamily: pen.tickLabel?.fontFamily || pen.calculative.fontFamily,\n                lineHeight: pen.tickLabel?.lineHeight || pen.calculative.lineHeight,\n                fontSize: (pen.tickLabel?.fontSize || pen.calculative.fontSize) * scale\n            };\n            ctx.font = getFont(fontOption); // r / 10 + 'px AlibabaPuHuiTi-Regular, Alibaba PuHuiTi';\n            ctx.textBaseline = 'middle';\n            ctx.textAlign = 'center';\n            // 写入文字\n            if (centerAngle > Math.PI) {\n                if ((isEcharts && series.label.position === 'outside') || !isEcharts) {\n                    ctx.textAlign = 'end';\n                }\n                if ((isEcharts && series.labelLine.show !== false) || (!isEcharts && (pen.tickLabel?.labelLine?.show ?? true))) {\n                    ctx.lineTo(temX - 5 * scale, temY);\n                }\n                if ((isEcharts && series.label.show !== false) || (!isEcharts && (pen.tickLabel?.show ?? true))) {\n                    ctx.fillText(item.name, temX - 5 * scale, temY);\n                }\n            }\n            else {\n                if ((isEcharts && series.label.position === 'outside') || !isEcharts) {\n                    ctx.textAlign = 'start';\n                }\n                if ((isEcharts && series.labelLine.show !== false) || !isEcharts) {\n                    ctx.lineTo(temX + 5 * scale, temY);\n                }\n                if ((isEcharts && series.label.show !== false) || (!isEcharts && (pen.tickLabel?.show ?? true))) {\n                    ctx.fillText(item.name, temX + 5 * scale, temY);\n                }\n            }\n            ctx.stroke();\n            ctx.closePath();\n            ctx.fillStyle = temFillStyle;\n            ctx.strokeStyle = isEcharts\n                ? series.itemStyle?.borderColor || '#fff'\n                : '#fff';\n            beforeAngle = afterAngle;\n        });\n        beforeSeriesLength += data.length;\n    }\n}\nfunction beforeValue(pen, value) {\n    if (value.data || (!value.dataX && !value.dataY)) {\n        // 整体传参，不做处理\n        return value;\n    }\n    const _data = pen.data;\n    const replaceMode = pen.replaceMode;\n    let data = [];\n    if (!replaceMode) {\n        //追加\n        _data.forEach((item, index) => {\n            let _item = [...item, ...value.dataY[index]];\n            data.push(_item);\n        });\n    }\n    else if (replaceMode === ReplaceMode.Replace) {\n        //替换部分\n        value.dataY.forEach((item, index) => {\n            item.forEach((_innerItem, _innderIndex) => {\n                let _filterItem = _data[index].filter((_i) => _i.name === _innerItem.name);\n                if (_filterItem.length > 0) {\n                    _filterItem[0].value = _innerItem.value;\n                }\n            });\n        });\n        data = _data;\n    }\n    else if (replaceMode === ReplaceMode.ReplaceAll) {\n        //全部替换\n        data = value.dataY;\n    }\n    delete value.dataX;\n    delete value.dataY;\n    return Object.assign(value, { data });\n}\n//# sourceMappingURL=pieChart.js.map","import { coordinateAxis } from './coordinateAxis';\nimport { beforeValue } from './lineChart';\n//柱状图\nexport function histogram(ctx, pen) {\n    if (!pen.onBeforeValue) {\n        pen.onBeforeValue = beforeValue;\n    }\n    let scale = pen.calculative.canvas.store.data.scale;\n    const x = pen.calculative.worldRect.x;\n    const y = pen.calculative.worldRect.y;\n    const w = pen.calculative.worldRect.width;\n    const h = pen.calculative.worldRect.height;\n    let series = [];\n    if (pen.echarts && !pen.echarts.option.color) {\n        pen.echarts.option.color = [\n            '#1890ff',\n            '#2FC25B',\n            '#FACC14',\n            '#c23531',\n            '#2f4554',\n            '#61a0a8',\n            '#d48265',\n        ];\n    }\n    if (pen.echarts) {\n        for (let i = 0; i < pen.echarts.option.series.length; i++) {\n            series.push(pen.echarts.option.series[i].data);\n        }\n    }\n    else {\n        series = pen.data;\n    }\n    let coordinate = coordinateAxis(ctx, pen);\n    let dash = coordinate.dash;\n    let normalizedOption = coordinate.normalizedOption;\n    let itemWidth = (dash * 4) / 5 / series.length;\n    // ctx.strokeStyle = '#ffffff';\n    for (let j = 0; j < series.length; j++) {\n        ctx.beginPath();\n        let data = series[j];\n        ctx.fillStyle = pen.echarts\n            ? pen.echarts.option.color[j]\n            : pen.chartsColor[j];\n        ctx.strokeStyle = '#ffffff';\n        ctx.lineWidth = 1 * scale;\n        let currentX = 0;\n        let currentY = 0;\n        let currentH = 0;\n        for (let i = 0; i < data.length; i++) {\n            currentX = x + (1 + 0.1 * dash) + (dash + 1) * i + itemWidth * j;\n            currentH =\n                ((data[i] - normalizedOption.min) /\n                    (normalizedOption.max - normalizedOption.min)) *\n                    h;\n            currentY = y + h - currentH;\n            //宽度-1是为了数据之间的间距 高度-1是为了坐标轴不被覆盖\n            ctx.rect(currentX, currentY, itemWidth - 1, currentH - 1);\n            ctx.stroke();\n            ctx.fill();\n        }\n        ctx.closePath();\n    }\n    // let;\n}\n//# sourceMappingURL=histogram.js.map","import { getValidValue } from './common';\nimport { getFont } from \"@meta2d/core\";\n//仪表全盘\nexport function gauge(ctx, pen) {\n    if (!pen.onAdd) {\n        pen.onAdd = onAdd;\n        pen.onDestroy = onDestroy;\n        pen.onClick = onclick;\n        if (pen.clockInterval) {\n            pen.onDestroy(pen);\n            pen.onAdd(pen);\n        }\n    }\n    const x = pen.calculative.worldRect.x;\n    const y = pen.calculative.worldRect.y;\n    const w = pen.calculative.worldRect.width;\n    const h = pen.calculative.worldRect.height;\n    let scale = pen.calculative.canvas.store.data.scale;\n    let basicConfigure = {\n        startAngle: 225,\n        endAngle: -45,\n        min: 0,\n        max: 100,\n        splitNumber: 10,\n    };\n    //对echarts写法做兼容性处理\n    if (pen.echarts && pen.echarts.option) {\n        let series = pen.echarts.option.series[0];\n        pen.startAngle = series.startAngle || basicConfigure.startAngle;\n        pen.endAngle = series.endAngle || basicConfigure.endAngle;\n        pen.min = series.min || basicConfigure.min;\n        pen.max = series.max || basicConfigure.max;\n        pen.axisLine = series.axisLine.lineStyle.color;\n        pen.unit = series.detail.formatter.replace('{value}', '');\n        pen.value = series.data[0].value;\n        pen.splitNumber = series.splitNumber || basicConfigure.splitNumber;\n    }\n    pen = { ...basicConfigure, ...pen };\n    let r = w > h ? ((h / 2) * 9) / 10 : ((w / 2) * 9) / 10;\n    let centerX = x + w / 2;\n    let centerY = y + h / 2;\n    let value = pen.echarts\n        ? pen.echarts.option.series[0].data[0].value\n        : pen.value;\n    let pointColor;\n    let gap = pen.startAngle - pen.endAngle;\n    let bgColor = pen.background || '#E6EBF8';\n    //绘制背景\n    ctx.strokeStyle = bgColor;\n    let bgLineWidth = r / 10;\n    ctx.lineWidth = bgLineWidth;\n    ctx.beginPath();\n    ctx.lineCap = 'round';\n    ctx.arc(centerX, centerY, r, (-pen.startAngle / 180) * Math.PI, (-pen.endAngle / 180) * Math.PI);\n    ctx.stroke();\n    ctx.closePath();\n    let bili = 0;\n    if (pen.axisLine && !pen.isClock) {\n        for (let i = pen.axisLine.length - 1; i >= 0; i--) {\n            if (pen.axisLine[i][0] * (pen.max - pen.min) < value) {\n                bili = pen.axisLine[i][0];\n            }\n            else {\n                bili = (value - pen.min) / (pen.max - pen.min);\n                pointColor = pen.axisLine[i][1];\n            }\n            ctx.beginPath();\n            ctx.strokeStyle = pen.axisLine[i][1];\n            ctx.arc(centerX, centerY, r, (-pen.startAngle / 180) * Math.PI, ((-pen.startAngle + bili * gap) / 180) * Math.PI);\n            ctx.stroke();\n            ctx.closePath();\n        }\n    }\n    ctx.lineCap = 'butt';\n    //主刻度线\n    let dashWidth = 2 * scale;\n    let mainR = r - bgLineWidth;\n    if (mainR < 0) {\n        mainR = 0;\n    }\n    let arcLength = (gap / 180) * Math.PI * mainR;\n    let dash = (arcLength - dashWidth * pen.splitNumber) / pen.splitNumber;\n    let offsetAngle = ((gap / 180) * Math.PI * dashWidth) / 2 / arcLength;\n    ctx.beginPath();\n    ctx.strokeStyle = pen.color || '#999999';\n    ctx.lineWidth = r / 20;\n    ctx.setLineDash([dashWidth, dash]);\n    ctx.arc(centerX, centerY, mainR, (-pen.startAngle / 180) * Math.PI - offsetAngle, (-pen.endAngle / 180) * Math.PI + offsetAngle);\n    ctx.stroke();\n    ctx.closePath();\n    //从刻度线\n    let fromDashWidth = 1 * scale;\n    let fromR = r - bgLineWidth;\n    if (fromR < 0) {\n        fromR = 0;\n    }\n    let fromArcLength = (gap / 180) * Math.PI * fromR;\n    let fromDash = (fromArcLength - fromDashWidth * 5 * pen.splitNumber) / 5 / pen.splitNumber;\n    let fromOffsetAngle = ((gap / 180) * Math.PI * fromDashWidth) / 2 / fromArcLength;\n    ctx.beginPath();\n    ctx.strokeStyle = pen.color || '#999999';\n    ctx.lineWidth = r / 40;\n    ctx.setLineDash([fromDashWidth, fromDash]);\n    ctx.arc(centerX, centerY, fromR, (-pen.startAngle / 180) * Math.PI - fromOffsetAngle, (-pen.endAngle / 180) * Math.PI + fromOffsetAngle);\n    ctx.stroke();\n    ctx.closePath();\n    //绘制文字\n    ctx.beginPath();\n    let valueGap = pen.max - pen.min;\n    let interval = valueGap / pen.splitNumber;\n    let fontOption = {\n        fontStyle: pen.tickLabel?.fontStyle || pen.calculative.fontStyle,\n        textDecoration: pen.tickLabel?.textDecoration || pen.textDecoration,\n        fontWeight: pen.tickLabel?.fontWeight || pen.calculative.fontWeight,\n        fontFamily: pen.tickLabel?.fontFamily || pen.calculative.fontFamily,\n        fontSize: (pen.tickLabel?.fontSize || pen.calculative.fontSize) * scale,\n        lineHeight: pen.tickLabel?.lineHeight || pen.calculative.lineHeight,\n    };\n    ctx.font = getFont(fontOption);\n    let textR = r - bgLineWidth - r / 20;\n    for (let i = 0; i <= pen.splitNumber; i++) {\n        if (Math.abs(pen.startAngle) + Math.abs(pen.endAngle) === 360) {\n            //形成一个圆形\n            if (i == 0)\n                continue;\n        }\n        let angle = pen.startAngle - ((interval * i) / valueGap) * gap;\n        let width = Math.cos((angle / 180) * Math.PI);\n        let height = Math.sin((angle / 180) * Math.PI);\n        ctx.fillStyle = pen.tickLabel?.color || '#999999';\n        if (width > 0.02) {\n            ctx.textAlign = 'end';\n        }\n        else if (width < -0.02) {\n            ctx.textAlign = 'start';\n        }\n        else {\n            ctx.textAlign = 'center';\n        }\n        if (height > 0.02) {\n            ctx.textBaseline = 'top';\n        }\n        else if (height < -0.02) {\n            ctx.textBaseline = 'bottom';\n        }\n        else {\n            ctx.textBaseline = 'middle';\n        }\n        ctx.fillText(getValidValue(interval * i + pen.min, 1), centerX + textR * width, centerY - textR * height);\n        ctx.fill();\n    }\n    ctx.closePath();\n    //绘制指针\n    let pointNum = 1;\n    let valueArray = ['value'];\n    if (pen.isClock) {\n        pointNum = 3;\n        valueArray = ['hourvalue', 'minutevalue', 'secondvalue'];\n    }\n    if (pen.isClock) {\n        for (let i = 0; i < pointNum; i++) {\n            let currentAngle = ((pen.startAngle -\n                ((pen[valueArray[i]] - pen.min) / (pen.max - pen.min)) * gap) /\n                180) *\n                Math.PI;\n            if (i > 0) {\n                currentAngle =\n                    ((pen.startAngle -\n                        ((pen[valueArray[i]] - pen.min) / (pen.max * 5 - pen.min)) * gap) /\n                        180) *\n                        Math.PI;\n            }\n            let pointerR = (4 / 5) * r;\n            if (valueArray[i] === 'hourvalue') {\n                pointerR = (3 / 5) * r;\n            }\n            if (valueArray[i] === 'minutevalue') {\n                pointerR = (3.5 / 5) * r;\n            }\n            let pointerHalfW = (r * 1) / 40;\n            ctx.beginPath();\n            ctx.setLineDash([]);\n            ctx.lineWidth = r / (i + 1) / 20;\n            ctx.strokeStyle = pen.color || '#999999';\n            ctx.moveTo(centerX - pointerHalfW * 3 * Math.cos(currentAngle), centerY + pointerHalfW * 3 * Math.sin(currentAngle));\n            ctx.lineTo(centerX + pointerR * Math.cos(currentAngle), centerY - pointerR * Math.sin(currentAngle));\n            ctx.stroke();\n        }\n    }\n    else {\n        let currentAngle = ((pen.startAngle - ((value - pen.min) / (pen.max - pen.min)) * gap) /\n            180) *\n            Math.PI;\n        let pointerR = (4 / 5) * r;\n        let pointerHalfW = (r * 1) / 40;\n        ctx.beginPath();\n        ctx.setLineDash([]);\n        ctx.lineWidth = 2;\n        ctx.fillStyle = pointColor;\n        ctx.moveTo(centerX - pointerHalfW * 3 * Math.cos(currentAngle), centerY + pointerHalfW * 3 * Math.sin(currentAngle));\n        ctx.lineTo(centerX + pointerHalfW * Math.cos(currentAngle - Math.PI / 2), centerY - pointerHalfW * Math.sin(currentAngle - Math.PI / 2));\n        ctx.lineTo(centerX + pointerR * Math.cos(currentAngle), centerY - pointerR * Math.sin(currentAngle));\n        ctx.lineTo(centerX + pointerHalfW * Math.cos(currentAngle + Math.PI / 2), centerY - pointerHalfW * Math.sin(currentAngle + Math.PI / 2));\n        ctx.lineTo(centerX - pointerHalfW * 3 * Math.cos(currentAngle), centerY + pointerHalfW * 3 * Math.sin(currentAngle));\n        ctx.fill();\n    }\n    //文字描述\n    ctx.beginPath();\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    let titleOption = {\n        fontStyle: pen.titleLabel?.fontStyle || pen.calculative.fontStyle,\n        textDecoration: pen.titleLabel?.textDecoration || pen.textDecoration,\n        fontWeight: pen.titleLabel?.fontWeight || pen.calculative.fontWeight,\n        fontFamily: pen.titleLabel?.fontFamily || pen.calculative.fontFamily,\n        fontSize: (pen.titleLabel?.fontSize || pen.calculative.fontSize) * scale,\n        lineHeight: pen.titleLabel?.lineHeight || pen.calculative.lineHeight,\n    };\n    ctx.font = getFont(titleOption);\n    ctx.fillStyle = pen.titleLabel?.color || pointColor;\n    if (pen.isClock) {\n        ctx.fillText(('0' + parseInt(pen.hourvalue)).slice(-2) +\n            ':' +\n            ('0' + parseInt(pen.minutevalue)).slice(-2) +\n            ':' +\n            ('0' + parseInt(pen.secondvalue)).slice(-2), centerX, centerY + r / 2);\n    }\n    else {\n        ctx.fillText(value + ' ' + (pen.unit || ''), centerX, centerY + r / 2);\n    }\n    ctx.fill();\n    if (pen.isClock) {\n        ctx.beginPath();\n        ctx.fillStyle = pen.color || '#999999';\n        ctx.strokeStyle = '#ffffff';\n        ctx.arc(centerX, centerY, r / 20, 0, Math.PI * 2);\n        ctx.stroke();\n        ctx.fill();\n        ctx.closePath();\n    }\n}\nfunction onAdd(pen) {\n    if (pen.isClock) {\n        pen.clockInterval = setInterval(() => {\n            let date = new Date();\n            let second = date.getSeconds();\n            let minute = date.getMinutes() + second / 60;\n            let hour = (date.getHours() % 12) + minute / 60;\n            pen.calculative.canvas.parent.setValue({\n                id: pen.id,\n                hourvalue: hour,\n                minutevalue: minute,\n                secondvalue: second,\n            }, {\n                render: true,\n                doEvent: false,\n            });\n        }, 1000);\n    }\n    else {\n        const tem = pen.value;\n        pen.value = 0;\n        pen.frames = [\n            {\n                duration: 2000,\n                value: tem,\n            },\n        ];\n        pen.calculative.canvas.parent.startAnimate(pen.id);\n        setTimeout(() => {\n            pen.value = tem;\n        }, 1000);\n    }\n}\nfunction onDestroy(pen) {\n    if (pen.clockInterval) {\n        clearInterval(pen.clockInterval);\n        pen.clockInterval = undefined;\n    }\n}\nfunction onclick(pen) {\n    if (pen.isClock) {\n        pen.onDestroy(pen);\n        pen.onAdd(pen);\n    }\n}\n//# sourceMappingURL=gauge.js.map","export function andGate(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myh = height / 6;\n    const myw = width / 4;\n    path.moveTo(x + myw * 2, y + 0);\n    path.lineTo(x + myw * 2, y + myh);\n    path.moveTo(x, y + myh + myw * 2);\n    path.arc(x + myw * 2, y + myh + myw * 2, myw * 2, Math.PI * 1, Math.PI * 2, false);\n    path.lineTo(x + myw * 4, y + myh * 5);\n    path.lineTo(x, y + myh * 5);\n    path.lineTo(x, y + myh + myw * 2);\n    path.moveTo(x + myw, y + myh * 5);\n    path.lineTo(x + myw, y + myh * 6);\n    path.moveTo(x + myw * 2, y + myh * 5);\n    path.lineTo(x + myw * 2, y + myh * 6);\n    path.moveTo(x + myw * 3, y + myh * 5);\n    path.lineTo(x + myw * 3, y + myh * 6);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function andGateAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 0.25,\n            y: 1,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n        {\n            x: 0.75,\n            y: 1,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=andGate.js.map","export function basicEvent(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const vlineL = height - width;\n    const radius = 0.5 * width;\n    path.moveTo(x + width / 2, y);\n    path.lineTo(x + width / 2, y + vlineL);\n    path.moveTo(x + width, y + radius + vlineL);\n    path.arc(x + width / 2, y + radius + vlineL, radius, 0, Math.PI * 2, false);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function basicEventAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=basicEvent.js.map","export function conditionalEvent(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myh = height / 2;\n    const myw = width / 5;\n    path.moveTo(x, y + myh);\n    path.lineTo(x + myw, y + myh);\n    path.moveTo(x + myw * 5, y + myh);\n    path.ellipse(x + myw * 3, y + myh, 2 * myw, myh, 0, 0, Math.PI * 2);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function conditionalEventAnchors(pen) {\n    const points = [\n        {\n            x: 0.6,\n            y: 0,\n        },\n        { x: 1, y: 0.5 },\n        { x: 0.6, y: 1 },\n        { x: 0, y: 0.5 },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=conditionalEvent.js.map","export function event(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myh = height / 4;\n    const myw = 0.5 * width;\n    path.moveTo(x + myw, y);\n    path.lineTo(x + myw, y + myh);\n    path.moveTo(x, y + myh);\n    path.rect(x, y + myh, myw * 2, myh * 2);\n    path.moveTo(x + myw, y + 3 * myh);\n    path.lineTo(x + myw, y + 4 * myh);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=event.js.map","export function forbiddenGate(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myh = height / 8;\n    const myw = 0.25 * width;\n    path.moveTo(x + myw * 2, y);\n    path.lineTo(x + myw * 2, y + myh * 2);\n    path.lineTo(x + myw * 3, y + myh * 3);\n    path.lineTo(x + myw * 3, y + myh * 5);\n    path.lineTo(x + myw * 2, y + myh * 6);\n    path.lineTo(x + myw * 1, y + myh * 5);\n    path.lineTo(x + myw * 1, y + myh * 3);\n    path.lineTo(x + myw * 2, y + myh * 2);\n    path.moveTo(x + myw * 3, y + myh * 4);\n    path.lineTo(x + myw * 4, y + myh * 4);\n    path.moveTo(x + myw * 2, y + myh * 6);\n    path.lineTo(x + myw * 2, y + myh * 8);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function forbiddenGateAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 1,\n            y: 0.5,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=forbiddenGate.js.map","export function orGate(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myw = width / 2;\n    const myh = height / 10;\n    path.moveTo(x + myw, y);\n    path.lineTo(x + myw, y + myh);\n    path.moveTo(x + myw, y + myh);\n    path.quadraticCurveTo(x + myw * 2, y + myh, x + myw * 2, y + myh * 9);\n    path.moveTo(x + myw, y + myh);\n    path.quadraticCurveTo(x, y + myh, x, y + myh * 9);\n    path.quadraticCurveTo(x + myw, y + myh * 6, x + myw * 2, y + myh * 9);\n    path.moveTo(x + myw, y + (height * 3) / 4);\n    path.lineTo(x + myw, y + height);\n    path.moveTo(x + (myw * 2) / 5, y + (height * 201) / 250);\n    path.lineTo(x + (myw * 2) / 5, y + height);\n    path.moveTo(x + (myw * 8) / 5, y + (height * 201) / 250);\n    path.lineTo(x + (myw * 8) / 5, y + height);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function orGateAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 0.2,\n            y: 1,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n        {\n            x: 0.8,\n            y: 1,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=orGate.js.map","export function priorityAndGate(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myh = height / 6;\n    const myw = width / 4;\n    path.moveTo(x + myw * 2, y + 0);\n    path.lineTo(x + myw * 2, y + myh);\n    path.moveTo(x, y + myh + myw * 2);\n    path.arc(x + myw * 2, y + myh + myw * 2, myw * 2, Math.PI * 1, Math.PI * 2, false);\n    path.lineTo(x + myw * 4, y + myh * 5);\n    path.lineTo(x, y + myh * 5);\n    path.lineTo(x, y + myh + myw * 2);\n    path.moveTo(x, y + myh * 5 - myh / 3);\n    path.lineTo(x + myw * 4, y + myh * 5 - myh / 3);\n    path.moveTo(x + myw, y + myh * 5);\n    path.lineTo(x + myw, y + myh * 6);\n    path.moveTo(x + myw * 2, y + myh * 5);\n    path.lineTo(x + myw * 2, y + myh * 6);\n    path.moveTo(x + myw * 3, y + myh * 5);\n    path.lineTo(x + myw * 3, y + myh * 6);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=priorityAndGate.js.map","export function switchEvent(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myh = height / 4;\n    const myw = 0.5 * width;\n    path.moveTo(x + myw, y);\n    path.lineTo(x + myw, y + myh);\n    path.lineTo(x + myw * 2, y + myh * 2);\n    path.lineTo(x + myw * 2, y + myh * 4);\n    path.lineTo(x, y + myh * 4);\n    path.lineTo(x, y + myh * 2);\n    path.lineTo(x + myw, y + myh);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=switchEvent.js.map","export function transferSymbol(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myh = height / 4;\n    const myw = width / 2;\n    path.moveTo(x + myw, y);\n    path.lineTo(x + myw, y + myh);\n    path.lineTo(x + myw * 2, y + myh * 4);\n    path.lineTo(x, y + myh * 4);\n    path.lineTo(x + myw, y + myh);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\n//# sourceMappingURL=transferSymbol.js.map","export function unexpandedEvent(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myh = height / 3;\n    const myw = 0.5 * width;\n    path.moveTo(x + myw, y);\n    path.lineTo(x + myw, y + myh);\n    path.lineTo(x + width, y + 2 * myh);\n    path.lineTo(x + myw, y + height);\n    path.lineTo(x, y + 2 * myh);\n    path.lineTo(x + myw, y + myh);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function unexpandedEventAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 1,\n            y: 2 / 3,\n        },\n        {\n            x: 0.5,\n            y: 1,\n        },\n        {\n            x: 0,\n            y: 2 / 3,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=unexpandedEvent.js.map","export function xorGate(pen, ctx) {\n    const path = !ctx ? new Path2D() : ctx;\n    const { x, y, width, height } = pen.calculative.worldRect;\n    let myw = width / 2;\n    let myh = height / 10;\n    path.moveTo(x + myw, y);\n    path.lineTo(x + myw, y + myh);\n    path.moveTo(x + myw, y + myh);\n    path.quadraticCurveTo(x + myw * 2, y + myh, x + myw * 2, y + myh * 9);\n    path.moveTo(x + myw, y + myh);\n    path.quadraticCurveTo(x, y + myh, x, y + myh * 9);\n    path.quadraticCurveTo(x + myw, y + myh * 6, x + myw * 2, y + myh * 9);\n    path.moveTo(x, y + myh * 10);\n    path.quadraticCurveTo(x + myw, y + myh * 7, x + myw * 2, y + myh * 10);\n    path.moveTo(x + (myw * 2) / 5, y + (height * 201) / 250 + myh);\n    path.lineTo(x + (myw * 2) / 5, y + height);\n    path.moveTo(x + (myw * 8) / 5, y + (height * 201) / 250 + myh);\n    path.lineTo(x + (myw * 8) / 5, y + height);\n    path.closePath();\n    if (path instanceof Path2D)\n        return path;\n}\nexport function xorGateAnchors(pen) {\n    const points = [\n        {\n            x: 0.5,\n            y: 0,\n        },\n        {\n            x: 1 / 5,\n            y: 1,\n        },\n        {\n            x: 4 / 5,\n            y: 1,\n        },\n    ];\n    pen.anchors = points.map(({ x, y }, index) => {\n        return {\n            id: `${index}`,\n            penId: pen.id,\n            x,\n            y,\n        };\n    });\n}\n//# sourceMappingURL=xorGate.js.map","export function votingGate(ctx, pen) {\n    const { x, y, width, height } = pen.calculative.worldRect;\n    const myw = width / 2;\n    const myh = height / 10;\n    ctx.beginPath();\n    ctx.moveTo(x + myw, y);\n    ctx.lineTo(x + myw, y + myh);\n    ctx.moveTo(x + myw, y + myh);\n    ctx.quadraticCurveTo(x + myw * 2, y + myh, x + myw * 2, y + myh * 9);\n    ctx.moveTo(x + myw, y + myh);\n    ctx.quadraticCurveTo(x, y + myh, x, y + myh * 9);\n    ctx.quadraticCurveTo(x + myw, y + myh * 6, x + myw * 2, y + myh * 9);\n    ctx.moveTo(x + myw, y + (height * 3) / 4);\n    ctx.lineTo(x + myw, y + (height * 9) / 10);\n    ctx.moveTo(x + (myw * 2) / 5, y + (height * 201) / 250);\n    ctx.lineTo(x + (myw * 2) / 5, y + (height * 9) / 10);\n    ctx.moveTo(x + (myw * 8) / 5, y + (height * 201) / 250);\n    ctx.lineTo(x + (myw * 8) / 5, y + (height * 9) / 10);\n    ctx.stroke();\n    ctx.closePath();\n    ctx.beginPath();\n    const fontSize = myw * 2 > myh * 10 ? myh : myw / 5;\n    ctx.fillStyle = '#333333';\n    ctx.font = fontSize + 'px Arial';\n    ctx.textBaseline = 'bottom';\n    ctx.textAlign = 'center';\n    ctx.fillText('o', x + myw, y + height);\n    ctx.fillText('m', x + (myw * 2) / 5, y + height);\n    ctx.fillText('o', x + (myw * 8) / 5, y + height);\n    ctx.closePath();\n}\n//# sourceMappingURL=votingGate.js.map","import { Pen } from '@meta2d/core';\nimport { reactive } from 'vue';\n\nexport enum SelectionMode {\n  File,\n  Pen,\n}\n\nconst selections = reactive<{\n  mode: SelectionMode;\n  pen?: Pen;\n}>({\n  // 选中对象类型：0 - 画布；1 - 单个图元\n  mode: SelectionMode.File,\n  pen: undefined,\n});\n\nexport const useSelection = () => {\n  const select = (pens?: Pen[]) => {\n    if (!pens || pens.length !== 1) {\n      selections.mode = SelectionMode.File;\n      selections.pen = undefined;\n      return;\n    }\n\n    selections.mode = SelectionMode.Pen;\n    selections.pen = pens[0];\n  };\n  return {\n    selections,\n    select,\n  };\n};\n","<template>\n  <div id=\"meta2d\"></div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onMounted, onUnmounted } from 'vue';\nimport {\n  Meta2d,\n  Pen,\n  register,\n  registerAnchors,\n  registerCanvasDraw,\n} from '@meta2d/core';\nimport { flowPens, flowAnchors } from '@meta2d/flow-diagram';\nimport {\n  activityDiagram,\n  activityDiagramByCtx,\n} from '@meta2d/activity-diagram';\nimport { classPens } from '@meta2d/class-diagram';\nimport { sequencePens, sequencePensbyCtx } from '@meta2d/sequence-diagram';\nimport { register as registerEcharts } from '@meta2d/chart-diagram';\nimport { formPens } from '@meta2d/form-diagram';\nimport { chartsPens } from '@meta2d/le5le-charts';\nimport { ftaPens, ftaPensbyCtx, ftaAnchors } from '@meta2d/fta-diagram';\nimport { registerGraphics } from '@/components/Editor/registerDeviceIcons';\n\nimport { useSelection } from '@/services/selections';\n\nconst { select } = useSelection();\n\nconst meta2dOptions: any = {\n  rule: true,\n  ruleColor: 'rgba(255, 255, 255, 0.2)',\n  grid: true,\n  gridColor: 'rgba(255, 255, 255, 0.08)',\n  gridSize: 10,\n  color: '#fff',\n  activeColor: '#40C4FF',\n  hoverColor: '#80D8FF',\n  anchorColor: '#fff',\n  anchorRadius: 4,\n  anchorBackground: '#001529',\n  background: '#001529',\n  textColor: '#fff',\n  font: {\n    color: '#fff',\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  },\n};\n\nonMounted(() => {\n  // 创建实例\n  new Meta2d('meta2d', meta2dOptions);\n\n  // 注册设备图标\n  registerGraphics();\n\n  // 按需注册图形库\n  // 以下为自带基础图形库\n  register(flowPens());\n  registerAnchors(flowAnchors());\n  register(activityDiagram());\n  registerCanvasDraw(activityDiagramByCtx());\n  register(classPens());\n  register(sequencePens());\n  registerCanvasDraw(sequencePensbyCtx());\n  registerEcharts();\n  registerCanvasDraw(formPens());\n  registerCanvasDraw(chartsPens());\n  register(ftaPens());\n  registerCanvasDraw(ftaPensbyCtx());\n  registerAnchors(ftaAnchors());\n\n  // 注册其他自定义图形库\n  // ...\n\n  // 读取本地存储\n  let data: any = localStorage.getItem('meta2d');\n  if (data) {\n    data = JSON.parse(data);\n\n    // 判断是否为运行查看，是-设置为预览模式\n    if (location.pathname === '/preview') {\n      data.locked = 1;\n    } else {\n      data.locked = 0;\n    }\n    meta2d.open(data);\n  }\n\n  meta2d.on('active', active);\n  meta2d.on('inactive', inactive);\n});\n\nconst active = (pens?: Pen[]) => {\n  select(pens);\n};\n\nconst inactive = () => {\n  select();\n};\n\nonUnmounted(() => {\n  meta2d.destroy();\n});\n</script>\n\n<style lang=\"postcss\" scoped>\n#meta2d {\n  height: calc(100vh - 80px);\n  z-index: 1;\n  background-color: #001529;\n  box-shadow: inset 0 0 50px rgba(64, 196, 255, 0.1);\n}\n\n:deep(.meta2d-rule) {\n  background-color: rgba(255, 255, 255, 0.03) !important;\n}\n\n:deep(.meta2d-rule-text) {\n  color: rgba(255, 255, 255, 0.5) !important;\n}\n\n:deep(.meta2d-grid) {\n  stroke: rgba(255, 255, 255, 0.08) !important;\n}\n\n:deep(.meta2d-pen) {\n  fill: rgba(255, 255, 255, 0.1) !important;\n  stroke-width: 2 !important;\n}\n\n:deep(.meta2d-pen:hover) {\n  filter: drop-shadow(0 0 4px rgba(64, 196, 255, 0.5));\n}\n\n:deep(.meta2d-pen.active) {\n  filter: drop-shadow(0 0 8px rgba(64, 196, 255, 0.5));\n}\n</style>\n","import { register as meta2dRegister } from '@meta2d/core';\nimport { echarts } from './echarts';\nimport { highcharts } from './highcharts';\nimport { lightningCharts } from './LightningChart';\nexport function register(_echarts) {\n    _echarts && (globalThis.echarts = _echarts);\n    meta2dRegister({ echarts });\n}\nexport function registerHighcharts(_highcharts) {\n    _highcharts && (globalThis.Highcharts = _highcharts);\n    meta2dRegister({ highcharts });\n}\nexport function registerLightningChart(_lightningCharts) {\n    _lightningCharts && (globalThis.lcjs = _lightningCharts);\n    meta2dRegister({ lightningCharts });\n}\n//# sourceMappingURL=register.js.map","import { flowComment, flowCommentAnchors } from './comment';\nimport { flowData, flowDataAnchors } from './data';\nimport { flowDb } from './db';\nimport { flowDisplay } from './display';\nimport { flowDocument, flowDocumentAnchors } from './document';\nimport { flowExternStorage } from './externStorage';\nimport { flowInternalStorage } from './internalStorage';\nimport { flowManually, flowManuallyAnchors } from './manually';\nimport { flowParallel, flowParallelAnchors } from './parallel';\nimport { flowQueue } from './queue';\nimport { flowSubprocess } from './subprocess';\nexport function flowPens() {\n    return {\n        flowComment,\n        flowData,\n        flowDb,\n        flowDisplay,\n        flowDocument,\n        flowExternStorage,\n        flowInternalStorage,\n        flowManually,\n        flowParallel,\n        flowQueue,\n        flowSubprocess,\n    };\n}\nexport function flowAnchors() {\n    return {\n        flowDocument: flowDocumentAnchors,\n        flowManually: flowManuallyAnchors,\n        flowParallel: flowParallelAnchors,\n        flowComment: flowCommentAnchors,\n        flowData: flowDataAnchors,\n    };\n}\n//# sourceMappingURL=register.js.map","import { rectangle } from '@meta2d/core/src/diagrams';\nimport { activityFinal } from './final';\nimport { swimlaneH } from './swimlaneH';\nimport { swimlaneV } from './swimlaneV';\nexport function activityDiagram() {\n    return {\n        forkV: rectangle,\n        forkH: rectangle,\n        swimlaneH,\n        swimlaneV,\n    };\n}\nexport function activityDiagramByCtx() {\n    return {\n        activityFinal,\n    };\n}\n//# sourceMappingURL=register.js.map","import { interfaceClass } from './interfaceClass';\nimport { simpleClass } from './simpleClass';\nexport function classPens() {\n    return {\n        interfaceClass,\n        simpleClass,\n    };\n}\n//# sourceMappingURL=register.js.map","import { focus } from './focus';\nimport { lifeline } from './lifeline';\nexport function sequencePens() {\n    return {\n        sequenceFocus: focus,\n    };\n}\nexport function sequencePensbyCtx() {\n    return {\n        lifeline,\n    };\n}\n//# sourceMappingURL=register.js.map","import { le5leSwitch } from './switch';\nimport { slider } from './slider';\nimport { checkbox } from './checkbox';\nimport { radio } from './radio';\nimport { table2 } from './table2';\nimport { time } from './time';\nexport function formPens() {\n    return {\n        radio,\n        switch: le5leSwitch,\n        slider,\n        checkbox,\n        table: table2,\n        table2: table2,\n    };\n}\nexport function formVPens() {\n    return {\n        // radio,\n        switch: le5leSwitch,\n        slider,\n        // checkbox,\n        // table:table2,\n        // table2:table2,\n    };\n}\nexport function formPath2DPens() {\n    return {\n        time,\n    };\n}\n//# sourceMappingURL=register.js.map","import { lineChart } from './lineChart';\nimport { histogram } from './histogram';\nimport { pieChart } from './pieChart';\nimport { gauge } from './gauge';\nexport function chartsPens() {\n    return {\n        lineChart,\n        histogram,\n        pieChart,\n        gauge,\n    };\n}\n//# sourceMappingURL=register.js.map","import { andGate, andGateAnchors } from './andGate';\nimport { basicEvent, basicEventAnchors } from './basicEvent';\nimport { conditionalEvent, conditionalEventAnchors } from './conditionalEvent';\nimport { event } from './event';\nimport { forbiddenGate, forbiddenGateAnchors } from './forbiddenGate';\nimport { orGate, orGateAnchors } from './orGate';\nimport { priorityAndGate } from './priorityAndGate';\nimport { switchEvent } from './switchEvent';\nimport { transferSymbol } from './transferSymbol';\nimport { unexpandedEvent, unexpandedEventAnchors } from './unexpandedEvent';\nimport { votingGate } from './votingGate';\nimport { xorGate, xorGateAnchors } from './xorGate';\nexport function ftaPens() {\n    return {\n        andGate,\n        basicEvent,\n        conditionalEvent,\n        event,\n        forbiddenGate,\n        orGate,\n        priorityAndGate,\n        switchEvent,\n        transferSymbol,\n        unexpandedEvent,\n        xorGate,\n    };\n}\nexport function ftaPensbyCtx() {\n    return {\n        votingGate,\n    };\n}\nexport function ftaAnchors() {\n    return {\n        andGate: andGateAnchors,\n        orGate: orGateAnchors,\n        priorityAndGate: andGateAnchors,\n        votingGate: orGateAnchors,\n        xorGate: xorGateAnchors,\n        forbiddenGate: forbiddenGateAnchors,\n        basicEvent: basicEventAnchors,\n        unexpandedEvent: unexpandedEventAnchors,\n        conditionalEvent: conditionalEventAnchors,\n        transferSymbol: basicEventAnchors,\n    };\n}\n//# sourceMappingURL=register.js.map"],"names":["flowComment","pen","ctx","path","Path2D","x","y","width","ey","calculative","worldRect","offsetX","moveTo","lineTo","flowCommentAnchors","anchors","map","index","id","penId","flowData","ex","penOffsetX","closePath","flowDataAnchors","flowDisplay","height","bezierCurveTo","flowDocument","center","centerX","rightBottomY","offsetY","flowDocumentAnchors","flowExternStorage","flowInternalStorage","offset","flowManually","flowManuallyAnchors","flowParallel","flowParallelAnchors","flowQueue","ellipse","Math","PI","flowSubprocess","flowDb","activityFinal","beginPath","stroke","fillStyle","strokeStyle","fill","swimlaneH","lineLeft","wr","borderRadius","hr","r","arcTo","swimlaneV","lineTop","interfaceClass","onDestroy","onAdd","topHeight","secondHeight","list","childPen","name","textAlign","textBaseline","textLeft","textTop","childPen1","Object","assign","canvas","makePen","parent","pushChildren","store","children","forEach","p","i","data","pens","findIndex","item","splice","simpleClass","focus","rect","lifeline","headHeight","save","lineWidth","setLineDash","middle","restore","ReplaceMode","keyWords","echarts","globalThis","JSON","parse","e","_a","options","diagramOptions","destory","onMove","move","onResize","resize","onRotate","onValue","value","onBeforeValue","beforeValue","onBinds","binds","onMouseEnter","onRenderPenRaw","onScale","scale","singleton","div","document","createElement","style","position","outline","left","top","body","appendChild","_b","externalElements","parentElement","setElemPosition","echart","init","theme","_chart","eventNames","eventName","off","events","event","actions","length","includes","on","params","flag","conditions","conditionType","every","condition","judgeCondition","key","some","action","timeout","timer","setTimeout","clearTimeout","initEvent","echartsReady","geoName","getMap","geoJson","registerMap","geoUrl","fetch","then","text","constructor","Array","setOption","updateOption","option","remove","dispose","diabled","dataZoom","getOption","start","end","partialOption","isArray","replaceMerge","deepClone","realTimes","keys","xAxis","yAxis","max","replaceMode","timeFormat","dataDotArr","chartFlag","beforeV","getter","Add","push","_key","_value","_time","formatTime","substring","indexOf","dotNotationObj","result","dotNotationStr","split","current","isArrayIndex","isNaN","parseInt","slice","join","setter","arrayIndex","dotNotationToObject","dataX","dataY","dataArr","series","oneXAxis","oneYAxis","Replace","type","categoryData","yItem","xIndex","serie","part","find","ReplaceAll","xData","yData","values","formItem","category","dataId","dataIds","now","Date","hasValue","oneDataY","last","img","Image","src","getDataURL","pixelRatio","_option","ratio","props","deepSetValue","getTextLength","textScale","chineseLen","match","initOptions","direction","optionPos","textLength","h","checkboxHeight","checkboxWidth","calcRightBottom","optionInterval","optionHeight","table2","rowPos","colPos","maxOffsetY","onMouseMove","onMouseLeave","onMouseDown","onShowInput","onInput","onWheel","initWorldRect","isUpdateData","color","styles","textColor","activeColor","hoverColor","activeBackground","hoverBackground","hasHeader","clip","background","bordered","borderColor","hLine","tableHeight","vLine","tableWidth","drawGridLine","texts","rowStyle","getRow","j","cell","cellStyle","getCell","isSuccess","successIdx","idx","wheres","where","Function","comparison","fn","fontSize","fontWeight","fontStyle","stripe","stripeColor","active","activeCell","row","col","activeTextColor","hover","_c","hoverCell","_d","hoverTextColor","getCellRect","fillRect","strokeRect","worldTextRect","rowText","_colPen","filter","isFirstTime","maxNum","visible","childrenPen","stringify","calcChildrenRect","calcTextLines","font","fontFamily","colStyle","_e","fillText","lineHeight","drawCell","isInput","isHover","mousePos","noteWidth","measureText","drawNote","createInterval","rowHeight","colWidth","_col","_colWidthMap","_row","_rowHeightMap","_r","finalHight","initScale","parentId","parentPen","initRect","render","inputCell","tempText","showInput","setCellText","getCellIndex","scaleX","scaleY","pos","rowIndex","colIndex","rowData","emitter","emit","resizeX","resizeY","lastX","lastY","temChildren","child","delForce","findOne","swiper","delInterval","table","concat","locked","deltaY","scroll","_pen","oldY","oldOffset","updatePenRect","changeChildVisible","interval","clearInterval","setInterval","initChildrenStyle","stap","le5leSwitch","onClick","click","setTheme","w","arc","checked","onColor","disabled","disable","disableOnColor","pSBC","onStrokeColor","offColor","disableOffColor","offStrokeColor","disableDefaultClick","prototype","hasOwnProperty","call","element","slider","mouseMove","mouseDown","barRect","disabledBackground","disabledColor","ballRect","btnBackground","_textWidth","textWidth","_fontSize","unit","sliderWidth","sliderHeight","min","barWidth","barHeight","calcBallRect","progress","calcTextRect","round","checkbox","onMousedown","isForbidden","disabledTextColor","getTextColor","getFont","radio","gap","fixedNum","num","decimal","str","Number","parseFloat","toFixed","numberValid","isFinite","coordinateAxis","collection_data","normalizedOption","splitNumber","symmetrical","deviation","preferZero","magics","dataMax","dataMin","tempGap","multiple","floor","log10","pow","tempStep","expectedStep","storedMagicsIndex","axisMax","axisMin","countDegree","step","tm","abs","tempSplitNumber","out","scaleCompute","apply","xAxisData","lineCap","dash","fontOptions","axisLabel","textDecoration","_f","_h","_g","_j","_i","_l","_k","_n","_m","fontColor","temH","xdataX","_p","_o","_q","_t","_s","_v","_u","_x","_w","_z","_y","_B","_A","getValidValue","lineChart","coordinate","smooth","coordinateValue","chartsColor","currentX","currentY","cAx","cAy","cBx","cBy","last1x","last1y","before1x","before1y","last2x","last2y","_xAxisData","_data","_index","d","_item","pieChart","isEcharts","seriesArray","beforeSeriesLength","ser","centerY","sum","reduce","prev","curr","fromR","radius","chartsRadius","toR","beforeAngle","afterAngle","itemStyle","borderWidth","colorLength","sin","cos","centerAngle","temX","temY","temFillStyle","label","show","labelLine","fontOption","tickLabel","_innerItem","_innderIndex","_filterItem","histogram","itemWidth","currentH","gauge","onclick","clockInterval","basicConfigure","startAngle","endAngle","axisLine","lineStyle","detail","formatter","replace","pointColor","bgColor","bgLineWidth","bili","isClock","dashWidth","mainR","arcLength","offsetAngle","fromDashWidth","fromArcLength","fromDash","fromOffsetAngle","valueGap","textR","angle","pointNum","valueArray","currentAngle","pointerR","pointerHalfW","titleOption","titleLabel","hourvalue","minutevalue","secondvalue","date","second","getSeconds","minute","getMinutes","hour","getHours","setValue","doEvent","tem","frames","duration","startAnimate","andGate","myh","myw","andGateAnchors","basicEvent","vlineL","basicEventAnchors","conditionalEvent","conditionalEventAnchors","forbiddenGate","forbiddenGateAnchors","orGate","quadraticCurveTo","orGateAnchors","priorityAndGate","switchEvent","transferSymbol","unexpandedEvent","unexpandedEventAnchors","xorGate","xorGateAnchors","votingGate","SelectionMode","SelectionMode2","selections","reactive","mode","useSelection","select","meta2dOptions","rule","ruleColor","grid","gridColor","gridSize","anchorColor","anchorRadius","anchorBackground","onMounted","_echarts","Meta2d","register","registerAnchors","forkV","rectangle","forkH","registerCanvasDraw","sequenceFocus","register$1","switch","localStorage","getItem","location","pathname","meta2d","open","inactive","onUnmounted","destroy"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,46,47,48,49,50,51,52,53]}