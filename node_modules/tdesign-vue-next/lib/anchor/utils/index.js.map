{"version":3,"file":"index.js","sources":["../../../../components/anchor/utils/index.ts"],"sourcesContent":["import Clipboard from 'clipboard';\n\nexport const ANCHOR_SHARP_REGEXP = /#(\\S+)$/;\n\nexport type ANCHOR_CONTAINER = HTMLElement | Window;\n\nexport function getOffsetTop(target: HTMLElement, container: ANCHOR_CONTAINER): number {\n  const { top } = target.getBoundingClientRect();\n  if (container === window) {\n    // 减去document的边框\n    return top - document.documentElement.clientTop;\n  }\n  return top - (container as HTMLElement).getBoundingClientRect().top;\n}\n\n// TODO：仅为这一个而引入一个 clipboard，可优化\nexport function copyText(text: string) {\n  const div = document.createElement('div');\n  const clip = new Clipboard(div, {\n    text() {\n      return text;\n    },\n  });\n  div.click();\n  clip.destroy();\n  div.remove();\n}\n"],"names":["ANCHOR_SHARP_REGEXP","getOffsetTop","target","container","_target$getBoundingCl","getBoundingClientRect","top","window","document","documentElement","clientTop","copyText","text","div","createElement","clip","Clipboard","click","destroy","remove"],"mappings":";;;;;;;;;AAEO,IAAMA,mBAAsB,GAAA,UAAA;AAInB,SAAAC,YAAAA,CAAaC,QAAqBC,SAAqC,EAAA;AACrF,EAAA,IAAAC,qBAAA,GAAgBF,MAAA,CAAOG,qBAAsB,EAAA;IAArCC,GAAA,GAAAF,qBAAA,CAAAE,GAAA,CAAA;EACR,IAAIH,cAAcI,MAAQ,EAAA;AAEjB,IAAA,OAAAD,GAAA,GAAME,SAASC,eAAgB,CAAAC,SAAA,CAAA;AACxC,GAAA;EACO,OAAAJ,GAAA,GAAOH,SAA0B,CAAAE,qBAAA,EAAwB,CAAAC,GAAA,CAAA;AAClE,CAAA;AAGO,SAASK,SAASC,KAAc,EAAA;AAC/B,EAAA,IAAAC,GAAA,GAAML,QAAS,CAAAM,aAAA,CAAc,KAAK,CAAA,CAAA;AAClC,EAAA,IAAAC,IAAA,GAAO,IAAIC,SAAA,CAAUH,GAAK,EAAA;IAC9BD,IAAO,EAAA,SAAPA,IAAOA,GAAA;AACE,MAAA,OAAAA,KAAA,CAAA;AACT,KAAA;AACF,GAAC,CAAA,CAAA;EACDC,GAAA,CAAII,KAAM,EAAA,CAAA;EACVF,IAAA,CAAKG,OAAQ,EAAA,CAAA;EACbL,GAAA,CAAIM,MAAO,EAAA,CAAA;AACb;;;;"}